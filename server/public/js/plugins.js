(function(){function aa(b,n,m){if(b===n){return b!==0||1/b==1/n}if(b==null||n==null){return b===n}if(b._chain){b=b._wrapped}if(n._chain){n=n._wrapped}if(b.isEqual&&ak.isFunction(b.isEqual)){return b.isEqual(n)}if(n.isEqual&&ak.isFunction(n.isEqual)){return n.isEqual(b)}var l=ag.call(b);if(l!=ag.call(n)){return false}switch(l){case"[object String]":return b==String(n);case"[object Number]":return b!=+b?n!=+n:b==0?1/b==1/n:b==+n;case"[object Date]":case"[object Boolean]":return +b==+n;case"[object RegExp]":return b.source==n.source&&b.global==n.global&&b.multiline==n.multiline&&b.ignoreCase==n.ignoreCase}if(typeof b!="object"||typeof n!="object"){return false}for(var k=m.length;k--;){if(m[k]==b){return true}}m.push(b);var k=0,j=true;if(l=="[object Array]"){if(k=b.length,j=k==n.length){for(;k--;){if(!(j=k in b==k in n&&aa(b[k],n[k],m))){break}}}}else{if("constructor" in b!="constructor" in n||b.constructor!=n.constructor){return false}for(var i in b){if(ak.has(b,i)&&(k++,!(j=ak.has(n,i)&&aa(b[i],n[i],m)))){break}}if(j){for(i in n){if(ak.has(n,i)&&!k--){break}}j=!k}}m.pop();return j}var Y=this,Q=Y._,ae={},ah=Array.prototype,ad=Object.prototype,aj=ah.slice,N=ah.unshift,ag=ad.toString,h=ad.hasOwnProperty,O=ah.forEach,M=ah.map,g=ah.reduce,e=ah.reduceRight,ac=ah.filter,Z=ah.every,X=ah.some,ab=ah.indexOf,W=ah.lastIndexOf,ad=Array.isArray,f=Object.keys,V=Function.prototype.bind,ak=function(b){return new af(b)};if(typeof exports!=="undefined"){if(typeof module!=="undefined"&&module.exports){exports=module.exports=ak}exports._=ak}else{Y._=ak}ak.VERSION="1.3.1";var ai=ak.each=ak.forEach=function(b,l,k){if(b!=null){if(O&&b.forEach===O){b.forEach(l,k)}else{if(b.length===+b.length){for(var j=0,i=b.length;j<i;j++){if(j in b&&l.call(k,b[j],j,b)===ae){break}}}else{for(j in b){if(ak.has(b,j)&&l.call(k,b[j],j,b)===ae){break}}}}}};ak.map=ak.collect=function(j,l,i){var k=[];if(j==null){return k}if(M&&j.map===M){return j.map(l,i)}ai(j,function(b,n,m){k[k.length]=l.call(i,b,n,m)});if(j.length===+j.length){k.length=j.length}return k};ak.reduce=ak.foldl=ak.inject=function(b,l,k,j){var i=arguments.length>2;b==null&&(b=[]);if(g&&b.reduce===g){return j&&(l=ak.bind(l,j)),i?b.reduce(l,k):b.reduce(l)}ai(b,function(n,m,o){i?k=l.call(j,k,n,m,o):(k=n,i=true)});if(!i){throw new TypeError("Reduce of empty array with no initial value")}return k};ak.reduceRight=ak.foldr=function(b,m,l,k){var j=arguments.length>2;b==null&&(b=[]);if(e&&b.reduceRight===e){return k&&(m=ak.bind(m,k)),j?b.reduceRight(m,l):b.reduceRight(m)}var i=ak.toArray(b).reverse();k&&!j&&(m=ak.bind(m,k));return j?ak.reduce(i,m,l,k):ak.reduce(i,m)};ak.find=ak.detect=function(j,l,i){var k;U(j,function(b,n,m){if(l.call(i,b,n,m)){return k=b,true}});return k};ak.filter=ak.select=function(j,l,i){var k=[];if(j==null){return k}if(ac&&j.filter===ac){return j.filter(l,i)}ai(j,function(b,n,m){l.call(i,b,n,m)&&(k[k.length]=b)});return k};ak.reject=function(j,l,i){var k=[];if(j==null){return k}ai(j,function(b,n,m){l.call(i,b,n,m)||(k[k.length]=b)});return k};ak.every=ak.all=function(j,l,i){var k=true;if(j==null){return k}if(Z&&j.every===Z){return j.every(l,i)}ai(j,function(b,n,m){if(!(k=k&&l.call(i,b,n,m))){return ae}});return k};var U=ak.some=ak.any=function(b,k,j){k||(k=ak.identity);var i=false;if(b==null){return i}if(X&&b.some===X){return b.some(k,j)}ai(b,function(m,l,n){if(i||(i=k.call(j,m,l,n))){return ae}});return !!i};ak.include=ak.contains=function(j,k){var i=false;if(j==null){return i}return ab&&j.indexOf===ab?j.indexOf(k)!=-1:i=U(j,function(b){return b===k})};ak.invoke=function(b,j){var i=aj.call(arguments,2);return ak.map(b,function(k){return(ak.isFunction(j)?j||k:k[j]).apply(k,i)})};ak.pluck=function(b,i){return ak.map(b,function(j){return j[i]})};ak.max=function(b,k,j){if(!k&&ak.isArray(b)){return Math.max.apply(Math,b)}if(!k&&ak.isEmpty(b)){return -Infinity}var i={computed:-Infinity};ai(b,function(m,l,n){l=k?k.call(j,m,l,n):m;l>=i.computed&&(i={value:m,computed:l})});return i.value};ak.min=function(b,k,j){if(!k&&ak.isArray(b)){return Math.min.apply(Math,b)}if(!k&&ak.isEmpty(b)){return Infinity}var i={computed:Infinity};ai(b,function(m,l,n){l=k?k.call(j,m,l,n):m;l<i.computed&&(i={value:m,computed:l})});return i.value};ak.shuffle=function(j){var i=[],k;ai(j,function(b,l){l==0?i[0]=b:(k=Math.floor(Math.random()*(l+1)),i[l]=i[k],i[k]=b)});return i};ak.sortBy=function(b,j,i){return ak.pluck(ak.map(b,function(l,k,m){return{value:l,criteria:j.call(i,l,k,m)}}).sort(function(l,k){var n=l.criteria,m=k.criteria;return n<m?-1:n>m?1:0}),"value")};ak.groupBy=function(b,k){var j={},i=ak.isFunction(k)?k:function(l){return l[k]};ai(b,function(m,l){var n=i(m,l);(j[n]||(j[n]=[])).push(m)});return j};ak.sortedIndex=function(b,m,l){l||(l=ak.identity);for(var k=0,j=b.length;k<j;){var i=k+j>>1;l(b[i])<l(m)?k=i+1:j=i}return k};ak.toArray=function(b){return !b?[]:b.toArray?b.toArray():ak.isArray(b)?aj.call(b):ak.isArguments(b)?aj.call(b):ak.values(b)};ak.size=function(b){return ak.toArray(b).length};ak.first=ak.head=function(j,i,k){return i!=null&&!k?aj.call(j,0,i):j[0]};ak.initial=function(j,i,k){return aj.call(j,0,j.length-(i==null||k?1:i))};ak.last=function(j,i,k){return i!=null&&!k?aj.call(j,Math.max(j.length-i,0)):j[j.length-1]};ak.rest=ak.tail=function(j,i,k){return aj.call(j,i==null||k?1:i)};ak.compact=function(b){return ak.filter(b,function(i){return !!i})};ak.flatten=function(b,i){return ak.reduce(b,function(j,k){if(ak.isArray(k)){return j.concat(i?k:ak.flatten(k))}j[j.length]=k;return j},[])};ak.without=function(b){return ak.difference(b,aj.call(arguments,1))};ak.uniq=ak.unique=function(b,k,j){var j=j?ak.map(b,j):b,i=[];ak.reduce(j,function(n,m,l){if(0==l||(k===true?ak.last(n)!=m:!ak.include(n,m))){n[n.length]=m,i[i.length]=b[l]}return n},[]);return i};ak.union=function(){return ak.uniq(ak.flatten(arguments,true))};ak.intersection=ak.intersect=function(b){var i=aj.call(arguments,1);return ak.filter(ak.uniq(b),function(j){return ak.every(i,function(k){return ak.indexOf(k,j)>=0})})};ak.difference=function(b){var i=ak.flatten(aj.call(arguments,1));return ak.filter(b,function(j){return !ak.include(i,j)})};ak.zip=function(){for(var b=aj.call(arguments),k=ak.max(ak.pluck(b,"length")),j=Array(k),i=0;i<k;i++){j[i]=ak.pluck(b,""+i)}return j};ak.indexOf=function(b,k,j){if(b==null){return -1}var i;if(j){return j=ak.sortedIndex(b,k),b[j]===k?j:-1}if(ab&&b.indexOf===ab){return b.indexOf(k)}for(j=0,i=b.length;j<i;j++){if(j in b&&b[j]===k){return j}}return -1};ak.lastIndexOf=function(j,i){if(j==null){return -1}if(W&&j.lastIndexOf===W){return j.lastIndexOf(i)}for(var k=j.length;k--;){if(k in j&&j[k]===i){return k}}return -1};ak.range=function(j,i,n){arguments.length<=1&&(i=j||0,j=0);for(var n=arguments[2]||1,m=Math.max(Math.ceil((i-j)/n),0),l=0,k=Array(m);l<m;){k[l++]=j,j+=n}return k};var S=function(){};ak.bind=function(b,k){var j,i;if(b.bind===V&&V){return V.apply(b,aj.call(arguments,1))}if(!ak.isFunction(b)){throw new TypeError}i=aj.call(arguments,2);return j=function(){if(!(this instanceof j)){return b.apply(k,i.concat(aj.call(arguments)))}S.prototype=b.prototype;var l=new S,m=b.apply(l,i.concat(aj.call(arguments)));return Object(m)===m?m:l}};ak.bindAll=function(b){var i=aj.call(arguments,1);i.length==0&&(i=ak.functions(b));ai(i,function(j){b[j]=ak.bind(b[j],b)});return b};ak.memoize=function(b,j){var i={};j||(j=ak.identity);return function(){var k=j.apply(this,arguments);return ak.has(i,k)?i[k]:i[k]=b.apply(this,arguments)}};ak.delay=function(j,i){var k=aj.call(arguments,2);return setTimeout(function(){return j.apply(j,k)},i)};ak.defer=function(b){return ak.delay.apply(ak,[b,1].concat(aj.call(arguments,1)))};ak.throttle=function(b,p){var o,n,m,l,k,j=ak.debounce(function(){k=l=false},p);return function(){o=this;n=arguments;var i;m||(m=setTimeout(function(){m=null;k&&b.apply(o,n);j()},p));l?k=true:b.apply(o,n);j();l=true}};ak.debounce=function(j,i){var k;return function(){var l=this,b=arguments;clearTimeout(k);k=setTimeout(function(){k=null;j.apply(l,b)},i)}};ak.once=function(j){var i=false,k;return function(){if(i){return k}i=true;return k=j.apply(this,arguments)}};ak.wrap=function(j,i){return function(){var b=[j].concat(aj.call(arguments,0));return i.apply(this,b)}};ak.compose=function(){var b=arguments;return function(){for(var i=arguments,j=b.length-1;j>=0;j--){i=[b[j].apply(this,i)]}return i[0]}};ak.after=function(j,i){return j<=0?i():function(){if(--j<1){return i.apply(this,arguments)}}};ak.keys=f||function(b){if(b!==Object(b)){throw new TypeError("Invalid object")}var j=[],i;for(i in b){ak.has(b,i)&&(j[j.length]=i)}return j};ak.values=function(b){return ak.map(b,ak.identity)};ak.functions=ak.methods=function(b){var j=[],i;for(i in b){ak.isFunction(b[i])&&j.push(i)}return j.sort()};ak.extend=function(b){ai(aj.call(arguments,1),function(i){for(var j in i){b[j]=i[j]}});return b};ak.defaults=function(b){ai(aj.call(arguments,1),function(i){for(var j in i){b[j]==null&&(b[j]=i[j])}});return b};ak.clone=function(b){return !ak.isObject(b)?b:ak.isArray(b)?b.slice():ak.extend({},b)};ak.tap=function(j,i){i(j);return j};ak.isEqual=function(j,i){return aa(j,i,[])};ak.isEmpty=function(b){if(ak.isArray(b)||ak.isString(b)){return b.length===0}for(var i in b){if(ak.has(b,i)){return false}}return true};ak.isElement=function(b){return !!(b&&b.nodeType==1)};ak.isArray=ad||function(b){return ag.call(b)=="[object Array]"};ak.isObject=function(b){return b===Object(b)};ak.isArguments=function(b){return ag.call(b)=="[object Arguments]"};if(!ak.isArguments(arguments)){ak.isArguments=function(b){return !(!b||!ak.has(b,"callee"))}}ak.isFunction=function(b){return ag.call(b)=="[object Function]"};ak.isString=function(b){return ag.call(b)=="[object String]"};ak.isNumber=function(b){return ag.call(b)=="[object Number]"};ak.isNaN=function(b){return b!==b};ak.isBoolean=function(b){return b===true||b===false||ag.call(b)=="[object Boolean]"};ak.isDate=function(b){return ag.call(b)=="[object Date]"};ak.isRegExp=function(b){return ag.call(b)=="[object RegExp]"};ak.isNull=function(b){return b===null};ak.isUndefined=function(b){return b===void 0};ak.has=function(j,i){return h.call(j,i)};ak.noConflict=function(){Y._=Q;return this};ak.identity=function(b){return b};ak.times=function(j,i,l){for(var k=0;k<j;k++){i.call(l,k)}};ak.escape=function(b){return(""+b).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")};ak.mixin=function(b){ai(ak.functions(b),function(i){c(i,ak[i]=b[i])})};var a=0;ak.uniqueId=function(j){var i=a++;return j?j+i:i};ak.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var T=/.^/,R=function(b){return b.replace(/\\\\/g,"\\").replace(/\\'/g,"'")};ak.template=function(b,k){var j=ak.templateSettings,j="var __p=[],print=function(){__p.push.apply(__p,arguments);};with(obj||{}){__p.push('"+b.replace(/\\/g,"\\\\").replace(/'/g,"\\'").replace(j.escape||T,function(m,l){return"',_.escape("+R(l)+"),'"}).replace(j.interpolate||T,function(m,l){return"',"+R(l)+",'"}).replace(j.evaluate||T,function(m,l){return"');"+R(l).replace(/[\r\n\t]/g," ")+";__p.push('"}).replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/\t/g,"\\t")+"');}return __p.join('');",i=new Function("obj","_",j);return k?i(k,ak):function(l){return i.call(this,l,ak)}};ak.chain=function(b){return ak(b).chain()};var af=function(b){this._wrapped=b};ak.prototype=af.prototype;var P=function(b,i){return i?ak(b).chain():b},c=function(b,i){af.prototype[b]=function(){var j=aj.call(arguments);N.call(j,this._wrapped);return P(i.apply(ak,j),this._chain)}};ak.mixin(ak);ai("pop,push,reverse,shift,sort,splice,unshift".split(","),function(j){var i=ah[j];af.prototype[j]=function(){var k=this._wrapped;i.apply(k,arguments);var b=k.length;(j=="shift"||j=="splice")&&b===0&&delete k[0];return P(k,this._chain)}});ai(["concat","join","slice"],function(j){var i=ah[j];af.prototype[j]=function(){return P(i.apply(this._wrapped,arguments),this._chain)}});af.prototype.chain=function(){this._chain=true;return this};af.prototype.value=function(){return this._wrapped}}).call(this);var JSON;if(!JSON){JSON={}}(function(){function f(n){return n<10?"0"+n:n}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(key){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(key){return this.valueOf()}}var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;function quote(string){escapable.lastIndex=0;return escapable.test(string)?'"'+string.replace(escapable,function(a){var c=meta[a];return typeof c==="string"?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+string+'"'}function str(key,holder){var i,k,v,length,mind=gap,partial,value=holder[key];if(value&&typeof value==="object"&&typeof value.toJSON==="function"){value=value.toJSON(key)}if(typeof rep==="function"){value=rep.call(holder,key,value)}switch(typeof value){case"string":return quote(value);case"number":return isFinite(value)?String(value):"null";case"boolean":case"null":return String(value);case"object":if(!value){return"null"}gap+=indent;partial=[];if(Object.prototype.toString.apply(value)==="[object Array]"){length=value.length;for(i=0;i<length;i+=1){partial[i]=str(i,value)||"null"}v=partial.length===0?"[]":gap?"[\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"]":"["+partial.join(",")+"]";gap=mind;return v}if(rep&&typeof rep==="object"){length=rep.length;for(i=0;i<length;i+=1){if(typeof rep[i]==="string"){k=rep[i];v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}else{for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}v=partial.length===0?"{}":gap?"{\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"}":"{"+partial.join(",")+"}";gap=mind;return v}}if(typeof JSON.stringify!=="function"){JSON.stringify=function(value,replacer,space){var i;gap="";indent="";if(typeof space==="number"){for(i=0;i<space;i+=1){indent+=" "}}else{if(typeof space==="string"){indent=space}}rep=replacer;if(replacer&&typeof replacer!=="function"&&(typeof replacer!=="object"||typeof replacer.length!=="number")){throw new Error("JSON.stringify")}return str("",{"":value})}}if(typeof JSON.parse!=="function"){JSON.parse=function(text,reviver){var j;function walk(holder,key){var k,v,value=holder[key];if(value&&typeof value==="object"){for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=walk(value,k);if(v!==undefined){value[k]=v}else{delete value[k]}}}}return reviver.call(holder,key,value)}text=String(text);cx.lastIndex=0;if(cx.test(text)){text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})}if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){j=eval("("+text+")");return typeof reviver==="function"?walk({"":j},""):j}throw new SyntaxError("JSON.parse")}}}());(function(){var J=this,B=J.Backbone,M;M=typeof exports!=="undefined"?exports:J.Backbone={};M.VERSION="0.5.3";var L=J._;if(!L&&typeof require!=="undefined"){L=require("underscore")._}var K=J.jQuery||J.Zepto;M.noConflict=function(){J.Backbone=B;return this};M.emulateHTTP=!1;M.emulateJSON=!1;M.Events={bind:function(f,e,h){var g=this._callbacks||(this._callbacks={});(g[f]||(g[f]=[])).push([e,h]);return this},unbind:function(g,f){var j;if(g){if(j=this._callbacks){if(f){j=j[g];if(!j){return this}for(var i=0,h=j.length;i<h;i++){if(j[i]&&f===j[i][0]){j[i]=null;break}}}else{j[g]=[]}}}else{this._callbacks={}}return this},trigger:function(j){var i,p,o,n,m=2;if(!(p=this._callbacks)){return this}for(;m--;){if(i=m?j:"all",i=p[i]){for(var l=0,k=i.length;l<k;l++){(o=i[l])?(n=m?Array.prototype.slice.call(arguments,1):arguments,o[0].apply(o[1]||this,n)):(i.splice(l,1),l--,k--)}}}return this}};M.Model=function(f,e){var g;f||(f={});if(g=this.defaults){L.isFunction(g)&&(g=g.call(this)),f=L.extend({},g,f)}this.attributes={};this._escapedAttributes={};this.cid=L.uniqueId("c");this.set(f,{silent:!0});this._changed=!1;this._previousAttributes=L.clone(this.attributes);if(e&&e.collection){this.collection=e.collection}this.initialize(f,e)};L.extend(M.Model.prototype,M.Events,{_previousAttributes:null,_changed:!1,idAttribute:"id",initialize:function(){},toJSON:function(){return L.clone(this.attributes)},get:function(e){return this.attributes[e]},escape:function(f){var e;if(e=this._escapedAttributes[f]){return e}e=this.attributes[f];return this._escapedAttributes[f]=(e==null?"":""+e).replace(/&(?!\w+;|#\d+;|#x[\da-f]+;)/gi,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")},has:function(e){return this.attributes[e]!=null},set:function(i,f){f||(f={});if(!i){return this}if(i.attributes){i=i.attributes}var n=this.attributes,m=this._escapedAttributes;if(!f.silent&&this.validate&&!this._performValidation(i,f)){return !1}if(this.idAttribute in i){this.id=i[this.idAttribute]}var l=this._changing;this._changing=!0;for(var k in i){var j=i[k];if(!L.isEqual(n[k],j)){n[k]=j,delete m[k],this._changed=!0,f.silent||this.trigger("change:"+k,this,j,f)}}!l&&!f.silent&&this._changed&&this.change(f);this._changing=!1;return this},unset:function(f,e){if(!(f in this.attributes)){return this}e||(e={});var g={};g[f]=void 0;if(!e.silent&&this.validate&&!this._performValidation(g,e)){return !1}delete this.attributes[f];delete this._escapedAttributes[f];f==this.idAttribute&&delete this.id;this._changed=!0;e.silent||(this.trigger("change:"+f,this,void 0,e),this.change(e));return this},clear:function(f){f||(f={});var e,h=this.attributes,g={};for(e in h){g[e]=void 0}if(!f.silent&&this.validate&&!this._performValidation(g,f)){return !1}this.attributes={};this._escapedAttributes={};this._changed=!0;if(!f.silent){for(e in h){this.trigger("change:"+e,this,void 0,f)}this.change(f)}return this},fetch:function(f){f||(f={});var e=this,g=f.success;f.success=function(j,i,h){if(!e.set(e.parse(j,h),f)){return !1}g&&g(e,j)};f.error=I(f.error,e,f);return(this.sync||M.sync).call(this,"read",this,f)},save:function(g,e){e||(e={});if(g&&!this.set(g,e)){return !1}var j=this,i=e.success;e.success=function(k,m,l){if(!j.set(j.parse(k,l),e)){return !1}i&&i(j,k,l)};e.error=I(e.error,j,e);var h=this.isNew()?"create":"update";return(this.sync||M.sync).call(this,h,this,e)},destroy:function(f){f||(f={});if(this.isNew()){return this.trigger("destroy",this,this.collection,f)}var e=this,g=f.success;f.success=function(h){e.trigger("destroy",e,e.collection,f);g&&g(e,h)};f.error=I(f.error,e,f);return(this.sync||M.sync).call(this,"delete",this,f)},url:function(){var e=G(this.collection)||this.urlRoot||F();if(this.isNew()){return e}return e+(e.charAt(e.length-1)=="/"?"":"/")+encodeURIComponent(this.id)},parse:function(e){return e},clone:function(){return new this.constructor(this)},isNew:function(){return this.id==null},change:function(e){this.trigger("change",this,e);this._previousAttributes=L.clone(this.attributes);this._changed=!1},hasChanged:function(e){if(e){return this._previousAttributes[e]!=this.attributes[e]}return this._changed},changedAttributes:function(f){f||(f=this.attributes);var e=this._previousAttributes,h=!1,g;for(g in f){L.isEqual(e[g],f[g])||(h=h||{},h[g]=f[g])}return h},previous:function(e){if(!e||!this._previousAttributes){return null}return this._previousAttributes[e]},previousAttributes:function(){return L.clone(this._previousAttributes)},_performValidation:function(f,e){var g=this.validate(f);if(g){return e.error?e.error(this,g,e):this.trigger("error",this,g,e),!1}return !0}});M.Collection=function(f,e){e||(e={});if(e.comparator){this.comparator=e.comparator}L.bindAll(this,"_onModelEvent","_removeReference");this._reset();f&&this.reset(f,{silent:!0});this.initialize.apply(this,arguments)};L.extend(M.Collection.prototype,M.Events,{model:M.Model,initialize:function(){},toJSON:function(){return this.map(function(e){return e.toJSON()})},add:function(f,e){if(L.isArray(f)){for(var h=0,g=f.length;h<g;h++){this._add(f[h],e)}}else{this._add(f,e)}return this},remove:function(f,e){if(L.isArray(f)){for(var h=0,g=f.length;h<g;h++){this._remove(f[h],e)}}else{this._remove(f,e)}return this},get:function(e){if(e==null){return null}return this._byId[e.id!=null?e.id:e]},getByCid:function(e){return e&&this._byCid[e.cid||e]},at:function(e){return this.models[e]},sort:function(e){e||(e={});if(!this.comparator){throw Error("Cannot sort a set without a comparator")}this.models=this.sortBy(this.comparator);e.silent||this.trigger("reset",this,e);return this},pluck:function(e){return L.map(this.models,function(f){return f.get(e)})},reset:function(f,e){f||(f=[]);e||(e={});this.each(this._removeReference);this._reset();this.add(f,{silent:!0});e.silent||this.trigger("reset",this,e);return this},fetch:function(f){f||(f={});var e=this,g=f.success;f.success=function(j,h,i){e[f.add?"add":"reset"](e.parse(j,i),f);g&&g(e,j)};f.error=I(f.error,e,f);return(this.sync||M.sync).call(this,"read",this,f)},create:function(f,e){var h=this;e||(e={});f=this._prepareModel(f,e);if(!f){return !1}var g=e.success;e.success=function(i,k,j){h.add(i,e);g&&g(i,k,j)};f.save(null,e);return f},parse:function(e){return e},chain:function(){return L(this.models).chain()},_reset:function(){this.length=0;this.models=[];this._byId={};this._byCid={}},_prepareModel:function(f,e){if(f instanceof M.Model){if(!f.collection){f.collection=this}}else{var g=f;f=new this.model(g,{collection:this});f.validate&&!f._performValidation(g,e)&&(f=!1)}return f},_add:function(f,e){e||(e={});f=this._prepareModel(f,e);if(!f){return !1}var g=this.getByCid(f);if(g){throw Error(["Can't add the same model to a set twice",g.id])}this._byId[f.id]=f;this._byCid[f.cid]=f;this.models.splice(e.at!=null?e.at:this.comparator?this.sortedIndex(f,this.comparator):this.length,0,f);f.bind("all",this._onModelEvent);this.length++;e.silent||f.trigger("add",f,this,e);return f},_remove:function(f,e){e||(e={});f=this.getByCid(f)||this.get(f);if(!f){return null}delete this._byId[f.id];delete this._byCid[f.cid];this.models.splice(this.indexOf(f),1);this.length--;e.silent||f.trigger("remove",f,this,e);this._removeReference(f);return f},_removeReference:function(e){this==e.collection&&delete e.collection;e.unbind("all",this._onModelEvent)},_onModelEvent:function(f,e,h,g){(f=="add"||f=="remove")&&h!=this||(f=="destroy"&&this._remove(e,g),e&&f==="change:"+e.idAttribute&&(delete this._byId[e.previous(e.idAttribute)],this._byId[e.id]=e),this.trigger.apply(this,arguments))}});L.each(["forEach","each","map","reduce","reduceRight","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","sortBy","sortedIndex","toArray","size","first","rest","last","without","indexOf","lastIndexOf","isEmpty","groupBy"],function(e){M.Collection.prototype[e]=function(){return L[e].apply(L,[this.models].concat(L.toArray(arguments)))}});M.Router=function(e){e||(e={});if(e.routes){this.routes=e.routes}this._bindRoutes();this.initialize.apply(this,arguments)};var A=/:([\w\d]+)/g,z=/\*([\w\d]+)/g,y=/[-[\]{}()+?.,\\^$|#\s]/g;L.extend(M.Router.prototype,M.Events,{initialize:function(){},route:function(f,e,g){M.history||(M.history=new M.History);L.isRegExp(f)||(f=this._routeToRegExp(f));M.history.route(f,L.bind(function(h){h=this._extractParameters(f,h);g.apply(this,h);this.trigger.apply(this,["route:"+e].concat(h))},this))},navigate:function(f,e){M.history.navigate(f,e)},_bindRoutes:function(){if(this.routes){var f=[],e;for(e in this.routes){f.unshift([e,this.routes[e]])}e=0;for(var g=f.length;e<g;e++){this.route(f[e][0],f[e][1],this[f[e][1]])}}},_routeToRegExp:function(e){e=e.replace(y,"\\$&").replace(A,"([^/]*)").replace(z,"(.*?)");return RegExp("^"+e+"$")},_extractParameters:function(f,e){return f.exec(e).slice(1)}});M.History=function(){this.handlers=[];L.bindAll(this,"checkUrl")};var H=/^#*/,x=/msie [\w.]+/,E=!1;L.extend(M.History.prototype,{interval:50,getFragment:function(f,e){if(f==null){if(this._hasPushState||e){f=window.location.pathname;var g=window.location.search;g&&(f+=g);f.indexOf(this.options.root)==0&&(f=f.substr(this.options.root.length))}else{f=window.location.hash}}return decodeURIComponent(f.replace(H,""))},start:function(f){if(E){throw Error("Backbone.history has already been started")}this.options=L.extend({},{root:"/"},this.options,f);this._wantsPushState=!!this.options.pushState;this._hasPushState=!(!this.options.pushState||!window.history||!window.history.pushState);f=this.getFragment();var e=document.documentMode;if(e=x.exec(navigator.userAgent.toLowerCase())&&(!e||e<=7)){this.iframe=K('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,this.navigate(f)}this._hasPushState?K(window).bind("popstate",this.checkUrl):"onhashchange" in window&&!e?K(window).bind("hashchange",this.checkUrl):setInterval(this.checkUrl,this.interval);this.fragment=f;E=!0;f=window.location;e=f.pathname==this.options.root;if(this._wantsPushState&&!this._hasPushState&&!e){return this.fragment=this.getFragment(null,!0),window.location.replace(this.options.root+"#"+this.fragment),!0}else{if(this._wantsPushState&&this._hasPushState&&e&&f.hash){this.fragment=f.hash.replace(H,""),window.history.replaceState({},document.title,f.protocol+"//"+f.host+this.options.root+this.fragment)}}if(!this.options.silent){return this.loadUrl()}},route:function(f,e){this.handlers.unshift({route:f,callback:e})},checkUrl:function(){var e=this.getFragment();e==this.fragment&&this.iframe&&(e=this.getFragment(this.iframe.location.hash));if(e==this.fragment||e==decodeURIComponent(this.fragment)){return !1}this.iframe&&this.navigate(e);this.loadUrl()||this.loadUrl(window.location.hash)},loadUrl:function(f){var e=this.fragment=this.getFragment(f);return L.any(this.handlers,function(g){if(g.route.test(e)){return g.callback(e),!0}})},navigate:function(f,e){var h=(f||"").replace(H,"");if(!(this.fragment==h||this.fragment==decodeURIComponent(h))){if(this._hasPushState){var g=window.location;h.indexOf(this.options.root)!=0&&(h=this.options.root+h);this.fragment=h;window.history.pushState({},document.title,g.protocol+"//"+g.host+h)}else{if(window.location.hash=this.fragment=h,this.iframe&&h!=this.getFragment(this.iframe.location.hash)){this.iframe.document.open().close(),this.iframe.location.hash=h}}e&&this.loadUrl(f)}}});M.View=function(e){this.cid=L.uniqueId("view");this._configure(e||{});this._ensureElement();this.delegateEvents();this.initialize.apply(this,arguments)};var c=/^(\S+)\s*(.*)$/,D=["model","collection","el","id","attributes","className","tagName"];L.extend(M.View.prototype,M.Events,{tagName:"div",$:function(e){return K(e,this.el)},initialize:function(){},render:function(){return this},remove:function(){K(this.el).remove();return this},make:function(f,e,g){f=document.createElement(f);e&&K(f).attr(e);g&&K(f).html(g);return f},delegateEvents:function(g){if(g||(g=this.events)){for(var f in L.isFunction(g)&&(g=g.call(this)),K(this.el).unbind(".delegateEvents"+this.cid),g){var j=this[g[f]];if(!j){throw Error('Event "'+g[f]+'" does not exist')}var i=f.match(c),h=i[1];i=i[2];j=L.bind(j,this);h+=".delegateEvents"+this.cid;i===""?K(this.el).bind(h,j):K(this.el).delegate(i,h,j)}}},_configure:function(f){this.options&&(f=L.extend({},this.options,f));for(var e=0,h=D.length;e<h;e++){var g=D[e];f[g]&&(this[g]=f[g])}this.options=f},_ensureElement:function(){if(this.el){if(L.isString(this.el)){this.el=K(this.el).get(0)}}else{var e=this.attributes||{};if(this.id){e.id=this.id}if(this.className){e["class"]=this.className}this.el=this.make(this.tagName,e)}}});M.Model.extend=M.Collection.extend=M.Router.extend=M.View.extend=function(f,e){var g=b(this,f,e);g.extend=this.extend;return g};var a={create:"POST",update:"PUT","delete":"DELETE",read:"GET"};M.sync=function(f,e,h){var g=a[f];h=L.extend({type:g,dataType:"json"},h);if(!h.url){h.url=G(e)||F()}if(!h.data&&e&&(f=="create"||f=="update")){h.contentType="application/json",h.data=JSON.stringify(e.toJSON())}if(M.emulateJSON){h.contentType="application/x-www-form-urlencoded",h.data=h.data?{model:h.data}:{}}if(M.emulateHTTP&&(g==="PUT"||g==="DELETE")){if(M.emulateJSON){h.data._method=g}h.type="POST";h.beforeSend=function(i){i.setRequestHeader("X-HTTP-Method-Override",g)}}if(h.type!=="GET"&&!M.emulateJSON){h.processData=!1}return K.ajax(h)};var C=function(){},b=function(f,e,h){var g;g=e&&e.hasOwnProperty("constructor")?e.constructor:function(){return f.apply(this,arguments)};L.extend(g,f);C.prototype=f.prototype;g.prototype=new C;e&&L.extend(g.prototype,e);h&&L.extend(g,h);g.prototype.constructor=g;g.__super__=f.prototype;return g},G=function(e){if(!e||!e.url){return null}return L.isFunction(e.url)?e.url():e.url},F=function(){throw Error('A "url" property or function must be specified')},I=function(f,e,g){return function(h){f?f(e,h,g):e.trigger("error",e,h,g)}}}).call(this);(function(){var b=this,c=b._;if(!c&&(typeof require!=="undefined")){c=require("underscore")._}function a(i,h){var e=this,g;h=h||{};g=c.singularize||function(k){return k.replace(/s$/,"")};function j(){if(!e.hasMany){return null}var k=e.hasMany()[i];if(k){return k.collection.filter(function(l){return l.get(k.id)===e.id})}else{return null}}function f(){if(!e.belongsTo){return null}var k=e.belongsTo()[i];if(k){return k.get(e.get(g(i)+"_id"))}else{return null}}return j()||f()}c.extend(Backbone.Model.prototype,{rel:a})}());!function(c){c.fn.xdatepicker=c.fn.datepicker;c.xdatepicker=c.datepicker;var a=function(g,f){this.element=c(g);this.language=f.language||this.element.data("date-language")||"en";this.language=this.language in e?this.language:"en";this.format=b.parseFormat(f.format||this.element.data("date-format")||"mm/dd/yyyy");this.picker=c(b.template).appendTo("body").on({click:c.proxy(this.click,this),mousedown:c.proxy(this.mousedown,this)});this.isInput=this.element.is("input");this.component=this.element.is(".date")?this.element.find(".add-on"):false;if(this.component&&this.component.length===0){this.component=false}if(this.isInput){this.element.on({focus:c.proxy(this.show,this),blur:c.proxy(this._hide,this),keyup:c.proxy(this.update,this),keydown:c.proxy(this.keydown,this)})}else{if(this.component){this.component.on("click",c.proxy(this.show,this));var g=this.element.find("input");g.on({blur:c.proxy(this._hide,this)})}else{this.element.on("click",c.proxy(this.show,this))}}this.autoclose=false;if("autoclose" in f){this.autoclose=f.autoclose}else{if("dateAutoclose" in this.element.data()){this.autoclose=this.element.data("date-autoclose")}}switch(f.startView){case 2:case"decade":this.viewMode=this.startViewMode=2;break;case 1:case"year":this.viewMode=this.startViewMode=1;break;case 0:case"month":default:this.viewMode=this.startViewMode=0;break}this.weekStart=((f.weekStart||this.element.data("date-weekstart")||e[this.language].weekStart||0)%7);this.weekEnd=((this.weekStart+6)%7);this.startDate=-Infinity;this.endDate=Infinity;this.setStartDate(f.startDate||this.element.data("date-startdate"));this.setEndDate(f.endDate||this.element.data("date-enddate"));this.fillDow();this.fillMonths();this.update();this.showMode()};a.prototype={constructor:a,show:function(f){this.picker.show();this.height=this.component?this.component.outerHeight():this.element.outerHeight();this.place();c(window).on("resize",c.proxy(this.place,this));if(f){f.stopPropagation();f.preventDefault()}if(!this.isInput){c(document).on("mousedown",c.proxy(this.hide,this))}this.element.trigger({type:"show",date:this.date})},_hide:function(j){if(c.browser.msie){var h=this,g=arguments;function i(){clearTimeout(f);j.target.focus();h.picker.off("click",i)}function k(){h.hide.apply(h,g);h.picker.off("click",i)}this.picker.on("click",i);var f=setTimeout(k,100)}else{return this.hide.apply(this,arguments)}},hide:function(f){this.picker.hide();c(window).off("resize",this.place);this.viewMode=this.startViewMode;this.showMode();if(!this.isInput){c(document).off("mousedown",this.hide)}if(f&&f.currentTarget.value){this.setValue()}this.element.trigger({type:"hide",date:this.date})},setValue:function(){var f=b.formatDate(this.date,this.format,this.language);if(!this.isInput){if(this.component){this.element.find("input").prop("value",f)}this.element.data("date",f)}else{this.element.prop("value",f)}},setStartDate:function(f){this.startDate=f||-Infinity;if(this.startDate!==-Infinity){this.startDate=b.parseDate(this.startDate,this.format,this.language)}this.update();this.updateNavArrows()},setEndDate:function(f){this.endDate=f||Infinity;if(this.endDate!==Infinity){this.endDate=b.parseDate(this.endDate,this.format,this.language)}this.update();this.updateNavArrows()},place:function(){var f=this.component?this.component.offset():this.element.offset();this.picker.css({top:f.top+this.height,left:f.left})},update:function(){this.date=b.parseDate(this.isInput?this.element.prop("value"):this.element.data("date"),this.format,this.language);if(this.date<this.startDate){this.viewDate=new Date(this.startDate)}else{if(this.date>this.endDate){this.viewDate=new Date(this.endDate)}else{this.viewDate=new Date(this.date)}}this.fill()},fillDow:function(){var f=this.weekStart;var g="<tr>";while(f<this.weekStart+7){g+='<th class="dow">'+e[this.language].daysMin[(f++)%7]+"</th>"}g+="</tr>";this.picker.find(".datepicker-days thead").append(g)},fillMonths:function(){var g="";var f=0;while(f<12){g+='<span class="month">'+e[this.language].monthsShort[f++]+"</span>"}this.picker.find(".datepicker-months td").html(g)},fill:function(){var r=new Date(this.viewDate),s=r.getFullYear(),p=r.getMonth(),q=this.startDate!==-Infinity?this.startDate.getFullYear():-Infinity,u=this.startDate!==-Infinity?this.startDate.getMonth():-Infinity,v=this.endDate!==Infinity?this.endDate.getFullYear():Infinity,n=this.endDate!==Infinity?this.endDate.getMonth():Infinity,g=this.date.valueOf();this.picker.find(".datepicker-days th:eq(1)").text(e[this.language].months[p]+" "+s);this.updateNavArrows();this.fillMonths();var k=new Date(s,p-1,28,0,0,0,0),t=b.getDaysInMonth(k.getFullYear(),k.getMonth());k.setDate(t);k.setDate(t-(k.getDay()-this.weekStart+7)%7);var m=new Date(k);m.setDate(m.getDate()+42);m=m.valueOf();html=[];var j;while(k.valueOf()<m){if(k.getDay()==this.weekStart){html.push("<tr>")}j="";if(k.getFullYear()<s||(k.getFullYear()==s&&k.getMonth()<p)){j+=" old"}else{if(k.getFullYear()>s||(k.getFullYear()==s&&k.getMonth()>p)){j+=" new"}}if(k.valueOf()==g){j+=" active"}if(k.valueOf()<this.startDate||k.valueOf()>this.endDate){j+=" disabled"}html.push('<td class="day'+j+'">'+k.getDate()+"</td>");if(k.getDay()==this.weekEnd){html.push("</tr>")}k.setDate(k.getDate()+1)}this.picker.find(".datepicker-days tbody").empty().append(html.join(""));var o=this.date.getFullYear();var f=this.picker.find(".datepicker-months").find("th:eq(1)").text(s).end().find("span").removeClass("active");if(o==s){f.eq(this.date.getMonth()).addClass("active")}if(s<q||s>v){f.addClass("disabled")}if(s==q){f.slice(0,u).addClass("disabled")}if(s==v){f.slice(n+1).addClass("disabled")}html="";s=parseInt(s/10,10)*10;var h=this.picker.find(".datepicker-years").find("th:eq(1)").text(s+"-"+(s+9)).end().find("td");s-=1;for(var l=-1;l<11;l++){html+='<span class="year'+(l==-1||l==10?" old":"")+(o==s?" active":"")+(s<q||s>v?" disabled":"")+'">'+s+"</span>";s+=1}h.html(html)},updateNavArrows:function(){var h=new Date(this.viewDate),f=h.getFullYear(),g=h.getMonth();switch(this.viewMode){case 0:if(this.startDate!==-Infinity&&f<=this.startDate.getFullYear()&&g<=this.startDate.getMonth()){this.picker.find(".prev").css({visibility:"hidden"})}else{this.picker.find(".prev").css({visibility:"visible"})}if(this.endDate!==Infinity&&f>=this.endDate.getFullYear()&&g>=this.endDate.getMonth()){this.picker.find(".next").css({visibility:"hidden"})}else{this.picker.find(".next").css({visibility:"visible"})}break;case 1:case 2:if(this.startDate!==-Infinity&&f<=this.startDate.getFullYear()){this.picker.find(".prev").css({visibility:"hidden"})}else{this.picker.find(".prev").css({visibility:"visible"})}if(this.endDate!==Infinity&&f>=this.endDate.getFullYear()){this.picker.find(".next").css({visibility:"hidden"})}else{this.picker.find(".next").css({visibility:"visible"})}break}},click:function(l){l.stopPropagation();l.preventDefault();var k=c(l.target).closest("span, td, th");if(k.length==1){switch(k[0].nodeName.toLowerCase()){case"th":switch(k[0].className){case"switch":this.showMode(1);break;case"prev":case"next":var g=b.modes[this.viewMode].navStep*(k[0].className=="prev"?-1:1);switch(this.viewMode){case 0:this.viewDate=this.moveMonth(this.viewDate,g);break;case 1:case 2:this.viewDate=this.moveYear(this.viewDate,g);break}this.fill();break}break;case"span":if(!k.is(".disabled")){if(k.is(".month")){var j=k.parent().find("span").index(k);this.viewDate.setMonth(j)}else{var i=parseInt(k.text(),10)||0;this.viewDate.setFullYear(i)}this.showMode(-1);this.fill()}break;case"td":if(k.is(".day")&&!k.is(".disabled")){var f=parseInt(k.text(),10)||1;var i=this.viewDate.getFullYear(),j=this.viewDate.getMonth();if(k.is(".old")){if(j==0){j=11;i-=1}else{j-=1}}else{if(k.is(".new")){if(j==11){j=0;i+=1}else{j+=1}}}this.date=new Date(i,j,f,0,0,0,0);this.viewDate=new Date(i,j,f,0,0,0,0);this.fill();this.setValue();this.element.trigger({type:"changeDate",date:this.date});var h;if(this.isInput){h=this.element}else{if(this.component){h=this.element.find("input")}}if(h){h.change();if(this.autoclose){h.blur()}}}break}}},mousedown:function(f){f.stopPropagation();f.preventDefault()},moveMonth:function(f,g){if(!g){return f}var k=new Date(f.valueOf()),o=k.getDate(),l=k.getMonth(),j=Math.abs(g),n,m;g=g>0?1:-1;if(j==1){m=g==-1?function(){return k.getMonth()==l}:function(){return k.getMonth()!=n};n=l+g;k.setMonth(n);if(n<0||n>11){n=(n+12)%12}}else{for(var h=0;h<j;h++){k=this.moveMonth(k,g)}n=k.getMonth();k.setDate(o);m=function(){return n!=k.getMonth()}}while(m()){k.setDate(--o);k.setMonth(n)}return k},moveYear:function(g,f){return this.moveMonth(g,f*12)},keydown:function(k){if(this.picker.is(":not(:visible)")){if(k.keyCode==27){this.show()}return}var h=false,g,f,j;switch(k.keyCode){case 27:this.hide();k.preventDefault();break;case 37:case 39:g=k.keyCode==37?-1:1;if(k.ctrlKey){this.date=this.moveYear(this.date,g);this.viewDate=this.moveYear(this.viewDate,g)}else{if(k.shiftKey){this.date=this.moveMonth(this.date,g);this.viewDate=this.moveMonth(this.viewDate,g)}else{this.date.setDate(this.date.getDate()+g);this.viewDate.setDate(this.viewDate.getDate()+g)}}this.setValue();this.update();k.preventDefault();h=true;break;case 38:case 40:g=k.keyCode==38?-1:1;if(k.ctrlKey){this.date=this.moveYear(this.date,g);this.viewDate=this.moveYear(this.viewDate,g)}else{if(k.shiftKey){this.date=this.moveMonth(this.date,g);this.viewDate=this.moveMonth(this.viewDate,g)}else{this.date.setDate(this.date.getDate()+g*7);this.viewDate.setDate(this.viewDate.getDate()+g*7)}}this.setValue();this.update();k.preventDefault();h=true;break;case 13:this.hide();k.preventDefault();break}if(h){this.element.trigger({type:"changeDate",date:this.date});var i;if(this.isInput){i=this.element}else{if(this.component){i=this.element.find("input")}}if(i){i.change()}}},showMode:function(f){if(f){this.viewMode=Math.max(0,Math.min(2,this.viewMode+f))}this.picker.find(">div").hide().filter(".datepicker-"+b.modes[this.viewMode].clsName).show();this.updateNavArrows()}};c.fn.datepicker=function(g){var f=Array.apply(null,arguments);f.shift();return this.each(function(){var j=c(this),i=j.data("datepicker"),h=typeof g=="object"&&g;if(!i){j.data("datepicker",(i=new a(this,c.extend({},c.fn.datepicker.defaults,h))))}if(typeof g=="string"){i[g].apply(i,f)}})};c.fn.datepicker.defaults={};c.fn.datepicker.Constructor=a;var e=c.fn.datepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}};var b={modes:[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}],isLeapYear:function(f){return(((f%4===0)&&(f%100!==0))||(f%400===0))},getDaysInMonth:function(f,g){return[31,(b.isLeapYear(f)?29:28),31,30,31,30,31,31,30,31,30,31][g]},validParts:/dd?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\[-`{-~\t\n\r]+/g,parseFormat:function(h){var f=h.replace(this.validParts,"\0").split("\0"),g=h.match(this.validParts);if(!f||!f.length||!g||g.length==0){throw new Error("Invalid date format.")}return{separators:f,parts:g}},parseDate:function(j,r,m){if(j instanceof Date){return j}if(/^[-+]\d+[dmwy]([\s,]+[-+]\d+[dmwy])*$/.test(j)){var u=/([-+]\d+)([dmwy])/,l=j.match(/([-+]\d+)([dmwy])/g),f,k;j=new Date();for(var n=0;n<l.length;n++){f=u.exec(l[n]);k=parseInt(f[1]);switch(f[2]){case"d":j.setDate(j.getDate()+k);break;case"m":j=a.prototype.moveMonth.call(a.prototype,j,k);break;case"w":j.setDate(j.getDate()+k*7);break;case"y":j=a.prototype.moveYear.call(a.prototype,j,k);break}}return new Date(j.getFullYear(),j.getMonth(),j.getDate(),0,0,0)}var l=j?j.match(this.nonpunctuation):[],j=new Date(),p={},q=["yyyy","yy","M","MM","m","mm","d","dd"],t={yyyy:function(s,i){return s.setFullYear(i)},yy:function(s,i){return s.setFullYear(2000+i)},m:function(s,i){return s.setMonth(i-1)},d:function(s,i){return s.setDate(i)},},h,o,f;t.M=t.MM=t.mm=t.m;t.dd=t.d;j=new Date(j.getFullYear(),j.getMonth(),j.getDate(),0,0,0);if(l.length==r.parts.length){for(var n=0,g=r.parts.length;n<g;n++){h=parseInt(l[n],10)||1;f=r.parts[n];switch(f){case"MM":o=c(e[m].months).filter(function(){var i=this.slice(0,l[n].length),s=l[n].slice(0,i.length);return i==s});h=c.inArray(o[0],e[m].months)+1;break;case"M":o=c(e[m].monthsShort).filter(function(){var i=this.slice(0,l[n].length),s=l[n].slice(0,i.length);return i==s});h=c.inArray(o[0],e[m].monthsShort)+1;break}p[f]=h}for(var n=0,v;n<q.length;n++){v=q[n];if(v in p){t[v](j,p[v])}}}return j},formatDate:function(f,k,m){var l={d:f.getDate(),m:f.getMonth()+1,M:e[m].monthsShort[f.getMonth()],MM:e[m].months[f.getMonth()],yy:f.getFullYear().toString().substring(2),yyyy:f.getFullYear()};l.dd=(l.d<10?"0":"")+l.d;l.mm=(l.m<10?"0":"")+l.m;var f=[],j=c.extend([],k.separators);for(var h=0,g=k.parts.length;h<g;h++){if(j.length){f.push(j.shift())}f.push(l[k.parts[h]])}return f.join("")},headTemplate:'<thead><tr><th class="prev"><i class="icon-arrow-left"/></th><th colspan="5" class="switch"></th><th class="next"><i class="icon-arrow-right"/></th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>'};b.template='<div class="datepicker dropdown-menu"><div class="datepicker-days"><table class=" table-condensed">'+b.headTemplate+'<tbody></tbody></table></div><div class="datepicker-months"><table class="table-condensed">'+b.headTemplate+b.contTemplate+'</table></div><div class="datepicker-years"><table class="table-condensed">'+b.headTemplate+b.contTemplate+"</table></div></div>"}(window.jQuery);!function(b){var a=function(e,c){this.init("tooltip",e,c)};a.prototype={constructor:a,init:function(g,f,e){var h,c;this.type=g;this.$element=b(f);this.options=this.getOptions(e);this.enabled=true;if(this.options.trigger!="manual"){h=this.options.trigger=="hover"?"mouseenter":"focus";c=this.options.trigger=="hover"?"mouseleave":"blur";this.$element.on(h,this.options.selector,b.proxy(this.enter,this));this.$element.on(c,this.options.selector,b.proxy(this.leave,this))}this.options.selector?(this._options=b.extend({},this.options,{trigger:"manual",selector:""})):this.fixTitle()},getOptions:function(c){c=b.extend({},b.fn[this.type].defaults,c,this.$element.data());if(c.delay&&typeof c.delay=="number"){c.delay={show:c.delay,hide:c.delay}}return c},enter:function(f){var c=b(f.currentTarget)[this.type](this._options).data(this.type);if(!c.options.delay||!c.options.delay.show){c.show()}else{c.hoverState="in";setTimeout(function(){if(c.hoverState=="in"){c.show()}},c.options.delay.show)}},leave:function(f){var c=b(f.currentTarget)[this.type](this._options).data(this.type);if(!c.options.delay||!c.options.delay.hide){c.hide()}else{c.hoverState="out";setTimeout(function(){if(c.hoverState=="out"){c.hide()}},c.options.delay.hide)}},show:function(){var h,c,j,f,i,e,g;if(this.hasContent()&&this.enabled){h=this.tip();this.setContent();if(this.options.animation){h.addClass("fade")}e=typeof this.options.placement=="function"?this.options.placement.call(this,h[0],this.$element[0]):this.options.placement;c=/in/.test(e);h.remove().css({top:0,left:0,display:"block"}).appendTo(c?this.$element:document.body);j=this.getPosition(c);f=h[0].offsetWidth;i=h[0].offsetHeight;switch(c?e.split(" ")[1]:e){case"bottom":g={top:j.top+j.height,left:j.left+j.width/2-f/2};break;case"top":g={top:j.top-i,left:j.left+j.width/2-f/2};break;case"left":g={top:j.top+j.height/2-i/2,left:j.left-f};break;case"right":g={top:j.top+j.height/2-i/2,left:j.left+j.width};break}h.css(g).addClass(e).addClass("in")}},setContent:function(){var c=this.tip();c.find(".tooltip-inner").html(this.getTitle());c.removeClass("fade in top bottom left right")},hide:function(){var c=this,e=this.tip();e.removeClass("in");function f(){var g=setTimeout(function(){e.off(b.support.transition.end).remove()},500);e.one(b.support.transition.end,function(){clearTimeout(g);e.remove()})}b.support.transition&&this.$tip.hasClass("fade")?f():e.remove()},fixTitle:function(){var c=this.$element;if(c.attr("title")||typeof(c.attr("data-original-title"))!="string"){c.attr("data-original-title",c.attr("title")||"").removeAttr("title")}},hasContent:function(){return this.getTitle()},getPosition:function(c){return b.extend({},(c?{top:0,left:0}:this.$element.offset()),{width:this.$element[0].offsetWidth,height:this.$element[0].offsetHeight})},getTitle:function(){var f,c=this.$element,e=this.options;f=c.attr("data-original-title")||(typeof e.title=="function"?e.title.call(c[0]):e.title);f=(f||"").toString().replace(/(^\s*|\s*$)/,"");return f},tip:function(){return this.$tip=this.$tip||b(this.options.template)},validate:function(){if(!this.$element[0].parentNode){this.hide();this.$element=null;this.options=null}},enable:function(){this.enabled=true},disable:function(){this.enabled=false},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(){this[this.tip().hasClass("in")?"hide":"show"]()}};b.fn.tooltip=function(c){return this.each(function(){var g=b(this),f=g.data("tooltip"),e=typeof c=="object"&&c;if(!f){g.data("tooltip",(f=new a(this,e)))}if(typeof c=="string"){f[c]()}})};b.fn.tooltip.Constructor=a;b.fn.tooltip.defaults={animation:true,delay:0,selector:false,placement:"top",trigger:"hover",title:"",template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>'}}(window.jQuery);!function(a){a(function(){a.support.transition=(function(){var b=(function(){var f=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd",transition:"transitionend"},c;for(c in e){if(f.style[c]!==undefined){return e[c]}}}());return b&&{end:b}})()})}(window.jQuery);!function(c){var b='[data-dismiss="alert"]',a=function(e){c(e).on("click",b,this.close)};a.prototype.close=function(j){var i=c(this),g=i.attr("data-target"),h;if(!g){g=i.attr("href");g=g&&g.replace(/.*(?=#[^\s]*$)/,"")}h=c(g);j&&j.preventDefault();h.length||(h=i.hasClass("alert")?i:i.parent());h.trigger(j=c.Event("close"));if(j.isDefaultPrevented()){return}h.removeClass("in");function f(){h.trigger("closed").remove()}c.support.transition&&h.hasClass("fade")?h.on(c.support.transition.end,f):f()};c.fn.alert=function(e){return this.each(function(){var g=c(this),f=g.data("alert");if(!f){g.data("alert",(f=new a(this)))}if(typeof e=="string"){f[e].call(g)}})};c.fn.alert.Constructor=a;c(function(){c("body").on("click.alert.data-api",b,a.prototype.close)})}(window.jQuery);!function(b){var a=function(e,c){this.$element=b(e);this.options=b.extend({},b.fn.button.defaults,c)};a.prototype.setState=function(f){var h="disabled",c=this.$element,e=c.data(),g=c.is("input")?"val":"html";f=f+"Text";e.resetText||c.data("resetText",c[g]());c[g](e[f]||this.options[f]);setTimeout(function(){f=="loadingText"?c.addClass(h).attr(h,h):c.removeClass(h).removeAttr(h)},0)};a.prototype.toggle=function(){var c=this.$element.parent('[data-toggle="buttons-radio"]');c&&c.find(".active").removeClass("active");this.$element.toggleClass("active")};b.fn.button=function(c){return this.each(function(){var g=b(this),f=g.data("button"),e=typeof c=="object"&&c;if(!f){g.data("button",(f=new a(this,e)))}if(c=="toggle"){f.toggle()}else{if(c){f.setState(c)}}})};b.fn.button.defaults={loadingText:"loading..."};b.fn.button.Constructor=a;b(function(){b("body").on("click.button.data-api","[data-toggle^=button]",function(f){var c=b(f.target);if(!c.hasClass("btn")){c=c.closest(".btn")}c.button("toggle")})})}(window.jQuery);!function(a){var b=function(e,c){this.$element=a(e);this.options=c;this.options.slide&&this.slide(this.options.slide);this.options.pause=="hover"&&this.$element.on("mouseenter",a.proxy(this.pause,this)).on("mouseleave",a.proxy(this.cycle,this))};b.prototype={cycle:function(c){if(!c){this.paused=false}this.options.interval&&!this.paused&&(this.interval=setInterval(a.proxy(this.next,this),this.options.interval));return this},to:function(h){var c=this.$element.find(".active"),e=c.parent().children(),f=e.index(c),g=this;if(h>(e.length-1)||h<0){return}if(this.sliding){return this.$element.one("slid",function(){g.to(h)})}if(f==h){return this.pause().cycle()}return this.slide(h>f?"next":"prev",a(e[h]))},pause:function(c){if(!c){this.paused=true}clearInterval(this.interval);this.interval=null;return this},next:function(){if(this.sliding){return}return this.slide("next")},prev:function(){if(this.sliding){return}return this.slide("prev")},slide:function(k,f){var m=this.$element.find(".active"),c=f||m[k](),j=this.interval,l=k=="next"?"left":"right",g=k=="next"?"first":"last",h=this,i=a.Event("slide");this.sliding=true;j&&this.pause();c=c.length?c:this.$element.find(".item")[g]();if(c.hasClass("active")){return}if(a.support.transition&&this.$element.hasClass("slide")){this.$element.trigger(i);if(i.isDefaultPrevented()){return}c.addClass(k);c[0].offsetWidth;m.addClass(l);c.addClass(l);this.$element.one(a.support.transition.end,function(){c.removeClass([k,l].join(" ")).addClass("active");m.removeClass(["active",l].join(" "));h.sliding=false;setTimeout(function(){h.$element.trigger("slid")},0)})}else{this.$element.trigger(i);if(i.isDefaultPrevented()){return}m.removeClass("active");c.addClass("active");this.sliding=false;this.$element.trigger("slid")}j&&this.cycle();return this}};a.fn.carousel=function(c){return this.each(function(){var g=a(this),f=g.data("carousel"),e=a.extend({},a.fn.carousel.defaults,typeof c=="object"&&c);if(!f){g.data("carousel",(f=new b(this,e)))}if(typeof c=="number"){f.to(c)}else{if(typeof c=="string"||(c=e.slide)){f[c]()}else{if(e.interval){f.cycle()}}}})};a.fn.carousel.defaults={interval:5000,pause:"hover"};a.fn.carousel.Constructor=b;a(function(){a("body").on("click.carousel.data-api","[data-slide]",function(i){var h=a(this),f,c=a(h.attr("data-target")||(f=h.attr("href"))&&f.replace(/.*(?=#[^\s]+$)/,"")),g=!c.data("modal")&&a.extend({},c.data(),h.data());c.carousel(g);i.preventDefault()})})}(window.jQuery);!function(a){var b=function(e,c){this.$element=a(e);this.options=a.extend({},a.fn.collapse.defaults,c);if(this.options.parent){this.$parent=a(this.options.parent)}this.options.toggle&&this.toggle()};b.prototype={constructor:b,dimension:function(){var c=this.$element.hasClass("width");return c?"width":"height"},show:function(){var g,c,f,e;if(this.transitioning){return}g=this.dimension();c=a.camelCase(["scroll",g].join("-"));f=this.$parent&&this.$parent.find("> .accordion-group > .in");if(f&&f.length){e=f.data("collapse");if(e&&e.transitioning){return}f.collapse("hide");e||f.data("collapse",null)}this.$element[g](0);this.transition("addClass",a.Event("show"),"shown");this.$element[g](this.$element[0][c])},hide:function(){var c;if(this.transitioning){return}c=this.dimension();this.reset(this.$element[c]());this.transition("removeClass",a.Event("hide"),"hidden");this.$element[c](0)},reset:function(c){var e=this.dimension();this.$element.removeClass("collapse")[e](c||"auto")[0].offsetWidth;this.$element[c!==null?"addClass":"removeClass"]("collapse");return this},transition:function(h,e,f){var g=this,c=function(){if(e=="show"){g.reset()}g.transitioning=0;g.$element.trigger(f)};this.$element.trigger(e);if(e.isDefaultPrevented()){return}this.transitioning=1;this.$element[h]("in");a.support.transition&&this.$element.hasClass("collapse")?this.$element.one(a.support.transition.end,c):c()},toggle:function(){this[this.$element.hasClass("in")?"hide":"show"]()}};a.fn.collapse=function(c){return this.each(function(){var g=a(this),f=g.data("collapse"),e=typeof c=="object"&&c;if(!f){g.data("collapse",(f=new b(this,e)))}if(typeof c=="string"){f[c]()}})};a.fn.collapse.defaults={toggle:true};a.fn.collapse.Constructor=b;a(function(){a("body").on("click.collapse.data-api","[data-toggle=collapse]",function(i){var h=a(this),c,g=h.attr("data-target")||i.preventDefault()||(c=h.attr("href"))&&c.replace(/.*(?=#[^\s]+$)/,""),f=a(g).data("collapse")?"toggle":h.data();a(g).collapse(f)})})}(window.jQuery);!function(e){var b='[data-toggle="dropdown"]',a=function(g){var f=e(g).on("click.dropdown.data-api",this.toggle);e("html").on("click.dropdown.data-api",function(){f.parent().removeClass("open")})};a.prototype={constructor:a,toggle:function(j){var i=e(this),h,f,g;if(i.is(".disabled, :disabled")){return}f=i.attr("data-target");if(!f){f=i.attr("href");f=f&&f.replace(/.*(?=#[^\s]*$)/,"")}h=e(f);h.length||(h=i.parent());g=h.hasClass("open");c();if(!g){h.toggleClass("open")}return false}};function c(){e(b).parent().removeClass("open")}e.fn.dropdown=function(f){return this.each(function(){var h=e(this),g=h.data("dropdown");if(!g){h.data("dropdown",(g=new a(this)))}if(typeof f=="string"){g[f].call(h)}})};e.fn.dropdown.Constructor=a;e(function(){e("html").on("click.dropdown.data-api",c);e("body").on("click.dropdown",".dropdown form",function(f){f.stopPropagation()}).on("click.dropdown.data-api",b,a.prototype.toggle)})}(window.jQuery);!function(f){var a=function(j,i){this.options=i;this.$element=f(j).delegate('[data-dismiss="modal"]',"click.dismiss.modal",f.proxy(this.hide,this))};a.prototype={constructor:a,toggle:function(){return this[!this.isShown?"show":"hide"]()},show:function(){var i=this,j=f.Event("show");this.$element.trigger(j);if(this.isShown||j.isDefaultPrevented()){return}f("body").addClass("modal-open");this.isShown=true;e.call(this);c.call(this,function(){var k=f.support.transition&&i.$element.hasClass("fade");if(!i.$element.parent().length){i.$element.appendTo(document.body)}i.$element.show();if(k){i.$element[0].offsetWidth}i.$element.addClass("in");k?i.$element.one(f.support.transition.end,function(){i.$element.trigger("shown")}):i.$element.trigger("shown")})},hide:function(j){j&&j.preventDefault();var i=this;j=f.Event("hide");this.$element.trigger(j);if(!this.isShown||j.isDefaultPrevented()){return}this.isShown=false;f("body").removeClass("modal-open");e.call(this);this.$element.removeClass("in");f.support.transition&&this.$element.hasClass("fade")?h.call(this):g.call(this)}};function h(){var i=this,j=setTimeout(function(){i.$element.off(f.support.transition.end);g.call(i)},500);this.$element.one(f.support.transition.end,function(){clearTimeout(j);g.call(i)})}function g(i){this.$element.hide().trigger("hidden");c.call(this)}function c(l){var k=this,j=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var i=f.support.transition&&j;this.$backdrop=f('<div class="modal-backdrop '+j+'" />').appendTo(document.body);if(this.options.backdrop!="static"){this.$backdrop.click(f.proxy(this.hide,this))}if(i){this.$backdrop[0].offsetWidth}this.$backdrop.addClass("in");i?this.$backdrop.one(f.support.transition.end,l):l()}else{if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");f.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(f.support.transition.end,f.proxy(b,this)):b.call(this)}else{if(l){l()}}}}function b(){this.$backdrop.remove();this.$backdrop=null}function e(){var i=this;if(this.isShown&&this.options.keyboard){f(document).on("keyup.dismiss.modal",function(j){j.which==27&&i.hide()})}else{if(!this.isShown){f(document).off("keyup.dismiss.modal")}}}f.fn.modal=function(i){return this.each(function(){var l=f(this),k=l.data("modal"),j=f.extend({},f.fn.modal.defaults,l.data(),typeof i=="object"&&i);if(!k){l.data("modal",(k=new a(this,j)))}if(typeof i=="string"){k[i]()}else{if(j.show){k.show()}}})};f.fn.modal.defaults={backdrop:true,keyboard:true,show:true};f.fn.modal.Constructor=a;f(function(){f("body").on("click.modal.data-api",'[data-toggle="modal"]',function(m){var l=f(this),j,i=f(l.attr("data-target")||(j=l.attr("href"))&&j.replace(/.*(?=#[^\s]+$)/,"")),k=i.data("modal")?"toggle":f.extend({},i.data(),l.data());m.preventDefault();i.modal(k)})})}(window.jQuery);!function(b){var a=function(e,c){this.init("tooltip",e,c)};a.prototype={constructor:a,init:function(g,f,e){var h,c;this.type=g;this.$element=b(f);this.options=this.getOptions(e);this.enabled=true;if(this.options.trigger!="manual"){h=this.options.trigger=="hover"?"mouseenter":"focus";c=this.options.trigger=="hover"?"mouseleave":"blur";this.$element.on(h,this.options.selector,b.proxy(this.enter,this));this.$element.on(c,this.options.selector,b.proxy(this.leave,this))}this.options.selector?(this._options=b.extend({},this.options,{trigger:"manual",selector:""})):this.fixTitle()},getOptions:function(c){c=b.extend({},b.fn[this.type].defaults,c,this.$element.data());if(c.delay&&typeof c.delay=="number"){c.delay={show:c.delay,hide:c.delay}}return c},enter:function(f){var c=b(f.currentTarget)[this.type](this._options).data(this.type);if(!c.options.delay||!c.options.delay.show){return c.show()}clearTimeout(this.timeout);c.hoverState="in";this.timeout=setTimeout(function(){if(c.hoverState=="in"){c.show()}},c.options.delay.show)},leave:function(f){var c=b(f.currentTarget)[this.type](this._options).data(this.type);if(!c.options.delay||!c.options.delay.hide){return c.hide()}clearTimeout(this.timeout);c.hoverState="out";this.timeout=setTimeout(function(){if(c.hoverState=="out"){c.hide()}},c.options.delay.hide)},show:function(){var h,c,j,f,i,e,g;if(this.hasContent()&&this.enabled){h=this.tip();this.setContent();if(this.options.animation){h.addClass("fade")}e=typeof this.options.placement=="function"?this.options.placement.call(this,h[0],this.$element[0]):this.options.placement;c=/in/.test(e);h.remove().css({top:0,left:0,display:"block"}).appendTo(c?this.$element:document.body);j=this.getPosition(c);f=h[0].offsetWidth;i=h[0].offsetHeight;switch(c?e.split(" ")[1]:e){case"bottom":g={top:j.top+j.height,left:j.left+j.width/2-f/2};break;case"top":g={top:j.top-i,left:j.left+j.width/2-f/2};break;case"left":g={top:j.top+j.height/2-i/2,left:j.left-f};break;case"right":g={top:j.top+j.height/2-i/2,left:j.left+j.width};break}h.css(g).addClass(e).addClass("in")}},isHTML:function(c){return typeof c!="string"||(c.charAt(0)==="<"&&c.charAt(c.length-1)===">"&&c.length>=3)||/^(?:[^<]*<[\w\W]+>[^>]*$)/.exec(c)},setContent:function(){var e=this.tip(),c=this.getTitle();e.find(".tooltip-inner")[this.isHTML(c)?"html":"text"](c);e.removeClass("fade in top bottom left right")},hide:function(){var c=this,e=this.tip();e.removeClass("in");function f(){var g=setTimeout(function(){e.off(b.support.transition.end).remove()},500);e.one(b.support.transition.end,function(){clearTimeout(g);e.remove()})}b.support.transition&&this.$tip.hasClass("fade")?f():e.remove()},fixTitle:function(){var c=this.$element;if(c.attr("title")||typeof(c.attr("data-original-title"))!="string"){c.attr("data-original-title",c.attr("title")||"").removeAttr("title")}},hasContent:function(){return this.getTitle()},getPosition:function(c){return b.extend({},(c?{top:0,left:0}:this.$element.offset()),{width:this.$element[0].offsetWidth,height:this.$element[0].offsetHeight})},getTitle:function(){var f,c=this.$element,e=this.options;f=c.attr("data-original-title")||(typeof e.title=="function"?e.title.call(c[0]):e.title);return f},tip:function(){return this.$tip=this.$tip||b(this.options.template)},validate:function(){if(!this.$element[0].parentNode){this.hide();this.$element=null;this.options=null}},enable:function(){this.enabled=true},disable:function(){this.enabled=false},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(){this[this.tip().hasClass("in")?"hide":"show"]()}};b.fn.tooltip=function(c){return this.each(function(){var g=b(this),f=g.data("tooltip"),e=typeof c=="object"&&c;if(!f){g.data("tooltip",(f=new a(this,e)))}if(typeof c=="string"){f[c]()}})};b.fn.tooltip.Constructor=a;b.fn.tooltip.defaults={animation:true,placement:"top",selector:false,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover",title:"",delay:0}}(window.jQuery);!function(b){var a=function(e,c){this.init("popover",e,c)};a.prototype=b.extend({},b.fn.tooltip.Constructor.prototype,{constructor:a,setContent:function(){var f=this.tip(),e=this.getTitle(),c=this.getContent();f.find(".popover-title")[this.isHTML(e)?"html":"text"](e);f.find(".popover-content > *")[this.isHTML(c)?"html":"text"](c);f.removeClass("fade top bottom left right in")},hasContent:function(){return this.getTitle()||this.getContent()},getContent:function(){var e,c=this.$element,f=this.options;e=c.attr("data-content")||(typeof f.content=="function"?f.content.call(c[0]):f.content);return e},tip:function(){if(!this.$tip){this.$tip=b(this.options.template)}return this.$tip}});b.fn.popover=function(c){return this.each(function(){var g=b(this),f=g.data("popover"),e=typeof c=="object"&&c;if(!f){g.data("popover",(f=new a(this,e)))}if(typeof c=="string"){f[c]()}})};b.fn.popover.Constructor=a;b.fn.popover.defaults=b.extend({},b.fn.tooltip.defaults,{placement:"right",content:"",template:'<div class="popover"><div class="arrow"></div><div class="popover-inner"><h3 class="popover-title"></h3><div class="popover-content"><p></p></div></div></div>'})}(window.jQuery);!function(b){function a(g,f){var h=b.proxy(this.process,this),c=b(g).is("body")?b(window):b(g),e;this.options=b.extend({},b.fn.scrollspy.defaults,f);this.$scrollElement=c.on("scroll.scroll.data-api",h);this.selector=(this.options.target||((e=b(g).attr("href"))&&e.replace(/.*(?=#[^\s]+$)/,""))||"")+" .nav li > a";this.$body=b("body").on("click.scroll.data-api",this.selector,h);this.refresh();this.process()}a.prototype={constructor:a,refresh:function(){var c=this,e;this.offsets=b([]);this.targets=b([]);e=this.$body.find(this.selector).map(function(){var g=b(this),f=g.data("target")||g.attr("href"),h=/^#\w/.test(f)&&b(f);return(h&&f.length&&[[h.position().top,f]])||null}).sort(function(g,f){return g[0]-f[0]}).each(function(){c.offsets.push(this[0]);c.targets.push(this[1])})},process:function(){var j=this.$scrollElement.scrollTop()+this.options.offset,f=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight,h=f-this.$scrollElement.height(),g=this.offsets,c=this.targets,k=this.activeTarget,e;if(j>=h){return k!=(e=c.last()[0])&&this.activate(e)}for(e=g.length;e--;){k!=c[e]&&j>=g[e]&&(!g[e+1]||j<=g[e+1])&&this.activate(c[e])}},activate:function(f){var e,c;this.activeTarget=f;b(this.selector).parent(".active").removeClass("active");c=this.selector+'[data-target="'+f+'"],'+this.selector+'[href="'+f+'"]';e=b(c).parent("li").addClass("active");if(e.parent(".dropdown-menu")){e=e.closest("li.dropdown").addClass("active")}e.trigger("activate")}};b.fn.scrollspy=function(c){return this.each(function(){var g=b(this),f=g.data("scrollspy"),e=typeof c=="object"&&c;if(!f){g.data("scrollspy",(f=new a(this,e)))}if(typeof c=="string"){f[c]()}})};b.fn.scrollspy.Constructor=a;b.fn.scrollspy.defaults={offset:10};b(function(){b('[data-spy="scroll"]').each(function(){var c=b(this);c.scrollspy(c.data())})})}(window.jQuery);!function(b){var a=function(c){this.element=b(c)};a.prototype={constructor:a,show:function(){var j=this.element,g=j.closest("ul:not(.dropdown-menu)"),f=j.attr("data-target"),h,c,i;if(!f){f=j.attr("href");f=f&&f.replace(/.*(?=#[^\s]*$)/,"")}if(j.parent("li").hasClass("active")){return}h=g.find(".active a").last()[0];i=b.Event("show",{relatedTarget:h});j.trigger(i);if(i.isDefaultPrevented()){return}c=b(f);this.activate(j.parent("li"),g);this.activate(c,c.parent(),function(){j.trigger({type:"shown",relatedTarget:h})})},activate:function(f,e,i){var c=e.find("> .active"),h=i&&b.support.transition&&c.hasClass("fade");function g(){c.removeClass("active").find("> .dropdown-menu > .active").removeClass("active");f.addClass("active");if(h){f[0].offsetWidth;f.addClass("in")}else{f.removeClass("fade")}if(f.parent(".dropdown-menu")){f.closest("li.dropdown").addClass("active")}i&&i()}h?c.one(b.support.transition.end,g):g();c.removeClass("in")}};b.fn.tab=function(c){return this.each(function(){var f=b(this),e=f.data("tab");if(!e){f.data("tab",(e=new a(this)))}if(typeof c=="string"){e[c]()}})};b.fn.tab.Constructor=a;b(function(){b("body").on("click.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(c){c.preventDefault();b(this).tab("show")})})}(window.jQuery);!function(a){var b=function(e,c){this.$element=a(e);this.options=a.extend({},a.fn.typeahead.defaults,c);this.matcher=this.options.matcher||this.matcher;this.sorter=this.options.sorter||this.sorter;this.highlighter=this.options.highlighter||this.highlighter;this.updater=this.options.updater||this.updater;this.$menu=a(this.options.menu).appendTo("body");this.source=this.options.source;this.shown=false;this.listen()};b.prototype={constructor:b,select:function(){var c=this.$menu.find(".active").attr("data-value");this.$element.val(this.updater(c)).change();return this.hide()},updater:function(c){return c},show:function(){var c=a.extend({},this.$element.position(),{height:this.$element[0].offsetHeight});this.$menu.css({top:c.top+c.height,left:c.left});this.$menu.show();this.shown=true;return this},hide:function(){this.$menu.hide();this.shown=false;return this},lookup:function(f){var e=this,c,g;this.query=this.$element.val();if(!this.query){return this.shown?this.hide():this}c=a.grep(this.source,function(h){return e.matcher(h)});c=this.sorter(c);if(!c.length){return this.shown?this.hide():this}return this.render(c.slice(0,this.options.items)).show()},matcher:function(c){return ~c.toLowerCase().indexOf(this.query.toLowerCase())},sorter:function(f){var g=[],e=[],c=[],h;while(h=f.shift()){if(!h.toLowerCase().indexOf(this.query.toLowerCase())){g.push(h)}else{if(~h.indexOf(this.query)){e.push(h)}else{c.push(h)}}}return g.concat(e,c)},highlighter:function(c){var e=this.query.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");return c.replace(new RegExp("("+e+")","ig"),function(f,g){return"<strong>"+g+"</strong>"})},render:function(c){var e=this;c=a(c).map(function(f,g){f=a(e.options.item).attr("data-value",g);f.find("a").html(e.highlighter(g));return f[0]});c.first().addClass("active");this.$menu.html(c);return this},next:function(e){var f=this.$menu.find(".active").removeClass("active"),c=f.next();if(!c.length){c=a(this.$menu.find("li")[0])}c.addClass("active")},prev:function(e){var f=this.$menu.find(".active").removeClass("active"),c=f.prev();if(!c.length){c=this.$menu.find("li").last()}c.addClass("active")},listen:function(){this.$element.on("blur",a.proxy(this.blur,this)).on("keypress",a.proxy(this.keypress,this)).on("keyup",a.proxy(this.keyup,this));if(a.browser.webkit||a.browser.msie){this.$element.on("keydown",a.proxy(this.keypress,this))}this.$menu.on("click",a.proxy(this.click,this)).on("mouseenter","li",a.proxy(this.mouseenter,this))},keyup:function(c){switch(c.keyCode){case 40:case 38:break;case 9:case 13:if(!this.shown){return}this.select();break;case 27:if(!this.shown){return}this.hide();break;default:this.lookup()}c.stopPropagation();c.preventDefault()},keypress:function(c){if(!this.shown){return}switch(c.keyCode){case 9:case 13:case 27:c.preventDefault();break;case 38:if(c.type!="keydown"){break}c.preventDefault();this.prev();break;case 40:if(c.type!="keydown"){break}c.preventDefault();this.next();break}c.stopPropagation()},blur:function(f){var c=this;setTimeout(function(){c.hide()},150)},click:function(c){c.stopPropagation();c.preventDefault();this.select()},mouseenter:function(c){this.$menu.find(".active").removeClass("active");a(c.currentTarget).addClass("active")}};a.fn.typeahead=function(c){return this.each(function(){var g=a(this),f=g.data("typeahead"),e=typeof c=="object"&&c;if(!f){g.data("typeahead",(f=new b(this,e)))}if(typeof c=="string"){f[c]()}})};a.fn.typeahead.defaults={source:[],items:8,menu:'<ul class="typeahead dropdown-menu"></ul>',item:'<li><a href="#"></a></li>'};a.fn.typeahead.Constructor=b;a(function(){a("body").on("focus.typeahead.data-api",'[data-provide="typeahead"]',function(f){var c=a(this);if(c.data("typeahead")){return}f.preventDefault();c.typeahead(c.data())})})}(window.jQuery);var countries=[{code:"AD",name:"Andorra"},{code:"AE",name:"United Arab Emirates"},{code:"AF",name:"Afghanistan"},{code:"AG",name:"Antigua and Barbuda"},{code:"AI",name:"Anguilla"},{code:"AL",name:"Albania"},{code:"AM",name:"Armenia"},{code:"AN",name:"Netherlands Antilles"},{code:"AO",name:"Angola"},{code:"AQ",name:"Antarctica"},{code:"AR",name:"Argentina"},{code:"AS",name:"American Samoa"},{code:"AT",name:"Austria"},{code:"AU",name:"Australia"},{code:"AW",name:"Aruba"},{code:"AX",name:"Aland Islands"},{code:"AZ",name:"Azerbaijan"},{code:"BA",name:"Bosnia and Herzegovina"},{code:"BB",name:"Barbados"},{code:"BD",name:"Bangladesh"},{code:"BE",name:"Belgium"},{code:"BF",name:"Burkina Faso"},{code:"BG",name:"Bulgaria"},{code:"BH",name:"Bahrain"},{code:"BI",name:"Burundi"},{code:"BJ",name:"Benin"},{code:"BM",name:"Bermuda"},{code:"BN",name:"Brunei Darussalam"},{code:"BO",name:"Bolivia"},{code:"BR",name:"Brazil"},{code:"BS",name:"Bahamas"},{code:"BT",name:"Bhutan"},{code:"BV",name:"Bouvet Island"},{code:"BW",name:"Botswana"},{code:"BY",name:"Belarus"},{code:"BZ",name:"Belize"},{code:"CA",name:"Canada"},{code:"CC",name:"Cocos (Keeling) Islands"},{code:"CD",name:"Democratic Republic of the Congo"},{code:"CF",name:"Central African Republic"},{code:"CG",name:"Congo"},{code:"CH",name:"Switzerland"},{code:"CI",name:"Cote D'Ivoire (Ivory Coast)"},{code:"CK",name:"Cook Islands"},{code:"CL",name:"Chile"},{code:"CM",name:"Cameroon"},{code:"CN",name:"China"},{code:"CO",name:"Colombia"},{code:"CR",name:"Costa Rica"},{code:"CS",name:"Serbia and Montenegro"},{code:"CU",name:"Cuba"},{code:"CV",name:"Cape Verde"},{code:"CX",name:"Christmas Island"},{code:"CY",name:"Cyprus"},{code:"CZ",name:"Czech Republic"},{code:"DE",name:"Germany"},{code:"DJ",name:"Djibouti"},{code:"DK",name:"Denmark"},{code:"DM",name:"Dominica"},{code:"DO",name:"Dominican Republic"},{code:"DZ",name:"Algeria"},{code:"EC",name:"Ecuador"},{code:"EE",name:"Estonia"},{code:"EG",name:"Egypt"},{code:"EH",name:"Western Sahara"},{code:"ER",name:"Eritrea"},{code:"ES",name:"Spain"},{code:"ET",name:"Ethiopia"},{code:"FI",name:"Finland"},{code:"FJ",name:"Fiji"},{code:"FK",name:"Falkland Islands (Malvinas)"},{code:"FM",name:"Federated States of Micronesia"},{code:"FO",name:"Faroe Islands"},{code:"FR",name:"France"},{code:"GA",name:"Gabon"},{code:"GB",name:"Great Britain (UK)"},{code:"GD",name:"Grenada"},{code:"GE",name:"Georgia"},{code:"GF",name:"French Guiana"},{code:"GH",name:"Ghana"},{code:"GI",name:"Gibraltar"},{code:"GL",name:"Greenland"},{code:"GM",name:"Gambia"},{code:"GN",name:"Guinea"},{code:"GP",name:"Guadeloupe"},{code:"GQ",name:"Equatorial Guinea"},{code:"GR",name:"Greece"},{code:"GS",name:"S. Georgia and S. Sandwich Islands"},{code:"GT",name:"Guatemala"},{code:"GU",name:"Guam"},{code:"GW",name:"Guinea-Bissau"},{code:"GY",name:"Guyana"},{code:"HK",name:"Hong Kong"},{code:"HM",name:"Heard Island and McDonald Islands"},{code:"HN",name:"Honduras"},{code:"HR",name:"Croatia (Hrvatska)"},{code:"HT",name:"Haiti"},{code:"HU",name:"Hungary"},{code:"ID",name:"Indonesia"},{code:"IE",name:"Ireland"},{code:"IL",name:"Israel"},{code:"IN",name:"India"},{code:"IO",name:"British Indian Ocean Territory"},{code:"IQ",name:"Iraq"},{code:"IR",name:"Iran"},{code:"IS",name:"Iceland"},{code:"IT",name:"Italy"},{code:"JM",name:"Jamaica"},{code:"JO",name:"Jordan"},{code:"JP",name:"Japan"},{code:"KE",name:"Kenya"},{code:"KG",name:"Kyrgyzstan"},{code:"KH",name:"Cambodia"},{code:"KI",name:"Kiribati"},{code:"KM",name:"Comoros"},{code:"KN",name:"Saint Kitts and Nevis"},{code:"KP",name:"Korea (North)"},{code:"KR",name:"Korea (South)"},{code:"KW",name:"Kuwait"},{code:"KY",name:"Cayman Islands"},{code:"KZ",name:"Kazakhstan"},{code:"LA",name:"Laos"},{code:"LB",name:"Lebanon"},{code:"LC",name:"Saint Lucia"},{code:"LI",name:"Liechtenstein"},{code:"LK",name:"Sri Lanka"},{code:"LR",name:"Liberia"},{code:"LS",name:"Lesotho"},{code:"LT",name:"Lithuania"},{code:"LU",name:"Luxembourg"},{code:"LV",name:"Latvia"},{code:"LY",name:"Libya"},{code:"MA",name:"Morocco"},{code:"MC",name:"Monaco"},{code:"MD",name:"Moldova"},{code:"MG",name:"Madagascar"},{code:"MH",name:"Marshall Islands"},{code:"MK",name:"Macedonia"},{code:"ML",name:"Mali"},{code:"MM",name:"Myanmar"},{code:"MN",name:"Mongolia"},{code:"MO",name:"Macao"},{code:"MP",name:"Northern Mariana Islands"},{code:"MQ",name:"Martinique"},{code:"MR",name:"Mauritania"},{code:"MS",name:"Montserrat"},{code:"MT",name:"Malta"},{code:"MU",name:"Mauritius"},{code:"MV",name:"Maldives"},{code:"MW",name:"Malawi"},{code:"MX",name:"Mexico"},{code:"MY",name:"Malaysia"},{code:"MZ",name:"Mozambique"},{code:"NA",name:"Namibia"},{code:"NC",name:"New Caledonia"},{code:"NE",name:"Niger"},{code:"NF",name:"Norfolk Island"},{code:"NG",name:"Nigeria"},{code:"NI",name:"Nicaragua"},{code:"NL",name:"Netherlands"},{code:"NO",name:"Norway"},{code:"NP",name:"Nepal"},{code:"NR",name:"Nauru"},{code:"NU",name:"Niue"},{code:"NZ",name:"New Zealand (Aotearoa)"},{code:"OM",name:"Oman"},{code:"PA",name:"Panama"},{code:"PE",name:"Peru"},{code:"PF",name:"French Polynesia"},{code:"PG",name:"Papua New Guinea"},{code:"PH",name:"Philippines"},{code:"PK",name:"Pakistan"},{code:"PL",name:"Poland"},{code:"PM",name:"Saint Pierre and Miquelon"},{code:"PN",name:"Pitcairn"},{code:"PR",name:"Puerto Rico"},{code:"PS",name:"Palestinian Territory"},{code:"PT",name:"Portugal"},{code:"PW",name:"Palau"},{code:"PY",name:"Paraguay"},{code:"QA",name:"Qatar"},{code:"RE",name:"Reunion"},{code:"RO",name:"Romania"},{code:"RU",name:"Russian Federation"},{code:"RW",name:"Rwanda"},{code:"SA",name:"Saudi Arabia"},{code:"SB",name:"Solomon Islands"},{code:"SC",name:"Seychelles"},{code:"SD",name:"Sudan"},{code:"SE",name:"Sweden"},{code:"SG",name:"Singapore"},{code:"SH",name:"Saint Helena"},{code:"SI",name:"Slovenia"},{code:"SJ",name:"Svalbard and Jan Mayen"},{code:"SK",name:"Slovakia"},{code:"SL",name:"Sierra Leone"},{code:"SM",name:"San Marino"},{code:"SN",name:"Senegal"},{code:"SO",name:"Somalia"},{code:"SR",name:"Suriname"},{code:"ST",name:"Sao Tome and Principe"},{code:"SV",name:"El Salvador"},{code:"SY",name:"Syria"},{code:"SZ",name:"Swaziland"},{code:"TC",name:"Turks and Caicos Islands"},{code:"TD",name:"Chad"},{code:"TF",name:"French Southern Territories"},{code:"TG",name:"Togo"},{code:"TH",name:"Thailand"},{code:"TJ",name:"Tajikistan"},{code:"TK",name:"Tokelau"},{code:"TL",name:"Timor-Leste"},{code:"TM",name:"Turkmenistan"},{code:"TN",name:"Tunisia"},{code:"TO",name:"Tonga"},{code:"TP",name:"East Timor"},{code:"TR",name:"Turkey"},{code:"TT",name:"Trinidad and Tobago"},{code:"TV",name:"Tuvalu"},{code:"TW",name:"Taiwan"},{code:"TZ",name:"Tanzania"},{code:"UA",name:"Ukraine"},{code:"UG",name:"Uganda"},{code:"UK",name:"United Kingdom"},{code:"UM",name:"United States Minor Outlying Islands"},{code:"US",name:"United States"},{code:"UY",name:"Uruguay"},{code:"UZ",name:"Uzbekistan"},{code:"VA",name:"Vatican City State (Holy See)"},{code:"VC",name:"Saint Vincent and the Grenadines"},{code:"VE",name:"Venezuela"},{code:"VG",name:"Virgin Islands (British)"},{code:"VI",name:"Virgin Islands (U.S.)"},{code:"VN",name:"Viet Nam"},{code:"VU",name:"Vanuatu"},{code:"WF",name:"Wallis and Futuna"},{code:"WS",name:"Samoa"},{code:"YE",name:"Yemen"},{code:"YT",name:"Mayotte"},{code:"YU",name:"Yugoslavia (former)"},{code:"ZA",name:"South Africa"},{code:"ZM",name:"Zambia"},{code:"ZR",name:"Zaire (former)"},{code:"ZW",name:"Zimbabwe"}];(function(){function h4(f,e){try{for(var h in e){Object.defineProperty(f.prototype,h,{value:e[h],enumerable:!1})}}catch(g){f.prototype=e}}function hX(f){var e=-1,h=f.length,g=[];while(++e<h){g.push(f[e])}return g}function hU(b){return Array.prototype.slice.call(b)}function hM(){}function hC(){return this}function hz(f,e,g){return function(){var a=g.apply(e,arguments);return arguments.length?f:a}}function hw(b){return b!=null&&!isNaN(b)}function ht(b){return b.length}function hn(b){return b==null}function hl(b){return b.replace(/(^\s+)|(\s+$)/g,"").replace(/\s+/g," ")}function hh(e){var c=1;while(e*c%1){c*=10}return c}function g9(){}function g6(f){function g(){var j=e,i=-1,b=j.length,a;while(++i<b){(a=j[i].on)&&a.apply(this,arguments)}return f}var e=[],h=new hM;return g.on=function(i,c){var b=h.get(i),a;return arguments.length<2?b&&b.on:(b&&(b.on=null,e=e.slice(0,a=e.indexOf(b)).concat(e.slice(a+1)),h.remove(i)),c&&e.push(h.set(i,{on:c})),f)},g}function jA(e,c){return c-(e?1+Math.floor(Math.log(e+Math.pow(10,1+Math.floor(Math.log(e)/Math.LN10)-c))/Math.LN10):1)}function jx(b){return b+""}function ju(f){var e=f.lastIndexOf("."),h=e>=0?f.substring(e):(e=f.length,""),g=[];while(e>0){g.push(f.substring(e-=3,e+3))}return g.reverse().join(",")+h}function jn(e,c){return{scale:Math.pow(10,(8-c)*3),symbol:e}}function i5(b){return function(a){return a<=0?0:a>=1?1:b(a)}}function i2(b){return function(a){return 1-b(1-a)}}function i0(b){return function(a){return 0.5*(a<0.5?b(2*a):2-b(2-2*a))}}function iX(b){return b}function iT(b){return function(a){return Math.pow(a,b)}}function iQ(b){return 1-Math.cos(b*Math.PI/2)}function iN(b){return Math.pow(2,10*(b-1))}function iK(b){return 1-Math.sqrt(1-b*b)}function iH(f,e){var g;return arguments.length<2&&(e=0.45),arguments.length<1?(f=1,g=e/4):g=e/(2*Math.PI)*Math.asin(1/f),function(a){return 1+f*Math.pow(2,10*-a)*Math.sin((a-g)*2*Math.PI/e)}}function iE(b){return b||(b=1.70158),function(a){return a*a*((b+1)*a-b)}}function iB(b){return b<1/2.75?7.5625*b*b:b<2/2.75?7.5625*(b-=1.5/2.75)*b+0.75:b<2.5/2.75?7.5625*(b-=2.25/2.75)*b+0.9375:7.5625*(b-=2.625/2.75)*b+0.984375}function iy(){d3.event.stopPropagation(),d3.event.preventDefault()}function iv(){var e=d3.event,c;while(c=e.sourceEvent){e=c}return e}function ir(f){var e=new g9,h=0,g=arguments.length;while(++h<g){e[arguments[h]]=g6(e)}return e.of=function(b,a){return function(i){try{var c=i.sourceEvent=d3.event;i.target=f,d3.event=i,e[i.type].apply(b,a)}finally{d3.event=c}}},e}function j3(b){return b=="transform"?d3.interpolateTransform:d3.interpolate}function ij(e,c){return c=c-(e=+e)?1/(c-e):0,function(a){return(a-e)*c}}function jz(e,c){return c=c-(e=+e)?1/(c-e):0,function(a){return Math.max(0,Math.min(1,(a-e)*c))}}function jw(f,e,g){return new js(f,e,g)}function js(f,e,g){this.r=f,this.g=e,this.b=g}function jp(b){return b<16?"0"+Math.max(0,b).toString(16):Math.min(255,b).toString(16)}function jm(r,q,p){var o=0,n=0,m=0,l,k,j;l=/([a-z]+)\((.*)\)/i.exec(r);if(l){k=l[2].split(",");switch(l[1]){case"hsl":return p(parseFloat(k[0]),parseFloat(k[1])/100,parseFloat(k[2])/100);case"rgb":return q(jg(k[0]),jg(k[1]),jg(k[2]))}}return(j=jd.get(r))?q(j.r,j.g,j.b):(r!=null&&r.charAt(0)==="#"&&(r.length===4?(o=r.charAt(1),o+=o,n=r.charAt(2),n+=n,m=r.charAt(3),m+=m):r.length===7&&(o=r.substring(1,3),n=r.substring(3,5),m=r.substring(5,7)),o=parseInt(o,16),n=parseInt(n,16),m=parseInt(m,16)),q(o,n,m))}function jj(r,q,p){var o=Math.min(r/=255,q/=255,p/=255),n=Math.max(r,q,p),m=n-o,l,k,j=(n+o)/2;return m?(k=j<0.5?m/(n+o):m/(2-n-o),r==n?l=(q-p)/m+(q<p?6:0):q==n?l=(p-r)/m+2:l=(r-q)/m+4,l*=60):k=l=0,ja(l,k,j)}function jg(e){var c=parseFloat(e);return e.charAt(e.length-1)==="%"?Math.round(c*2.55):c}function ja(f,e,g){return new i7(f,e,g)}function i7(f,e,g){this.h=f,this.s=e,this.l=g}function i4(i,h,n){function k(b){return b>360?b-=360:b<0&&(b+=360),b<60?m+(l-m)*b/60:b<180?l:b<240?m+(l-m)*(240-b)/60:m}function j(b){return Math.round(k(b)*255)}var m,l;return i%=360,i<0&&(i+=360),h=h<0?0:h>1?1:h,n=n<0?0:n>1?1:n,l=n<=0.5?n*(1+h):n+h-n*h,m=2*n-l,jw(j(i+120),j(i),j(i-120))}function i1(b){return hO(b,iJ),b}function iG(b){return function(){return iY(b,this)}}function iD(b){return function(){return iV(b,this)}}function ix(j,i){function m(){if(a=this.classList){return a.add(j)}var a=this.className,f=a.baseVal!=null,c=f?a.baseVal:a;p.lastIndex=0,p.test(c)||(c=hl(c+" "+j),f?a.baseVal=c:this.className=c)}function l(){if(a=this.classList){return a.remove(j)}var a=this.className,f=a.baseVal!=null,c=f?a.baseVal:a;c=hl(c.replace(p," ")),f?a.baseVal=c:this.className=c}function k(){(i.apply(this,arguments)?m:l).call(this)}var p=new RegExp("(^|\\s+)"+d3.requote(j)+"(\\s+|$)","g");if(arguments.length<2){var o=this.node();if(n=o.classList){return n.contains(j)}var n=o.className;return p.lastIndex=0,p.test(n.baseVal!=null?n.baseVal:n)}return this.each(typeof i=="function"?k:i?m:l)}function iu(b){return{__data__:b}}function iq(b){return function(){return iM(this,b)}}function im(b){return arguments.length||(b=d3.ascending),function(a,e){return b(a&&a.__data__,e&&e.__data__)}}function j5(b){return hO(b,j4),b}function j2(h,g,l){hO(h,jX);var k=new hM,j=d3.dispatch("start","end"),i=jP;return h.id=g,h.time=l,h.tween=function(a,e){return arguments.length<2?k.get(a):(e==null?k.remove(a):k.set(a,e),h)},h.ease=function(a){return arguments.length?(i=typeof a=="function"?a:d3.ease.apply(d3,arguments),h):i},h.each=function(a,e){return arguments.length<2?jO.call(h,a):(j.on(a,e),h)},d3.timer(function(a){return h.each(function(y,x,w){function e(m){return f.active>g?b():(f.active=g,k.forEach(function(o,n){(tween=n.call(u,y,x))&&v.push(tween)}),j.start.call(u,y,x),c(m)||d3.timer(c,0,l),1)}function c(m){if(f.active!==g){return b()}var p=(m-t)/s,o=i(p),n=v.length;while(n>0){v[--n].call(u,o)}if(p>=1){return b(),jV=g,j.end.call(u,y,x),jV=0,1}}function b(){return --f.count||delete u.__transition__,1}var v=[],u=this,t=h[w][x].delay,s=h[w][x].duration,f=u.__transition__||(u.__transition__={active:0,count:0});++f.count,t<=a?e(a):d3.timer(e,t,l)}),1},0,l),h}function jZ(f,e,g){return g!=""&&j0}function jY(g,f){function i(b,l,k){var c=f.call(this,b,l);return c==null?k!=""&&j0:k!=c&&j(k,c)}function h(b,k,c){return c!=f&&j(c,f)}var j=j3(g);return typeof f=="function"?i:f==null?jZ:(f+="",h)}function jO(v){var u=jV,t=jP,s=jR,r=jQ;jV=this.id,jP=this.ease();for(var q=0,p=this.length;q<p;q++){for(var o=this[q],n=0,m=o.length;n<m;n++){var l=o[n];l&&(jR=this[q][n].delay,jQ=this[q][n].duration,v.call(l=l.node,l.__data__,n,q))}}return jV=u,jP=t,jR=s,jQ=r,this}function jK(){var f,e=Date.now(),h=jN;while(h){f=e-h.then,f>=h.delay&&(h.flush=h.callback(f)),h=h.next}var g=jJ()-e;g>24?(isFinite(g)&&(clearTimeout(jL),jL=setTimeout(jK,g)),jM=0):(jM=1,jI(jK))}function jJ(){var f=null,e=jN,g=Infinity;while(e){e.flush?e=f?f.next=e.next:jN=e.next:(g=Math.min(g,e.then+e.delay),e=(f=e).next)}return g}function jH(h){var g=[h.a,h.b],l=[h.c,h.d],k=jF(g),j=jG(g,l),i=jF(jE(l,g,-j))||0;g[0]*l[1]<l[0]*g[1]&&(g[0]*=-1,g[1]*=-1,k*=-1,j*=-1),this.rotate=(k?Math.atan2(g[1],g[0]):Math.atan2(-l[0],l[1]))*j6,this.translate=[h.e,h.f],this.scale=[k,i],this.skew=i?Math.atan2(j,i)*j6:0}function jG(e,c){return e[0]*c[0]+e[1]*c[1]}function jF(e){var c=Math.sqrt(jG(e,e));return c&&(e[0]/=c,e[1]/=c),c}function jE(f,e,g){return f[0]+=g*e[0],f[1]+=g*e[1],f}function ie(h,g){var l=h.ownerSVGElement||h;if(l.createSVGPoint){var k=l.createSVGPoint();if(jD<0&&(window.scrollX||window.scrollY)){l=d3.select(document.body).append("svg").style("position","absolute").style("top",0).style("left",0);var j=l[0][0].getScreenCTM();jD=!j.f&&!j.e,l.remove()}return jD?(k.x=g.pageX,k.y=g.pageY):(k.x=g.clientX,k.y=g.clientY),k=k.matrixTransform(h.getScreenCTM().inverse()),[k.x,k.y]}var i=h.getBoundingClientRect();return[g.clientX-i.left-h.clientLeft,g.clientY-i.top-h.clientTop]}function ia(){}function h7(f){var e=f[0],g=f[f.length-1];return e<g?[e,g]:[g,e]}function h5(b){return b.rangeExtent?b.rangeExtent():h7(b.range())}function h2(i,h){var n=0,m=i.length-1,l=i[n],k=i[m],j;k<l&&(j=n,n=m,m=j,j=l,l=k,k=j);if(j=k-l){h=h(j),i[n]=h.floor(l),i[m]=h.ceil(k)}return i}function hZ(){return Math}function hW(j,i,p,o){function l(){var b=Math.min(j.length,i.length)>2?hB:hE,a=o?jz:ij;return n=b(j,i,a,p),m=b(i,j,a,d3.interpolate),k}function k(b){return n(b)}var n,m;return k.invert=function(b){return m(b)},k.domain=function(a){return arguments.length?(j=a.map(Number),l()):j},k.range=function(b){return arguments.length?(i=b,l()):i},k.rangeRound=function(b){return k.range(b).interpolate(d3.interpolateRound)},k.clamp=function(b){return arguments.length?(o=b,l()):o},k.interpolate=function(b){return arguments.length?(p=b,l()):p},k.ticks=function(a){return hK(j,a)},k.tickFormat=function(a){return hH(j,a)},k.nice=function(){return h2(j,hQ),l()},k.copy=function(){return hW(j,i,p,o)},l()}function hT(e,c){return d3.rebind(e,c,"range","rangeRound","interpolate","clamp")}function hQ(b){return b=Math.pow(10,Math.round(Math.log(b)/Math.LN10)-1),{floor:function(a){return Math.floor(a/b)*b},ceil:function(a){return Math.ceil(a/b)*b}}}function hN(h,g){var l=h7(h),k=l[1]-l[0],j=Math.pow(10,Math.floor(Math.log(k/g)/Math.LN10)),i=g/k*j;return i<=0.15?j*=10:i<=0.35?j*=5:i<=0.75&&(j*=2),l[0]=Math.ceil(l[0]/j)*j,l[1]=Math.floor(l[1]/j)*j+j*0.5,l[2]=j,l}function hK(e,c){return d3.range.apply(d3,hN(e,c))}function hH(e,c){return d3.format(",."+Math.max(0,-Math.floor(Math.log(hN(e,c)[2])/Math.LN10+0.01))+"f")}function hE(h,g,l,k){var j=l(h[0],h[1]),i=k(g[0],g[1]);return function(b){return i(j(b))}}function hB(j,i,p,o){var n=[],m=[],l=0,k=Math.min(j.length,i.length)-1;j[k]<j[0]&&(j=j.slice().reverse(),i=i.slice().reverse());while(++l<=k){n.push(p(j[l-1],j[l])),m.push(o(i[l-1],i[l]))}return function(a){var e=d3.bisect(j,a,1,k)-1;return m[e](n[e](a))}}function hy(f,e){function g(a){return f(e(a))}var h=e.pow;return g.invert=function(a){return h(f.invert(a))},g.domain=function(a){return arguments.length?(e=a[0]<0?hp:hs,h=e.pow,f.domain(a.map(e)),g):f.domain().map(h)},g.nice=function(){return f.domain(h2(f.domain(),hZ)),g},g.ticks=function(){var n=h7(f.domain()),m=[];if(n.every(isFinite)){var l=Math.floor(n[0]),k=Math.ceil(n[1]),c=h(n[0]),b=h(n[1]);if(e===hp){m.push(h(l));for(;l++<k;){for(var a=9;a>0;a--){m.push(h(l)*a)}}}else{for(;l<k;l++){for(var a=1;a<10;a++){m.push(h(l)*a)}}m.push(h(l))}for(l=0;m[l]<c;l++){}for(k=m.length;m[k-1]>b;k--){}m=m.slice(l,k)}return m},g.tickFormat=function(b,k){arguments.length<2&&(k=hv);if(arguments.length<1){return k}var j=b/g.ticks().length,i=e===hp?(c=-1e-12,Math.floor):(c=1e-12,Math.ceil),c;return function(l){return l/h(i(e(l)+c))<j?k(l):""}},g.copy=function(){return hy(f.copy(),e)},hT(g,f)}function hs(b){return Math.log(b<0?0:b)/Math.LN10}function hp(b){return -Math.log(b>0?0:-b)/Math.LN10}function hm(g,f){function h(a){return g(j(a))}var j=hj(f),i=hj(1/f);return h.invert=function(a){return i(g.invert(a))},h.domain=function(a){return arguments.length?(g.domain(a.map(j)),h):g.domain().map(i)},h.ticks=function(b){return hK(h.domain(),b)},h.tickFormat=function(b){return hH(h.domain(),b)},h.nice=function(){return h.domain(h2(h.domain(),hQ))},h.exponent=function(b){if(!arguments.length){return f}var c=h.domain();return j=hj(f=b),i=hj(1/f),h.domain(c)},h.copy=function(){return hm(g.copy(),f)},hT(h,g)}function hj(b){return function(a){return a<0?-Math.pow(-a,b):Math.pow(a,b)}}function hg(i,h){function k(a){return m[((n.get(a)||n.set(a,i.push(a)))-1)%m.length]}function j(a,e){return d3.range(i.length).map(function(b){return a+e*b})}var n,m,l;return k.domain=function(f){if(!arguments.length){return i}i=[],n=new hM;var c=-1,b=f.length,a;while(++c<b){n.has(a=f[c])||n.set(a,i.push(a))}return k[h.t](h.x,h.p)},k.range=function(b){return arguments.length?(m=b,l=0,h={t:"range",x:b},k):m},k.rangePoints=function(g,f){arguments.length<2&&(f=0);var e=g[0],b=g[1],a=(b-e)/(i.length-1+f);return m=j(i.length<2?(e+b)/2:e+a*f/2,a),l=0,h={t:"rangePoints",x:g,p:f},k},k.rangeBands=function(o,g){arguments.length<2&&(g=0);var f=o[1]<o[0],e=o[f-0],b=o[1-f],a=(b-e)/(i.length+g);return m=j(e+a*g,a),f&&m.reverse(),l=a*(1-g),h={t:"rangeBands",x:o,p:g},k},k.rangeRoundBands=function(p,o){arguments.length<2&&(o=0);var g=p[1]<p[0],f=p[g-0],e=p[1-g],b=Math.floor((e-f)/(i.length+o)),a=e-f-(i.length-o)*b;return m=j(f+Math.round(a/2),b),g&&m.reverse(),l=Math.round(b*(1-o)),h={t:"rangeRoundBands",x:p,p:o},k},k.rangeBand=function(){return l},k.rangeExtent=function(){return h7(h.x)},k.copy=function(){return hg(i,h)},k.domain(i)}function g1(g,f){function i(){var c=0,b=g.length,a=f.length;j=[];while(++c<a){j[c-1]=d3.quantile(g,c/a)}return h}function h(b){return isNaN(b=+b)?NaN:f[d3.bisect(j,b)]}var j;return h.domain=function(a){return arguments.length?(g=a.filter(function(b){return !isNaN(b)}).sort(d3.ascending),i()):g},h.range=function(b){return arguments.length?(f=b,i()):f},h.quantiles=function(){return j},h.copy=function(){return g1(g,f)},i()}function jB(i,h,n){function k(a){return n[Math.max(0,Math.min(l,Math.floor(m*(a-i))))]}function j(){return m=n.length/(h-i),l=n.length-1,k}var m,l;return k.domain=function(a){return arguments.length?(i=+a[0],h=+a[a.length-1],j()):[i,h]},k.range=function(b){return arguments.length?(n=b,j()):n},k.copy=function(){return jB(i,h,n)},j()}function jy(e){function c(b){return +b}return c.invert=c,c.domain=c.range=function(a){return arguments.length?(e=a.map(c),c):e},c.ticks=function(a){return hK(e,a)},c.tickFormat=function(a){return hH(e,a)},c.copy=function(){return jy(e)},c}function jo(b){return b.innerRadius}function jl(b){return b.outerRadius}function ji(b){return b.startAngle}function jf(b){return b.endAngle}function jc(i){function j(a){return a.length<1?null:"M"+l(i(i9(this,a,h,n)),k)}var h=i6,n=i3,m=iZ,l=iW.get(m),k=0.7;return j.x=function(b){return arguments.length?(h=b,j):h},j.y=function(b){return arguments.length?(n=b,j):n},j.interpolate=function(b){return arguments.length?(iW.has(b+="")||(b=iZ),l=iW.get(m=b),j):m},j.tension=function(b){return arguments.length?(k=b,j):k},j}function i9(t,s,r,q){var p=[],o=-1,n=s.length,m=typeof r=="function",l=typeof q=="function",k;if(m&&l){while(++o<n){p.push([r.call(t,k=s[o],o),q.call(t,k,o)])}}else{if(m){while(++o<n){p.push([r.call(t,s[o],o),q])}}else{if(l){while(++o<n){p.push([r,q.call(t,s[o],o)])}}else{while(++o<n){p.push([r,q])}}}}return p}function i6(b){return b[0]}function i3(b){return b[1]}function iU(g){var f=0,j=g.length,i=g[0],h=[i[0],",",i[1]];while(++f<j){h.push("L",(i=g[f])[0],",",i[1])}return h.join("")}function iR(g){var f=0,j=g.length,i=g[0],h=[i[0],",",i[1]];while(++f<j){h.push("V",(i=g[f])[1],"H",i[0])}return h.join("")}function iO(g){var f=0,j=g.length,i=g[0],h=[i[0],",",i[1]];while(++f<j){h.push("H",(i=g[f])[0],"V",i[1])}return h.join("")}function iL(e,c){return e.length<4?iU(e):e[1]+iC(e.slice(1,e.length-1),iz(e,c))}function iI(e,c){return e.length<3?iU(e):e[0]+iC((e.push(e[0]),e),iz([e[e.length-2]].concat(e,[e[1]]),c))}function iF(f,e,g){return f.length<3?iU(f):f[0]+iC(f,iz(f,e))}function iC(v,u){if(u.length<1||v.length!=u.length&&v.length!=u.length+2){return iU(v)}var t=v.length!=u.length,s="",r=v[0],q=v[1],p=u[0],o=p,n=1;t&&(s+="Q"+(q[0]-p[0]*2/3)+","+(q[1]-p[1]*2/3)+","+q[0]+","+q[1],r=v[1],n=2);if(u.length>1){o=u[1],q=v[n],n++,s+="C"+(r[0]+p[0])+","+(r[1]+p[1])+","+(q[0]-o[0])+","+(q[1]-o[1])+","+q[0]+","+q[1];for(var m=2;m<u.length;m++,n++){q=v[n],o=u[m],s+="S"+(q[0]-o[0])+","+(q[1]-o[1])+","+q[0]+","+q[1]}}if(t){var l=v[n];s+="Q"+(q[0]+o[0]*2/3)+","+(q[1]+o[1]*2/3)+","+l[0]+","+l[1]}return s}function iz(r,q){var p=[],o=(1-q)/2,n,m=r[0],l=r[1],k=1,j=r.length;while(++k<j){n=m,m=l,l=r[k],p.push([o*(l[0]-n[0]),o*(l[1]-n[1])])}return p}function iw(r){if(r.length<3){return iU(r)}var q=1,p=r.length,o=r[0],n=o[0],m=o[1],l=[n,n,n,(o=r[1])[0]],k=[m,m,m,o[1]],j=[n,",",m];gS(j,l,k);while(++q<p){o=r[q],l.shift(),l.push(o[0]),k.shift(),k.push(o[1]),gS(j,l,k)}q=-1;while(++q<2){l.shift(),l.push(o[0]),k.shift(),k.push(o[1]),gS(j,l,k)}return j.join("")}function it(i){if(i.length<4){return iU(i)}var h=[],n=-1,m=i.length,l,k=[0],j=[0];while(++n<3){l=i[n],k.push(l[0]),j.push(l[1])}h.push(j1(gU,k)+","+j1(gU,j)),--n;while(++n<m){l=i[n],k.shift(),k.push(l[0]),j.shift(),j.push(l[1]),gS(h,k,j)}return h.join("")}function ip(j){var i,p=-1,o=j.length,n=o+4,m,l=[],k=[];while(++p<4){m=j[p%o],l.push(m[0]),k.push(m[1])}i=[j1(gU,l),",",j1(gU,k)],--p;while(++p<n){m=j[p%o],l.shift(),l.push(m[0]),k.shift(),k.push(m[1]),gS(i,l,k)}return i.join("")}function il(t,s){var r=t.length-1,q=t[0][0],p=t[0][1],o=t[r][0]-q,n=t[r][1]-p,m=-1,l,k;while(++m<=r){l=t[m],k=m/r,l[0]=s*l[0]+(1-s)*(q+k*o),l[1]=s*l[1]+(1-s)*(p+k*n)}return iw(t)}function j1(e,c){return e[0]*c[0]+e[1]*c[1]+e[2]*c[2]+e[3]*c[3]}function gS(f,e,g){f.push("C",j1(ii,e),",",j1(ii,g),",",j1(gX,e),",",j1(gX,g),",",j1(gU,e),",",j1(gU,g))}function gQ(e,c){return(c[1]-e[1])/(c[0]-e[0])}function gO(i){var h=0,n=i.length-1,m=[],l=i[0],k=i[1],j=m[0]=gQ(l,k);while(++h<n){m[h]=j+(j=gQ(l=k,k=i[h+1]))}return m[h]=j,m}function gM(r){var q=[],p,o,n,m,l=gO(r),k=-1,j=r.length-1;while(++k<j){p=gQ(r[k],r[k+1]),Math.abs(p)<0.000001?l[k]=l[k+1]=0:(o=l[k]/p,n=l[k+1]/p,m=o*o+n*n,m>9&&(m=p*3/Math.sqrt(m),l[k]=m*o,l[k+1]=m*n))}k=-1;while(++k<=j){m=(r[Math.min(j,k+1)][0]-r[Math.max(0,k-1)][0])/(6*(1+l[k]*l[k])),q.push([m||0,l[k]*m||0])}return q}function gK(b){return b.length<3?iU(b):b[0]+iC(b,gM(b))}function gI(h){var g,l=-1,k=h.length,j,i;while(++l<k){g=h[l],j=g[0],i=g[1]+jt,g[0]=j*Math.cos(i),g[1]=j*Math.sin(i)}return h}function gG(t){function k(c){if(c.length<1){return null}var b=i9(this,c,s,q),a=i9(this,c,s===r?gE(b):r,q===p?gC(b):p);return"M"+n(t(a),l)+"L"+m(t(b.reverse()),l)+"Z"}var s=i6,r=i6,q=0,p=i3,o,n,m,l=0.7;return k.x=function(b){return arguments.length?(s=r=b,k):r},k.x0=function(b){return arguments.length?(s=b,k):s},k.x1=function(b){return arguments.length?(r=b,k):r},k.y=function(b){return arguments.length?(q=p=b,k):p},k.y0=function(b){return arguments.length?(q=b,k):q},k.y1=function(b){return arguments.length?(p=b,k):p},k.interpolate=function(b){return arguments.length?(iW.has(b+="")||(b=iZ),n=iW.get(o=b),m=n.reverse||n,k):o},k.tension=function(b){return arguments.length?(l=b,k):l},k.interpolate("linear")}function gE(b){return function(a,e){return b[e][0]}}function gC(b){return function(a,e){return b[e][1]}}function gA(b){return b.source}function gy(b){return b.target}function gx(b){return b.radius}function gt(b){return b.startAngle}function gr(b){return b.endAngle}function gq(b){return[b.x,b.y]}function f8(b){return function(){var a=b.apply(this,arguments),f=a[0],e=a[1]+jt;return[f*Math.cos(e),f*Math.sin(e)]}}function f6(){return 64}function f4(){return"circle"}function f2(e){var c=Math.sqrt(e/Math.PI);return"M0,"+c+"A"+c+","+c+" 0 1,1 0,"+-c+"A"+c+","+c+" 0 1,1 0,"+c+"Z"}function e5(e,c){e.attr("transform",function(b){return"translate("+c(b)+",0)"})}function ih(e,c){e.attr("transform",function(b){return"translate(0,"+c(b)+")"})}function id(t,s,r){p=[];if(r&&s.length>1){var q=h7(t.domain()),p,o=-1,n=s.length,m=(s[1]-s[0])/++r,l,k;while(++o<n){for(l=r;--l>0;){(k=+s[o]-l*m)>=q[0]&&p.push(k)}}for(--o,l=0;++l<r&&(k=+s[o]+l*m)<q[1];){p.push(k)}}return p}function hY(){h3||(h3=d3.select("body").append("div").style("visibility","hidden").style("top",0).style("height",0).style("width",0).style("overflow-y","scroll").append("div").style("height","2000px").node().parentNode);var f=d3.event,e;try{h3.scrollTop=1000,h3.dispatchEvent(f),e=1000-h3.scrollTop}catch(g){e=f.wheelDelta||-f.detail*5}return e}function hV(h){var g=h.source,l=h.target,k=hP(g,l),j=[g];while(g!==k){g=g.parent,j.push(g)}var i=j.length;while(l!==k){j.splice(i,0,l),l=l.parent}return j}function hS(f){var e=[],g=f.parent;while(g!=null){e.push(f),f=g,g=g.parent}return e.push(f),e}function hP(i,h){if(i===h){return i}var n=hS(i),m=hS(h),l=n.pop(),k=m.pop(),j=null;while(l===k){j=l,l=n.pop(),k=m.pop()}return j}function hG(b){b.fixed|=2}function hD(b){b!==hI&&(b.fixed&=1)}function hA(){hI.fixed&=1,hL=hI=null}function hx(){hI.px=d3.event.x,hI.py=d3.event.y,hL.resume()}function hu(t,s,r){var q=0,p=0;t.charge=0;if(!t.leaf){var o=t.nodes,n=o.length,m=-1,l;while(++m<n){l=o[m];if(l==null){continue}hu(l,s,r),t.charge+=l.charge,q+=l.charge*l.cx,p+=l.charge*l.cy}}if(t.point){t.leaf||(t.point.x+=Math.random()-0.5,t.point.y+=Math.random()-0.5);var k=s*r[t.point.index];t.charge+=t.pointCharge=k,q+=k*t.point.x,p+=k*t.point.y}t.cx=q/t.charge,t.cy=p/t.charge}function hr(b){return 20}function ho(b){return 1}function hi(b){return b.x}function hf(b){return b.y}function hc(f,e,g){f.y0=e,f.y=g}function g3(b){return d3.range(b.length)}function jv(f){var e=-1,h=f[0].length,g=[];while(++e<h){g[e]=0}return g}function g0(h){var g=1,l=0,k=h[0][1],j,i=h.length;for(;g<i;++g){(j=h[g][1])>k&&(l=g,k=j)}return l}function e1(b){return b.reduce(e0,0)}function e0(e,c){return e+c[1]}function d7(e,c){return d6(e,Math.ceil(Math.log(c.length)/Math.LN2+1))}function d6(h,g){var l=-1,k=+h[0],j=(h[1]-k)/g,i=[];while(++l<=g){i[l]=j*l+k}return i}function d4(b){return[d3.min(b),d3.max(b)]}function d1(e,c){return d3.rebind(e,c,"sort","children","value"),e.links=c2,e.nodes=function(a){return c0=!0,(e.nodes=e)(a)},e}function c8(b){return b.children}function c6(b){return b.value}function c4(e,c){return c.value-e.value}function c2(b){return d3.merge(b.map(function(c){return(c.children||[]).map(function(a){return{source:c,target:a}})}))}function b8(e,c){return e.value-c.value}function b6(f,e){var g=f._pack_next;f._pack_next=e,e._pack_prev=f,e._pack_next=g,g._pack_prev=e}function b4(e,c){e._pack_next=c,c._pack_prev=e}function b2(g,f){var j=f.x-g.x,i=f.y-g.y,h=g.r+f.r;return h*h-j*j-i*i>0.001}function b0(N){function C(b){M=Math.min(b.x-b.r,M),L=Math.max(b.x+b.r,L),K=Math.min(b.y-b.r,K),J=Math.max(b.y+b.r,J)}var M=Infinity,L=-Infinity,K=Infinity,J=-Infinity,I=N.length,H,G,F,E,D;N.forEach(a8),H=N[0],H.x=-H.r,H.y=0,C(H);if(I>1){G=N[1],G.x=G.r,G.y=0,C(G);if(I>2){F=N[2],a1(H,G,F),C(F),b6(H,F),H._pack_prev=F,b6(F,G),G=H._pack_next;for(var B=3;B<I;B++){a1(H,G,F=N[B]);var A=0,z=1,y=1;for(E=G._pack_next;E!==G;E=E._pack_next,z++){if(b2(E,F)){A=1;break}}if(A==1){for(D=H._pack_prev;D!==E._pack_prev;D=D._pack_prev,y++){if(b2(D,F)){break}}}A?(z<y||z==y&&G.r<H.r?b4(H,G=E):b4(H=D,G),B--):(b6(H,F),G=F,C(F))}}}var x=(M+L)/2,w=(K+J)/2,v=0;for(var B=0;B<I;B++){var u=N[B];u.x-=x,u.y-=w,v=Math.max(v,u.r+Math.sqrt(u.x*u.x+u.y*u.y))}return N.forEach(a6),v}function a8(b){b._pack_next=b._pack_prev=b}function a6(b){delete b._pack_next,delete b._pack_prev}function a5(e){var c=e.children;c&&c.length?(c.forEach(a5),e.r=b0(c)):e.r=Math.sqrt(e.value)}function a2(i,h,n,m){var l=i.children;i.x=h+=m*i.x,i.y=n+=m*i.y,i.r*=m;if(l){var k=-1,j=l.length;while(++k<j){a2(l[k],h,n,m)}}}function a1(x,w,v){var u=x.r+v.r,t=w.x-x.x,s=w.y-x.y;if(u&&(t||s)){var r=w.r+v.r,q=Math.sqrt(t*t+s*s),p=Math.max(-1,Math.min(1,(u*u+q*q-r*r)/(2*u*q))),o=Math.acos(p),n=p*(u/=q),m=Math.sin(o)*u;v.x=x.x+n*t+m*s,v.y=x.y+n*s-m*t}else{v.x=x.x+u,v.y=x.y}}function aY(b){return 1+d3.max(b,function(c){return c.y})}function aX(b){return b.reduce(function(e,c){return e+c.x},0)/b.length}function aU(e){var c=e.children;return c&&c.length?aU(c[0]):e}function aS(f){var e=f.children,g;return e&&(g=e.length)?aS(e[g-1]):f}function aR(e,c){return e.parent==c.parent?1:2}function gZ(e){var c=e.children;return c&&c.length?c[0]:e._tree.thread}function gY(f){var e=f.children,g;return e&&(g=e.length)?e[g-1]:f._tree.thread}function gV(h,g){var l=h.children;if(l&&(j=l.length)){var k,j,i=-1;while(++i<j){g(k=gV(l[i],g),h)>0&&(h=k)}}return h}function gT(e,c){return e.x-c.x}function gR(e,c){return c.x-e.x}function gP(e,c){return e.depth-c.depth}function gN(f,e){function g(b,n){var m=b.children;if(m&&(c=m.length)){var l,k=null,j=-1,c;while(++j<c){l=m[j],g(l,k),k=l}}e(b,n)}g(f,null)}function gL(h){var g=0,l=0,k=h.children,j=k.length,i;while(--j>=0){i=k[j]._tree,i.prelim+=g,i.mod+=g,g+=i.shift+(l+=i.change)}}function gJ(f,e,h){f=f._tree,e=e._tree;var g=h/(e.number-f.number);f.change+=g,e.change-=g,e.shift+=h,e.prelim+=h,e.mod+=h}function gH(f,e,g){return f._tree.ancestor.parent==e.parent?f._tree.ancestor:g}function gF(b){return{x:b.x,y:b.y,dx:b.dx,dy:b.dy}}function gD(h,g){var l=h.x+g[3],k=h.y+g[0],j=h.dx-g[1]-g[3],i=h.dy-g[0]-g[2];return j<0&&(l+=j/2,j=0),i<0&&(k+=i/2,i=0),{x:l,y:k,dx:j,dy:i}}function gB(b){return b.map(gz).join(",")}function gz(b){return/[",\n]/.test(b)?'"'+b.replace(/\"/g,'""')+'"':b}function gv(e,c){return function(a){return a&&e.hasOwnProperty(a.type)?e[a.type](a):c}}function gu(b){return"m0,"+b+"a"+b+","+b+" 0 1,1 0,"+-2*b+"a"+b+","+b+" 0 1,1 0,"+2*b+"z"}function gs(e,c){gp.hasOwnProperty(e.type)&&gp[e.type](e,c)}function f9(e,c){gs(e.geometry,c)}function f7(g,f){for(var j=g.features,i=0,h=j.length;i<h;i++){gs(j[i].geometry,f)}}function f5(g,f){for(var j=g.geometries,i=0,h=j.length;i<h;i++){gs(j[i],f)}}function f3(g,f){for(var j=g.coordinates,i=0,h=j.length;i<h;i++){f.apply(null,j[i])}}function f1(j,i){for(var p=j.coordinates,o=0,n=p.length;o<n;o++){for(var m=p[o],l=0,k=m.length;l<k;l++){i.apply(null,m[l])}}}function e9(j,i){for(var p=j.coordinates,o=0,n=p.length;o<n;o++){for(var m=p[o][0],l=0,k=m.length;l<k;l++){i.apply(null,m[l])}}}function e7(e,c){c.apply(null,e.coordinates)}function ib(g,f){for(var j=g.coordinates[0],i=0,h=j.length;i<h;i++){f.apply(null,j[i])}}function e4(b){return b.source}function aP(b){return b.target}function aO(H,G){function r(h){var e=Math.sin(t-(h*=t))/s,m=Math.sin(h)/s,k=e*B*E+m*v*y,j=e*B*D+m*v*x,g=e*A+m*u;return[Math.atan2(j,k)/gw,Math.atan2(g,Math.sqrt(k*k+j*j))/gw]}var F=H[0]*gw,E=Math.cos(F),D=Math.sin(F),C=H[1]*gw,B=Math.cos(C),A=Math.sin(C),z=G[0]*gw,y=Math.cos(z),x=Math.sin(z),w=G[1]*gw,v=Math.cos(w),u=Math.sin(w),t=r.d=Math.acos(Math.max(-1,Math.min(1,A*u+B*v*Math.cos(z-F)))),s=Math.sin(t);return r}function aL(f){var e=0,g=0;for(;;){if(f(e,g)){return[e,g]}e===0?(e=g+1,g=0):(e-=1,g+=1)}}function aK(v,u,t,s){var r,q,p,o,n,m,l;return r=s[v],q=r[0],p=r[1],r=s[u],o=r[0],n=r[1],r=s[t],m=r[0],l=r[1],(l-p)*(o-q)-(n-p)*(m-q)>0}function aJ(f,e,g){return(g[0]-e[0])*(f[1]-e[1])<(g[1]-e[1])*(f[0]-e[0])}function aI(L,K,J,I){var H=L[0],G=K[0],F=J[0],E=I[0],D=L[1],C=K[1],B=J[1],A=I[1],z=H-F,y=G-H,x=E-F,w=D-B,v=C-D,u=A-B,t=(x*w-u*z)/(u*y-x*v);return[H+t*y,D+t*v]}function aG(N,M){var L={list:N.map(function(e,c){return{index:c,x:e[0],y:e[1]}}).sort(function(e,c){return e.y<c.y?-1:e.y>c.y?1:e.x<c.x?-1:e.x>c.x?1:0}),bottomSite:null},K={list:[],leftEnd:null,rightEnd:null,init:function(){K.leftEnd=K.createHalfEdge(null,"l"),K.rightEnd=K.createHalfEdge(null,"l"),K.leftEnd.r=K.rightEnd,K.rightEnd.l=K.leftEnd,K.list.unshift(K.leftEnd,K.rightEnd)},createHalfEdge:function(e,c){return{edge:e,side:c,vertex:null,l:null,r:null}},insert:function(e,c){c.l=e,c.r=e.r,e.r.l=c,e.r=c},leftBound:function(e){var c=K.leftEnd;do{c=c.r}while(c!=K.rightEnd&&J.rightOf(c,e));return c=c.l,c},del:function(b){b.l.r=b.r,b.r.l=b.l,b.edge=null},right:function(b){return b.r},left:function(b){return b.l},leftRegion:function(b){return b.edge==null?L.bottomSite:b.edge.region[b.side]},rightRegion:function(b){return b.edge==null?L.bottomSite:b.edge.region[aH[b.side]]}},J={bisect:function(i,h){var n={region:{l:i,r:h},ep:{l:null,r:null}},m=h.x-i.x,l=h.y-i.y,k=m>0?m:-m,j=l>0?l:-l;return n.c=i.x*m+i.y*l+(m*m+l*l)*0.5,k>j?(n.a=1,n.b=l/m,n.c/=m):(n.b=1,n.a=m/l,n.c/=l),n},intersect:function(R,Q){var P=R.edge,O=Q.edge;if(!P||!O||P.region.r==O.region.r){return null}var t=P.a*O.b-P.b*O.a;if(Math.abs(t)<1e-10){return null}var s=(P.c*O.b-O.c*P.b)/t,r=(O.c*P.a-P.c*O.a)/t,q=P.region.r,p=O.region.r,o,n;q.y<p.y||q.y==p.y&&q.x<p.x?(o=R,n=P):(o=Q,n=O);var m=s>=n.region.r.x;return m&&o.side==="l"||!m&&o.side==="r"?null:{x:s,y:r}},rightOf:function(V,U){var T=V.edge,S=T.region.r,R=U.x>S.x;if(R&&V.side==="l"){return 1}if(!R&&V.side==="r"){return 0}if(T.a===1){var Q=U.y-S.y,P=U.x-S.x,O=0,t=0;!R&&T.b<0||R&&T.b>=0?t=O=Q>=T.b*P:(t=U.x+U.y*T.b>T.c,T.b<0&&(t=!t),t||(O=1));if(!O){var s=S.x-T.region.l.x;t=T.b*(P*P-Q*Q)<s*Q*(1+2*P/s+T.b*T.b),T.b<0&&(t=!t)}}else{var r=T.c-T.a*U.x,q=U.y-r,p=U.x-S.x,o=r-S.y;t=q*q>p*p+o*o}return V.side==="l"?t:!t},endPoint:function(b,f,e){b.ep[f]=e;if(!b.ep[aH[f]]){return}M(b)},distance:function(f,e){var h=f.x-e.x,g=f.y-e.y;return Math.sqrt(h*h+g*g)}},I={list:[],insert:function(i,f,n){i.vertex=f,i.ystar=f.y+n;for(var m=0,l=I.list,k=l.length;m<k;m++){var j=l[m];if(i.ystar>j.ystar||i.ystar==j.ystar&&f.x>j.vertex.x){continue}break}l.splice(m,0,i)},del:function(f){for(var e=0,h=I.list,g=h.length;e<g&&h[e]!=f;++e){}h.splice(e,1)},empty:function(){return I.list.length===0},nextEvent:function(f){for(var e=0,h=I.list,g=h.length;e<g;++e){if(h[e]==f){return h[e+1]}}return null},min:function(){var b=I.list[0];return{x:b.vertex.x,y:b.ystar}},extractMin:function(){return I.list.shift()}};K.init(),L.bottomSite=L.list.shift();var H=L.list.shift(),G,F,E,D,C,B,A,z,y,x,w,v,u;for(;;){I.empty()||(G=I.min());if(H&&(I.empty()||H.y<G.y||H.y==G.y&&H.x<G.x)){F=K.leftBound(H),E=K.right(F),A=K.rightRegion(F),v=J.bisect(A,H),B=K.createHalfEdge(v,"l"),K.insert(F,B),x=J.intersect(F,B),x&&(I.del(F),I.insert(F,x,J.distance(x,H))),F=B,B=K.createHalfEdge(v,"r"),K.insert(F,B),x=J.intersect(B,E),x&&I.insert(B,x,J.distance(x,H)),H=L.list.shift()}else{if(!I.empty()){F=I.extractMin(),D=K.left(F),E=K.right(F),C=K.right(E),A=K.leftRegion(F),z=K.rightRegion(E),w=F.vertex,J.endPoint(F.edge,F.side,w),J.endPoint(E.edge,E.side,w),K.del(F),I.del(E),K.del(E),u="l",A.y>z.y&&(y=A,A=z,z=y,u="r"),v=J.bisect(A,z),B=K.createHalfEdge(v,u),K.insert(D,B),J.endPoint(v,aH[u],w),x=J.intersect(D,B),x&&(I.del(D),I.insert(D,x,J.distance(x,A))),x=J.intersect(B,C),x&&I.insert(B,x,J.distance(x,A))}else{break}}}for(F=K.right(K.leftEnd);F!=K.rightEnd;F=K.right(F)){M(F.edge)}}function aF(){return{leaf:!0,nodes:[],point:null}}function aE(r,q,p,o,n,m){if(!r(q,p,o,n,m)){var l=(p+n)*0.5,k=(o+m)*0.5,j=q.nodes;j[0]&&aE(r,j[0],p,o,l,k),j[1]&&aE(r,j[1],l,o,n,k),j[2]&&aE(r,j[2],p,k,l,m),j[3]&&aE(r,j[3],l,k,n,m)}}function aD(b){return{x:b[0],y:b[1]}}function aB(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}function az(r,q,p,o){var n,m,l=0,k=q.length,j=p.length;while(l<k){if(o>=j){return -1}n=q.charCodeAt(l++);if(n==37){m=at[q.charAt(l++)];if(!m||(o=m(r,p,o))<0){return -1}}else{if(n!=p.charCodeAt(o++)){return -1}}}return o}function ar(f,e,g){return ap.test(e.substring(g,g+=3))?g:-1}function aq(f,e,h){e3.lastIndex=0;var g=e3.exec(e.substring(h,h+10));return g?h+=g[0].length:-1}function e2(f,e,h){var g=d9.get(e.substring(h,h+=3).toLowerCase());return g==null?-1:(f.m=g,h)}function d8(f,e,h){d5.lastIndex=0;var g=d5.exec(e.substring(h,h+12));return g?(f.m=d2.get(g[0].toLowerCase()),h+=g[0].length):-1}function c9(f,e,g){return az(f,au.c.toString(),e,g)}function c7(f,e,g){return az(f,au.x.toString(),e,g)}function c5(f,e,g){return az(f,au.X.toString(),e,g)}function c3(f,e,h){a4.lastIndex=0;var g=a4.exec(e.substring(h,h+4));return g?(f.y=+g[0],h+=g[0].length):-1}function c1(f,e,h){a4.lastIndex=0;var g=a4.exec(e.substring(h,h+2));return g?(f.y=b9()+ +g[0],h+=g[0].length):-1}function b9(){return ~~((new Date).getFullYear()/1000)*1000}function b7(f,e,h){a4.lastIndex=0;var g=a4.exec(e.substring(h,h+2));return g?(f.m=g[0]-1,h+=g[0].length):-1}function b5(f,e,h){a4.lastIndex=0;var g=a4.exec(e.substring(h,h+2));return g?(f.d=+g[0],h+=g[0].length):-1}function b3(f,e,h){a4.lastIndex=0;var g=a4.exec(e.substring(h,h+2));return g?(f.H=+g[0],h+=g[0].length):-1}function b1(f,e,h){a4.lastIndex=0;var g=a4.exec(e.substring(h,h+2));return g?(f.M=+g[0],h+=g[0].length):-1}function a9(f,e,h){a4.lastIndex=0;var g=a4.exec(e.substring(h,h+2));return g?(f.S=+g[0],h+=g[0].length):-1}function a7(f,e,h){a4.lastIndex=0;var g=a4.exec(e.substring(h,h+3));return g?(f.L=+g[0],h+=g[0].length):-1}function a3(f,e,h){var g=a0.get(e.substring(h,h+=2).toLowerCase());return g==null?-1:(f.p=g,h)}function aZ(g){var f=g.getTimezoneOffset(),j=f>0?"-":"+",i=~~(Math.abs(f)/60),h=Math.abs(f)%60;return j+ay(i)+ay(h)}function aV(b){return b.toISOString()}function aT(r,q,p){function o(a){var f=r(a),e=m(f,1);return a-f<e-a?f:e}function n(a){return q(a=r(new aC(a-1)),1),a}function m(b,e){return q(b=new aC(+b),e),b}function l(b,s,i){var e=n(b),c=[];if(i>1){while(e<s){p(e)%i||c.push(new Date(+e)),q(e,1)}}else{while(e<s){c.push(new Date(+e)),q(e,1)}}return c}function k(f,e,h){try{aC=aB;var g=new aB;return g._=f,l(g,e,h)}finally{aC=Date}}r.floor=r,r.round=o,r.ceil=n,r.offset=m,r.range=l;var j=r.utc=gW(r);return j.floor=j,j.round=gW(o),j.ceil=gW(n),j.offset=gW(m),j.range=k,r}function gW(b){return function(a,f){try{aC=aB;var e=new aB;return e._=a,b(e,f)._}finally{aC=Date}}}function aQ(f,e,h){function g(a){return f(a)}return g.invert=function(a){return an(f.invert(a))},g.domain=function(a){return arguments.length?(f.domain(a),g):f.domain().map(an)},g.nice=function(i){var c=ao(g.domain());return g.domain([i.floor(c[0]),i.ceil(c[1])])},g.ticks=function(m,l){var k=ao(g.domain());if(typeof m!="function"){var j=k[1]-k[0],b=j/m,a=d3.bisect(aj,b);if(a==aj.length){return e.year(k,m)}if(!a){return f.ticks(m).map(an)}Math.log(b/aj[a-1])<Math.log(aj[a]/b)&&--a,m=e[a],l=m[1],m=m[0].range}return m(k[0],new Date(+k[1]+1),l)},g.tickFormat=function(){return h},g.copy=function(){return aQ(f.copy(),e,h)},d3.rebind(g,f,"range","rangeRound","interpolate","clamp")}function ao(f){var e=f[0],g=f[f.length-1];return e<g?[e,g]:[g,e]}function an(b){return new Date(b)}function am(b){return function(a){var f=b.length-1,e=b[f];while(!e[1](a)){e=b[--f]}return e[0](a)}}function al(e){var c=new Date(e,0,1);return c.setFullYear(e),c}function ak(f){var e=f.getFullYear(),h=al(e),g=al(e+1);return e+(f-h)/(g-h)}function ab(e){var c=new Date(Date.UTC(e,0,1));return c.setUTCFullYear(e),c}function aa(f){var e=f.getUTCFullYear(),h=ab(e),g=ab(e+1);return e+(f-h)/(g-h)}Date.now||(Date.now=function(){return +(new Date)});try{document.createElement("div").style.setProperty("opacity",0,"")}catch(ig){var ic=CSSStyleDeclaration.prototype,h9=ic.setProperty;ic.setProperty=function(e,c,f){h9.call(this,e,c+"",f)}}d3={version:"2.8.1"};var h1=hU;try{h1(document.documentElement.childNodes)[0].nodeType}catch(hR){h1=hX}var hO=[].__proto__?function(e,c){e.__proto__=c}:function(f,e){for(var g in e){f[g]=e[g]}};d3.map=function(f){var e=new hM;for(var g in f){e.set(g,f[g])}return e},h4(hM,{has:function(b){return hJ+b in this},get:function(b){return this[hJ+b]},set:function(e,c){return this[hJ+e]=c},remove:function(b){return b=hJ+b,b in this&&delete this[b]},keys:function(){var b=[];return this.forEach(function(a){b.push(a)}),b},values:function(){var b=[];return this.forEach(function(a,e){b.push(e)}),b},entries:function(){var b=[];return this.forEach(function(a,e){b.push({key:a,value:e})}),b},forEach:function(e){for(var c in this){c.charCodeAt(0)===hF&&e.call(this,c.substring(1),this[c])}}});var hJ="\0",hF=hJ.charCodeAt(0);d3.functor=function(b){return typeof b=="function"?b:function(){return b}},d3.rebind=function(g,f){var j=1,i=arguments.length,h;while(++j<i){g[h=arguments[j]]=hz(g,f,f[h])}return g},d3.ascending=function(e,c){return e<c?-1:e>c?1:e>=c?0:NaN},d3.descending=function(e,c){return c<e?-1:c>e?1:c>=e?0:NaN},d3.mean=function(i,h){var n=i.length,m,l=0,k=-1,j=0;if(arguments.length===1){while(++k<n){hw(m=i[k])&&(l+=(m-l)/++j)}}else{while(++k<n){hw(m=h.call(i,i[k],k))&&(l+=(m-l)/++j)}}return j?l:undefined},d3.median=function(e,c){return arguments.length>1&&(e=e.map(c)),e=e.filter(hw),e.length?d3.quantile(e.sort(d3.ascending),0.5):undefined},d3.min=function(h,g){var l=-1,k=h.length,j,i;if(arguments.length===1){while(++l<k&&((j=h[l])==null||j!=j)){j=undefined}while(++l<k){(i=h[l])!=null&&j>i&&(j=i)}}else{while(++l<k&&((j=g.call(h,h[l],l))==null||j!=j)){j=undefined}while(++l<k){(i=g.call(h,h[l],l))!=null&&j>i&&(j=i)}}return j},d3.max=function(h,g){var l=-1,k=h.length,j,i;if(arguments.length===1){while(++l<k&&((j=h[l])==null||j!=j)){j=undefined}while(++l<k){(i=h[l])!=null&&i>j&&(j=i)}}else{while(++l<k&&((j=g.call(h,h[l],l))==null||j!=j)){j=undefined}while(++l<k){(i=g.call(h,h[l],l))!=null&&i>j&&(j=i)}}return j},d3.extent=function(i,h){var n=-1,m=i.length,l,k,j;if(arguments.length===1){while(++n<m&&((l=j=i[n])==null||l!=l)){l=j=undefined}while(++n<m){(k=i[n])!=null&&(l>k&&(l=k),j<k&&(j=k))}}else{while(++n<m&&((l=j=h.call(i,i[n],n))==null||l!=l)){l=undefined}while(++n<m){(k=h.call(i,i[n],n))!=null&&(l>k&&(l=k),j<k&&(j=k))}}return[l,j]},d3.random={normal:function(e,c){return arguments.length<2&&(c=1),arguments.length<1&&(e=0),function(){var f,b,a;do{f=Math.random()*2-1,b=Math.random()*2-1,a=f*f+b*b}while(!a||a>1);return e+c*f*Math.sqrt(-2*Math.log(a)/a)}}},d3.sum=function(h,g){var l=0,k=h.length,j,i=-1;if(arguments.length===1){while(++i<k){isNaN(j=+h[i])||(l+=j)}}else{while(++i<k){isNaN(j=+g.call(h,h[i],i))||(l+=j)}}return l},d3.quantile=function(h,g){var l=(h.length-1)*g+1,k=Math.floor(l),j=h[k-1],i=l-k;return i?j+i*(h[k]-j):j},d3.transpose=function(b){return d3.zip.apply(d3,b)},d3.zip=function(){if(!(j=arguments.length)){return[]}for(var h=-1,g=d3.min(arguments,ht),l=new Array(g);++h<g;){for(var k=-1,j,i=l[h]=new Array(j);++k<j;){i[k]=arguments[k][h]}}return l},d3.bisector=function(b){return{left:function(a,j,i,h){arguments.length<3&&(i=0),arguments.length<4&&(h=a.length);while(i<h){var g=i+h>>1;b.call(a,a[g],g)<j?i=g+1:h=g}return i},right:function(a,j,i,h){arguments.length<3&&(i=0),arguments.length<4&&(h=a.length);while(i<h){var g=i+h>>1;j<b.call(a,a[g],g)?h=g:i=g+1}return i}}};var hq=d3.bisector(function(b){return b});d3.bisectLeft=hq.left,d3.bisect=d3.bisectRight=hq.right,d3.first=function(h,g){var l=0,k=h.length,j=h[0],i;arguments.length===1&&(g=d3.ascending);while(++l<k){g.call(h,j,i=h[l])>0&&(j=i)}return j},d3.last=function(h,g){var l=0,k=h.length,j=h[0],i;arguments.length===1&&(g=d3.ascending);while(++l<k){g.call(h,j,i=h[l])<=0&&(j=i)}return j},d3.nest=function(){function k(v,u){if(u>=h.length){return l?l.call(i,v):m?v.sort(m):v}var t=-1,s=v.length,r=h[u++],q,f,e=new hM,b,a={};while(++t<s){(b=e.get(q=r(f=v[t])))?b.push(f):e.set(q,[f])}return e.forEach(function(c){a[c]=k(e.get(c),u)}),a}function j(b,p){if(p>=h.length){return b}var o=[],g=n[p++],c;for(c in b){o.push({key:c,values:j(b[c],p)})}return g&&o.sort(function(f,e){return g(f.key,e.key)}),o}var i={},h=[],n=[],m,l;return i.map=function(b){return k(b,0)},i.entries=function(b){return j(k(b,0),0)},i.key=function(a){return h.push(a),i},i.sortKeys=function(a){return n[h.length-1]=a,i},i.sortValues=function(a){return m=a,i},i.rollup=function(a){return l=a,i},i},d3.keys=function(f){var e=[];for(var g in f){e.push(g)}return e},d3.values=function(f){var e=[];for(var g in f){e.push(f[g])}return e},d3.entries=function(f){var e=[];for(var g in f){e.push({key:g,value:f[g]})}return e},d3.permute=function(g,f){var j=[],i=-1,h=f.length;while(++i<h){j[i]=g[f[i]]}return j},d3.merge=function(b){return Array.prototype.concat.apply([],b)},d3.split=function(i,h){var n=[],m=[],l,k=-1,j=i.length;arguments.length<2&&(h=hn);while(++k<j){h.call(m,l=i[k],k)?m=[]:(m.length||n.push(m),m.push(l))}return n},d3.range=function(i,h,n){arguments.length<3&&(n=1,arguments.length<2&&(h=i,i=0));if((h-i)/n===Infinity){throw new Error("infinite range")}var m=[],l=hh(Math.abs(n)),k=-1,j;i*=l,h*=l,n*=l;if(n<0){while((j=i+n*++k)>h){m.push(j/l)}}else{while((j=i+n*++k)<h){m.push(j/l)}}return m},d3.requote=function(b){return b.replace(he,"\\$&")};var he=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;d3.round=function(e,c){return c?Math.round(e*(c=Math.pow(10,c)))/c:Math.round(e)},d3.xhr=function(f,e,h){var g=new XMLHttpRequest;arguments.length<3?(h=e,e=null):e&&g.overrideMimeType&&g.overrideMimeType(e),g.open("GET",f,!0),e&&g.setRequestHeader("Accept",e),g.onreadystatechange=function(){g.readyState===4&&h(g.status<300?g:null)},g.send(null)},d3.text=function(f,e,h){function g(b){h(b&&b.responseText)}arguments.length<3&&(h=e,e=null),d3.xhr(f,e,g)},d3.json=function(e,c){d3.text(e,"application/json",function(b){c(b?JSON.parse(b):null)})},d3.html=function(e,c){d3.text(e,"text/html",function(b){if(b!=null){var f=document.createRange();f.selectNode(document.body),b=f.createContextualFragment(b)}c(b)})},d3.xml=function(f,e,h){function g(b){h(b&&b.responseXML)}arguments.length<3&&(h=e,e=null),d3.xhr(f,e,g)};var hb={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};d3.ns={prefix:hb,qualify:function(f){var e=f.indexOf(":"),g=f;return e>=0&&(g=f.substring(0,e),f=f.substring(e+1)),hb.hasOwnProperty(g)?{space:hb[g],local:f}:f}},d3.dispatch=function(){var f=new g9,e=-1,g=arguments.length;while(++e<g){f[arguments[e]]=g6(f)}return f},g9.prototype.on=function(f,e){var h=f.indexOf("."),g="";return h>0&&(g=f.substring(h+1),f=f.substring(0,h)),arguments.length<2?this[f].on(g):this[f].on(g,e)},d3.format=function(x){var w=g2.exec(x),v=w[1]||" ",u=w[3]||"",t=w[5],s=+w[6],r=w[7],q=w[8],p=w[9],o=1,n="",m=!1;q&&(q=+q.substring(1)),t&&(v="0",r&&(s-=Math.floor((s-1)/4)));switch(p){case"n":r=!0,p="g";break;case"%":o=100,n="%",p="f";break;case"p":o=100,n="%",p="r";break;case"d":m=!0,q=0;break;case"s":o=-1,p="r"}return p=="r"&&!q&&(p="g"),p=jC.get(p)||jx,function(f){if(m&&f%1){return""}var e=f<0&&(f=-f)?"−":u;if(o<0){var c=d3.formatPrefix(f,q);f*=c.scale,n=c.symbol}else{f*=o}f=p(f,q);if(t){var g=f.length+e.length;g<s&&(f=(new Array(s-g+1)).join(v)+f),r&&(f=ju(f)),f=e+f}else{r&&(f=ju(f)),f=e+f;var g=f.length;g<s&&(f=(new Array(s-g+1)).join(v)+f)}return f+n}};var g2=/(?:([^{])?([<>=^]))?([+\- ])?(#)?(0)?([0-9]+)?(,)?(\.[0-9]+)?([a-zA-Z%])?/,jC=d3.map({g:function(e,c){return e.toPrecision(c)},e:function(e,c){return e.toExponential(c)},f:function(e,c){return e.toFixed(c)},r:function(e,c){return d3.round(e,c=jA(e,c)).toFixed(Math.max(0,Math.min(20,c)))}}),jr=["y","z","a","f","p","n","μ","m","","k","M","G","T","P","E","Z","Y"].map(jn);d3.formatPrefix=function(f,e){var g=0;return f&&(f<0&&(f*=-1),e&&(f=d3.round(f,jA(f,e))),g=1+Math.floor(1e-12+Math.log(f)/Math.LN10),g=Math.max(-24,Math.min(24,Math.floor((g<=0?g+1:g-1)/3)*3))),jr[8+g/3]};var jk=iT(2),jh=iT(3),je=function(){return iX},jb=d3.map({linear:je,poly:iT,quad:function(){return jk},cubic:function(){return jh},sin:function(){return iQ},exp:function(){return iN},circle:function(){return iK},elastic:iH,back:iE,bounce:function(){return iB}}),i8=d3.map({"in":iX,out:i2,"in-out":i0,"out-in":function(b){return i0(i2(b))}});d3.ease=function(f){var e=f.indexOf("-"),h=e>=0?f.substring(0,e):f,g=e>=0?f.substring(e+1):"in";return h=jb.get(h)||je,g=i8.get(g)||iX,i5(g(h.apply(null,Array.prototype.slice.call(arguments,1))))},d3.event=null,d3.interpolate=function(f,e){var h=d3.interpolators.length,g;while(--h>=0&&!(g=d3.interpolators[h](f,e))){}return g},d3.interpolateNumber=function(e,c){return c-=e,function(a){return e+c*a}},d3.interpolateRound=function(e,c){return c-=e,function(a){return Math.round(e+c*a)}},d3.interpolateString=function(v,u){var t,s,r,q=0,p=0,o=[],n=[],m,l;io.lastIndex=0;for(s=0;t=io.exec(u);++s){t.index&&o.push(u.substring(q,p=t.index)),n.push({i:o.length,x:t[0]}),o.push(null),q=io.lastIndex}q<u.length&&o.push(u.substring(q));for(s=0,m=n.length;(t=io.exec(v))&&s<m;++s){l=n[s];if(l.x==t[0]){if(l.i){if(o[l.i+1]==null){o[l.i-1]+=l.x,o.splice(l.i,1);for(r=s+1;r<m;++r){n[r].i--}}else{o[l.i-1]+=l.x+o[l.i+1],o.splice(l.i,2);for(r=s+1;r<m;++r){n[r].i-=2}}}else{if(o[l.i+1]==null){o[l.i]=l.x}else{o[l.i]=l.x+o[l.i+1],o.splice(l.i+1,1);for(r=s+1;r<m;++r){n[r].i--}}}n.splice(s,1),m--,s--}else{l.x=d3.interpolateNumber(parseFloat(t[0]),parseFloat(l.x))}}while(s<m){l=n.pop(),o[l.i+1]==null?o[l.i]=l.x:(o[l.i]=l.x+o[l.i+1],o.splice(l.i+1,1)),m--}return o.length===1?o[0]==null?n[0].x:function(){return u}:function(b){for(s=0;s<m;++s){o[(l=n[s]).i]=l.x(b)}return o.join("")}},d3.interpolateTransform=function(D,C){var B=[],A=[],z,y=d3.transform(D),x=d3.transform(C),w=y.translate,v=x.translate,u=y.rotate,t=x.rotate,s=y.skew,r=x.skew,q=y.scale,p=x.scale;return w[0]!=v[0]||w[1]!=v[1]?(B.push("translate(",null,",",null,")"),A.push({i:1,x:d3.interpolateNumber(w[0],v[0])},{i:3,x:d3.interpolateNumber(w[1],v[1])})):v[0]||v[1]?B.push("translate("+v+")"):B.push(""),u!=t?A.push({i:B.push(B.pop()+"rotate(",null,")")-2,x:d3.interpolateNumber(u,t)}):t&&B.push(B.pop()+"rotate("+t+")"),s!=r?A.push({i:B.push(B.pop()+"skewX(",null,")")-2,x:d3.interpolateNumber(s,r)}):r&&B.push(B.pop()+"skewX("+r+")"),q[0]!=p[0]||q[1]!=p[1]?(z=B.push(B.pop()+"scale(",null,",",null,")"),A.push({i:z-4,x:d3.interpolateNumber(q[0],p[0])},{i:z-2,x:d3.interpolateNumber(q[1],p[1])})):(p[0]!=1||p[1]!=1)&&B.push(B.pop()+"scale("+p+")"),z=A.length,function(e){var c=-1,g;while(++c<z){B[(g=A[c]).i]=g.x(e)}return B.join("")}},d3.interpolateRgb=function(j,i){j=d3.rgb(j),i=d3.rgb(i);var p=j.r,o=j.g,n=j.b,m=i.r-p,l=i.g-o,k=i.b-n;return function(b){return"#"+jp(Math.round(p+m*b))+jp(Math.round(o+l*b))+jp(Math.round(n+k*b))}},d3.interpolateHsl=function(j,i){j=d3.hsl(j),i=d3.hsl(i);var p=j.h,o=j.s,n=j.l,m=i.h-p,l=i.s-o,k=i.l-n;return function(b){return i4(p+m*b,o+l*b,n+k*b).toString()}},d3.interpolateArray=function(j,i){var p=[],o=[],n=j.length,m=i.length,l=Math.min(j.length,i.length),k;for(k=0;k<l;++k){p.push(d3.interpolate(j[k],i[k]))}for(;k<n;++k){o[k]=j[k]}for(;k<m;++k){o[k]=i[k]}return function(b){for(k=0;k<l;++k){o[k]=p[k](b)}return o}},d3.interpolateObject=function(g,f){var j={},i={},h;for(h in g){h in f?j[h]=j3(h)(g[h],f[h]):i[h]=g[h]}for(h in f){h in g||(i[h]=f[h])}return function(b){for(h in j){i[h]=j[h](b)}return i}};var io=/[-+]?(?:\d*\.?\d+)(?:[eE][-+]?\d+)?/g;d3.interpolators=[d3.interpolateObject,function(e,c){return c instanceof Array&&d3.interpolateArray(e,c)},function(e,c){return(typeof e=="string"||typeof c=="string")&&d3.interpolateString(e+"",c+"")},function(e,c){return(typeof c=="string"?jd.has(c)||/^(#|rgb\(|hsl\()/.test(c):c instanceof js||c instanceof i7)&&d3.interpolateRgb(e,c)},function(e,c){return !isNaN(e=+e)&&!isNaN(c=+c)&&d3.interpolateNumber(e,c)}],d3.rgb=function(f,e,g){return arguments.length===1?f instanceof js?jw(f.r,f.g,f.b):jm(""+f,jw,i4):jw(~~f,~~e,~~g)},js.prototype.brighter=function(g){g=Math.pow(0.7,arguments.length?g:1);var f=this.r,j=this.g,i=this.b,h=30;return !f&&!j&&!i?jw(h,h,h):(f&&f<h&&(f=h),j&&j<h&&(j=h),i&&i<h&&(i=h),jw(Math.min(255,Math.floor(f/g)),Math.min(255,Math.floor(j/g)),Math.min(255,Math.floor(i/g))))},js.prototype.darker=function(b){return b=Math.pow(0.7,arguments.length?b:1),jw(Math.floor(b*this.r),Math.floor(b*this.g),Math.floor(b*this.b))},js.prototype.hsl=function(){return jj(this.r,this.g,this.b)},js.prototype.toString=function(){return"#"+jp(this.r)+jp(this.g)+jp(this.b)};var jd=d3.map({aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"});jd.forEach(function(e,c){jd.set(e,jm(c,jw,i4))}),d3.hsl=function(f,e,g){return arguments.length===1?f instanceof i7?ja(f.h,f.s,f.l):jm(""+f,jj,ja):ja(+f,+e,+g)},i7.prototype.brighter=function(b){return b=Math.pow(0.7,arguments.length?b:1),ja(this.h,this.s,this.l/b)},i7.prototype.darker=function(b){return b=Math.pow(0.7,arguments.length?b:1),ja(this.h,this.s,b*this.l)},i7.prototype.rgb=function(){return i4(this.h,this.s,this.l)},i7.prototype.toString=function(){return this.rgb().toString()};var iY=function(e,c){return c.querySelector(e)},iV=function(e,c){return c.querySelectorAll(e)},iS=document.documentElement,iP=iS.matchesSelector||iS.webkitMatchesSelector||iS.mozMatchesSelector||iS.msMatchesSelector||iS.oMatchesSelector,iM=function(e,c){return iP.call(e,c)};typeof Sizzle=="function"&&(iY=function(e,c){return Sizzle(e,c)[0]},iV=function(e,c){return Sizzle.uniqueSort(Sizzle(e,c))},iM=Sizzle.matchesSelector);var iJ=[];d3.selection=function(){return ik},d3.selection.prototype=iJ,iJ.select=function(t){var s=[],r,q,p,o;typeof t!="function"&&(t=iG(t));for(var n=-1,m=this.length;++n<m;){s.push(r=[]),r.parentNode=(p=this[n]).parentNode;for(var l=-1,k=p.length;++l<k;){(o=p[l])?(r.push(q=t.call(o,o.__data__,l)),q&&"__data__" in o&&(q.__data__=o.__data__)):r.push(null)}}return i1(s)},iJ.selectAll=function(r){var q=[],p,o;typeof r!="function"&&(r=iD(r));for(var n=-1,m=this.length;++n<m;){for(var l=this[n],k=-1,f=l.length;++k<f;){if(o=l[k]){q.push(p=h1(r.call(o,o.__data__,k))),p.parentNode=o}}}return i1(q)},iJ.attr=function(r,q){function o(){this.removeAttribute(r)}function n(){this.removeAttributeNS(r.space,r.local)}function m(){this.setAttribute(r,q)}function l(){this.setAttributeNS(r.space,r.local,q)}function k(){var a=q.apply(this,arguments);a==null?this.removeAttribute(r):this.setAttribute(r,a)}function j(){var a=q.apply(this,arguments);a==null?this.removeAttributeNS(r.space,r.local):this.setAttributeNS(r.space,r.local,a)}r=d3.ns.qualify(r);if(arguments.length<2){var p=this.node();return r.local?p.getAttributeNS(r.space,r.local):p.getAttribute(r)}return this.each(q==null?r.local?n:o:typeof q=="function"?r.local?j:k:r.local?l:m)},iJ.classed=function(g,f){var j=g.split(iA),i=j.length,h=-1;if(arguments.length>1){while(++h<i){ix.call(this,j[h],f)}return this}while(++h<i){if(!ix.call(this,j[h])){return !1}}return !0};var iA=/\s+/g;iJ.style=function(h,g,l){function k(){this.style.removeProperty(h)}function j(){this.style.setProperty(h,g,l)}function i(){var a=g.apply(this,arguments);a==null?this.style.removeProperty(h):this.style.setProperty(h,a,l)}return arguments.length<3&&(l=""),arguments.length<2?window.getComputedStyle(this.node(),null).getPropertyValue(h):this.each(g==null?k:typeof g=="function"?i:j)},iJ.property=function(g,f){function j(){delete this[g]}function i(){this[g]=f}function h(){var a=f.apply(this,arguments);a==null?delete this[g]:this[g]=a}return arguments.length<2?this.node()[g]:this.each(f==null?j:typeof f=="function"?h:i)},iJ.text=function(b){return arguments.length<1?this.node().textContent:this.each(typeof b=="function"?function(){var a=b.apply(this,arguments);this.textContent=a==null?"":a}:b==null?function(){this.textContent=""}:function(){this.textContent=b})},iJ.html=function(b){return arguments.length<1?this.node().innerHTML:this.each(typeof b=="function"?function(){var a=b.apply(this,arguments);this.innerHTML=a==null?"":a}:b==null?function(){this.innerHTML=""}:function(){this.innerHTML=b})},iJ.append=function(f){function e(){return this.appendChild(document.createElementNS(this.namespaceURI,f))}function g(){return this.appendChild(document.createElementNS(f.space,f.local))}return f=d3.ns.qualify(f),this.select(f.local?g:e)},iJ.insert=function(f,e){function h(){return this.insertBefore(document.createElementNS(this.namespaceURI,f),iY(e,this))}function g(){return this.insertBefore(document.createElementNS(f.space,f.local),iY(e,this))}return f=d3.ns.qualify(f),this.select(f.local?g:h)},iJ.remove=function(){return this.each(function(){var b=this.parentNode;b&&b.removeChild(this)})},iJ.data=function(t,s){function n(D,C){var B,A=D.length,z=C.length,y=Math.min(A,z),x=Math.max(A,z),w=[],v=[],j=[],i,h;if(s){var b=new hM,G=[],F,E=C.length;for(B=-1;++B<A;){F=s.call(i=D[B],i.__data__,B),b.has(F)?j[E++]=i:b.set(F,i),G.push(F)}for(B=-1;++B<z;){F=s.call(C,h=C[B],B),b.has(F)?(w[B]=i=b.get(F),i.__data__=h,v[B]=j[B]=null):(v[B]=iu(h),w[B]=j[B]=null),b.remove(F)}for(B=-1;++B<A;){b.has(G[B])&&(j[B]=D[B])}}else{for(B=-1;++B<y;){i=D[B],h=C[B],i?(i.__data__=h,w[B]=i,v[B]=j[B]=null):(v[B]=iu(h),w[B]=j[B]=null)}for(;B<z;++B){v[B]=iu(C[B]),w[B]=j[B]=null}for(;B<x;++B){j[B]=D[B],v[B]=w[B]=null}}v.update=w,v.parentNode=w.parentNode=j.parentNode=D.parentNode,m.push(v),l.push(w),k.push(j)}var r=-1,q=this.length,p,o;if(!arguments.length){t=new Array(q=(p=this[0]).length);while(++r<q){if(o=p[r]){t[r]=o.__data__}}return t}var m=j5([]),l=i1([]),k=i1([]);if(typeof t=="function"){while(++r<q){n(p=this[r],t.call(p,p.parentNode.__data__,r))}}else{while(++r<q){n(p=this[r],t)}}return l.enter=function(){return m},l.exit=function(){return k},l},iJ.datum=iJ.map=function(b){return arguments.length<1?this.property("__data__"):this.property("__data__",b)},iJ.filter=function(r){var q=[],p,o,n;typeof r!="function"&&(r=iq(r));for(var m=0,l=this.length;m<l;m++){q.push(p=[]),p.parentNode=(o=this[m]).parentNode;for(var k=0,j=o.length;k<j;k++){(n=o[k])&&r.call(n,n.__data__,k)&&p.push(n)}}return i1(q)},iJ.order=function(){for(var h=-1,g=this.length;++h<g;){for(var l=this[h],k=l.length-1,j=l[k],i;--k>=0;){if(i=l[k]){j&&j!==i.nextSibling&&j.parentNode.insertBefore(i,j),j=i}}}return this},iJ.sort=function(f){f=im.apply(this,arguments);for(var e=-1,g=this.length;++e<g;){this[e].sort(f)}return this.order()},iJ.on=function(g,f,j){arguments.length<3&&(j=!1);var i="__on"+g,h=g.indexOf(".");return h>0&&(g=g.substring(0,h)),arguments.length<2?(h=this.node()[i])&&h._:this.each(function(l,k){function a(e){var m=d3.event;d3.event=e;try{f.call(c,c.__data__,k)}finally{d3.event=m}}var c=this,b=c[i];b&&(c.removeEventListener(g,b,b.$),delete c[i]),f&&(c.addEventListener(g,c[i]=a,a.$=j),a._=f)})},iJ.each=function(i){for(var h=-1,n=this.length;++h<n;){for(var m=this[h],l=-1,k=m.length;++l<k;){var j=m[l];j&&i.call(j,j.__data__,l,h)}}return this},iJ.call=function(b){return b.apply(this,(arguments[0]=this,arguments)),this},iJ.empty=function(){return !this.node()},iJ.node=function(i){for(var h=0,n=this.length;h<n;h++){for(var m=this[h],l=0,k=m.length;l<k;l++){var j=m[l];if(j){return j}}}return null},iJ.transition=function(){var j=[],i,p;for(var o=-1,n=this.length;++o<n;){j.push(i=[]);for(var m=this[o],l=-1,k=m.length;++l<k;){i.push((p=m[l])?{node:p,delay:jR,duration:jQ}:null)}}return j2(j,jV||++jW,Date.now())};var ik=i1([[document]]);ik[0].parentNode=iS,d3.select=function(b){return typeof b=="string"?ik.select(b):i1([[b]])},d3.selectAll=function(b){return typeof b=="string"?ik.selectAll(b):i1([h1(b)])};var j4=[];d3.selection.enter=j5,d3.selection.enter.prototype=j4,j4.append=iJ.append,j4.insert=iJ.insert,j4.empty=iJ.empty,j4.node=iJ.node,j4.select=function(v){var u=[],t,s,r,q,p;for(var o=-1,n=this.length;++o<n;){r=(q=this[o]).update,u.push(t=[]),t.parentNode=q.parentNode;for(var m=-1,l=q.length;++m<l;){(p=q[m])?(t.push(r[m]=s=v.call(q.parentNode,p.__data__,m)),s.__data__=p.__data__):t.push(null)}}return i1(u)};var j0={},jX=[],jW=0,jV=0,jU=0,jT=250,jS=d3.ease("cubic-in-out"),jR=jU,jQ=jT,jP=jS;jX.call=iJ.call,d3.transition=function(b){return arguments.length?jV?b.transition():b:ik.transition()},d3.transition.prototype=jX,jX.select=function(t){var s=[],r,q,p;typeof t!="function"&&(t=iG(t));for(var o=-1,n=this.length;++o<n;){s.push(r=[]);for(var m=this[o],l=-1,k=m.length;++l<k;){(p=m[l])&&(q=t.call(p.node,p.node.__data__,l))?("__data__" in p.node&&(q.__data__=p.node.__data__),r.push({node:q,delay:p.delay,duration:p.duration})):r.push(null)}}return j2(s,this.id,this.time).ease(this.ease())},jX.selectAll=function(x){var w=[],v,u,t;typeof x!="function"&&(x=iD(x));for(var s=-1,r=this.length;++s<r;){for(var q=this[s],p=-1,o=q.length;++p<o;){if(t=q[p]){u=x.call(t.node,t.node.__data__,p),w.push(v=[]);for(var n=-1,m=u.length;++n<m;){v.push({node:u[n],delay:t.delay,duration:t.duration})}}}}return j2(w,this.id,this.time).ease(this.ease())},jX.attr=function(e,c){return this.attrTween(e,jY(e,c))},jX.attrTween=function(g,f){function i(b,k){var c=f.call(this,b,k,this.getAttribute(j));return c===j0?(this.removeAttribute(j),null):c&&function(e){this.setAttribute(j,c(e))}}function h(b,k){var c=f.call(this,b,k,this.getAttributeNS(j.space,j.local));return c===j0?(this.removeAttributeNS(j.space,j.local),null):c&&function(e){this.setAttributeNS(j.space,j.local,c(e))}}var j=d3.ns.qualify(g);return this.tween("attr."+g,j.local?h:i)},jX.style=function(f,e,g){return arguments.length<3&&(g=""),this.styleTween(f,jY(f,e),g)},jX.styleTween=function(f,e,g){return arguments.length<3&&(g=""),this.tween("style."+f,function(c,b){var a=e.call(this,c,b,window.getComputedStyle(this,null).getPropertyValue(f));return a===j0?(this.style.removeProperty(f),null):a&&function(h){this.style.setProperty(f,a(h),g)}})},jX.text=function(b){return this.tween("text",function(a,e){this.textContent=typeof b=="function"?b.call(this,a,e):b})},jX.remove=function(){return this.each("end.transition",function(){var b;!this.__transition__&&(b=this.parentNode)&&b.removeChild(this)})},jX.delay=function(e){var c=this;return c.each(typeof e=="function"?function(f,b,a){c[a][b].delay=e.apply(this,arguments)|0}:(e|=0,function(f,b,a){c[a][b].delay=e}))},jX.duration=function(e){var c=this;return c.each(typeof e=="function"?function(f,b,a){c[a][b].duration=Math.max(1,e.apply(this,arguments)|0)}:(e=Math.max(1,e|0),function(f,b,a){c[a][b].duration=e}))},jX.transition=function(){return this.select(hC)};var jN=null,jM,jL;d3.timer=function(h,g,l){var k=!1,j,i=jN;if(arguments.length<3){if(arguments.length<2){g=0}else{if(!isFinite(g)){return}}l=Date.now()}while(i){if(i.callback===h){i.then=l,i.delay=g,k=!0;break}j=i,i=i.next}k||(jN={callback:h,then:l,delay:g,next:jN}),jM||(jL=clearTimeout(jL),jM=1,jI(jK))},d3.timer.flush=function(){var f,e=Date.now(),g=jN;while(g){f=e-g.then,g.delay||(g.flush=g.callback(f)),g=g.next}jJ()};var jI=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(b){setTimeout(b,17)};d3.transform=function(f){var e=document.createElementNS(d3.ns.prefix.svg,"g"),g={a:1,b:0,c:0,d:1,e:0,f:0};return(d3.transform=function(b){e.setAttribute("transform",b);var c=e.transform.baseVal.consolidate();return new jH(c?c.matrix:g)})(f)},jH.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var j6=180/Math.PI;d3.mouse=function(b){return ie(b,iv())};var jD=/WebKit/.test(navigator.userAgent)?-1:0;d3.touches=function(e,c){return arguments.length<2&&(c=iv().touches),c?h1(c).map(function(a){var f=ie(e,a);return f.identifier=a.identifier,f}):[]},d3.scale={},d3.scale.linear=function(){return hW([0,1],[0,1],d3.interpolate,!1)},d3.scale.log=function(){return hy(d3.scale.linear(),hs)};var hv=d3.format(".0e");hs.pow=function(b){return Math.pow(10,b)},hp.pow=function(b){return -Math.pow(10,-b)},d3.scale.pow=function(){return hm(d3.scale.linear(),1)},d3.scale.sqrt=function(){return d3.scale.pow().exponent(0.5)},d3.scale.ordinal=function(){return hg([],{t:"range",x:[]})},d3.scale.category10=function(){return d3.scale.ordinal().range(hd)},d3.scale.category20=function(){return d3.scale.ordinal().range(ha)},d3.scale.category20b=function(){return d3.scale.ordinal().range(g7)},d3.scale.category20c=function(){return d3.scale.ordinal().range(g4)};var hd=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],ha=["#1f77b4","#aec7e8","#ff7f0e","#ffbb78","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5","#8c564b","#c49c94","#e377c2","#f7b6d2","#7f7f7f","#c7c7c7","#bcbd22","#dbdb8d","#17becf","#9edae5"],g7=["#393b79","#5254a3","#6b6ecf","#9c9ede","#637939","#8ca252","#b5cf6b","#cedb9c","#8c6d31","#bd9e39","#e7ba52","#e7cb94","#843c39","#ad494a","#d6616b","#e7969c","#7b4173","#a55194","#ce6dbd","#de9ed6"],g4=["#3182bd","#6baed6","#9ecae1","#c6dbef","#e6550d","#fd8d3c","#fdae6b","#fdd0a2","#31a354","#74c476","#a1d99b","#c7e9c0","#756bb1","#9e9ac8","#bcbddc","#dadaeb","#636363","#969696","#bdbdbd","#d9d9d9"];d3.scale.quantile=function(){return g1([],[])},d3.scale.quantize=function(){return jB(0,1,[0,1])},d3.scale.identity=function(){return jy([0,1])},d3.svg={},d3.svg.arc=function(){function h(){var u=g.apply(this,arguments),t=f.apply(this,arguments),s=j.apply(this,arguments)+jt,r=i.apply(this,arguments)+jt,q=(r<s&&(q=s,s=r,r=q),r-s),p=q<Math.PI?"0":"1",o=Math.cos(s),c=Math.sin(s),b=Math.cos(r),a=Math.sin(r);return q>=jq?u?"M0,"+t+"A"+t+","+t+" 0 1,1 0,"+-t+"A"+t+","+t+" 0 1,1 0,"+t+"M0,"+u+"A"+u+","+u+" 0 1,0 0,"+-u+"A"+u+","+u+" 0 1,0 0,"+u+"Z":"M0,"+t+"A"+t+","+t+" 0 1,1 0,"+-t+"A"+t+","+t+" 0 1,1 0,"+t+"Z":u?"M"+t*o+","+t*c+"A"+t+","+t+" 0 "+p+",1 "+t*b+","+t*a+"L"+u*b+","+u*a+"A"+u+","+u+" 0 "+p+",0 "+u*o+","+u*c+"Z":"M"+t*o+","+t*c+"A"+t+","+t+" 0 "+p+",1 "+t*b+","+t*a+"L0,0Z"}var g=jo,f=jl,j=ji,i=jf;return h.innerRadius=function(a){return arguments.length?(g=d3.functor(a),h):g},h.outerRadius=function(b){return arguments.length?(f=d3.functor(b),h):f},h.startAngle=function(b){return arguments.length?(j=d3.functor(b),h):j},h.endAngle=function(b){return arguments.length?(i=d3.functor(b),h):i},h.centroid=function(){var b=(g.apply(this,arguments)+f.apply(this,arguments))/2,a=(j.apply(this,arguments)+i.apply(this,arguments))/2+jt;return[Math.cos(a)*b,Math.sin(a)*b]},h};var jt=-Math.PI/2,jq=2*Math.PI-0.000001;d3.svg.line=function(){return jc(Object)};var iZ="linear",iW=d3.map({linear:iU,"step-before":iR,"step-after":iO,basis:iw,"basis-open":it,"basis-closed":ip,bundle:il,cardinal:iF,"cardinal-open":iL,"cardinal-closed":iI,monotone:gK}),ii=[0,2/3,1/3,0],gX=[0,1/3,2/3,0],gU=[0,1/6,2/3,1/6];d3.svg.line.radial=function(){var b=jc(gI);return b.radius=b.x,delete b.x,b.angle=b.y,delete b.y,b},iR.reverse=iO,iO.reverse=iR,d3.svg.area=function(){return gG(Object)},d3.svg.area.radial=function(){var b=gG(gI);return b.radius=b.x,delete b.x,b.innerRadius=b.x0,delete b.x0,b.outerRadius=b.x1,delete b.x1,b.angle=b.y,delete b.y,b.startAngle=b.y0,delete b.y0,b.endAngle=b.y1,delete b.y1,b},d3.svg.chord=function(){function o(h,g){var b=n(this,t,h,g),a=n(this,s,h,g);return"M"+b.p0+l(b.r,b.p1,b.a1-b.a0)+(m(b,a)?k(b.r,b.p1,b.r,b.p0):k(b.r,b.p1,a.r,a.p0)+l(a.r,a.p1,a.a1-a.a0)+k(a.r,a.p1,b.r,b.p0))+"Z"}function n(e,c,z,y){var x=c.call(e,z,y),w=r.call(e,x,y),v=q.call(e,x,y)+jt,u=p.call(e,x,y)+jt;return{r:w,a0:v,a1:u,p0:[w*Math.cos(v),w*Math.sin(v)],p1:[w*Math.cos(u),w*Math.sin(u)]}}function m(e,c){return e.a0==c.a0&&e.a1==c.a1}function l(f,e,g){return"A"+f+","+f+" 0 "+ +(g>Math.PI)+",1 "+e}function k(f,e,h,g){return"Q 0,0 "+g}var t=gA,s=gy,r=gx,q=ji,p=jf;return o.radius=function(b){return arguments.length?(r=d3.functor(b),o):r},o.source=function(a){return arguments.length?(t=d3.functor(a),o):t},o.target=function(b){return arguments.length?(s=d3.functor(b),o):s},o.startAngle=function(b){return arguments.length?(q=d3.functor(b),o):q},o.endAngle=function(b){return arguments.length?(p=d3.functor(b),o):p},o},d3.svg.diagonal=function(){function g(l,k){var j=f.call(this,l,k),c=e.call(this,l,k),b=(j.y+c.y)/2,a=[j,{x:j.x,y:b},{x:c.x,y:b},c];return a=a.map(h),"M"+a[0]+"C"+a[1]+" "+a[2]+" "+a[3]}var f=gA,e=gy,h=gq;return g.source=function(a){return arguments.length?(f=d3.functor(a),g):f},g.target=function(b){return arguments.length?(e=d3.functor(b),g):e},g.projection=function(b){return arguments.length?(h=b,g):h},g},d3.svg.diagonal.radial=function(){var f=d3.svg.diagonal(),e=gq,g=f.projection;return f.projection=function(b){return arguments.length?g(f8(e=b)):e},f},d3.svg.mouse=d3.mouse,d3.svg.touches=d3.touches,d3.svg.symbol=function(){function g(b,a){return(f0.get(f.call(this,b,a))||f2)(e.call(this,b,a))}var f=f4,e=f6;return g.type=function(a){return arguments.length?(f=d3.functor(a),g):f},g.size=function(b){return arguments.length?(e=d3.functor(b),g):e},g};var f0=d3.map({circle:f2,cross:function(e){var c=Math.sqrt(e/5)/2;return"M"+-3*c+","+-c+"H"+-c+"V"+-3*c+"H"+c+"V"+-c+"H"+3*c+"V"+c+"H"+c+"V"+3*c+"H"+-c+"V"+c+"H"+-3*c+"Z"},diamond:function(f){var e=Math.sqrt(f/(2*e6)),g=e*e6;return"M0,"+-e+"L"+g+",0 0,"+e+" "+-g+",0Z"},square:function(e){var c=Math.sqrt(e)/2;return"M"+-c+","+-c+"L"+c+","+-c+" "+c+","+c+" "+-c+","+c+"Z"},"triangle-down":function(f){var e=Math.sqrt(f/e8),g=e*e8/2;return"M0,"+g+"L"+e+","+-g+" "+-e+","+-g+"Z"},"triangle-up":function(f){var e=Math.sqrt(f/e8),g=e*e8/2;return"M0,"+-g+"L"+e+","+g+" "+-e+","+g+"Z"}});d3.svg.symbolTypes=f0.keys();var e8=Math.sqrt(3),e6=Math.tan(30*Math.PI/180);d3.svg.axis=function(){function l(a){a.each(function(){var R=d3.select(this),Q=o==null?v.ticks?v.ticks.apply(v,p):v.domain():o,P=n==null?v.tickFormat?v.tickFormat.apply(v,p):String:n,O=id(v,Q,m),N=R.selectAll(".minor").data(O,String),M=N.enter().insert("line","g").attr("class","tick minor").style("opacity",0.000001),K=d3.transition(N.exit()).style("opacity",0.000001).remove(),I=d3.transition(N).style("opacity",1),G=R.selectAll("g").data(Q,String),j=G.enter().insert("g","path").style("opacity",0.000001),h=d3.transition(G.exit()).style("opacity",0.000001).remove(),g=d3.transition(G).style("opacity",1),f,e=h5(v),c=R.selectAll(".domain").data([0]),b=c.enter().append("path").attr("class","domain"),L=d3.transition(c),J=v.copy(),H=this.__chart__||J;this.__chart__=J,j.append("line").attr("class","tick"),j.append("text"),g.select("text").text(P);switch(u){case"bottom":f=e5,M.attr("y2",s),I.attr("x2",0).attr("y2",s),j.select("line").attr("y2",t),j.select("text").attr("y",Math.max(t,0)+q),g.select("line").attr("x2",0).attr("y2",t),g.select("text").attr("x",0).attr("y",Math.max(t,0)+q).attr("dy",".71em").attr("text-anchor","middle"),L.attr("d","M"+e[0]+","+r+"V0H"+e[1]+"V"+r);break;case"top":f=e5,M.attr("y2",-s),I.attr("x2",0).attr("y2",-s),j.select("line").attr("y2",-t),j.select("text").attr("y",-(Math.max(t,0)+q)),g.select("line").attr("x2",0).attr("y2",-t),g.select("text").attr("x",0).attr("y",-(Math.max(t,0)+q)).attr("dy","0em").attr("text-anchor","middle"),L.attr("d","M"+e[0]+","+-r+"V0H"+e[1]+"V"+-r);break;case"left":f=ih,M.attr("x2",-s),I.attr("x2",-s).attr("y2",0),j.select("line").attr("x2",-t),j.select("text").attr("x",-(Math.max(t,0)+q)),g.select("line").attr("x2",-t).attr("y2",0),g.select("text").attr("x",-(Math.max(t,0)+q)).attr("y",0).attr("dy",".32em").attr("text-anchor","end"),L.attr("d","M"+-r+","+e[0]+"H0V"+e[1]+"H"+-r);break;case"right":f=ih,M.attr("x2",s),I.attr("x2",s).attr("y2",0),j.select("line").attr("x2",t),j.select("text").attr("x",Math.max(t,0)+q),g.select("line").attr("x2",t).attr("y2",0),g.select("text").attr("x",Math.max(t,0)+q).attr("y",0).attr("dy",".32em").attr("text-anchor","start"),L.attr("d","M"+r+","+e[0]+"H0V"+e[1]+"H"+r)}if(v.ticks){j.call(f,H),g.call(f,J),h.call(f,J),M.call(f,H),I.call(f,J),K.call(f,J)}else{var F=J.rangeBand()/2,i=function(k){return J(k)+F};j.call(f,i),g.call(f,i)}})}var v=d3.scale.linear(),u="bottom",t=6,s=6,r=6,q=3,p=[10],o=null,n,m=0;return l.scale=function(a){return arguments.length?(v=a,l):v},l.orient=function(b){return arguments.length?(u=b,l):u},l.ticks=function(){return arguments.length?(p=arguments,l):p},l.tickValues=function(b){return arguments.length?(o=b,l):o},l.tickFormat=function(b){return arguments.length?(n=b,l):n},l.tickSize=function(e,c,i){if(!arguments.length){return t}var h=arguments.length-1;return t=+e,s=h>1?+c:t,r=h>0?+arguments[h]:t,l},l.tickPadding=function(b){return arguments.length?(q=+b,l):q},l.tickSubdivide=function(b){return arguments.length?(m=+b,l):m},l},d3.svg.brush=function(){function p(b){b.each(function(){var h=d3.select(this),j=h.selectAll(".background").data([0]),i=h.selectAll(".extent").data([0]),g=h.selectAll(".resize").data(s,String),c;h.style("pointer-events","all").on("mousedown.brush",l).on("touchstart.brush",l),j.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),i.enter().append("rect").attr("class","extent").style("cursor","move"),g.enter().append("g").attr("class",function(e){return"resize "+e}).style("cursor",function(e){return h8[e]}).append("rect").attr("x",function(e){return/[ew]$/.test(e)?-3:null}).attr("y",function(e){return/^[ns]/.test(e)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),g.style("display",p.empty()?"none":null),g.exit().remove(),u&&(c=h5(u),j.attr("x",c[0]).attr("width",c[1]-c[0]),n(h)),t&&(c=h5(t),j.attr("y",c[0]).attr("height",c[1]-c[0]),m(h)),o(h)})}function o(b){b.selectAll(".resize").attr("transform",function(c){return"translate("+r[+/e$/.test(c)][0]+","+r[+/^s/.test(c)][1]+")"})}function n(b){b.select(".extent").attr("x",r[0][0]),b.selectAll(".extent,.n>rect,.s>rect").attr("width",r[1][0]-r[0][0])}function m(b){b.select(".extent").attr("y",r[0][1]),b.selectAll(".extent,.e>rect,.w>rect").attr("height",r[1][1]-r[0][1])}function l(){function c(){var k=d3.event.changedTouches;return k?d3.touches(N,k)[0]:d3.mouse(N)}function b(){d3.event.keyCode==32&&(F||(D=null,i[0]-=r[1][0],i[1]-=r[1][1],F=2),iy())}function a(){d3.event.keyCode==32&&F==2&&(i[0]+=r[1][0],i[1]+=r[1][1],F=0,iy())}function G(){var k=c(),w=!1;h&&(k[0]+=h[0],k[1]+=h[1]),F||(d3.event.altKey?(D||(D=[(r[0][0]+r[1][0])/2,(r[0][1]+r[1][1])/2]),i[0]=r[+(k[0]<D[0])][0],i[1]=r[+(k[1]<D[1])][1]):D=null),I&&E(k,u,0)&&(n(K),w=!0),H&&E(k,t,1)&&(m(K),w=!0),w&&(o(K),L({type:"brush",mode:F?"move":"resize"}))}function E(Q,P,O){var C=h5(P),B=C[0],A=C[1],z=i[O],y=r[1][O]-r[0][O],x,w;F&&(B-=z,A-=y+z),x=Math.max(B,Math.min(A,Q[O])),F?w=(x+=z)+y:(D&&(z=Math.max(B,Math.min(A,2*D[O]-x))),z<x?(w=x,x=z):w=z);if(r[0][O]!==x||r[1][O]!==w){return q=null,r[0][O]=x,r[1][O]=w,!0}}function j(){G(),K.style("pointer-events","all").selectAll(".resize").style("display",p.empty()?"none":null),d3.select("body").style("cursor",null),g.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),L({type:"brushend"}),iy()}var N=this,M=d3.select(d3.event.target),L=v.of(N,arguments),K=d3.select(N),J=M.datum(),I=!/^(n|s)$/.test(J)&&u,H=!/^(e|w)$/.test(J)&&t,F=M.classed("extent"),D,i=c(),h,g=d3.select(window).on("mousemove.brush",G).on("mouseup.brush",j).on("touchmove.brush",G).on("touchend.brush",j).on("keydown.brush",b).on("keyup.brush",a);if(F){i[0]=r[0][0]-i[0],i[1]=r[0][1]-i[1]}else{if(J){var f=+/w$/.test(J),e=+/^n/.test(J);h=[r[1-f][0]-i[0],r[1-e][1]-i[1]],i[0]=r[f][0],i[1]=r[e][1]}else{d3.event.altKey&&(D=i.slice())}}K.style("pointer-events","none").selectAll(".resize").style("display",null),d3.select("body").style("cursor",M.style("cursor")),L({type:"brushstart"}),G(),iy()}var v=ir(p,"brushstart","brush","brushend"),u=null,t=null,s=h6[0],r=[[0,0],[0,0]],q;return p.x=function(b){return arguments.length?(u=b,s=h6[!u<<1|!t],p):u},p.y=function(b){return arguments.length?(t=b,s=h6[!u<<1|!t],p):t},p.extent=function(b){var w,g,f,e,c;return arguments.length?(q=[[0,0],[0,0]],u&&(w=b[0],g=b[1],t&&(w=w[0],g=g[0]),q[0][0]=w,q[1][0]=g,u.invert&&(w=u(w),g=u(g)),g<w&&(c=w,w=g,g=c),r[0][0]=w|0,r[1][0]=g|0),t&&(f=b[0],e=b[1],u&&(f=f[1],e=e[1]),q[0][1]=f,q[1][1]=e,t.invert&&(f=t(f),e=t(e)),e<f&&(c=f,f=e,e=c),r[0][1]=f|0,r[1][1]=e|0),p):(b=q||r,u&&(w=b[0][0],g=b[1][0],q||(w=r[0][0],g=r[1][0],u.invert&&(w=u.invert(w),g=u.invert(g)),g<w&&(c=w,w=g,g=c))),t&&(f=b[0][1],e=b[1][1],q||(f=r[0][1],e=r[1][1],t.invert&&(f=t.invert(f),e=t.invert(e)),e<f&&(c=f,f=e,e=c))),u&&t?[[w,f],[g,e]]:u?[w,g]:t&&[f,e])},p.clear=function(){return q=null,r[0][0]=r[0][1]=r[1][0]=r[1][1]=0,p},p.empty=function(){return u&&r[0][0]===r[1][0]||t&&r[0][1]===r[1][1]},d3.rebind(p,v,"on")};var h8={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},h6=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]];d3.behavior={},d3.behavior.drag=function(){function h(){this.on("mousedown.drag",g).on("touchstart.drag",g)}function g(){function o(){var i=v.parentNode,c=d3.event.changedTouches;return c?d3.touches(i,c)[0]:d3.mouse(i)}function n(){if(!v.parentNode){return b()}var i=o(),c=i[0]-r[0],j=i[1]-r[1];q|=c|j,r=i,iy(),u({type:"drag",x:i[0]+s[0],y:i[1]+s[1],dx:c,dy:j})}function b(){u({type:"dragend"}),q&&(iy(),d3.event.target===t&&p.on("click.drag",a,!0)),p.on("mousemove.drag",null).on("touchmove.drag",null).on("mouseup.drag",null).on("touchend.drag",null)}function a(){iy(),p.on("click.drag",null)}var v=this,u=f.of(v,arguments),t=d3.event.target,s,r=o(),q=0,p=d3.select(window).on("mousemove.drag",n).on("touchmove.drag",n).on("mouseup.drag",b,!0).on("touchend.drag",b,!0);e?(s=e.apply(v,arguments),s=[s.x-r[0],s.y-r[1]]):s=[0,0],u({type:"dragstart"})}var f=ir(h,"drag","dragstart","dragend"),e=null;return h.origin=function(b){return arguments.length?(e=b,h):e},d3.rebind(h,f,"on")},d3.behavior.zoom=function(){function I(){this.on("mousedown.zoom",C).on("mousewheel.zoom",B).on("mousemove.zoom",A).on("DOMMouseScroll.zoom",B).on("dblclick.zoom",z).on("touchstart.zoom",y).on("touchmove.zoom",x).on("touchend.zoom",y)}function H(a){return[(a[0]-T[0])/R,(a[1]-T[1])/R]}function G(a){return[a[0]*R+T[0],a[1]*R+T[1]]}function F(b){R=Math.max(P[0],Math.min(P[1],b))}function E(a,e){e=G(e),T[0]+=a[0]-e[0],T[1]+=a[1]-e[1]}function D(a){M&&M.domain(N.range().map(function(c){return(c-T[0])/R}).map(N.invert)),K&&K.domain(L.range().map(function(c){return(c-T[1])/R}).map(L.invert)),d3.event.preventDefault(),a({type:"zoom",scale:R,translate:T})}function C(){function l(){o=1,E(d3.mouse(r),m),D(q)}function k(){o&&iy(),n.on("mousemove.zoom",null).on("mouseup.zoom",null),o&&d3.event.target===p&&n.on("click.zoom",f)}function f(){iy(),n.on("click.zoom",null)}var r=this,q=O.of(r,arguments),p=d3.event.target,o=0,n=d3.select(window).on("mousemove.zoom",l).on("mouseup.zoom",k),m=H(d3.mouse(r));window.focus(),iy()}function B(){S||(S=H(d3.mouse(this))),F(Math.pow(2,hY()*0.002)*R),E(d3.mouse(this),S),D(O.of(this,arguments))}function A(){S=null}function z(){var e=d3.mouse(this),c=H(e);F(d3.event.shiftKey?R/2:R*2),E(e,c),D(O.of(this,arguments))}function y(){var b=d3.touches(this),i=Date.now();Q=R,S={},b.forEach(function(e){S[e.identifier]=H(e)}),iy();if(b.length===1&&i-J<500){var f=b[0],c=H(b[0]);F(R*2),E(f,c),D(O.of(this,arguments))}J=i}function x(){var b=d3.touches(this),k=b[0],j=S[k.identifier];if(i=b[1]){var i,f=S[i.identifier];k=[(k[0]+i[0])/2,(k[1]+i[1])/2],j=[(j[0]+f[0])/2,(j[1]+f[1])/2],F(d3.event.scale*Q)}E(k,j),D(O.of(this,arguments))}var T=[0,0],S,R=1,Q,P=h0,O=ir(I,"zoom"),N,M,L,K,J;return I.translate=function(a){return arguments.length?(T=a.map(Number),I):T},I.scale=function(b){return arguments.length?(R=+b,I):R},I.scaleExtent=function(b){return arguments.length?(P=b==null?h0:b.map(Number),I):P},I.x=function(b){return arguments.length?(M=b,N=b.copy(),I):M},I.y=function(b){return arguments.length?(K=b,L=b.copy(),I):K},d3.rebind(I,O,"on")};var h3,h0=[0,Infinity];d3.layout={},d3.layout.bundle=function(){return function(f){var e=[],h=-1,g=f.length;while(++h<g){e.push(hV(f[h]))}return e}},d3.layout.chord=function(){function m(){var B={},k=[],i=d3.range(r),h=[],g,f,e,c,b;u=[],t=[],g=0,c=-1;while(++c<r){f=0,b=-1;while(++b<r){f+=s[c][b]}k.push(f),h.push(d3.range(r)),g+=f}p&&i.sort(function(w,j){return p(k[w],k[j])}),o&&h.forEach(function(w,j){w.sort(function(x,y){return o(s[j][x],s[j][y])})}),g=(2*Math.PI-q*r)/g,f=0,c=-1;while(++c<r){e=f,b=-1;while(++b<r){var G=i[c],F=h[G][b],E=s[G][F],D=f,C=f+=E*g;B[G+"-"+F]={index:G,subindex:F,startAngle:D,endAngle:C,value:E}}t.push({index:G,startAngle:e,endAngle:f,value:(f-e)/g}),f+=q}c=-1;while(++c<r){b=c-1;while(++b<r){var A=B[c+"-"+b],z=B[b+"-"+c];(A.value||z.value)&&u.push(A.value<z.value?{source:z,target:A}:{source:A,target:z})}}n&&l()}function l(){u.sort(function(e,c){return n((e.source.value+e.target.value)/2,(c.source.value+c.target.value)/2)})}var v={},u,t,s,r,q=0,p,o,n;return v.matrix=function(a){return arguments.length?(r=(s=a)&&s.length,u=t=null,v):s},v.padding=function(a){return arguments.length?(q=a,u=t=null,v):q},v.sortGroups=function(a){return arguments.length?(p=a,u=t=null,v):p},v.sortSubgroups=function(a){return arguments.length?(o=a,u=null,v):o},v.sortChords=function(a){return arguments.length?(n=a,u&&l(),v):n},v.chords=function(){return u||m(),u},v.groups=function(){return t||m(),t},v},d3.layout.force=function(){function u(b){return function(r,q,p,o,n){if(r.point!==b){var m=r.cx-b.x,l=r.cy-b.y,k=1/Math.sqrt(m*m+l*l);if((o-q)*k<B){var a=r.charge*k*k;return b.px-=m*a,b.py-=l*a,!0}if(r.point&&isFinite(k)){var a=r.pointCharge*k*k;b.px-=m*a,b.py-=l*a}}return !r.charge}}function t(a){hG(hI=a),hL=L}var L={},K=d3.dispatch("start","tick","end"),J=[1,1],I,H,G=0.9,F=hr,E=ho,D=-30,C=0.1,B=0.8,A,z=[],y=[],x,w,v;return L.tick=function(){if((H*=0.99)<0.005){return K.end({type:"end",alpha:H=0}),!0}var j=z.length,i=y.length,f,e,c,b,q,p,o,n,m;for(e=0;e<i;++e){c=y[e],b=c.source,q=c.target,n=q.x-b.x,m=q.y-b.y;if(p=n*n+m*m){p=H*w[e]*((p=Math.sqrt(p))-x[e])/p,n*=p,m*=p,q.x-=n*(o=b.weight/(q.weight+b.weight)),q.y-=m*o,b.x+=n*(o=1-o),b.y+=m*o}}if(o=H*C){n=J[0]/2,m=J[1]/2,e=-1;if(o){while(++e<j){c=z[e],c.x+=(n-c.x)*o,c.y+=(m-c.y)*o}}}if(D){hu(f=d3.geom.quadtree(z),H,v),e=-1;while(++e<j){(c=z[e]).fixed||f.visit(u(c))}}e=-1;while(++e<j){c=z[e],c.fixed?(c.x=c.px,c.y=c.py):(c.x-=(c.px-(c.px=c.x))*G,c.y-=(c.py-(c.py=c.y))*G)}K.tick({type:"tick",alpha:H})},L.nodes=function(a){return arguments.length?(z=a,L):z},L.links=function(a){return arguments.length?(y=a,L):y},L.size=function(a){return arguments.length?(J=a,L):J},L.linkDistance=function(a){return arguments.length?(F=d3.functor(a),L):F},L.distance=L.linkDistance,L.linkStrength=function(a){return arguments.length?(E=d3.functor(a),L):E},L.friction=function(a){return arguments.length?(G=a,L):G},L.charge=function(a){return arguments.length?(D=typeof a=="function"?a:+a,L):D},L.gravity=function(a){return arguments.length?(C=a,L):C},L.theta=function(a){return arguments.length?(B=a,L):B},L.alpha=function(a){return arguments.length?(H?a>0?H=a:H=0:a>0&&(K.start({type:"start",alpha:H=a}),d3.timer(L.tick)),L):H},L.start=function(){function q(b,s){var r=p(o),l=-1,k=r.length,j;while(++l<k){if(!isNaN(j=r[l][b])){return j}}return Math.random()*s}function p(){if(!c){c=[];for(n=0;n<m;++n){c[n]=[]}for(n=0;n<i;++n){var b=y[n];c[b.source.index].push(b.target),c[b.target.index].push(b.source)}}return c[o]}var o,n,m=z.length,i=y.length,h=J[0],g=J[1],c,a;for(o=0;o<m;++o){(a=z[o]).index=o,a.weight=0}x=[],w=[];for(o=0;o<i;++o){a=y[o],typeof a.source=="number"&&(a.source=z[a.source]),typeof a.target=="number"&&(a.target=z[a.target]),x[o]=F.call(this,a,o),w[o]=E.call(this,a,o),++a.source.weight,++a.target.weight}for(o=0;o<m;++o){a=z[o],isNaN(a.x)&&(a.x=q("x",h)),isNaN(a.y)&&(a.y=q("y",g)),isNaN(a.px)&&(a.px=a.x),isNaN(a.py)&&(a.py=a.y)}v=[];if(typeof D=="function"){for(o=0;o<m;++o){v[o]=+D.call(this,z[o],o)}}else{for(o=0;o<m;++o){v[o]=D}}return L.resume()},L.resume=function(){return L.alpha(0.1)},L.stop=function(){return L.alpha(0)},L.drag=function(){I||(I=d3.behavior.drag().origin(Object).on("dragstart",t).on("drag",hx).on("dragend",hA)),this.on("mouseover.force",hG).on("mouseout.force",hD).call(I)},d3.rebind(L,K,"on")};var hL,hI;d3.layout.partition=function(){function j(r,q,p,o){var n=r.children;r.x=q,r.y=r.depth*o,r.dx=p,r.dy=o;if(n&&(l=n.length)){var m=-1,l,k,c;p=r.value?p/r.value:0;while(++m<l){j(k=n[m],q,c=k.value*p,o),q+=c}}}function i(l){var k=l.children,o=0;if(k&&(m=k.length)){var n=-1,m;while(++n<m){o=Math.max(o,i(k[n]))}}return 1+o}function h(c,b){var a=g.call(this,c,b);return j(a[0],0,f[0],f[1]/i(a[0])),a}var g=d3.layout.hierarchy(),f=[1,1];return h.size=function(b){return arguments.length?(f=b,h):f},d1(h,g)},d3.layout.pie=function(){function i(o,n){var f=o.map(function(l,m){return +h.call(i,l,m)}),e=+(typeof k=="function"?k.apply(this,arguments):k),c=((typeof j=="function"?j.apply(this,arguments):j)-k)/d3.sum(f),b=d3.range(o.length);g!=null&&b.sort(g===hk?function(m,l){return f[l]-f[m]}:function(l,m){return g(o[l],o[m])});var a=[];return b.forEach(function(l){a[l]={data:o[l],value:d=f[l],startAngle:e,endAngle:e+=d*c}}),a}var h=Number,g=hk,k=0,j=2*Math.PI;return i.value=function(a){return arguments.length?(h=a,i):h},i.sort=function(b){return arguments.length?(g=b,i):g},i.startAngle=function(b){return arguments.length?(k=b,i):k},i.endAngle=function(b){return arguments.length?(j=b,i):j},i};var hk={};d3.layout.stack=function(){function j(w,v){var u=w.map(function(o,p){return i.call(j,o,p)}),t=u.map(function(p,o){return p.map(function(r,q){return[l.call(j,r,q),k.call(j,r,q)]})}),s=h.call(j,t,v);u=d3.permute(u,s),t=d3.permute(t,s);var g=n.call(j,t,v),f=u.length,e=u[0].length,c,b,a;for(b=0;b<e;++b){m.call(j,u[0][b],a=g[b],t[0][b][1]);for(c=1;c<f;++c){m.call(j,u[c][b],a+=t[c-1][b][1],t[c][b][1])}}return w}var i=Object,h=g3,n=jv,m=hc,l=hi,k=hf;return j.values=function(a){return arguments.length?(i=a,j):i},j.order=function(b){return arguments.length?(h=typeof b=="function"?b:g8.get(b)||g3,j):h},j.offset=function(b){return arguments.length?(n=typeof b=="function"?b:g5.get(b)||jv,j):n},j.x=function(b){return arguments.length?(l=b,j):l},j.y=function(b){return arguments.length?(k=b,j):k},j.out=function(b){return arguments.length?(m=b,j):m},j};var g8=d3.map({"inside-out":function(v){var u=v.length,t,s,r=v.map(g0),q=v.map(e1),p=d3.range(u).sort(function(e,c){return r[e]-r[c]}),o=0,n=0,m=[],l=[];for(t=0;t<u;++t){s=p[t],o<n?(o+=q[s],m.push(s)):(n+=q[s],l.push(s))}return l.reverse().concat(m)},reverse:function(b){return d3.range(b.length).reverse()},"default":g3}),g5=d3.map({silhouette:function(r){var q=r.length,p=r[0].length,o=[],n=0,m,l,k,j=[];for(l=0;l<p;++l){for(m=0,k=0;m<q;m++){k+=r[m][l][1]}k>n&&(n=k),o.push(k)}for(l=0;l<p;++l){j[l]=(n-o[l])/2}return j},wiggle:function(D){var C=D.length,B=D[0],A=B.length,z=0,y,x,w,v,u,t,s,r,q,p=[];p[0]=r=q=0;for(x=1;x<A;++x){for(y=0,v=0;y<C;++y){v+=D[y][x][1]}for(y=0,u=0,s=B[x][0]-B[x-1][0];y<C;++y){for(w=0,t=(D[y][x][1]-D[y][x-1][1])/(2*s);w<y;++w){t+=(D[w][x][1]-D[w][x-1][1])/s}u+=t*D[y][x][1]}p[x]=r-=v?u/v*s:0,r<q&&(q=r)}for(x=0;x<A;++x){p[x]-=q}return p},expand:function(j){var i=j.length,p=j[0].length,o=1/i,n,m,l,k=[];for(m=0;m<p;++m){for(n=0,l=0;n<i;n++){l+=j[n][m][1]}if(l){for(n=0;n<i;n++){j[n][m][1]/=l}}else{for(n=0;n<i;n++){j[n][m][1]=o}}}for(m=0;m<p;++m){k[m]=0}return k},zero:jv});d3.layout.histogram=function(){function h(w,v){var u=[],t=w.map(f,this),s=j.call(this,t,v),r=i.call(this,s,t,v),q,v=-1,p=t.length,c=r.length-1,b=g?1:1/p,a;while(++v<c){q=u[v]=[],q.dx=r[v+1]-(q.x=r[v]),q.y=0}v=-1;while(++v<p){a=t[v],a>=s[0]&&a<=s[1]&&(q=u[d3.bisect(r,a,1,c)-1],q.y+=b,q.push(w[v]))}return u}var g=!0,f=Number,j=d4,i=d7;return h.value=function(b){return arguments.length?(f=b,h):f},h.range=function(b){return arguments.length?(j=d3.functor(b),h):j},h.bins=function(b){return arguments.length?(i=typeof b=="number"?function(a){return d6(a,b)}:d3.functor(b),h):i},h.frequency=function(a){return arguments.length?(g=!!a,h):g},h},d3.layout.hierarchy=function(){function l(u,t,s){var r=h.call(j,u,t),q=c0?u:{data:u};q.depth=t,s.push(q);if(r&&(e=r.length)){var g=-1,e,c=q.children=[],b=0,a=t+1;while(++g<e){d=l(r[g],a,s),d.parent=q,c.push(d),b+=d.value}i&&c.sort(i),m&&(q.value=b)}else{m&&(q.value=+m.call(j,u,t)||0)}return q}function k(f,c){var q=f.children,p=0;if(q&&(n=q.length)){var o=-1,n,g=c+1;while(++o<n){p+=k(q[o],g)}}else{m&&(p=+m.call(j,c0?f:f.data,c)||0)}return m&&(f.value=p),p}function j(e){var c=[];return l(e,0,c),c}var i=c4,h=c8,m=c6;return j.sort=function(a){return arguments.length?(i=a,j):i},j.children=function(b){return arguments.length?(h=b,j):h},j.value=function(b){return arguments.length?(m=b,j):m},j.revalue=function(b){return k(b,0),b},j};var c0=!1;d3.layout.pack=function(){function g(n,m){var l=f.call(this,n,m),k=l[0];k.x=0,k.y=0,a5(k);var j=e[0],b=e[1],a=1/Math.max(2*k.r/j,2*k.r/b);return a2(k,j/2,b/2,a),l}var f=d3.layout.hierarchy().sort(b8),e=[1,1];return g.size=function(b){return arguments.length?(e=b,g):e},d1(g,f)},d3.layout.cluster=function(){function g(x,w){var v=f.call(this,x,w),u=v[0],t,s=0,r,q;gN(u,function(i){var j=i.children;j&&j.length?(i.x=aX(j),i.y=aY(j)):(i.x=t?s+=e(i,t):0,i.y=0,t=i)});var p=aU(u),c=aS(u),b=p.x-e(p,c)/2,a=c.x+e(c,p)/2;return gN(u,function(i){i.x=(i.x-b)/(a-b)*h[0],i.y=(1-(u.y?i.y/u.y:1))*h[1]}),v}var f=d3.layout.hierarchy().sort(null).value(null),e=aR,h=[1,1];return g.separation=function(b){return arguments.length?(e=b,g):e},g.size=function(b){return arguments.length?(h=b,g):h},d1(g,f)},d3.layout.tree=function(){function g(z,y){function v(H,G){var F=H.children,E=H._tree;if(F&&(D=F.length)){var D,C=F[0],B,A=C,p,o=-1;while(++o<D){p=F[o],v(p,B),A=t(p,B,A),B=p}gL(H);var j=0.5*(C._tree.prelim+p._tree.prelim);G?(E.prelim=G._tree.prelim+e(H,G),E.mod=E.prelim-j):E.prelim=j}else{G&&(E.prelim=G._tree.prelim+e(H,G))}}function u(j,i){j.x=j._tree.prelim+i;var m=j.children;if(m&&(k=m.length)){var l=-1,k;i+=j._tree.mod;while(++l<k){u(m[l],i)}}}function t(I,H,G){if(H){var F=I,E=I,D=H,C=I.parent.children[0],B=F._tree.mod,A=E._tree.mod,p=D._tree.mod,o=C._tree.mod,n;while(D=gY(D),F=gZ(F),D&&F){C=gZ(C),E=gY(E),E._tree.ancestor=I,n=D._tree.prelim+p-F._tree.prelim-B+e(D,F),n>0&&(gJ(gH(D,I,G),I,n),B+=n,A+=n),p+=D._tree.mod,B+=F._tree.mod,o+=C._tree.mod,A+=E._tree.mod}D&&!gY(E)&&(E._tree.thread=D,E._tree.mod+=p-A),F&&!gZ(C)&&(C._tree.thread=F,C._tree.mod+=B-o,G=I)}return G}var x=f.call(this,z,y),w=x[0];gN(w,function(j,i){j._tree={ancestor:j,prelim:0,mod:0,change:0,shift:0,number:i?i._tree.number+1:0}}),v(w),u(w,-w._tree.prelim);var s=gV(w,gR),r=gV(w,gT),q=gV(w,gP),c=s.x-e(s,r)/2,b=r.x+e(r,s)/2,a=q.depth||1;return gN(w,function(i){i.x=(i.x-c)/(b-c)*h[0],i.y=i.depth/a*h[1],delete i._tree}),x}var f=d3.layout.hierarchy().sort(null).value(null),e=aR,h=[1,1];return g.separation=function(b){return arguments.length?(e=b,g):e},g.size=function(b){return arguments.length?(h=b,g):h},d1(g,f)},d3.layout.treemap=function(){function t(h,g){var l=-1,k=h.length,j,i;while(++l<k){i=(j=h[l]).value*(g<0?0:g),j.area=isNaN(i)||i<=0?0:i}}function s(G){var F=G.children;if(F&&F.length){var E=x(G),D=[],C=F.slice(),m,l=Infinity,j,i=Math.min(E.dx,E.dy),e;t(C,E.dx*E.dy/G.value),D.area=0;while((e=C.length)>0){D.push(m=C[e-1]),D.area+=m.area,(j=q(D,i))<=l?(C.pop(),l=j):(D.area-=D.pop().area,p(D,i,E,!1),i=Math.min(E.dx,E.dy),D.length=D.area=0,l=Infinity)}D.length&&(p(D,i,E,!0),D.length=D.area=0),F.forEach(s)}}function r(h){var e=h.children;if(e&&e.length){var l=x(h),k=e.slice(),j,i=[];t(k,l.dx*l.dy/h.value),i.area=0;while(j=k.pop()){i.push(j),i.area+=j.area,j.z!=null&&(p(i,j.z?l.dx:l.dy,l,!k.length),i.length=i.area=0)}e.forEach(r)}}function q(j,h){var D=j.area,C,n=0,m=Infinity,l=-1,k=j.length;while(++l<k){if(!(C=j[l].area)){continue}C<m&&(m=C),C>n&&(n=C)}return D*=D,h*=h,D?Math.max(h*n*u/D,D/(h*m*u)):Infinity}function p(H,G,F,E){var D=-1,C=H.length,n=F.x,m=F.y,l=G?A(H.area/G):0,b;if(G==F.dx){if(E||l>F.dy){l=F.dy}while(++D<C){b=H[D],b.x=n,b.y=m,b.dy=l,n+=b.dx=Math.min(F.x+F.dx-n,l?A(b.area/l):0)}b.z=!0,b.dx+=F.x+F.dx-n,F.y+=l,F.dy-=l}else{if(E||l>F.dx){l=F.dx}while(++D<C){b=H[D],b.x=n,b.y=m,b.dx=l,m+=b.dy=Math.min(F.y+F.dy-m,l?A(b.area/l):0)}b.z=!1,b.dy+=F.y+F.dy-m,F.x+=l,F.dx-=l}}function o(a){var f=v||B(a),c=f[0];return c.x=0,c.y=0,c.dx=z[0],c.dy=z[1],v&&B.revalue(c),t([c],c.dx*c.dy/c.value),(v?r:s)(c),w&&(v=f),f}var B=d3.layout.hierarchy(),A=Math.round,z=[1,1],y=null,x=gF,w=!1,v,u=0.5*(1+Math.sqrt(5));return o.size=function(b){return arguments.length?(z=b,o):z},o.padding=function(g){function e(a){var f=g.call(o,a,a.depth);return f==null?gF(a):gD(a,typeof f=="number"?[f,f,f,f]:f)}function i(a){return gD(a,g)}if(!arguments.length){return y}var h;return x=(y=g)==null?gF:(h=typeof g)==="function"?e:h==="number"?(g=[g,g,g,g],i):i,o},o.round=function(b){return arguments.length?(A=b?Math.round:Number,o):A!=Number},o.sticky=function(b){return arguments.length?(w=b,v=null,o):w},o.ratio=function(b){return arguments.length?(u=b,o):u},d1(o,B)},d3.csv=function(e,c){d3.text(e,"text/csv",function(b){c(b&&d3.csv.parse(b))})},d3.csv.parse=function(e){var c;return d3.csv.parseRows(e,function(b,j){if(j){var i={},h=-1,g=c.length;while(++h<g){i[c[h]]=b[h]}return i}return c=b,null})},d3.csv.parseRows=function(v,u){function m(){if(q.lastIndex>=v.length){return s}if(n){return n=!1,t}var a=q.lastIndex;if(v.charCodeAt(a)===34){var i=a;while(i++<v.length){if(v.charCodeAt(i)===34){if(v.charCodeAt(i+1)!==34){break}i++}}q.lastIndex=i+2;var f=v.charCodeAt(i+1);return f===13?(n=!0,v.charCodeAt(i+2)===10&&q.lastIndex++):f===10&&(n=!0),v.substring(a+1,i).replace(/""/g,'"')}var c=q.exec(v);return c?(n=c[0].charCodeAt(0)!==44,v.substring(a,c.index)):(q.lastIndex=v.length,v.substring(a))}var t={},s={},r=[],q=/\r\n|[,\r\n]/g,p=0,o,n;q.lastIndex=0;while((o=m())!==s){var l=[];while(o!==t&&o!==s){l.push(o),o=m()}if(u&&!(l=u(l,p++))){continue}r.push(l)}return r},d3.csv.format=function(b){return b.map(gB).join("\n")},d3.geo={};var gw=Math.PI/180;d3.geo.azimuthal=function(){function j(y){var x=y[0]*gw-n,w=y[1]*gw,v=Math.cos(x),u=Math.sin(x),t=Math.cos(w),s=Math.sin(w),h=r!=="orthographic"?k*s+l*t*v:null,g,e=r==="stereographic"?1/(1+h):r==="gnomonic"?1/h:r==="equidistant"?(g=Math.acos(h),g?g/Math.sin(g):0):r==="equalarea"?Math.sqrt(2/(1+h)):1,c=e*t*u,a=e*(k*t*v-l*s);return[p*c+o[0],p*a+o[1]]}var r="orthographic",q,p=200,o=[480,250],n,m,l,k;return j.invert=function(c){var t=(c[0]-o[0])/p,s=(c[1]-o[1])/p,h=Math.sqrt(t*t+s*s),g=r==="stereographic"?2*Math.atan(h):r==="gnomonic"?Math.atan(h):r==="equidistant"?h:r==="equalarea"?2*Math.asin(0.5*h):Math.asin(h),e=Math.sin(g),a=Math.cos(g);return[(n+Math.atan2(t*e,h*l*a+s*k*e))/gw,Math.asin(a*k-(h?s*e*l/h:0))/gw]},j.mode=function(a){return arguments.length?(r=a+"",j):r},j.origin=function(b){return arguments.length?(q=b,n=q[0]*gw,m=q[1]*gw,l=Math.cos(m),k=Math.sin(m),j):q},j.scale=function(b){return arguments.length?(p=+b,j):p},j.translate=function(b){return arguments.length?(o=[+b[0],+b[1]],j):o},j.origin([0,0])},d3.geo.albers=function(){function l(e){var c=o*(gw*e[0]-p),f=Math.sqrt(n-2*o*Math.sin(gw*e[1]))/o;return[r*f*Math.sin(c)+q[0],r*(f*Math.cos(c)-m)+q[1]]}function k(){var g=gw*s[0],f=gw*s[1],e=gw*t[1],b=Math.sin(g),a=Math.cos(g);return p=gw*t[0],o=0.5*(b+Math.sin(f)),n=a*a+2*o*b,m=Math.sqrt(n-2*o*Math.sin(e))/o,l}var t=[-98,38],s=[29.5,45.5],r=1000,q=[480,250],p,o,n,m;return l.invert=function(f){var c=(f[0]-q[0])/r,u=(f[1]-q[1])/r,h=m+u,g=Math.atan2(c,h),e=Math.sqrt(c*c+h*h);return[(p+g/o)/gw,Math.asin((n-e*e*o*o)/(2*o))/gw]},l.origin=function(a){return arguments.length?(t=[+a[0],+a[1]],k()):t},l.parallels=function(b){return arguments.length?(s=[+b[0],+b[1]],k()):s},l.scale=function(b){return arguments.length?(r=+b,l):r},l.translate=function(b){return arguments.length?(q=[+b[0],+b[1]],l):q},k()},d3.geo.albersUsa=function(){function h(c){var b=c[0],a=c[1];return(a>50?f:b<-140?j:a<21?i:g)(c)}var g=d3.geo.albers(),f=d3.geo.albers().origin([-160,60]).parallels([55,65]),j=d3.geo.albers().origin([-160,20]).parallels([8,18]),i=d3.geo.albers().origin([-60,10]).parallels([8,18]);return h.scale=function(a){return arguments.length?(g.scale(a),f.scale(a*0.6),j.scale(a),i.scale(a*1.5),h.translate(g.translate())):g.scale()},h.translate=function(e){if(!arguments.length){return g.translate()}var c=g.scale()/1000,b=e[0],a=e[1];return g.translate(e),f.translate([b-400*c,a+170*c]),j.translate([b-190*c,a+200*c]),i.translate([b+580*c,a+430*c]),h},h.scale(g.scale())},d3.geo.bonne=function(){function j(f){var e=f[0]*gw-n,c=f[1]*gw-m;if(l){var b=k+l-c,a=e*Math.cos(c)/b;e=b*Math.sin(a),c=b*Math.cos(a)-k}else{e*=Math.cos(c),c*=-1}return[i*e+h[0],i*c+h[1]]}var i=200,h=[480,250],n,m,l,k;return j.invert=function(f){var e=(f[0]-h[0])/i,c=(f[1]-h[1])/i;if(l){var b=k+c,a=Math.sqrt(e*e+b*b);c=k+l-a,e=n+a*Math.atan2(e,b)/Math.cos(c)}else{c*=-1,e/=Math.cos(c)}return[e/gw,c/gw]},j.parallel=function(b){return arguments.length?(k=1/Math.tan(l=b*gw),j):l/gw},j.origin=function(b){return arguments.length?(n=b[0]*gw,m=b[1]*gw,j):[n/gw,m/gw]},j.scale=function(a){return arguments.length?(i=+a,j):i},j.translate=function(b){return arguments.length?(h=[+b[0],+b[1]],j):h},j.origin([0,0]).parallel(45)},d3.geo.equirectangular=function(){function g(h){var b=h[0]/360,a=-h[1]/360;return[f*b+e[0],f*a+e[1]]}var f=500,e=[480,250];return g.invert=function(h){var b=(h[0]-e[0])/f,a=(h[1]-e[1])/f;return[360*b,-360*a]},g.scale=function(a){return arguments.length?(f=+a,g):f},g.translate=function(b){return arguments.length?(e=[+b[0],+b[1]],g):e},g},d3.geo.mercator=function(){function g(h){var b=h[0]/360,a=-(Math.log(Math.tan(Math.PI/4+h[1]*gw/2))/gw)/360;return[f*b+e[0],f*Math.max(-0.5,Math.min(0.5,a))+e[1]]}var f=500,e=[480,250];return g.invert=function(h){var b=(h[0]-e[0])/f,a=(h[1]-e[1])/f;return[360*b,2*Math.atan(Math.exp(-360*a*gw))/gw-90]},g.scale=function(a){return arguments.length?(f=+a,g):f},g.translate=function(b){return arguments.length?(e=[+b[0],+b[1]],g):e},g},d3.geo.path=function(){function s(b,a){return typeof v=="function"&&(u=gu(v.apply(this,arguments))),q(b)||null}function r(b){return t(b).join(",")}function o(f){var e=l(f[0]),h=0,g=f.length;while(++h<g){e-=l(f[h])}return e}function n(C){var B=d3.geom.polygon(C[0].map(t)),A=B.area(),z=B.centroid(A<0?(A*=-1,1):-1),y=z[0],x=z[1],w=A,k=0,c=C.length;while(++k<c){B=d3.geom.polygon(C[k].map(t)),A=B.area(),z=B.centroid(A<0?(A*=-1,1):-1),y-=z[0],x-=z[1],w-=A}return[y,x,6*w]}function l(b){return Math.abs(d3.geom.polygon(b.map(t)).area())}var v=4.5,u=gu(v),t=d3.geo.albersUsa(),q=gv({FeatureCollection:function(g){var f=[],j=g.features,i=-1,h=j.length;while(++i<h){f.push(q(j[i].geometry))}return f.join("")},Feature:function(b){return q(b.geometry)},Point:function(b){return"M"+r(b.coordinates)+u},MultiPoint:function(b){var j=[],i=b.coordinates,h=-1,e=i.length;while(++h<e){j.push("M",r(i[h]),u)}return j.join("")},LineString:function(g){var e=["M"],j=g.coordinates,i=-1,h=j.length;while(++i<h){e.push(r(j[i]),"L")}return e.pop(),e.join("")},MultiLineString:function(j){var e=[],A=j.coordinates,z=-1,y=A.length,x,w,k;while(++z<y){x=A[z],w=-1,k=x.length,e.push("M");while(++w<k){e.push(r(x[w]),"L")}e.pop()}return e.join("")},Polygon:function(j){var e=[],A=j.coordinates,z=-1,y=A.length,x,w,k;while(++z<y){x=A[z],w=-1;if((k=x.length-1)>0){e.push("M");while(++w<k){e.push(r(x[w]),"L")}e[e.length-1]="Z"}}return e.join("")},MultiPolygon:function(F){var E=[],D=F.coordinates,C=-1,B=D.length,A,z,y,x,w,e;while(++C<B){A=D[C],z=-1,y=A.length;while(++z<y){x=A[z],w=-1;if((e=x.length-1)>0){E.push("M");while(++w<e){E.push(r(x[w]),"L")}E[E.length-1]="Z"}}}return E.join("")},GeometryCollection:function(g){var f=[],j=g.geometries,i=-1,h=j.length;while(++i<h){f.push(q(j[i]))}return f.join("")}}),p=s.area=gv({FeatureCollection:function(g){var f=0,j=g.features,i=-1,h=j.length;while(++i<h){f+=p(j[i])}return f},Feature:function(b){return p(b.geometry)},Polygon:function(b){return o(b.coordinates)},MultiPolygon:function(g){var f=0,j=g.coordinates,i=-1,h=j.length;while(++i<h){f+=o(j[i])}return f},GeometryCollection:function(g){var f=0,j=g.geometries,i=-1,h=j.length;while(++i<h){f+=p(j[i])}return f}},0),m=s.centroid=gv({Feature:function(b){return m(b.geometry)},Polygon:function(e){var c=n(e.coordinates);return[c[0]/c[2],c[1]/c[2]]},MultiPolygon:function(C){var B=0,A=C.coordinates,z,y=0,x=0,w=0,k=-1,i=A.length;while(++k<i){z=n(A[k]),y+=z[0],x+=z[1],w+=z[2]}return[y/w,x/w]}});return s.projection=function(b){return t=b,s},s.pointRadius=function(a){return typeof a=="function"?v=a:(v=+a,u=gu(v)),s},s},d3.geo.bounds=function(g){var f=Infinity,j=Infinity,i=-Infinity,h=-Infinity;return gs(g,function(b,c){b<f&&(f=b),b>i&&(i=b),c<j&&(j=c),c>h&&(h=c)}),[[f,j],[i,h]]};var gp={Feature:f9,FeatureCollection:f7,GeometryCollection:f5,LineString:f3,MultiLineString:f1,MultiPoint:f3,MultiPolygon:e9,Point:e7,Polygon:ib};d3.geo.circle=function(){function n(){}function m(b){return o.distance(b)<p}function k(y){var x=-1,w=y.length,v=[],u,t,s,i,c;while(++x<w){c=o.distance(s=y[x]),c<p?(t&&v.push(aO(t,s)((i-p)/(i-c))),v.push(s),u=t=null):(t=s,!u&&v.length&&(v.push(aO(v[v.length-1],t)((p-i)/(c-i))),u=t)),i=c}return t&&v.length&&(c=o.distance(s=v[0]),v.push(aO(t,s)((i-p)/(i-c)))),j(v)}function j(t){var s=0,z=t.length,y,x,w=z?[t[0]]:t,v,u=o.source();while(++s<z){v=o.source(t[s-1])(t[s]).coordinates;for(y=0,x=v.length;++y<x;){w.push(v[y])}}return o.source(u),w}var r=[0,0],q=89.99,p=q*gw,o=d3.geo.greatArc().target(Object);n.clip=function(a){return o.source(typeof r=="function"?r.apply(this,arguments):r),l(a)};var l=gv({FeatureCollection:function(e){var c=e.features.map(l).filter(Object);return c&&(e=Object.create(e),e.features=c,e)},Feature:function(e){var c=l(e.geometry);return c&&(e=Object.create(e),e.geometry=c,e)},Point:function(b){return m(b.coordinates)&&b},MultiPoint:function(e){var c=e.coordinates.filter(m);return c.length&&{type:e.type,coordinates:c}},LineString:function(e){var c=k(e.coordinates);return c.length&&(e=Object.create(e),e.coordinates=c,e)},MultiLineString:function(e){var c=e.coordinates.map(k).filter(function(b){return b.length});return c.length&&(e=Object.create(e),e.coordinates=c,e)},Polygon:function(e){var c=e.coordinates.map(k);return c[0].length&&(e=Object.create(e),e.coordinates=c,e)},MultiPolygon:function(e){var c=e.coordinates.map(function(b){return b.map(k)}).filter(function(b){return b[0].length});return c.length&&(e=Object.create(e),e.coordinates=c,e)},GeometryCollection:function(e){var c=e.geometries.map(l).filter(Object);return c.length&&(e=Object.create(e),e.geometries=c,e)}});return n.origin=function(a){return arguments.length?(r=a,n):r},n.angle=function(b){return arguments.length?(p=(q=+b)*gw,n):q},n.precision=function(b){return arguments.length?(o.precision(b),n):o.precision()},n},d3.geo.greatArc=function(){function g(){var l=typeof f=="function"?f.apply(this,arguments):f,k=typeof e=="function"?e.apply(this,arguments):e,j=aO(l,k),c=h/j.d,b=0,a=[l];while((b+=c)<1){a.push(j(b))}return a.push(k),{type:"LineString",coordinates:a}}var f=e4,e=aP,h=6*gw;return g.distance=function(){var b=typeof f=="function"?f.apply(this,arguments):f,a=typeof e=="function"?e.apply(this,arguments):e;return aO(b,a).d},g.source=function(a){return arguments.length?(f=a,g):f},g.target=function(b){return arguments.length?(e=b,g):e},g.precision=function(b){return arguments.length?(h=b*gw,g):h/gw},g},d3.geo.greatCircle=d3.geo.circle,d3.geom={},d3.geom.contour=function(v,u){var t=u||aL(v),s=[],r=t[0],q=t[1],p=0,o=0,n=NaN,m=NaN,l=0;do{l=0,v(r-1,q-1)&&(l+=1),v(r,q-1)&&(l+=2),v(r-1,q)&&(l+=4),v(r,q)&&(l+=8),l===6?(p=m===-1?-1:1,o=0):l===9?(p=0,o=n===1?-1:1):(p=aN[l],o=aM[l]),p!=n&&o!=m&&(s.push([r,q]),n=p,m=o),r+=p,q+=o}while(t[0]!=r||t[1]!=q);return s};var aN=[1,0,1,1,-1,0,-1,1,0,0,0,0,-1,0,-1,NaN],aM=[0,-1,0,0,0,-1,0,0,1,-1,1,1,0,-1,0,NaN];d3.geom.hull=function(H){if(H.length<3){return[]}var G=H.length,F=G-1,E=[],D=[],C,B,A=0,z,y,x,w,v,u,t,s;for(C=1;C<G;++C){H[C][1]<H[A][1]?A=C:H[C][1]==H[A][1]&&(A=H[C][0]<H[A][0]?C:A)}for(C=0;C<G;++C){if(C===A){continue}y=H[C][1]-H[A][1],z=H[C][0]-H[A][0],E.push({angle:Math.atan2(y,z),index:C})}E.sort(function(e,c){return e.angle-c.angle}),t=E[0].angle,u=E[0].index,v=0;for(C=1;C<F;++C){B=E[C].index,t==E[C].angle?(z=H[u][0]-H[A][0],y=H[u][1]-H[A][1],x=H[B][0]-H[A][0],w=H[B][1]-H[A][1],z*z+y*y>=x*x+w*w?E[C].index=-1:(E[v].index=-1,t=E[C].angle,v=C,u=B)):(t=E[C].angle,v=C,u=B)}D.push(A);for(C=0,B=0;C<2;++B){E[B].index!==-1&&(D.push(E[B].index),C++)}s=D.length;for(;B<F;++B){if(E[B].index===-1){continue}while(!aK(D[s-2],D[s-1],E[B].index,H)){--s}D[s++]=E[B].index}var r=[];for(C=0;C<s;++C){r.push(H[D[C]])}return r},d3.geom.polygon=function(b){return b.area=function(){var a=0,h=b.length,g=b[h-1][0]*b[0][1],f=b[h-1][1]*b[0][0];while(++a<h){g+=b[a-1][0]*b[a][1],f+=b[a-1][1]*b[a][0]}return(f-g)*0.5},b.centroid=function(a){var p=-1,o=b.length,n=0,m=0,l,k=b[o-1],j;arguments.length||(a=-1/(6*b.area()));while(++p<o){l=k,k=b[p],j=l[0]*k[1]-k[0]*l[1],n+=(l[0]+k[0])*j,m+=(l[1]+k[1])*j}return[n*a,m*a]},b.clip=function(t){var s,r=-1,q=b.length,p,o,n=b[q-1],m,l,a;while(++r<q){s=t.slice(),t.length=0,m=b[r],l=s[(o=s.length)-1],p=-1;while(++p<o){a=s[p],aJ(a,n,m)?(aJ(l,n,m)||t.push(aI(l,a,n,m)),t.push(a)):aJ(l,n,m)&&t.push(aI(l,a,n,m)),l=a}n=m}return t},b},d3.geom.voronoi=function(e){var c=e.map(function(){return[]});return aG(e,function(r){var q,p,o,n,m,l;r.a===1&&r.b>=0?(q=r.ep.r,p=r.ep.l):(q=r.ep.l,p=r.ep.r),r.a===1?(m=q?q.y:-1000000,o=r.c-r.b*m,l=p?p.y:1000000,n=r.c-r.b*l):(o=q?q.x:-1000000,m=r.c-r.a*o,n=p?p.x:1000000,l=r.c-r.a*n);var k=[o,m],b=[n,l];c[r.region.l.index].push(k,b),c[r.region.r.index].push(k,b)}),c.map(function(a,h){var g=e[h][0],f=e[h][1];return a.forEach(function(b){b.angle=Math.atan2(b[0]-g,b[1]-f)}),a.sort(function(j,i){return j.angle-i.angle}).filter(function(b,i){return !i||b.angle-a[i-1].angle>1e-10})})};var aH={l:"r",r:"l"};d3.geom.delaunay=function(f){var e=f.map(function(){return[]}),g=[];return aG(f,function(a){e[a.region.l.index].push(f[a.region.r.index])}),e.forEach(function(a,n){var m=f[n],l=m[0],k=m[1];a.forEach(function(b){b.angle=Math.atan2(b[0]-l,b[1]-k)}),a.sort(function(i,h){return i.angle-h.angle});for(var j=0,c=a.length-1;j<c;j++){g.push([m,a[j],a[j+1]])}}),g},d3.geom.quadtree=function(z,y,x,w,v){function p(i,h,A,m,l,k){if(isNaN(h.x)||isNaN(h.y)){return}if(i.leaf){var j=i.point;j?Math.abs(j.x-h.x)+Math.abs(j.y-h.y)<0.01?o(i,h,A,m,l,k):(i.point=null,o(i,j,A,m,l,k),o(i,h,A,m,l,k)):i.point=h}else{o(i,h,A,m,l,k)}}function o(I,H,G,F,E,D){var C=(G+E)*0.5,B=(F+D)*0.5,A=H.x>=C,m=H.y>=B,k=(m<<1)+A;I.leaf=!1,I=I.nodes[k]||(I.nodes[k]=aF()),A?G=C:E=C,m?F=B:D=B,p(I,H,G,F,E,D)}var u,t=-1,s=z.length;s&&isNaN(z[0].x)&&(z=z.map(aD));if(arguments.length<5){if(arguments.length===3){v=w=x,x=y}else{y=x=Infinity,w=v=-Infinity;while(++t<s){u=z[t],u.x<y&&(y=u.x),u.y<x&&(x=u.y),u.x>w&&(w=u.x),u.y>v&&(v=u.y)}var r=w-y,q=v-x;r>q?v=x+r:w=y+q}}var n=aF();return n.add=function(b){p(n,b,y,x,w,v)},n.visit=function(b){aE(b,n,y,x,w,v)},z.forEach(n.add),n},d3.time={};var aC=Date;aB.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){aA.setUTCDate.apply(this._,arguments)},setDay:function(){aA.setUTCDay.apply(this._,arguments)},setFullYear:function(){aA.setUTCFullYear.apply(this._,arguments)},setHours:function(){aA.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){aA.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){aA.setUTCMinutes.apply(this._,arguments)},setMonth:function(){aA.setUTCMonth.apply(this._,arguments)},setSeconds:function(){aA.setUTCSeconds.apply(this._,arguments)},setTime:function(){aA.setTime.apply(this._,arguments)}};var aA=Date.prototype;d3.time.format=function(f){function g(l){var k=[],j=-1,i=0,b,a;while(++j<e){f.charCodeAt(j)==37&&(k.push(f.substring(i,j),(a=au[b=f.charAt(++j)])?a(l):b),i=j+1)}return k.push(f.substring(i,j)),k.join("")}var e=f.length;return g.parse=function(a){var j={y:1900,m:0,d:1,H:0,M:0,S:0,L:0},i=az(j,f,a,0);if(i!=a.length){return null}"p" in j&&(j.H=j.H%12+j.p*12);var h=new aC;return h.setFullYear(j.y,j.m,j.d),h.setHours(j.H,j.M,j.S,j.L),h},g.toString=function(){return f},g};var ay=d3.format("02d"),ax=d3.format("03d"),aw=d3.format("04d"),av=d3.format("2d"),au={a:function(b){return d3_time_weekdays[b.getDay()].substring(0,3)},A:function(b){return d3_time_weekdays[b.getDay()]},b:function(b){return d0[b.getMonth()].substring(0,3)},B:function(b){return d0[b.getMonth()]},c:d3.time.format("%a %b %e %H:%M:%S %Y"),d:function(b){return ay(b.getDate())},e:function(b){return av(b.getDate())},H:function(b){return ay(b.getHours())},I:function(b){return ay(b.getHours()%12||12)},j:function(b){return ax(1+d3.time.dayOfYear(b))},L:function(b){return ax(b.getMilliseconds())},m:function(b){return ay(b.getMonth()+1)},M:function(b){return ay(b.getMinutes())},p:function(b){return b.getHours()>=12?"PM":"AM"},S:function(b){return ay(b.getSeconds())},U:function(b){return ay(d3.time.sundayOfYear(b))},w:function(b){return b.getDay()},W:function(b){return ay(d3.time.mondayOfYear(b))},x:d3.time.format("%m/%d/%y"),X:d3.time.format("%H:%M:%S"),y:function(b){return ay(b.getFullYear()%100)},Y:function(b){return aw(b.getFullYear()%10000)},Z:aZ,"%":function(b){return"%"}},at={a:ar,A:aq,b:e2,B:d8,c:c9,d:b5,e:b5,H:b3,I:b3,L:a7,m:b7,M:b1,p:a3,S:a9,x:c7,X:c5,y:c1,Y:c3},ap=/^(?:sun|mon|tue|wed|thu|fri|sat)/i,e3=/^(?:Sunday|Monday|Tuesday|Wednesday|Thursday|Friday|Saturday)/i;d3_time_weekdays=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];var d9=d3.map({jan:0,feb:1,mar:2,apr:3,may:4,jun:5,jul:6,aug:7,sep:8,oct:9,nov:10,dec:11}),d5=/^(?:January|February|March|April|May|June|July|August|September|October|November|December)/ig,d2=d3.map({january:0,february:1,march:2,april:3,may:4,june:5,july:6,august:7,september:8,october:9,november:10,december:11}),d0=["January","February","March","April","May","June","July","August","September","October","November","December"],a4=/\s*\d+/,a0=d3.map({am:0,pm:1});d3.time.format.utc=function(f){function g(b){try{aC=aB;var h=new aC;return h._=b,e(h)}finally{aC=Date}}var e=d3.time.format(f);return g.parse=function(b){try{aC=aB;var h=e.parse(b);return h&&h._}finally{aC=Date}},g.toString=e.toString,g};var aW=d3.time.format.utc("%Y-%m-%dT%H:%M:%S.%LZ");d3.time.format.iso=Date.prototype.toISOString?aV:aW,aV.parse=function(b){return new Date(b)},aV.toString=aW.toString,d3.time.second=aT(function(b){return new aC(Math.floor(b/1000)*1000)},function(e,c){e.setTime(e.getTime()+Math.floor(c)*1000)},function(b){return b.getSeconds()}),d3.time.seconds=d3.time.second.range,d3.time.seconds.utc=d3.time.second.utc.range,d3.time.minute=aT(function(b){return new aC(Math.floor(b/60000)*60000)},function(e,c){e.setTime(e.getTime()+Math.floor(c)*60000)},function(b){return b.getMinutes()}),d3.time.minutes=d3.time.minute.range,d3.time.minutes.utc=d3.time.minute.utc.range,d3.time.hour=aT(function(e){var c=e.getTimezoneOffset()/60;return new aC((Math.floor(e/3600000-c)+c)*3600000)},function(e,c){e.setTime(e.getTime()+Math.floor(c)*3600000)},function(b){return b.getHours()}),d3.time.hours=d3.time.hour.range,d3.time.hours.utc=d3.time.hour.utc.range,d3.time.day=aT(function(b){return new aC(b.getFullYear(),b.getMonth(),b.getDate())},function(e,c){e.setDate(e.getDate()+c)},function(b){return b.getDate()-1}),d3.time.days=d3.time.day.range,d3.time.days.utc=d3.time.day.utc.range,d3.time.dayOfYear=function(e){var c=d3.time.year(e);return Math.floor((e-c)/86400000-(e.getTimezoneOffset()-c.getTimezoneOffset())/1440)},d3_time_weekdays.forEach(function(f,e){f=f.toLowerCase(),e=7-e;var g=d3.time[f]=aT(function(b){return(b=d3.time.day(b)).setDate(b.getDate()-(b.getDay()+e)%7),b},function(h,c){h.setDate(h.getDate()+Math.floor(c)*7)},function(b){var h=d3.time.year(b).getDay();return Math.floor((d3.time.dayOfYear(b)+(h+e)%7)/7)-(h!==e)});d3.time[f+"s"]=g.range,d3.time[f+"s"].utc=g.utc.range,d3.time[f+"OfYear"]=function(b){var h=d3.time.year(b).getDay();return Math.floor((d3.time.dayOfYear(b)+(h+e)%7)/7)}}),d3.time.week=d3.time.sunday,d3.time.weeks=d3.time.sunday.range,d3.time.weeks.utc=d3.time.sunday.utc.range,d3.time.weekOfYear=d3.time.sundayOfYear,d3.time.month=aT(function(b){return new aC(b.getFullYear(),b.getMonth(),1)},function(e,c){e.setMonth(e.getMonth()+c)},function(b){return b.getMonth()}),d3.time.months=d3.time.month.range,d3.time.months.utc=d3.time.month.utc.range,d3.time.year=aT(function(b){return new aC(b.getFullYear(),0,1)},function(e,c){e.setFullYear(e.getFullYear()+c)},function(b){return b.getFullYear()}),d3.time.years=d3.time.year.range,d3.time.years.utc=d3.time.year.utc.range;var aj=[1000,5000,15000,30000,60000,300000,900000,1800000,3600000,10800000,21600000,43200000,86400000,172800000,604800000,2592000000,7776000000,31536000000],ai=[[d3.time.second,1],[d3.time.second,5],[d3.time.second,15],[d3.time.second,30],[d3.time.minute,1],[d3.time.minute,5],[d3.time.minute,15],[d3.time.minute,30],[d3.time.hour,1],[d3.time.hour,3],[d3.time.hour,6],[d3.time.hour,12],[d3.time.day,1],[d3.time.day,2],[d3.time.week,1],[d3.time.month,1],[d3.time.month,3],[d3.time.year,1]],ah=[[d3.time.format("%Y"),function(b){return !0}],[d3.time.format("%B"),function(b){return b.getMonth()}],[d3.time.format("%b %d"),function(b){return b.getDate()!=1}],[d3.time.format("%a %d"),function(b){return b.getDay()&&b.getDate()!=1}],[d3.time.format("%I %p"),function(b){return b.getHours()}],[d3.time.format("%I:%M"),function(b){return b.getMinutes()}],[d3.time.format(":%S"),function(b){return b.getSeconds()}],[d3.time.format(".%L"),function(b){return b.getMilliseconds()}]],ag=d3.scale.linear(),af=am(ah);ai.year=function(e,c){return ag.domain(e.map(ak)).ticks(c).map(al)},d3.time.scale=function(){return aQ(d3.scale.linear(),ai,af)};var ae=ai.map(function(b){return[b[0].utc,b[1]]}),ad=[[d3.time.format.utc("%Y"),function(b){return !0}],[d3.time.format.utc("%B"),function(b){return b.getUTCMonth()}],[d3.time.format.utc("%b %d"),function(b){return b.getUTCDate()!=1}],[d3.time.format.utc("%a %d"),function(b){return b.getUTCDay()&&b.getUTCDate()!=1}],[d3.time.format.utc("%I %p"),function(b){return b.getUTCHours()}],[d3.time.format.utc("%I:%M"),function(b){return b.getUTCMinutes()}],[d3.time.format.utc(":%S"),function(b){return b.getUTCSeconds()}],[d3.time.format.utc(".%L"),function(b){return b.getUTCMilliseconds()}]],ac=am(ad);ae.year=function(e,c){return ag.domain(e.map(aa)).ticks(c).map(ab)},d3.time.scale.utc=function(){return aQ(d3.scale.linear(),ae,ac)}})();(function(){function aP(y,t){y||(y={});for(var L in t){y[L]=t[L]}return y}function Z(y,t){return parseInt(y,t||10)}function av(t){return typeof t=="string"}function Y(t){return typeof t=="object"}function al(t){return typeof t=="number"}function aL(y,t){for(var L=y.length;L--;){if(y[L]==t){y.splice(L,1);break}}}function am(t){return t!==I&&t!==null}function e(y,t,ab){var V,L;if(av(t)){if(am(ab)){y.setAttribute(t,ab)}else{if(y&&y.getAttribute){L=y.getAttribute(t)}}}else{if(am(t)&&Y(t)){for(V in t){y.setAttribute(V,t[V])}}}return L}function ar(t){if(!t||t.constructor!=Array){t=[t]}return t}function M(){var y=arguments,t,V,L=y.length;for(t=0;t<L;t++){V=y[t];if(typeof V!=="undefined"&&V!==null){return V}}}function ag(y){var t="",L;for(L in y){t+=aZ(L)+":"+y[L]+";"}return t}function p(y,t){if(a0){if(t&&t.opacity!==I){t.filter="alpha(opacity="+t.opacity*100+")"}}aP(y.style,t)}function i(y,t,ab,V,L){y=aD.createElement(y);t&&aP(y,t);L&&p(y,{padding:0,border:aN,margin:0});ab&&p(y,ab);V&&V.appendChild(y);return y}function E(y,t){aH=M(y,t.animation)}function aG(){var t=u.global.useUTC;ao=t?Date.UTC:function(y,ba,ad,ab,V,L){return(new Date(y,ba,M(ad,1),M(ab,0),M(V,0),M(L,0))).getTime()};au=t?"getUTCMinutes":"getMinutes";aE=t?"getUTCHours":"getHours";ak=t?"getUTCDay":"getDay";W=t?"getUTCDate":"getDate";T=t?"getUTCMonth":"getMonth";D=t?"getUTCFullYear":"getFullYear";an=t?"setUTCMinutes":"setMinutes";S=t?"setUTCHours":"setHours";Q=t?"setUTCDate":"setDate";C=t?"setUTCMonth":"setMonth";j=t?"setUTCFullYear":"setFullYear"}function l(t){a5||(a5=i(o));t&&a5.appendChild(t);a5.innerHTML=""}function r(y,t){var L=function(){};L.prototype=new y;aP(L.prototype,t);return L}function a2(y,t,ba,ad){var ab=u.lang;y=y;var V=isNaN(t=aF(t))?2:t;t=ba===undefined?ab.decimalPoint:ba;ad=ad===undefined?ab.thousandsSep:ad;ab=y<0?"-":"";ba=Z(y=aF(+y||0).toFixed(V))+"";var L=(L=ba.length)>3?L%3:0;return ab+(L?ba.substr(0,L)+ad:"")+ba.substr(L).replace(/(\d{3})(?=\d)/g,"$1"+ad)+(V?t+aF(y-ba).toFixed(V).slice(2):"")}function aM(){}function aK(bK,bI){function bH(dl,dp){function c9(da,dc){this.pos=da;this.minor=dc;this.isNew=true;dc||this.addLabel()}function db(da){if(da){this.options=da;this.id=da.id}return this}function cC(){var da=[],dv=[],dc;dn=dd=null;cs=[];O(cl,function(dA){dc=false;O(["xAxis","yAxis"],function(dC){if(dA.isCartesian&&(dC=="xAxis"&&cr||dC=="yAxis"&&!cr)&&(dA.options[dC]==dp.index||dA.options[dC]===I&&dp.index===0)){dA[dC]=dg;cs.push(dA);dc=true}});if(!dA.visible&&bt.ignoreHiddenSeries){dc=false}if(dc){var dw,dB,dx,dz,dy;if(!cr){dw=dA.options.stacking;cy=dw=="percent";if(dw){dz=dA.type+M(dA.options.stack,"");dy="-"+dz;dA.stackKey=dz;dB=da[dz]||[];da[dz]=dB;dx=dv[dy]||[];dv[dy]=dx}if(cy){dn=0;dd=99}}if(dA.isCartesian){O(dA.data,function(dD){var dG=dD.x,dF=dD.y,dC=dF<0,dE=dC?dx:dB;dC=dC?dy:dz;if(dn===null){dn=dd=dD[cI]}if(cr){if(dG>dd){dd=dG}else{if(dG<dn){dn=dG}}}else{if(am(dF)){if(dw){dE[dG]=am(dE[dG])?dE[dG]+dF:dF}dF=dE?dE[dG]:dF;dD=M(dD.low,dF);if(!cy){if(dF>dd){dd=dF}else{if(dD<dn){dn=dD}}}if(dw){c7[dC]||(c7[dC]={});c7[dC][dG]={total:dF,cum:dF}}}}});if(/(area|column|bar)/.test(dA.type)&&!cr){if(dn>=0){dn=0;cv=true}else{if(dd<0){dd=0;di=true}}}}}})}function cR(da,dv){var dc;df=dv?1:aU.pow(10,a9(aU.log(da)/aU.LN10));dc=da/df;if(!dv){dv=[1,2,2.5,5,10];if(dp.allowDecimals===false){if(df==1){dv=[1,2,5,10]}else{if(df<=0.1){dv=[1/df]}}}}for(var dw=0;dw<dv.length;dw++){da=dv[dw];if(dc<=(dv[dw]+(dv[dw+1]||dv[dw]))/2){break}}da*=df;return da}function cG(da){var dc;dc=da;if(am(df)){dc=(df<1?ai(1/df):1)*10;dc=ai(da*dc)/dc}return dc}function cQ(){var dD,dx,dc,dz,dC=dp.tickInterval,dy=dp.tickPixelInterval;dD=dp.maxZoom||(cr?at(dl.smallestInterval*5,dd-dn):null);cN=cD?bW:cp;if(c0){dc=dl[cr?"xAxis":"yAxis"][dp.linkedTo];dz=dc.getExtremes();cH=M(dz.min,dz.dataMin);cA=M(dz.max,dz.dataMax)}else{cH=M(ct,dp.min,dn);cA=M(dm,dp.max,dd)}if(cA-cH<dD){dz=(dD-cA+cH)/2;cH=a7(cH-dz,M(dp.min,cH-dz),dn);cA=at(cH+dD,M(dp.max,cH+dD),dd)}if(!ds&&!cy&&!c0&&am(cH)&&am(cA)){dD=cA-cH||1;if(!am(dp.min)&&!am(ct)&&c3&&(dn<0||!cv)){cH-=dD*c3}if(!am(dp.max)&&!am(dm)&&cV&&(dd>0||!di)){cA+=dD*cV}}cJ=cH==cA?1:c0&&!dC&&dy==dc.options.tickPixelInterval?dc.tickInterval:M(dC,ds?1:(cA-cH)*dy/cN);if(!cE&&!am(dp.tickInterval)){cJ=cR(cJ)}dg.tickInterval=cJ;dj=dp.minorTickInterval==="auto"&&cJ?cJ/5:dp.minorTickInterval;if(cE){cS=[];dC=u.global.useUTC;var dF=1000/X,dw=60000/X,dB=3600000/X;dy=86400000/X;dD=604800000/X;dz=2592000000/X;var dG=31556952000/X,da=[["second",dF,[1,2,5,10,15,30]],["minute",dw,[1,2,5,10,15,30]],["hour",dB,[1,2,3,4,6,8,12]],["day",dy,[1,2]],["week",dD,[1,2]],["month",dz,[1,2,3,4,6]],["year",dG,null]],dA=da[6],dE=dA[1],dv=dA[2];for(dc=0;dc<da.length;dc++){dA=da[dc];dE=dA[1];dv=dA[2];if(da[dc+1]){if(cJ<=(dE*dv[dv.length-1]+da[dc+1][1])/2){break}}}if(dE==dG&&cJ<5*dE){dv=[1,2,5]}da=cR(cJ/dE,dv);dv=new Date(cH*X);dv.setMilliseconds(0);if(dE>=dF){dv.setSeconds(dE>=dw?0:da*a9(dv.getSeconds()/da))}if(dE>=dw){dv[an](dE>=dB?0:da*a9(dv[au]()/da))}if(dE>=dB){dv[S](dE>=dy?0:da*a9(dv[aE]()/da))}if(dE>=dy){dv[Q](dE>=dz?1:da*a9(dv[W]()/da))}if(dE>=dz){dv[C](dE>=dG?0:da*a9(dv[T]()/da));dx=dv[D]()}if(dE>=dG){dx-=dx%da;dv[j](dx)}dE==dD&&dv[Q](dv[W]()-dv[ak]()+dp.startOfWeek);dc=1;dx=dv[D]();dF=dv.getTime()/X;dw=dv[T]();for(dB=dv[W]();dF<cA&&dc<bW;){cS.push(dF);if(dE==dG){dF=ao(dx+dc*da,0)/X}else{if(dE==dz){dF=ao(dx,dw+dc*da)/X}else{if(!dC&&(dE==dy||dE==dD)){dF=ao(dx,dw,dB+dc*da*(dE==dy?1:7))}else{dF+=dE*da}}}dc++}cS.push(dF);cX=dp.dateTimeLabelFormats[dA[0]]}else{dc=a9(cH/cJ)*cJ;dx=z(cA/cJ)*cJ;cS=[];for(dc=cG(dc);dc<=dx;){cS.push(dc);dc=cG(dc+cJ)}}if(!c0){if(ds||cr&&dl.hasColumn){dx=(ds?1:cJ)*0.5;if(ds||!am(M(dp.min,ct))){cH-=dx}if(ds||!am(M(dp.max,dm))){cA+=dx}}dx=cS[0];dc=cS[cS.length-1];if(dp.startOnTick){cH=dx}else{cH>dx&&cS.shift()}if(dp.endOnTick){cA=dc}else{cA<dc&&cS.pop()}bl||(bl={x:0,y:0});if(!cE&&cS.length>bl[cI]){bl[cI]=cS.length}}}function dh(){var da,dc;c8=cH;c5=cA;cC();cQ();ba=cM;cM=cN/(cA-cH||1);if(!cr){for(da in c7){for(dc in c7[da]){c7[da][dc].cum=c7[da][dc].total}}}if(!dg.isDirty){dg.isDirty=cH!=c8||cA!=c5}}function cT(da){da=(new db(da)).render();cF.push(da);return da}function dr(){var da=dp.title,dx=dp.alternateGridColor,dw=dp.lineWidth,dy,dc,dz=dl.hasRendered,dv=dz&&am(c8)&&!isNaN(c8);dy=cs.length&&am(cH)&&am(cA);cN=cD?bW:cp;cM=cN/(cA-cH||1);cW=cD?bQ:bn;if(dy||c0){if(dj&&!ds){for(dy=cH+(cS[0]-cH)%dj;dy<=cA;dy+=dj){cK[dy]||(cK[dy]=new c9(dy,true));dv&&cK[dy].isNew&&cK[dy].render(null,true);cK[dy].isActive=true;cK[dy].render()}}O(cS,function(dB,dA){if(!c0||dB>=cH&&dB<=cA){dv&&cu[dB].isNew&&cu[dB].render(dA,true);cu[dB].isActive=true;cu[dB].render(dA)}});dx&&O(cS,function(dB,dA){if(dA%2===0&&dB<cA){cO[dB]||(cO[dB]=new db);cO[dB].options={from:dB,to:cS[dA+1]!==I?cS[dA+1]:cA,color:dx};cO[dB].render();cO[dB].isActive=true}});dz||O((dp.plotLines||[]).concat(dp.plotBands||[]),function(dA){cF.push((new db(dA)).render())})}O([cu,cK,cO],function(dB){for(var dA in dB){if(dB[dA].isActive){dB[dA].isActive=false}else{dB[dA].destroy();delete dB[dA]}}});if(dw){dy=bQ+(c1?bW:0)+cz;dc=b6-bn-(c1?cp:0)+cz;dy=cd.crispLine([N,cD?bQ:dy,cD?dc:ca,aJ,cD?bP-b7:dy,cD?dc:b6-bn],dw);if(cU){cU.animate({d:dy})}else{cU=cd.path(dy).attr({stroke:dp.lineColor,"stroke-width":dw,zIndex:7}).add()}}if(dg.axisTitle){dy=cD?bQ:ca;dw=Z(da.style.fontSize||12);dy={low:dy+(cD?0:cN),middle:dy+cN/2,high:dy+(cD?cN:0)}[da.align];dw=(cD?ca+cp:bQ)+(cD?1:-1)*(c1?-1:1)*dt+(cL==2?dw:0);dg.axisTitle[dz?"animate":"attr"]({x:cD?dy:dw+(c1?bW:0)+cz+(da.x||0),y:cD?dw-(c1?cp:0)+cz:dy+(da.y||0)})}dg.isDirty=false}function cY(da){for(var dc=0;dc<cF.length;dc++){cF[dc].id==da&&cF[dc].destroy()}}var cr=dp.isX,c1=dp.opposite,cD=ad?!cr:cr,cL=cD?c1?0:2:c1?1:3,c7={};dp=s(cr?n:aY,[J,v,m,f][cL],dp);var dg=this,cE=dp.type=="datetime",cz=dp.offset||0,cI=cr?"x":"y",cN,cM,ba,cW=cD?bQ:bn,cx,cB,de,cw,cU,dn,dd,cs,ct,dm,cA=null,cH=null,c8,c5,c3=dp.minPadding,cV=dp.maxPadding,c0=am(dp.linkedTo),cv,di,cy,dk=dp.events,cP,cF=[],cJ,dj,df,cS,cu={},cK={},cO={},du,c6,dt,cX,ds=dp.categories,c2=dp.labels.formatter||function(){var da=this.value;return cX?a8(cX,da):cJ%1000000===0?da/1000000+"M":cJ%1000===0?da/1000+"k":!ds&&da>=1000?a2(da,0):da},cZ=cD&&dp.labels.staggerLines,dq=dp.reversed,c4=ds&&dp.tickmarkPlacement=="between"?0.5:0;c9.prototype={addLabel:function(){var da=this.pos,dw=dp.labels,dv=!(da==cH&&!M(dp.showFirstLabel,1)||da==cA&&!M(dp.showLastLabel,0)),dx,dc=this.label;da=c2.call({isFirst:da==cS[0],isLast:da==cS[cS.length-1],dateTimeLabelFormat:cX,value:ds&&ds[da]?ds[da]:da});dx=dx&&{width:dx-2*(dw.padding||10)+aW};if(dc===I){this.label=am(da)&&dv&&dw.enabled?cd.text(da,0,0).attr({align:dw.align,rotation:dw.rotation}).css(aP(dx,dw.style)).add(de):null}else{dc&&dc.attr({text:da}).css(dx)}},getLabelSize:function(){var da=this.label;return da?(this.labelBBox=da.getBBox())[cD?"height":"width"]:0},render:function(dD,dx){var dc=!this.minor,dz=this.label,dC=this.pos,dy=dp.labels,dG=this.gridLine,dw=dc?dp.gridLineWidth:dp.minorGridLineWidth,dB=dc?dp.gridLineColor:dp.minorGridLineColor,dJ=dc?dp.gridLineDashStyle:dp.minorGridLineDashStyle,da=this.mark,dA=dc?dp.tickLength:dp.minorTickLength,dE=dc?dp.tickWidth:dp.minorTickWidth||0,dv=dc?dp.tickColor:dp.minorTickColor,dF=dc?dp.tickPosition:dp.minorTickPosition;dc=dy.step;var dI=dx&&b5||b6,dH;dH=cD?cx(dC+c4,null,null,dx)+cW:bQ+cz+(c1?(dx&&bT||bP)-b7-bQ:0);dI=cD?dI-bn+cz-(c1?cp:0):dI-cx(dC+c4,null,null,dx)-cW;if(dw){dC=cB(dC+c4,dw,dx);if(dG===I){dG={stroke:dB,"stroke-width":dw};if(dJ){dG.dashstyle=dJ}this.gridLine=dG=dw?cd.path(dC).attr(dG).add(cw):null}dG&&dC&&dG.animate({d:dC})}if(dE){if(dF=="inside"){dA=-dA}if(c1){dA=-dA}dw=cd.crispLine([N,dH,dI,aJ,dH+(cD?0:-dA),dI+(cD?dA:0)],dE);if(da){da.animate({d:dw})}else{this.mark=cd.path(dw).attr({stroke:dv,"stroke-width":dE}).add(de)}}if(dz){dH=dH+dy.x-(c4&&cD?c4*cM*(dq?-1:1):0);dI=dI+dy.y-(c4&&!cD?c4*cM*(dq?1:-1):0);am(dy.y)||(dI+=parseInt(dz.styles.lineHeight)*0.9-dz.getBBox().height/2);if(cZ){dI+=dD%cZ*16}if(dc){dz[dD%dc?"hide":"show"]()}dz[this.isNew?"attr":"animate"]({x:dH,y:dI})}this.isNew=false},destroy:function(){for(var da in this){this[da]&&this[da].destroy&&this[da].destroy()}}};db.prototype={render:function(){var dD=this,dx=dD.options,dc=dx.label,dz=dD.label,dC=dx.width,dy=dx.to,dG,dw=dx.from,dB=dx.dashStyle,dH=dD.svgElem,da=[],dA,dE,dv=dx.color;dE=dx.zIndex;var dF=dx.events;if(dC){da=cB(dx.value,dC);dx={stroke:dv,"stroke-width":dC};if(dB){dx.dashstyle=dB}}else{if(am(dw)&&am(dy)){dw=a7(dw,cH);dy=at(dy,cA);dG=cB(dy);if((da=cB(dw))&&dG){da.push(dG[4],dG[5],dG[1],dG[2])}else{da=null}dx={fill:dv}}else{return}}if(am(dE)){dx.zIndex=dE}if(dH){if(da){dH.animate({d:da},null,dH.onGetPath)}else{dH.hide();dH.onGetPath=function(){dH.show()}}}else{if(da&&da.length){dD.svgElem=dH=cd.path(da).attr(dx).add();if(dF){dB=function(dI){dH.on(dI,function(dJ){dF[dI].apply(dD,[dJ])})};for(dA in dF){dB(dA)}}}}if(dc&&am(dc.text)&&da&&da.length&&bW>0&&cp>0){dc=s({align:cD&&dG&&"center",x:cD?!dG&&4:10,verticalAlign:!cD&&dG&&"middle",y:cD?dG?16:10:dG?6:-4,rotation:cD&&!dG&&90},dc);if(!dz){dD.label=dz=cd.text(dc.text,0,0).attr({align:dc.textAlign||dc.align,rotation:dc.rotation,zIndex:dE}).css(dc.style).add()}dG=[da[1],da[4],da[6]||da[1]];da=[da[2],da[5],da[7]||da[2]];dA=at.apply(aU,dG);dE=at.apply(aU,da);dz.align(dc,false,{x:dA,y:dE,width:a7.apply(aU,dG)-dA,height:a7.apply(aU,da)-dE});dz.show()}else{dz&&dz.hide()}return dD},destroy:function(){for(var da in this){this[da]&&this[da].destroy&&this[da].destroy();delete this[da]}aL(cF,this)}};cx=function(da,dx,dw,dy){var dc=1,dz=0,dv=dy?ba:cM;dy=dy?c8:cH;dv||(dv=cM);if(dw){dc*=-1;dz=cN}if(dq){dc*=-1;dz-=dc*cN}if(dx){if(dq){da=cN-da}da=da/dv+dy}else{da=dc*(da-dy)*dv+dz}return da};cB=function(dA,dv,da){var dx,dz,dw;dA=cx(dA,null,null,da);var dB=da&&b5||b6,dc=da&&bT||bP,dy;da=dz=ai(dA+cW);dx=dw=ai(dB-dA-cW);if(isNaN(dA)){dy=true}else{if(cD){dx=ca;dw=dB-bn;if(da<bQ||da>bQ+bW){dy=true}}else{da=bQ;dz=dc-b7;if(dx<ca||dx>ca+cp){dy=true}}}return dy?null:cd.crispLine([N,da,dx,aJ,dz,dw],dv||0)};if(ad&&cr&&dq===I){dq=true}aP(dg,{addPlotBand:cT,addPlotLine:cT,adjustTickAmount:function(){if(bl&&!cE&&!ds&&!c0){var da=du,dc=cS.length;du=bl[cI];if(dc<du){for(;cS.length<du;){cS.push(cG(cS[cS.length-1]+cJ))}cM*=(dc-1)/(du-1);cA=cS[cS.length-1]}if(am(da)&&du!=da){dg.isDirty=true}}},categories:ds,getExtremes:function(){return{min:cH,max:cA,dataMin:dn,dataMax:dd}},getPlotLinePath:cB,getThreshold:function(da){if(cH>da){da=cH}else{if(cA<da){da=cA}}return cx(da,0,1)},isXAxis:cr,options:dp,plotLinesAndBands:cF,getOffset:function(){var da=cs.length&&am(cH)&&am(cA),dx=0,dw=0,dy=dp.title,dc=dp.labels,dz=[-1,1,1,-1][cL];if(!de){de=cd.g("axis").attr({zIndex:7}).add();cw=cd.g("grid").attr({zIndex:1}).add()}c6=0;if(da||c0){O(cS,function(dA){if(cu[dA]){cu[dA].addLabel()}else{cu[dA]=new c9(dA)}if(cL===0||cL==2||{1:"left",3:"right"}[cL]==dc.align){c6=a7(cu[dA].getLabelSize(),c6)}});if(cZ){c6+=(cZ-1)*16}}else{for(var dv in cu){cu[dv].destroy();delete cu[dv]}}if(dy&&dy.text){if(!dg.axisTitle){dg.axisTitle=cd.text(dy.text,0,0).attr({zIndex:7,rotation:dy.rotation||0,align:dy.textAlign||{low:"left",middle:"center",high:"right"}[dy.align]}).css(dy.style).add()}dx=dg.axisTitle.getBBox()[cD?"height":"width"];dw=M(dy.margin,cD?5:10)}cz=dz*(dp.offset||br[cL]);dt=c6+(cL!=2&&c6&&dz*dp.labels[cD?"y":"x"])+dw;br[cL]=a7(br[cL],dt+dx+dz*cz)},render:dr,setCategories:function(da,dc){dg.categories=ds=da;O(cs,function(dv){dv.translate();dv.setTooltipPoints(true)});dg.isDirty=true;M(dc,true)&&dl.redraw()},setExtremes:function(da,dv,dc,dw){E(dw,dl);dc=M(dc,true);aa(dg,"setExtremes",{min:da,max:dv},function(){ct=da;dm=dv;dc&&dl.redraw()})},setScale:dh,setTickPositions:cQ,translate:cx,redraw:function(){cb.resetTracker&&cb.resetTracker();dr();O(cF,function(da){da.render()});O(cs,function(da){da.isDirty=true})},removePlotBand:cY,removePlotLine:cY,reversed:dq,stacks:c7});for(cP in dk){af(dg,cP,dk[cP])}dh()}function bG(){var ba={};return{add:function(ct,cr,cs,cu){if(!ba[ct]){cr=cd.text(cr,0,0).css(bK.toolbar.itemStyle).align({align:"right",x:-b7-20,y:ca+30}).on("click",cu).attr({align:"right",zIndex:20}).add();ba[ct]=cr}},remove:function(cr){l(ba[cr].element);ba[cr]=null}}}function bF(cG){function cH(){var cL=this.points||ar(this),cO=cL[0].series.xAxis,cN=this.x;cO=cO&&cO.options.type=="datetime";var cK=av(cN)||cO,cM;cM=cK?['<span style="font-size: 10px">',cO?a8("%A, %b %e, %Y",cN):cN,"</span><br/>"]:[];O(cL,function(cP){cM.push(cP.point.tooltipFormatter(cK))});return cM.join("")}function cz(cK,cL){cC=cy?cK:(2*cC+cK)/3;cF=cy?cL:(cF+cL)/2;cE.translate(cC,cF);bw=aF(cK-cC)>1||aF(cL-cF)>1?function(){cz(cK,cL)}:null}function cB(){if(!cy){var cK=bu.hoverPoints;cE.hide();O(cI,function(cL){cL&&cL.hide()});cK&&O(cK,function(cL){cL.setState()});bu.hoverPoints=null;cy=true}}var cu,cJ=cG.borderWidth,cx=cG.crosshairs,cI=[],cr=cG.style,ba=cG.shared,cs=Z(cr.padding),cA=cJ+cs,cy=true,cD,cv,cC=0,cF=0;cr.padding=0;var cE=cd.g("tooltip").attr({zIndex:8}).add(),cw=cd.rect(cA,cA,0,0,cG.borderRadius,cJ).attr({fill:cG.backgroundColor,"stroke-width":cJ}).add(cE).shadow(cG.shadow),ct=cd.text("",cs+cA,Z(cr.fontSize)+cs+cA).attr({zIndex:1}).css(cr).add(cE);cE.hide();return{shared:ba,refresh:function(cR){var cL,cS,cP,cQ=0,cO={},cN=[];cP=cR.tooltipPos;cL=cG.formatter||cH;cO=bu.hoverPoints;var cK=function(cT){return{series:cT.series,point:cT,x:cT.category,y:cT.y,percentage:cT.percentage,total:cT.total||cT.stackTotal}};if(ba){cO&&O(cO,function(cT){cT.setState()});bu.hoverPoints=cR;O(cR,function(cT){cT.setState(c);cQ+=cT.plotY;cN.push(cK(cT))});cS=cR[0].plotX;cQ=ai(cQ)/cR.length;cO={x:cR[0].category};cO.points=cN;cR=cR[0]}else{cO=cK(cR)}cO=cL.call(cO);cu=cR.series;cS=ba?cS:cR.plotX;cQ=ba?cQ:cR.plotY;cL=ai(cP?cP[0]:ad?bW-cQ:cS);cS=ai(cP?cP[1]:ad?cp-cS:cQ);cP=ba||!cR.series.isCartesian||bU(cL,cS);if(cO===false||!cP){cB()}else{if(cy){cE.show();cy=false}ct.attr({text:cO});cP=ct.getBBox();cD=cP.width;cv=cP.height;cw.attr({width:cD+2*cs,height:cv+2*cs,stroke:cG.borderColor||cR.color||cu.color||"#606060"});cL=cL-cD+bQ-25;cS=cS-cv+ca+10;if(cL<7){cL=7;cS-=30}if(cS<5){cS=5}else{if(cS+cv>b6){cS=b6-cv-5}}cz(ai(cL-cA),ai(cS-cA))}if(cx){cx=ar(cx);cS=cx.length;for(var cM;cS--;){if(cx[cS]&&(cM=cR.series[cS?"yAxis":"xAxis"])){cL=cM.getPlotLinePath(cR[cS?"y":"x"],1);if(cI[cS]){cI[cS].attr({d:cL,visibility:a1})}else{cP={"stroke-width":cx[cS].width||1,stroke:cx[cS].color||"#C0C0C0",zIndex:2};if(cx[cS].dashStyle){cP.dashstyle=cx[cS].dashStyle}cI[cS]=cd.path(cL).attr(cP).add()}}}}},hide:cB}}function bE(cr,cs){function cA(cH){var cF;cH=cH||ap.event;if(!cH.target){cH.target=cH.srcElement}cF=cH.touches?cH.touches.item(0):cH;if(cH.type!="mousemove"||ap.opera){for(var cG=bN,cI={left:cG.offsetLeft,top:cG.offsetTop};cG=cG.offsetParent;){cI.left+=cG.offsetLeft;cI.top+=cG.offsetTop;if(cG!=aD.body&&cG!=aD.documentElement){cI.left-=cG.scrollLeft;cI.top-=cG.scrollTop}}bc=cI}if(a0){cH.chartX=cH.x;cH.chartY=cH.y}else{if(cF.layerX===I){cH.chartX=cF.pageX-bc.left;cH.chartY=cF.pageY-bc.top}else{cH.chartX=cH.layerX;cH.chartY=cH.layerY}}return cH}function cC(cG){var cF={xAxis:[],yAxis:[]};O(bi,function(cI){var cJ=cI.translate,cH=cI.isXAxis;cF[cH?"xAxis":"yAxis"].push({axis:cI,value:cJ((ad?!cH:cH)?cG.chartX-bQ:cp-cG.chartY+ca,true)})});return cF}function ct(){var cG=cr.hoverSeries,cF=cr.hoverPoint;cF&&cF.onMouseOut();cG&&cG.onMouseOut();co&&co.hide();bj=null}function cD(){if(cz){var cH={xAxis:[],yAxis:[]},cF=cz.getBBox(),cG=cF.x-bQ,cI=cF.y-ca;if(ba){O(bi,function(cL){var cK=cL.translate,cN=cL.isXAxis,cM=ad?!cN:cN,cJ=cK(cM?cG:cp-cI-cF.height,true);cK=cK(cM?cG+cF.width:cp-cI,true);cH[cN?"xAxis":"yAxis"].push({axis:cL,min:at(cJ,cK),max:a7(cJ,cK)})});aa(cr,"selection",cH,V)}cz=cz.destroy()}cr.mouseIsDown=cm=ba=false;aI(aD,a6?"touchend":"mouseup",cD)}var cx,cE,ba,cz,cB=bt.zoomType,cy=/x/.test(cB),cv=/y/.test(cB),cw=cy&&!ad||cv&&ad,cu=cv&&!ad||cy&&ad;bM=function(){if(bq){bq.translate(bQ,ca);ad&&bq.attr({width:cr.plotWidth,height:cr.plotHeight}).invert()}else{cr.trackerGroup=bq=cd.g("tracker").attr({zIndex:9}).add()}};bM();if(cs.enabled){cr.tooltip=co=bF(cs)}(function(){var cG=true;bN.onmousedown=function(cH){cH=cA(cH);cr.mouseIsDown=cm=true;cx=cH.chartX;cE=cH.chartY;af(aD,a6?"touchend":"mouseup",cD)};var cF=function(cP){if(!(cP&&cP.touches&&cP.touches.length>1)){cP=cA(cP);if(!a6){cP.returnValue=false}var cK=cP.chartX,cJ=cP.chartY,cN=!bU(cK-bQ,cJ-ca);if(a6&&cP.type=="touchstart"){if(e(cP.target,"isTracker")){cr.runTrackerClick||cP.preventDefault()}else{!bY&&!cN&&cP.preventDefault()}}if(cN){cG||ct();if(cK<bQ){cK=bQ}else{if(cK>bQ+bW){cK=bQ+bW}}if(cJ<ca){cJ=ca}else{if(cJ>ca+cp){cJ=ca+cp}}}if(cm&&cP.type!="touchstart"){if(ba=Math.sqrt(Math.pow(cx-cK,2)+Math.pow(cE-cJ,2))>10){if(by&&(cy||cv)&&bU(cx-bQ,cE-ca)){cz||(cz=cd.rect(bQ,ca,cw?1:bW,cu?1:cp,0).attr({fill:"rgba(69,114,167,0.25)",zIndex:7}).add())}if(cz&&cw){cK=cK-cx;cz.attr({width:aF(cK),x:(cK>0?0:cK)+cx})}if(cz&&cu){cJ=cJ-cE;cz.attr({height:aF(cJ),y:(cJ>0?0:cJ)+cE})}}}else{if(!cN){var cH;cJ=cr.hoverPoint;cK=cr.hoverSeries;var cO,cL,cM=bP,cI=ad?cP.chartY:cP.chartX-bQ;if(co&&cs.shared){cH=[];cO=cl.length;for(cL=0;cL<cO;cL++){if(cl[cL].visible&&cl[cL].tooltipPoints.length){cP=cl[cL].tooltipPoints[cI];cP._dist=aF(cI-cP.plotX);cM=at(cM,cP._dist);cH.push(cP)}}for(cO=cH.length;cO--;){cH[cO]._dist>cM&&cH.splice(cO,1)}if(cH.length&&cH[0].plotX!=bj){co.refresh(cH);bj=cH[0].plotX}}if(cK&&cK.tracker){(cP=cK.tooltipPoints[cI])&&cP!=cJ&&cP.onMouseOver()}}}return(cG=cN)||!by}};bN.onmousemove=cF;af(bN,"mouseleave",ct);bN.ontouchstart=function(cH){if(cy||cv){bN.onmousedown(cH)}cF(cH)};bN.ontouchmove=cF;bN.ontouchend=function(){ba&&ct()};bN.onclick=function(cJ){var cK=cr.hoverPoint;cJ=cA(cJ);cJ.cancelBubble=true;if(!ba){if(cK&&e(cJ.target,"isTracker")){var cI=cK.plotX,cH=cK.plotY;aP(cK,{pageX:bc.left+bQ+(ad?bW-cH:cI),pageY:bc.top+ca+(ad?cp-cI:cH)});aa(cK.series,"click",aP(cJ,{point:cK}));cK.firePointEvent("click",cJ)}else{aP(cJ,cC(cJ));bU(cJ.chartX-bQ,cJ.chartY-ca)&&aa(cr,"click",cJ)}}ba=false}})();cg=setInterval(function(){bw&&bw()},32);aP(this,{zoomX:cy,zoomY:cv,resetTracker:ct})}function bD(cr){var ct=cr.type||bt.type||bt.defaultSeriesType,ba=aQ[ct],cs=bu.hasRendered;if(cs){if(ad&&ct=="column"){ba=aQ.bar}else{if(!ad&&ct=="bar"){ba=aQ.column}}}ct=new ba;ct.init(bu,cr);if(!cs&&ct.inverted){ad=true}if(ct.isCartesian){by=ct.isCartesian}cl.push(ct);return ct}function bB(){bt.alignTicks!==false&&O(bi,function(ba){ba.adjustTickAmount()});bl=null}function bz(cr){var ct=bu.isDirtyLegend,ba,cs=bu.isDirtyBox,cu=cl.length,cv=cu,cw=bu.clipRect;for(E(cr,bu);cv--;){cr=cl[cv];if(cr.isDirty&&cr.options.stacking){ba=true;break}}if(ba){for(cv=cu;cv--;){cr=cl[cv];if(cr.options.stacking){cr.isDirty=true}}}O(cl,function(cx){if(cx.isDirty){cx.cleanData();cx.getSegments();if(cx.options.legendType=="point"){ct=true}}});if(ct&&cc.renderLegend){cc.renderLegend();bu.isDirtyLegend=false}if(by){if(!bg){bl=null;O(bi,function(cx){cx.setScale()})}bB();cf();O(bi,function(cx){if(cx.isDirty||cs){cx.redraw();cs=true}})}if(cs){bX();bM();if(cw){b(cw);cw.animate({width:bu.plotSizeX,height:bu.plotSizeY})}}O(cl,function(cx){if(cx.isDirty&&cx.visible&&(!cx.isCartesian||cx.xAxis)){cx.redraw()}});cb&&cb.resetTracker&&cb.resetTracker();aa(bu,"redraw")}function bx(){var cr=bK.xAxis||{},cs=bK.yAxis||{},ba;cr=ar(cr);O(cr,function(ct,cu){ct.index=cu;ct.isX=true});cs=ar(cs);O(cs,function(ct,cu){ct.index=cu});bi=cr.concat(cs);bu.xAxis=[];bu.yAxis=[];bi=B(bi,function(ct){ba=new bH(bu,ct);bu[ba.isXAxis?"xAxis":"yAxis"].push(ba);return ba});bB()}function bv(ba,cr){ab=s(bK.title,ba);b3=s(bK.subtitle,cr);O([["title",ba,ab],["subtitle",cr,b3]],function(cs){var ct=cs[0],cu=bu[ct],cv=cs[1];cs=cs[2];if(cu&&cv){cu.destroy();cu=null}if(cs&&cs.text&&!cu){bu[ct]=cd.text(cs.text,0,0).attr({align:cs.align,"class":"highcharts-"+ct,zIndex:1}).css(cs.style).add().align(cs,false,bL)}})}function bs(){bA=bt.renderTo;b2=aw+U++;if(av(bA)){bA=aD.getElementById(bA)}bA.innerHTML="";if(!bA.offsetWidth){bh=bA.cloneNode(0);p(bh,{position:a3,top:"-9999px",display:""});aD.body.appendChild(bh)}ci=(bh||bA).offsetWidth;bp=(bh||bA).offsetHeight;bu.chartWidth=bP=bt.width||ci||600;bu.chartHeight=b6=bt.height||(bp>19?bp:400);bu.container=bN=i(o,{className:"highcharts-container"+(bt.className?" "+bt.className:""),id:b2},aP({position:ac,overflow:ax,width:bP+aW,height:b6+aW,textAlign:"left"},bt.style),bh||bA);bu.renderer=cd=bt.renderer=="SVG"?new aB(bN,bP,b6):new G(bN,bP,b6);var ba,cr;if(/Firefox/.test(q)&&bN.getBoundingClientRect){ba=function(){p(bN,{left:0,top:0});cr=bN.getBoundingClientRect();p(bN,{left:-cr.left%1+aW,top:-cr.top%1+aW})};ba();af(ap,"resize",ba);af(bu,"destroy",function(){aI(ap,"resize",ba)})}}function bZ(){function ba(){var cs=bt.width||bA.offsetWidth,ct=bt.height||bA.offsetHeight;if(cs&&ct){if(cs!=ci||ct!=bp){clearTimeout(cr);cr=setTimeout(function(){bm(cs,ct,false)},100)}ci=cs;bp=ct}}var cr;af(window,"resize",ba);af(bu,"destroy",function(){aI(window,"resize",ba)})}function bC(){var cr=bK.labels,cs=bK.credits,ba;bv();cc=bu.legend=new b8(bu);cf();O(bi,function(ct){ct.setTickPositions(true)});bB();cf();bX();by&&O(bi,function(ct){ct.render()});if(!bu.seriesGroup){bu.seriesGroup=cd.g("series-group").attr({zIndex:3}).add()}O(cl,function(ct){ct.translate();ct.setTooltipPoints();ct.render()});cr.items&&O(cr.items,function(){var ct=aP(cr.style,this.style),cu=Z(ct.left)+bQ,cv=Z(ct.top)+ca+12;delete ct.left;delete ct.top;cd.text(this.html,cu,cv).attr({zIndex:2}).css(ct).add()});if(!bu.toolbar){bu.toolbar=bG(bu)}if(cs.enabled&&!bu.credits){ba=cs.href;cd.text(cs.text,0,0).on("click",function(){if(ba){location.href=ba}}).attr({align:cs.position.align,zIndex:8}).css(cs.style).add().align(cs.position)}bM();bu.hasRendered=true;if(bh){bA.appendChild(bN);l(bh)}}function bR(){var ba=cl.length,cr=bN&&bN.parentNode;aa(bu,"destroy");aI(ap,"unload",bR);aI(bu);for(O(bi,function(cs){aI(cs)});ba--;){cl[ba].destroy()}bN.innerHTML="";aI(bN);cr&&cr.removeChild(bN);bN=null;cd.alignedObjects=null;clearInterval(cg);for(ba in bu){delete bu[ba]}}function bV(){if(!a&&!ap.parent&&aD.readyState!="complete"){aD.attachEvent("onreadystatechange",function(){aD.detachEvent("onreadystatechange",bV);bV()})}else{bs();bb();cn();O(bK.series||[],function(ba){bD(ba)});bu.inverted=ad=M(ad,bK.chart.inverted);bx();bu.render=bC;bu.tracker=cb=new bE(bu,bK.tooltip);bC();aa(bu,"load");bI&&bI.apply(bu,[bu]);O(bu.callbacks,function(ba){ba.apply(bu,[bu])})}}n=s(n,u.xAxis);aY=s(aY,u.yAxis);u.xAxis=u.yAxis=null;bK=s(u,bK);var bt=bK.chart,b4=bt.margin;b4=Y(b4)?b4:[b4,b4,b4,b4];var bS=M(bt.marginTop,b4[0]),ck=M(bt.marginRight,b4[1]),L=M(bt.marginBottom,b4[2]),bd=M(bt.marginLeft,b4[3]),b0=bt.spacingTop,bk=bt.spacingRight,ce=bt.spacingBottom,bO=bt.spacingLeft,bL,ab,b3,ca,b7,bn,bQ,br,bA,bh,bN,b2,ci,bp,bP,b6,bT,b5,b1,bJ,bo,be,bu=this,bY=(b4=bt.events)&&!!b4.click,cq,bU,co,cm,b9,bf,ch,cp,bW,cb,bq,bM,cc,y,cj,bc,by=bt.showAxes,bg=0,bi=[],bl,cl=[],ad,cd,bw,cg,bj,bX,cf,bb,cn,bm,V,t,b8=function(cO){function cS(cY,c1){var cW=cY.legendItem,cV=cY.legendLine,c0=cY.legendSymbol,cX=cx.color,cZ=c1?cA.itemStyle.color:cX;cX=c1?cY.color:cX;cW&&cW.css({fill:cZ});cV&&cV.attr({stroke:cX});c0&&c0.attr({stroke:cX,fill:cX})}function cF(cY,c0,cW){var cV=cY.legendItem,cZ=cY.legendLine,cX=cY.legendSymbol;cY=cY.checkbox;cV&&cV.attr({x:c0,y:cW});cZ&&cZ.translate(c0,cW-4);cX&&cX.attr({x:c0+cX.xOff,y:cW+cX.yOff});if(cY){cY.x=c0;cY.y=cW}}function cH(){O(cu,function(cV){var cW=cV.checkbox;cW&&p(cW,{left:cR.attr("translateX")+cV.legendItemWidth+cW.x-40+aW,top:cR.attr("translateY")+cW.y-11+aW})})}function cw(cY){var c1,cW,cV,c0,cX,cZ=cY.legendItem;c0=cY.series||cY;if(!cZ){cX=/^(bar|pie|area|column)$/.test(c0.type);cY.legendItem=cZ=cd.text(cA.labelFormatter.call(cY),0,0).css(cY.visible?cB:cx).on("mouseover",function(){cY.setState(c);cZ.css(cJ)}).on("mouseout",function(){cZ.css(cY.visible?cB:cx);cY.setState()}).on("click",function(){var c3=function(){cY.setVisible()};cY.firePointEvent?cY.firePointEvent("legendItemClick",null,c3):aa(cY,"legendItemClick",null,c3)}).attr({zIndex:2}).add(cR);if(!cX&&cY.options&&cY.options.lineWidth){var c2=cY.options;c0={"stroke-width":c2.lineWidth,zIndex:2};if(c2.dashStyle){c0.dashstyle=c2.dashStyle}cY.legendLine=cd.path([N,-cr-ba,0,aJ,-ba,0]).attr(c0).add(cR)}if(cX){c1=cd.rect(cW=-cr-ba,cV=-11,cr,12,2).attr({"stroke-width":0,zIndex:3}).add(cR)}else{if(cY.options&&cY.options.marker&&cY.options.marker.enabled){c1=cd.symbol(cY.symbol,cW=-cr/2-ba,cV=-4,cY.options.marker.radius).attr(cY.pointAttr[R]).attr({zIndex:3}).add(cR)}}if(c1){c1.xOff=cW;c1.yOff=cV}cY.legendSymbol=c1;cS(cY,cY.visible);if(cY.options&&cY.options.showCheckbox){cY.checkbox=i("input",{type:"checkbox",checked:cY.selected,defaultChecked:cY.selected},cA.itemCheckboxStyle,bN);af(cY.checkbox,"click",function(c3){aa(cY,"checkboxClick",{checked:c3.target.checked},function(){cY.select()})})}}c1=cZ.getBBox();cW=cY.legendItemWidth=cA.itemWidth||cr+ba+c1.width+cN;cK=c1.height;if(cT&&cv-cz+cW>(cQ||bP-2*cI-cz)){cv=cz;cE+=cK}cM=cE;cF(cY,cv,cE);if(cT){cv+=cW}else{cE+=cK}cP=cQ||a7(cT?cv-cz:cW,cP);cu.push(cY)}function cU(){cv=cz;cE=cL;cM=cP=0;cu=[];cR||(cR=cd.g("legend").attr({zIndex:7}).add());ct&&cC.reverse();O(cC,function(cY){if(cY.options.showInLegend){O(cY.options.legendType=="point"?cY.data:[cY],cw)}});ct&&cC.reverse();y=cQ||cP;cj=cM-cL+cK;if(cs||cD){y+=2*cI;cj+=2*cI;if(cy){y>0&&cj>0&&cy.animate({width:y,height:cj})}else{cy=cd.rect(0,0,y,cj,cA.borderRadius,cs||0).attr({stroke:cA.borderColor,"stroke-width":cs||0,fill:cD||aN}).add(cR).shadow(cA.shadow)}cy[cu.length?"show":"hide"]()}for(var cW=["left","right","top","bottom"],cX,cV=4;cV--;){cX=cW[cV];if(cG[cX]&&cG[cX]!="auto"){cA[cV<2?"align":"verticalAlign"]=cX;cA[cV<2?"x":"y"]=Z(cG[cX])*(cV%2?-1:1)}}cR.align(aP(cA,{width:y,height:cj}),true,bL);bg||cH()}var cA=cO.options.legend;if(cA.enabled){var cT=cA.layout=="horizontal",cr=cA.symbolWidth,ba=cA.symbolPadding,cu,cG=cA.style,cB=cA.itemStyle,cJ=cA.itemHoverStyle,cx=cA.itemHiddenStyle,cI=Z(cG.padding),cN=20,cL=18,cz=4+cI+cr+ba,cv,cE,cM,cK=0,cy,cs=cA.borderWidth,cD=cA.backgroundColor,cR,cP,cQ=cA.width,cC=cO.series,ct=cA.reversed;cU();af(cO,"endResize",cH);return{colorizeItem:cS,destroyItem:function(cV){var cW=cV.checkbox;O(["legendItem","legendLine","legendSymbol"],function(cX){cV[cX]&&cV[cX].destroy()});cW&&l(cV.checkbox)},renderLegend:cU}}};bU=function(ba,cr){return ba>=0&&ba<=bW&&cr>=0&&cr<=cp};t=function(){aa(bu,"selection",{resetSelection:true},V);bu.toolbar.remove("zoom")};V=function(cr){var cs=u.lang,ba=bu.pointCount<100;bu.toolbar.add("zoom",cs.resetZoom,cs.resetZoomTitle,t);!cr||cr.resetSelection?O(bi,function(ct){ct.setExtremes(null,null,false,ba)}):O(cr.xAxis.concat(cr.yAxis),function(ct){var cu=ct.axis;if(bu.tracker[cu.isXAxis?"zoomX":"zoomY"]){cu.setExtremes(ct.min,ct.max,false,ba)}});bz()};cf=function(){var cr=bK.legend,ct=M(cr.margin,10),ba=cr.x,cs=cr.y,cu=cr.align,cv=cr.verticalAlign,cw;bb();if((bu.title||bu.subtitle)&&!am(bS)){if(cw=a7(bu.title&&!ab.floating&&!ab.verticalAlign&&ab.y||0,bu.subtitle&&!b3.floating&&!b3.verticalAlign&&b3.y||0)){ca=a7(ca,cw+M(ab.margin,15)+b0)}}if(cr.enabled&&!cr.floating){if(cu=="right"){am(ck)||(b7=a7(b7,y-ba+ct+bk))}else{if(cu=="left"){am(bd)||(bQ=a7(bQ,y+ba+ct+bO))}else{if(cv=="top"){am(bS)||(ca=a7(ca,cj+cs+ct+b0))}else{if(cv=="bottom"){am(L)||(bn=a7(bn,cj-cs+ct+ce))}}}}}by&&O(bi,function(cx){cx.getOffset()});am(bd)||(bQ+=br[3]);am(bS)||(ca+=br[0]);am(L)||(bn+=br[2]);am(ck)||(b7+=br[1]);cn()};bm=function(cr,ct,ba){var cs=bu.title,cu=bu.subtitle;bg+=1;E(ba,bu);b5=b6;bT=bP;bP=ai(cr);b6=ai(ct);p(bN,{width:bP+aW,height:b6+aW});cd.setSize(bP,b6,ba);bW=bP-bQ-b7;cp=b6-ca-bn;bl=null;O(bi,function(cv){cv.isDirty=true;cv.setScale()});O(cl,function(cv){cv.isDirty=true});bu.isDirtyLegend=true;bu.isDirtyBox=true;cf();cs&&cs.align(null,null,bL);cu&&cu.align(null,null,bL);bz(ba);b5=null;aa(bu,"resize");setTimeout(function(){aa(bu,"endResize",null,function(){bg-=1})},aH&&aH.duration||500)};cn=function(){bu.plotLeft=bQ=ai(bQ);bu.plotTop=ca=ai(ca);bu.plotWidth=bW=ai(bP-bQ-b7);bu.plotHeight=cp=ai(b6-ca-bn);bu.plotSizeX=ad?cp:bW;bu.plotSizeY=ad?bW:cp;bL={x:bO,y:b0,width:bP-bO-bk,height:b6-b0-ce}};bb=function(){ca=M(bS,b0);b7=M(ck,bk);bn=M(L,ce);bQ=M(bd,bO);br=[0,0,0,0]};bX=function(){var cr=bt.borderWidth||0,ct=bt.backgroundColor,ba=bt.plotBackgroundColor,cs=bt.plotBackgroundImage,cu,cv={x:bQ,y:ca,width:bW,height:cp};cu=cr+(bt.shadow?8:0);if(cr||ct){if(b1){b1.animate({width:bP-cu,height:b6-cu})}else{b1=cd.rect(cu/2,cu/2,bP-cu,b6-cu,bt.borderRadius,cr).attr({stroke:bt.borderColor,"stroke-width":cr,fill:ct||aN}).add().shadow(bt.shadow)}}if(ba){if(bJ){bJ.animate(cv)}else{bJ=cd.rect(bQ,ca,bW,cp,0).attr({fill:ba}).add().shadow(bt.plotShadow)}}if(cs){if(bo){bo.animate(cv)}else{bo=cd.image(cs,bQ,ca,bW,cp).add()}}if(bt.plotBorderWidth){if(be){be.animate(cv)}else{be=cd.rect(bQ,ca,bW,cp,0,bt.plotBorderWidth).attr({stroke:bt.plotBorderColor,"stroke-width":bt.plotBorderWidth,zIndex:4}).add()}}bu.isDirtyBox=false};K=aO=0;af(ap,"unload",bR);bt.reflow!==false&&af(bu,"load",bZ);if(b4){for(cq in b4){af(bu,cq,b4[cq])}}bu.options=bK;bu.series=cl;bu.addSeries=function(cr,ct,ba){var cs;if(cr){E(ba,bu);ct=M(ct,true);aa(bu,"addSeries",{options:cr},function(){cs=bD(cr);cs.isDirty=true;bu.isDirtyLegend=true;ct&&bu.redraw()})}return cs};bu.animation=M(bt.animation,true);bu.destroy=bR;bu.get=function(cr){var ct,ba,cs;for(ct=0;ct<bi.length;ct++){if(bi[ct].options.id==cr){return bi[ct]}}for(ct=0;ct<cl.length;ct++){if(cl[ct].options.id==cr){return cl[ct]}}for(ct=0;ct<cl.length;ct++){cs=cl[ct].data;for(ba=0;ba<cs.length;ba++){if(cs[ba].id==cr){return cs[ba]}}}return null};bu.getSelectedPoints=function(){var ba=[];O(cl,function(cr){ba=ba.concat(ay(cr.data,function(cs){return cs.selected}))});return ba};bu.getSelectedSeries=function(){return ay(cl,function(ba){return ba.selected})};bu.hideLoading=function(){w(b9,{opacity:0},{duration:bK.loading.hideDuration,complete:function(){p(b9,{display:aN})}});ch=false};bu.isInsidePlot=bU;bu.redraw=bz;bu.setSize=bm;bu.setTitle=bv;bu.showLoading=function(ba){var cr=bK.loading;if(!b9){b9=i(o,{className:"highcharts-loading"},aP(cr.style,{left:bQ+aW,top:ca+aW,width:bW+aW,height:cp+aW,zIndex:10,display:aN}),bN);bf=i("span",null,cr.labelStyle,b9)}bf.innerHTML=ba||bK.lang.loading;if(!ch){p(b9,{opacity:0,display:""});w(b9,{opacity:cr.style.opacity},{duration:cr.showDuration});ch=true}};bu.pointCount=0;bV()}var aD=document,ap=window,aU=Math,ai=aU.round,a9=aU.floor,z=aU.ceil,a7=aU.max,at=aU.min,aF=aU.abs,ae=aU.cos,aT=aU.sin,aC=aU.PI,aR=aC*2/360,q=navigator.userAgent,a0=/msie/i.test(q)&&!ap.opera,aS=aD.documentMode==8,aj=/AppleWebKit/.test(q),a=ap.SVGAngle||aD.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1"),a6="ontouchstart" in aD.documentElement,aO,K,P={},U=0,X=1,a5,u,a8,aH,g,I,o="div",a3="absolute",ac="relative",ax="hidden",aw="highcharts-",a1="visible",aW="px",aN="none",N="M",aJ="L",aA="rgba(192,192,192,"+(a?0.000001:0.002)+")",R="",c="hover",ao,au,aE,ak,W,T,D,an,S,Q,C,j,A=ap.HighchartsAdapter,aq=A||{},O=aq.each,ay=aq.grep,B=aq.map,s=aq.merge,aZ=aq.hyphenate,af=aq.addEvent,aI=aq.removeEvent,aa=aq.fireEvent,w=aq.animate,b=aq.stop,aQ={};A&&A.init&&A.init();if(!A&&ap.jQuery){var k=jQuery;O=function(y,t){for(var V=0,L=y.length;V<L;V++){if(t.call(y[V],y[V],V,y)===false){return V}}};ay=k.grep;B=function(y,t){for(var ab=[],V=0,L=y.length;V<L;V++){ab[V]=t.call(y[V],y[V],V,y)}return ab};s=function(){var t=arguments;return k.extend(true,null,t[0],t[1],t[2],t[3])};aZ=function(t){return t.replace(/([A-Z])/g,function(y,L){return"-"+L.toLowerCase()})};af=function(y,t,L){k(y).bind(t,L)};aI=function(y,t,V){var L=aD.removeEventListener?"removeEventListener":"detachEvent";if(aD[L]&&!y[L]){y[L]=function(){}}k(y).unbind(t,V)};aa=function(y,t,ad,ab){var V=k.Event(t),L="detached"+t;aP(V,ad);if(y[t]){y[L]=y[t];y[t]=null}k(y).trigger(V);if(y[L]){y[t]=y[L];y[L]=null}ab&&!V.isDefaultPrevented()&&ab(V)};w=function(y,t,V){var L=k(y);if(t.d){y.toD=t.d;t.d=1}L.stop();L.animate(t,V)};b=function(t){k(t).stop()};k.extend(k.easing,{easeOutQuad:function(y,t,ab,V,L){return -V*(t/=L)*(t-2)+ab}});var x=jQuery.fx.step._default,h=jQuery.fx.prototype.cur;k.fx.step._default=function(y){var t=y.elem;t.attr?t.attr(y.prop,y.now):x.apply(this,arguments)};k.fx.step.d=function(y){var t=y.elem;if(!y.started){var L=g.init(t,t.d,t.toD);y.start=L[0];y.end=L[1];y.started=true}t.attr("d",g.step(y.start,y.end,y.pos,t.toD))};k.fx.prototype.cur=function(){var t=this.elem;return t.attr?t.attr(this.prop):h.apply(this,arguments)}}g={init:function(bd,bc,bb){bc=bc||"";var ba=bd.shift,ad=bc.indexOf("C")>-1,ab=ad?7:3,V;bc=bc.split(" ");bb=[].concat(bb);var L,y,t=function(be){for(V=be.length;V--;){be[V]==N&&be.splice(V+1,0,be[V+1],be[V+2],be[V+1],be[V+2])}};if(ad){t(bc);t(bb)}if(bd.isArea){L=bc.splice(bc.length-6,6);y=bb.splice(bb.length-6,6)}if(ba){bb=[].concat(bb).splice(0,ab).concat(bb);bd.shift=false}if(bc.length){for(bd=bb.length;bc.length<bd;){ba=[].concat(bc).splice(bc.length-ab,ab);if(ad){ba[ab-6]=ba[ab-2];ba[ab-5]=ba[ab-1]}bc=bc.concat(ba)}}if(L){bc=bc.concat(L);bb=bb.concat(y)}return[bc,bb]},step:function(y,t,ad,ab){var V=[],L=y.length;if(ad==1){V=ab}else{if(L==t.length&&ad<1){for(;L--;){ab=parseFloat(y[L]);V[L]=isNaN(ab)?y[L]:ad*parseFloat(t[L]-ab)+ab}}else{V=t}}return V}};A={enabled:true,align:"center",x:0,y:15,style:{color:"#666",fontSize:"11px",lineHeight:"14px"}};u={colors:["#4572A7","#AA4643","#89A54E","#80699B","#3D96AE","#DB843D","#92A8CD","#A47D7C","#B5CA92"],symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:["January","February","March","April","May","June","July","August","September","October","November","December"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],decimalPoint:".",resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:","},global:{useUTC:true},chart:{borderColor:"#4572A7",borderRadius:5,defaultSeriesType:"line",ignoreHiddenSeries:true,spacingTop:10,spacingRight:10,spacingBottom:15,spacingLeft:10,style:{fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Verdana, Arial, Helvetica, sans-serif',fontSize:"12px"},backgroundColor:"#FFFFFF",plotBorderColor:"#C0C0C0"},title:{text:"Chart title",align:"center",y:15,style:{color:"#3E576F",fontSize:"16px"}},subtitle:{text:"",align:"center",y:30,style:{color:"#6D869F"}},plotOptions:{line:{allowPointSelect:false,showCheckbox:false,animation:{duration:1000},events:{},lineWidth:2,shadow:true,marker:{enabled:true,lineWidth:0,radius:4,lineColor:"#FFFFFF",states:{hover:{},select:{fillColor:"#FFFFFF",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:s(A,{enabled:false,y:-6,formatter:function(){return this.y}}),showInLegend:true,states:{hover:{marker:{}},select:{marker:{}}},stickyTracking:true}},labels:{style:{position:a3,color:"#3E576F"}},legend:{enabled:true,align:"center",layout:"horizontal",labelFormatter:function(){return this.name},borderWidth:1,borderColor:"#909090",borderRadius:5,shadow:false,style:{padding:"5px"},itemStyle:{cursor:"pointer",color:"#3E576F"},itemHoverStyle:{cursor:"pointer",color:"#000000"},itemHiddenStyle:{color:"#C0C0C0"},itemCheckboxStyle:{position:a3,width:"13px",height:"13px"},symbolWidth:16,symbolPadding:5,verticalAlign:"bottom",x:0,y:0},loading:{hideDuration:100,labelStyle:{fontWeight:"bold",position:ac,top:"1em"},showDuration:100,style:{position:a3,backgroundColor:"white",opacity:0.5,textAlign:"center"}},tooltip:{enabled:true,backgroundColor:"rgba(255, 255, 255, .85)",borderWidth:2,borderRadius:5,shadow:true,snap:a6?25:10,style:{color:"#333333",fontSize:"12px",padding:"5px",whiteSpace:"nowrap"}},toolbar:{itemStyle:{color:"#4572A7",cursor:"pointer"}},credits:{enabled:true,text:"Highcharts.com",href:"http://www.highcharts.com",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#909090",fontSize:"10px"}}};var n={dateTimeLabelFormats:{second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%e. %b",week:"%e. %b",month:"%b '%y",year:"%Y"},endOnTick:false,gridLineColor:"#C0C0C0",labels:A,lineColor:"#C0D0E0",lineWidth:1,max:null,min:null,minPadding:0.01,maxPadding:0.01,minorGridLineColor:"#E0E0E0",minorGridLineWidth:1,minorTickColor:"#A0A0A0",minorTickLength:2,minorTickPosition:"outside",startOfWeek:1,startOnTick:false,tickColor:"#C0D0E0",tickLength:5,tickmarkPlacement:"between",tickPixelInterval:100,tickPosition:"outside",tickWidth:1,title:{align:"middle",style:{color:"#6D869F",fontWeight:"bold"}},type:"linear"},aY=s(n,{endOnTick:true,gridLineWidth:1,tickPixelInterval:72,showLastLabel:true,labels:{align:"right",x:-8,y:3},lineWidth:0,maxPadding:0.05,minPadding:0.05,startOnTick:true,tickWidth:0,title:{rotation:270,text:"Y-values"}}),f={labels:{align:"right",x:-8,y:null},title:{rotation:270}},v={labels:{align:"left",x:8,y:null},title:{rotation:90}},m={labels:{align:"center",x:0,y:14},title:{rotation:0}},J=s(m,{labels:{y:-5}}),H=u.plotOptions;A=H.line;H.spline=s(A);H.scatter=s(A,{lineWidth:0,states:{hover:{lineWidth:0}}});H.area=s(A,{});H.areaspline=s(H.area);H.column=s(A,{borderColor:"#FFFFFF",borderWidth:1,borderRadius:0,groupPadding:0.2,marker:null,pointPadding:0.1,minPointLength:0,states:{hover:{brightness:0.1,shadow:false},select:{color:"#C0C0C0",borderColor:"#000000",shadow:false}}});H.bar=s(H.column,{dataLabels:{align:"left",x:5,y:0}});H.pie=s(A,{borderColor:"#FFFFFF",borderWidth:1,center:["50%","50%"],colorByPoint:true,dataLabels:{distance:30,enabled:true,formatter:function(){return this.point.name},y:5},legendType:"point",marker:null,size:"75%",showInLegend:false,slicedOffset:10,states:{hover:{brightness:0.1,shadow:false}}});aG();var ah=function(y){var t=[],L;(function(V){if(L=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/.exec(V)){t=[Z(L[1]),Z(L[2]),Z(L[3]),parseFloat(L[4],10)]}else{if(L=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(V)){t=[Z(L[1],16),Z(L[2],16),Z(L[3],16),1]}}})(y);return{get:function(V){return t&&!isNaN(t[0])?V=="rgb"?"rgb("+t[0]+","+t[1]+","+t[2]+")":V=="a"?t[3]:"rgba("+t.join(",")+")":y},brighten:function(ab){if(al(ab)&&ab!==0){var V;for(V=0;V<3;V++){t[V]+=Z(ab*255);if(t[V]<0){t[V]=0}if(t[V]>255){t[V]=255}}}return this},setOpacity:function(V){t[3]=V;return this}}};a8=function(bf,be,bd){function bb(bg){return bg.toString().replace(/^([0-9])$/,"0$1")}if(!am(be)||isNaN(be)){return"Invalid date"}bf=M(bf,"%Y-%m-%d %H:%M:%S");be=new Date(be*X);var ba=be[aE](),ad=be[ak](),ab=be[W](),V=be[T](),L=be[D](),y=u.lang,t=y.weekdays;y=y.months;be={a:t[ad].substr(0,3),A:t[ad],d:bb(ab),e:ab,b:y[V].substr(0,3),B:y[V],m:bb(V+1),y:L.toString().substr(2,2),Y:L,H:bb(ba),I:bb(ba%12||12),l:ba%12||12,M:bb(be[au]()),p:ba<12?"AM":"PM",P:ba<12?"am":"pm",S:bb(be.getSeconds())};for(var bc in be){bf=bf.replace("%"+bc,be[bc])}return bd?bf.substr(0,1).toUpperCase()+bf.substr(1):bf};aM.prototype={init:function(y,t){this.element=aD.createElementNS("http://www.w3.org/2000/svg",t);this.renderer=y},animate:function(y,t,L){if(t=M(t,aH,true)){t=s(t);if(L){t.complete=L}w(this,y,t)}else{this.attr(y);L&&L()}},attr:function(bf,be){var bd,bb,ba,ad,ab=this.element,V=ab.nodeName,L=this.renderer,y,t=this.shadows,bc,bg=this;if(av(bf)&&am(be)){bd=bf;bf={};bf[bd]=be}if(av(bf)){bd=bf;if(V=="circle"){bd={x:"cx",y:"cy"}[bd]||bd}else{if(bd=="strokeWidth"){bd="stroke-width"}}bg=e(ab,bd)||this[bd]||0;if(bd!="d"&&bd!="visibility"){bg=parseFloat(bg)}}else{for(bd in bf){y=false;bb=bf[bd];if(bd=="d"){if(bb&&bb.join){bb=bb.join(" ")}if(/(NaN| {2}|^$)/.test(bb)){bb="M 0 0"}this.d=bb}else{if(bd=="x"&&V=="text"){for(ba=0;ba<ab.childNodes.length;ba++){ad=ab.childNodes[ba];e(ad,"x")==e(ab,"x")&&e(ad,"x",bb)}if(this.rotation){e(ab,"transform","rotate("+this.rotation+" "+bb+" "+Z(bf.y||e(ab,"y"))+")")}}else{if(bd=="fill"){bb=L.color(bb,ab,bd)}else{if(V=="circle"&&(bd=="x"||bd=="y")){bd={x:"cx",y:"cy"}[bd]||bd}else{if(bd=="translateX"||bd=="translateY"||bd=="rotation"||bd=="verticalAlign"){this[bd]=bb;this.updateTransform();y=true}else{if(bd=="stroke"){bb=L.color(bb,ab,bd)}else{if(bd=="dashstyle"){bd="stroke-dasharray";if(bb){bb=bb.toLowerCase().replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(",");for(ba=bb.length;ba--;){bb[ba]=Z(bb[ba])*bf["stroke-width"]}bb=bb.join(",")}}else{if(bd=="isTracker"){this[bd]=bb}else{if(bd=="width"){bb=Z(bb)}else{if(bd=="align"){bd="text-anchor";bb={left:"start",center:"middle",right:"end"}[bb]}}}}}}}}}}if(bd=="strokeWidth"){bd="stroke-width"}if(aj&&bd=="stroke-width"&&bb===0){bb=0.000001}if(this.symbolName&&/^(x|y|r|start|end|innerR)/.test(bd)){if(!bc){this.symbolAttr(bf);bc=true}y=true}if(t&&/^(width|height|visibility|x|y|d)$/.test(bd)){for(ba=t.length;ba--;){e(t[ba],bd,bb)}}if(bd=="text"){this.textStr=bb;L.buildText(this)}else{y||e(ab,bd,bb)}}}return bg},symbolAttr:function(t){this.x=M(t.x,this.x);this.y=M(t.y,this.y);this.r=M(t.r,this.r);this.start=M(t.start,this.start);this.end=M(t.end,this.end);this.width=M(t.width,this.width);this.height=M(t.height,this.height);this.innerR=M(t.innerR,this.innerR);this.attr({d:this.renderer.symbols[this.symbolName](this.x,this.y,this.r,{start:this.start,end:this.end,width:this.width,height:this.height,innerR:this.innerR})})},clip:function(t){return this.attr("clip-path","url("+this.renderer.url+"#"+t.id+")")},css:function(y){var t=this.element;if(y&&y.color){y.fill=y.color}y=aP(this.styles,y);a0&&!a?p(this.element,y):this.attr({style:ag(y)});this.styles=y;y.width&&t.nodeName=="text"&&this.added&&this.renderer.buildText(this);return this},on:function(y,t){var L=t;if(a6&&y=="click"){y="touchstart";L=function(V){V.preventDefault();t()}}this.element["on"+y]=L;return this},translate:function(y,t){return this.attr({translateX:y,translateY:t})},invert:function(){this.inverted=true;this.updateTransform();return this},updateTransform:function(){var y=this.translateX||0,t=this.translateY||0,ab=this.inverted,V=this.rotation,L=[];if(ab){y+=this.attr("width");t+=this.attr("height")}if(y||t){L.push("translate("+y+","+t+")")}if(ab){L.push("rotate(90) scale(-1,1)")}else{V&&L.push("rotate("+V+" "+this.x+" "+this.y+")")}L.length&&e(this.element,"transform",L.join(" "))},toFront:function(){var t=this.element;t.parentNode.appendChild(t);return this},align:function(y,t,bb){if(y){this.alignOptions=y;this.alignByTranslate=t;bb||this.renderer.alignedObjects.push(this)}else{y=this.alignOptions;t=this.alignByTranslate}bb=M(bb,this.renderer);var ba=y.align,ad=y.verticalAlign,ab=(bb.x||0)+(y.x||0),V=(bb.y||0)+(y.y||0),L={};if(/^(right|center)$/.test(ba)){ab+=(bb.width-(y.width||0))/{right:1,center:2}[ba]}L[t?"translateX":"x"]=ab;if(/^(bottom|middle)$/.test(ad)){V+=(bb.height-(y.height||0))/({bottom:1,middle:2}[ad]||1)}L[t?"translateY":"y"]=V;this[this.placed?"animate":"attr"](L);this.placed=true;return this},getBBox:function(){var y,t,ad,ab=this.rotation,V=ab*aR;try{y=aP({},this.element.getBBox())}catch(L){y={width:0,height:0}}t=y.width;ad=y.height;if(ab){y.width=aF(ad*aT(V))+aF(t*ae(V));y.height=aF(ad*ae(V))+aF(t*aT(V))}return y},show:function(){return this.attr({visibility:a1})},hide:function(){return this.attr({visibility:ax})},add:function(bc){var bb=this.renderer,ba=bc||bb,ad=ba.element||bb.box,ab=ad.childNodes,V=this.element,L=e(V,"zIndex"),y=this.textStr,t;this.parentInverted=bc&&bc.inverted;if(L){ba.handleZ=true;L=Z(L)}if(ba.handleZ){for(t=0;t<ab.length;t++){bc=ab[t];ba=e(bc,"zIndex");if(bc!=V&&(Z(ba)>L||!am(L)&&am(ba))){ad.insertBefore(V,bc);return this}}}if(y!==undefined){bb.buildText(this);this.added=true}ad.appendChild(V);return this},destroy:function(){var y=this.element||{},t=this.shadows,V=y.parentNode,L;y.onclick=y.onmouseout=y.onmouseover=y.onmousemove=null;b(this);V&&V.removeChild(y);t&&O(t,function(ab){(V=ab.parentNode)&&V.removeChild(ab)});aL(this.renderer.alignedObjects,this);for(L in this){delete this[L]}return null},empty:function(){for(var y=this.element,t=y.childNodes,L=t.length;L--;){y.removeChild(t[L])}},shadow:function(y){var t=[],ab,V=this.element,L=this.parentInverted?"(-1,-1)":"(1,1)";if(y){for(y=1;y<=3;y++){ab=V.cloneNode(0);e(ab,{isShadow:"true",stroke:"rgb(0, 0, 0)","stroke-opacity":0.05*y,"stroke-width":7-2*y,transform:"translate"+L,fill:aN});V.parentNode.insertBefore(ab,V);t.push(ab)}this.shadows=t}return this}};var aB=function(){this.init.apply(this,arguments)};aB.prototype={init:function(y,t,ab){var V=location,L;this.Element=aM;L=this.createElement("svg").attr({xmlns:"http://www.w3.org/2000/svg",version:"1.1"});y.appendChild(L.element);this.box=L.element;this.boxWrapper=L;this.alignedObjects=[];this.url=a0?"":V.href.replace(/#.*?$/,"");this.defs=this.createElement("defs").add();this.setSize(t,ab,false)},createElement:function(y){var t=new this.Element;t.init(this,y);return t},buildText:function(bd){var bc=bd.element,bb=M(bd.textStr,"").toString().replace(/<(b|strong)>/g,'<span style="font-weight:bold">').replace(/<(i|em)>/g,'<span style="font-style:italic">').replace(/<a/g,"<span").replace(/<\/(b|strong|i|em|a)>/g,"</span>").split(/<br[^>]?>/g),ba=bc.childNodes,ad=/style="([^"]+)"/,ab=/href="([^"]+)"/,V=e(bc,"x"),L=(bd=bd.styles)&&Z(bd.width),y=bd&&bd.lineHeight,t;for(bd=ba.length;bd--;){bc.removeChild(ba[bd])}L&&this.box.appendChild(bc);O(bb,function(bi,bh){var bg,be=0,bf;bi=bi.replace(/<span/g,"|||<span").replace(/<\/span>/g,"</span>|||");bg=bi.split("|||");O(bg,function(bl){if(bl!==""||bg.length==1){var bm={},bj=aD.createElementNS("http://www.w3.org/2000/svg","tspan");ad.test(bl)&&e(bj,"style",bl.match(ad)[1].replace(/(;| |^)color([ :])/,"$1fill$2"));if(ab.test(bl)){e(bj,"onclick",'location.href="'+bl.match(ab)[1]+'"');p(bj,{cursor:"pointer"})}bl=bl.replace(/<(.|\n)*?>/g,"")||" ";bj.appendChild(aD.createTextNode(bl));if(be){bm.dx=3}else{bm.x=V}if(!be){if(bh){bf=Z(window.getComputedStyle(t,null).getPropertyValue("line-height"));if(isNaN(bf)){bf=y||t.offsetHeight||18}e(bj,"dy",bf)}t=bj}e(bj,bm);bc.appendChild(bj);be++;if(L){bl=bl.replace(/-/g,"- ").split(" ");for(var bn,bk=[];bl.length||bk.length;){bn=bc.getBBox().width;bm=bn>L;if(!bm||bl.length==1){bl=bk;bk=[];bj=aD.createElementNS("http://www.w3.org/2000/svg","tspan");e(bj,{x:V,dy:y||16});bc.appendChild(bj);if(bn>L){L=bn}}else{bj.removeChild(bj.firstChild);bk.unshift(bl.pop())}bj.appendChild(aD.createTextNode(bl.join(" ").replace(/- /g,"-")))}}}})})},crispLine:function(y,t){if(y[1]==y[4]){y[1]=y[4]=ai(y[1])+t%2/2}if(y[2]==y[5]){y[2]=y[5]=ai(y[2])+t%2/2}return y},path:function(t){return this.createElement("path").attr({d:t,fill:aN})},circle:function(y,t,L){y=Y(y)?y:{x:y,y:t,r:L};return this.createElement("circle").attr(y)},arc:function(y,t,ad,ab,V,L){if(Y(y)){t=y.y;ad=y.r;ab=y.innerR;V=y.start;L=y.end;y=y.x}return this.symbol("arc",y||0,t||0,ad||0,{innerR:ab||0,start:V||0,end:L||0})},rect:function(y,t,ba,ad,ab,V){if(arguments.length>1){var L=(V||0)%2/2;y=ai(y||0)+L;t=ai(t||0)+L;ba=ai((ba||0)-2*L);ad=ai((ad||0)-2*L)}L=Y(y)?y:{x:y,y:t,width:a7(ba,0),height:a7(ad,0)};return this.createElement("rect").attr(aP(L,{rx:ab||L.r,ry:ab||L.r,fill:aN}))},setSize:function(y,t,ab){var V=this.alignedObjects,L=V.length;this.width=y;this.height=t;for(this.boxWrapper[M(ab,true)?"animate":"attr"]({width:y,height:t});L--;){V[L].align()}},g:function(t){return this.createElement("g").attr(am(t)&&{"class":aw+t})},image:function(y,t,ad,ab,V){var L={preserveAspectRatio:aN};arguments.length>1&&aP(L,{x:t,y:ad,width:ab,height:V});L=this.createElement("image").attr(L);L.element.setAttributeNS("http://www.w3.org/1999/xlink","href",y);return L},symbol:function(y,t,bb,ba,ad){var ab,V=this.symbols[y];V=V&&V(t,bb,ba,ad);var L=/^url\((.*?)\)$/;if(V){ab=this.path(V);aP(ab,{symbolName:y,x:t,y:bb,r:ba});ad&&aP(ab,ad)}else{if(L.test(y)){y=y.match(L)[1];ab=this.image(y).attr({x:t,y:bb});i("img",{onload:function(){var bc=P[this.src]||[this.width,this.height];ab.attr({width:bc[0],height:bc[1]}).translate(-ai(bc[0]/2),-ai(bc[1]/2))},src:y})}else{ab=this.circle(t,bb,ba)}}return ab},symbols:{square:function(y,t,L){L=0.707*L;return[N,y-L,t-L,aJ,y+L,t-L,y+L,t+L,y-L,t+L,"Z"]},triangle:function(y,t,L){return[N,y,t-1.33*L,aJ,y+L,t+0.67*L,y-L,t+0.67*L,"Z"]},"triangle-down":function(y,t,L){return[N,y,t+1.33*L,aJ,y-L,t-0.67*L,y+L,t-0.67*L,"Z"]},diamond:function(y,t,L){return[N,y,t-L,aJ,y+L,t,y,t+L,y-L,t,"Z"]},arc:function(bd,bc,bb,ba){var ad=ba.start,ab=ba.end-0.000001,V=ba.innerR,L=ae(ad),y=aT(ad),t=ae(ab);ab=aT(ab);ba=ba.end-ad<aC?0:1;return[N,bd+bb*L,bc+bb*y,"A",bb,bb,0,ba,1,bd+bb*t,bc+bb*ab,aJ,bd+V*t,bc+V*ab,"A",V,V,0,ba,0,bd+V*L,bc+V*y,"Z"]}},clipRect:function(y,t,ad,ab){var V=aw+U++,L=this.createElement("clipPath").attr({id:V}).add(this.defs);y=this.rect(y,t,ad,ab,0).add(L);y.id=V;return y},color:function(bc,bb,ba){var ad,ab=/^rgba/;if(bc&&bc.linearGradient){var V=this;bb=bc.linearGradient;ba=aw+U++;var L,y,t;L=V.createElement("linearGradient").attr({id:ba,gradientUnits:"userSpaceOnUse",x1:bb[0],y1:bb[1],x2:bb[2],y2:bb[3]}).add(V.defs);O(bc.stops,function(bd){if(ab.test(bd[1])){ad=ah(bd[1]);y=ad.get("rgb");t=ad.get("a")}else{y=bd[1];t=1}V.createElement("stop").attr({offset:bd[0],"stop-color":y,"stop-opacity":t}).add(L)});return"url("+this.url+"#"+ba+")"}else{if(ab.test(bc)){ad=ah(bc);e(bb,ba+"-opacity",ad.get("a"));return ad.get("rgb")}else{return bc}}},text:function(y,t,V){var L=u.chart.style;t=ai(M(t,0));V=ai(M(V,0));y=this.createElement("text").attr({x:t,y:V,text:y}).css({"font-family":L.fontFamily,"font-size":L.fontSize});y.x=t;y.y=V;return y}};var F;if(!a){var aX=r(aM,{init:function(y,t){var V=["<",t,' filled="f" stroked="f"'],L=["position: ",a3,";"];if(t=="shape"||t==o){L.push("left:0;top:0;width:10px;height:10px;")}if(aS){L.push("visibility: ",t==o?ax:a1)}V.push(' style="',L.join(""),'"/>');if(t){V=t==o||t=="span"||t=="img"?V.join(""):y.prepVML(V);this.element=i(V)}this.renderer=y},add:function(y){var t=this.renderer,V=this.element,L=t.box;L=y?y.element||y:L;y&&y.inverted&&t.invertChild(V,L);aS&&L.gVis==ax&&p(V,{visibility:ax});L.appendChild(V);this.added=true;this.alignOnAdd&&this.updateTransform();return this},attr:function(bg,bf){var be,bc,bb,ba=this.element||{},ad=ba.style,ab=ba.nodeName,V=this.renderer,L=this.symbolName,t,bd,bh=this.shadows,y=this;if(av(bg)&&am(bf)){be=bg;bg={};bg[be]=bf}if(av(bg)){be=bg;y=be=="strokeWidth"||be=="stroke-width"?this.strokeweight:this[be]}else{for(be in bg){bc=bg[be];t=false;if(L&&/^(x|y|r|start|end|width|height|innerR)/.test(be)){if(!bd){this.symbolAttr(bg);bd=true}t=true}else{if(be=="d"){bc=bc||[];this.d=bc.join(" ");bb=bc.length;for(t=[];bb--;){t[bb]=al(bc[bb])?ai(bc[bb]*10)-5:bc[bb]=="Z"?"x":bc[bb]}bc=t.join(" ")||"x";ba.path=bc;if(bh){for(bb=bh.length;bb--;){bh[bb].path=bc}}t=true}else{if(be=="zIndex"||be=="visibility"){if(aS&&be=="visibility"&&ab=="DIV"){ba.gVis=bc;t=ba.childNodes;for(bb=t.length;bb--;){p(t[bb],{visibility:bc})}if(bc==a1){bc=null}}if(bc){ad[be]=bc}t=true}else{if(/^(width|height)$/.test(be)){if(this.updateClipping){this[be]=bc;this.updateClipping()}else{ad[be]=bc}t=true}else{if(/^(x|y)$/.test(be)){this[be]=bc;if(ba.tagName=="SPAN"){this.updateTransform()}else{ad[{x:"left",y:"top"}[be]]=bc}}else{if(be=="class"){ba.className=bc}else{if(be=="stroke"){bc=V.color(bc,ba,be);be="strokecolor"}else{if(be=="stroke-width"||be=="strokeWidth"){ba.stroked=bc?true:false;be="strokeweight";this[be]=bc;if(al(bc)){bc+=aW}}else{if(be=="dashstyle"){(ba.getElementsByTagName("stroke")[0]||i(V.prepVML(["<stroke/>"]),null,null,ba))[be]=bc||"solid";this.dashstyle=bc;t=true}else{if(be=="fill"){if(ab=="SPAN"){ad.color=bc}else{ba.filled=bc!=aN?true:false;bc=V.color(bc,ba,be);be="fillcolor"}}else{if(be=="translateX"||be=="translateY"||be=="rotation"||be=="align"){if(be=="align"){be="textAlign"}this[be]=bc;this.updateTransform();t=true}else{if(be=="text"){ba.innerHTML=bc;t=true}}}}}}}}}}}}if(bh&&be=="visibility"){for(bb=bh.length;bb--;){bh[bb].style[be]=bc}}if(!t){if(aS){ba[be]=bc}else{e(ba,be,bc)}}}}return y},clip:function(y){var t=this,L=y.members;L.push(t);t.destroyClip=function(){aL(L,t)};return t.css(y.getCSS(t.inverted))},css:function(y){var t=this.element;(t=y&&y.width&&t.tagName=="SPAN")&&aP(y,{display:"block",whiteSpace:"normal"});this.styles=aP(this.styles,y);p(this.element,y);t&&this.updateTransform();return this},destroy:function(){this.destroyClip&&this.destroyClip();aM.prototype.destroy.apply(this)},empty:function(){for(var y=this.element.childNodes,t=y.length,L;t--;){L=y[t];L.parentNode.removeChild(L)}},getBBox:function(){var t=this.element;if(t.nodeName=="text"){t.style.position=a3}return{x:t.offsetLeft,y:t.offsetTop,width:t.offsetWidth,height:t.offsetHeight}},on:function(y,t){this.element["on"+y]=function(){var L=ap.event;L.target=L.srcElement;t(L)};return this},updateTransform:function(){if(this.added){var bi=this,bh=bi.element,bf=bi.translateX||0,bd=bi.translateY||0,bc=bi.x||0,bb=bi.y||0,ba=bi.textAlign||"left",ad={left:0,center:0.5,right:1}[ba],ab=ba&&ba!="left";if(bf||bd){bi.css({marginLeft:bf,marginTop:bd})}bi.inverted&&O(bh.childNodes,function(bl){bi.renderer.invertChild(bl,bh)});if(bh.tagName=="SPAN"){var V,t;bf=bi.rotation;var be;V=0;bd=1;var bk=0,y,L=bi.xCorr||0,bg=bi.yCorr||0,bj=[bf,ba,bh.innerHTML,bh.style.width].join(",");if(bj!=bi.cTT){if(am(bf)){V=bf*aR;bd=ae(V);bk=aT(V);p(bh,{filter:bf?["progid:DXImageTransform.Microsoft.Matrix(M11=",bd,", M12=",-bk,", M21=",bk,", M22=",bd,", sizingMethod='auto expand')"].join(""):aN})}V=bh.offsetWidth;t=bh.offsetHeight;be=ai(Z(bh.style.fontSize||12)*1.2);L=bd<0&&-V;bg=bk<0&&-t;y=bd*bk<0;L+=bk*be*(y?1-ad:ad);bg-=bd*be*(bf?y?ad:1-ad:1);if(ab){L-=V*ad*(bd<0?-1:1);if(bf){bg-=t*ad*(bk<0?-1:1)}p(bh,{textAlign:ba})}bi.xCorr=L;bi.yCorr=bg}p(bh,{left:bc+L,top:bb+bg});bi.cTT=bj}}else{this.alignOnAdd=true}},shadow:function(y){var t=[],bb=this.element,ba=this.renderer,ad,ab=bb.style,V,L=bb.path;if(""+bb.path===""){L="x"}if(y){for(y=1;y<=3;y++){V=['<shape isShadow="true" strokeweight="',7-2*y,'" filled="false" path="',L,'" coordsize="100,100" style="',bb.style.cssText,'" />'];ad=i(ba.prepVML(V),null,{left:Z(ab.left)+1,top:Z(ab.top)+1});V=['<stroke color="black" opacity="',0.05*y,'"/>'];i(ba.prepVML(V),null,null,ad);bb.parentNode.insertBefore(ad,bb);t.push(ad)}this.shadows=t}return this}});F=function(){this.init.apply(this,arguments)};F.prototype=s(aB.prototype,{isIE8:q.indexOf("MSIE 8.0")>-1,init:function(y,t,V){var L;this.Element=aX;this.alignedObjects=[];L=this.createElement(o);y.appendChild(L.element);this.box=L.element;this.boxWrapper=L;this.setSize(t,V,false);if(!aD.namespaces.hcv){aD.namespaces.add("hcv","urn:schemas-microsoft-com:vml");aD.createStyleSheet().cssText="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } "}},clipRect:function(y,t,ab,V){var L=this.createElement();return aP(L,{members:[],left:y,top:t,width:ab,height:V,getCSS:function(bd){var bc=this.top,bb=this.left,ba=bb+this.width,ad=bc+this.height;bc={clip:"rect("+ai(bd?bb:bc)+"px,"+ai(bd?ad:ba)+"px,"+ai(bd?ba:ad)+"px,"+ai(bd?bc:bb)+"px)"};!bd&&aS&&aP(bc,{width:ba+aW,height:ad+aW});return bc},updateClipping:function(){O(L.members,function(ad){ad.css(L.getCSS(ad.inverted))})}})},color:function(bf,be,bd){var bb,ba=/^rgba/;if(bf&&bf.linearGradient){var ad,ab,V=bf.linearGradient,L,y,t,bc;O(bf.stops,function(bh,bg){if(ba.test(bh[1])){bb=ah(bh[1]);ad=bb.get("rgb");ab=bb.get("a")}else{ad=bh[1];ab=1}if(bg){t=ad;bc=ab}else{L=ad;y=ab}});bf=90-aU.atan((V[3]-V[1])/(V[2]-V[0]))*180/aC;bd=["<",bd,' colors="0% ',L,",100% ",t,'" angle="',bf,'" opacity="',bc,'" o:opacity2="',y,'" type="gradient" focus="100%" />'];i(this.prepVML(bd),null,null,be)}else{if(ba.test(bf)&&be.tagName!="IMG"){bb=ah(bf);bd=["<",bd,' opacity="',bb.get("a"),'"/>'];i(this.prepVML(bd),null,null,be);return bb.get("rgb")}else{return bf}}},prepVML:function(y){var t=this.isIE8;y=y.join("");if(t){y=y.replace("/>",' xmlns="urn:schemas-microsoft-com:vml" />');y=y.indexOf('style="')==-1?y.replace("/>",' style="display:inline-block;behavior:url(#default#VML);" />'):y.replace('style="','style="display:inline-block;behavior:url(#default#VML);')}else{y=y.replace("<","<hcv:")}return y},text:function(y,t,V){var L=u.chart.style;return this.createElement("span").attr({text:y,x:ai(t),y:ai(V)}).css({whiteSpace:"nowrap",fontFamily:L.fontFamily,fontSize:L.fontSize})},path:function(t){return this.createElement("shape").attr({coordsize:"100 100",d:t})},circle:function(y,t,L){return this.path(this.symbols.circle(y,t,L))},g:function(y){var t;if(y){t={className:aw+y,"class":aw+y}}return this.createElement(o).attr(t)},image:function(y,t,ad,ab,V){var L=this.createElement("img").attr({src:y});arguments.length>1&&L.css({left:t,top:ad,width:ab,height:V});return L},rect:function(y,t,ba,ad,ab,V){if(arguments.length>1){var L=(V||0)%2/2;y=ai(y||0)+L;t=ai(t||0)+L;ba=ai((ba||0)-2*L);ad=ai((ad||0)-2*L)}if(Y(y)){t=y.y;ba=y.width;ad=y.height;ab=y.r;y=y.x}return this.symbol("rect",y||0,t||0,ab||0,{width:ba||0,height:ad||0})},invertChild:function(y,t){var L=t.style;p(y,{flip:"x",left:Z(L.width)-10,top:Z(L.height)-10,rotation:-90})},symbols:{arc:function(bd,bc,bb,ba){var ad=ba.start,ab=ba.end,V=ae(ad),L=aT(ad),y=ae(ab),t=aT(ab);ba=ba.innerR;if(ab-ad===0){return["x"]}else{if(ab-ad==2*aC){y=-0.07/bb}}return["wa",bd-bb,bc-bb,bd+bb,bc+bb,bd+bb*V,bc+bb*L,bd+bb*y,bc+bb*t,"at",bd-ba,bc-ba,bd+ba,bc+ba,bd+ba*y,bc+ba*t,bd+ba*V,bc+ba*L,"x","e"]},circle:function(y,t,L){return["wa",y-L,t-L,y+L,t+L,y+L,t,y+L,t,"e"]},rect:function(y,t,ba,ad){var ab=ad.width;ad=ad.height;var V=y+ab,L=t+ad;ba=at(ba,ab,ad);return[N,y+ba,t,aJ,V-ba,t,"wa",V-2*ba,t,V,t+2*ba,V-ba,t,V,t+ba,aJ,V,L-ba,"wa",V-2*ba,L-2*ba,V,L,V,L-ba,V-ba,L,aJ,y+ba,L,"wa",y,L-2*ba,y+2*ba,L,y+ba,L,y,L-ba,aJ,y,t+ba,"wa",y,t,y+2*ba,t+2*ba,y,t+ba,y+ba,t,"x","e"]}}})}var G=a?aB:F;aK.prototype.callbacks=[];var az=function(){};az.prototype={init:function(y,t){var L;this.series=y;this.applyOptions(t);this.pointAttr={};if(y.options.colorByPoint){L=y.chart.options.colors;if(!this.options){this.options={}}this.color=this.options.color=this.color||L[aO++];if(aO>=L.length){aO=0}}y.chart.pointCount++;return this},applyOptions:function(y){var t=this.series;this.config=y;if(al(y)||y===null){this.y=y}else{if(Y(y)&&!al(y.length)){aP(this,y);this.options=y}else{if(av(y[0])){this.name=y[0];this.y=y[1]}else{if(al(y[0])){this.x=y[0];this.y=y[1]}}}}if(this.x===I){this.x=t.autoIncrement()}},destroy:function(){var y=this,t=y.series,L;t.chart.pointCount--;y==t.chart.hoverPoint&&y.onMouseOut();t.chart.hoverPoints=null;aI(y);O(["graphic","tracker","group","dataLabel","connector"],function(V){y[V]&&y[V].destroy()});y.legendItem&&y.series.chart.legend.destroyItem(y);for(L in y){y[L]=null}},select:function(y,t){var V=this,L=V.series.chart;V.selected=y=M(y,!V.selected);V.firePointEvent(y?"select":"unselect");V.setState(y&&"select");t||O(L.getSelectedPoints(),function(ab){if(ab.selected&&ab!=V){ab.selected=false;ab.setState(R);ab.firePointEvent("unselect")}})},onMouseOver:function(){var y=this.series.chart,t=y.tooltip,L=y.hoverPoint;L&&L!=this&&L.onMouseOut();this.firePointEvent("mouseOver");t&&!t.shared&&t.refresh(this);this.setState(c);y.hoverPoint=this},onMouseOut:function(){this.firePointEvent("mouseOut");this.setState();this.series.chart.hoverPoint=null},tooltipFormatter:function(y){var t=this.series;return['<span style="color:'+t.color+'">',this.name||t.name,"</span>: ",!y?"<b>x = "+(this.name||this.x)+",</b> ":"","<b>",!y?"y = ":"",this.y,"</b><br/>"].join("")},update:function(y,t,ad){var ab=this,V=ab.series,L=V.chart;E(ad,L);t=M(t,true);ab.firePointEvent("update",{options:y},function(){ab.applyOptions(y);V.isDirty=true;t&&L.redraw()})},remove:function(y,t){var ad=this,ab=ad.series,V=ab.chart,L=ab.data;E(t,V);y=M(y,true);ad.firePointEvent("remove",null,function(){aL(L,ad);ad.destroy();ab.isDirty=true;y&&V.redraw()})},firePointEvent:function(y,t,ab){var V=this,L=this.series.options;if(L.point.events[y]||V.options&&V.options.events&&V.options.events[y]){this.importEvents()}if(y=="click"&&L.allowPointSelect){ab=function(ad){V.select(null,ad.ctrlKey||ad.metaKey||ad.shiftKey)}}aa(this,y,t,ab)},importEvents:function(){if(!this.hasImportedEvents){var y=s(this.series.options.point,this.options).events,t;this.events=y;for(t in y){af(this,t,y[t])}this.hasImportedEvents=true}},setState:function(bc){var bb=this.series,ba=bb.options.states,ad=H[bb.type].marker&&bb.options.marker,ab=ad&&!ad.enabled,V=(ad=ad&&ad.states[bc])&&ad.enabled===false,L=bb.stateMarkerGraphic,y=bb.chart,t=this.pointAttr;bc||(bc=R);if(!(bc==this.state||this.selected&&bc!="select"||ba[bc]&&ba[bc].enabled===false||bc&&(V||ab&&!ad.enabled))){if(this.graphic){this.graphic.attr(t[bc])}else{if(bc){if(!L){bb.stateMarkerGraphic=L=y.renderer.circle(0,0,t[bc].r).attr(t[bc]).add(bb.group)}L.translate(this.plotX,this.plotY)}if(L){L[bc?"show":"hide"]()}}this.state=bc}}};var a4=function(){};a4.prototype={isCartesian:true,type:"line",pointClass:az,pointAttrToOptions:{stroke:"lineColor","stroke-width":"lineWidth",fill:"fillColor",r:"radius"},init:function(y,t){var V,L;L=y.series.length;this.chart=y;t=this.setOptions(t);aP(this,{index:L,options:t,name:t.name||"Series "+(L+1),state:R,pointAttr:{},visible:t.visible!==false,selected:t.selected===true});L=t.events;for(V in L){af(this,V,L[V])}if(L&&L.click||t.point&&t.point.events&&t.point.events.click||t.allowPointSelect){y.runTrackerClick=true}this.getColor();this.getSymbol();this.setData(t.data,false)},autoIncrement:function(){var y=this.options,t=this.xIncrement;t=M(t,y.pointStart,0);this.pointInterval=M(this.pointInterval,y.pointInterval,1);this.xIncrement=t+this.pointInterval;return t},cleanData:function(){var y=this.chart,t=this.data,ba,ad,ab=y.smallestInterval,V,L;t.sort(function(bc,bb){return bc.x-bb.x});for(L=t.length-1;L>=0;L--){t[L-1]&&t[L-1].x==t[L].x&&t.splice(L-1,1)}for(L=t.length-1;L>=0;L--){if(t[L-1]){V=t[L].x-t[L-1].x;if(ad===I||V<ad){ad=V;ba=L}}}if(ab===I||ad<ab){y.smallestInterval=ad}this.closestPoints=ba},getSegments:function(){var y=-1,t=[],L=this.data;O(L,function(ab,V){if(ab.y===null){V>y+1&&t.push(L.slice(y+1,V));y=V}else{V==L.length-1&&t.push(L.slice(y+1,V+1))}});this.segments=t},setOptions:function(y){var t=this.chart.options.plotOptions;return s(t[this.type],t.series,y)},getColor:function(){var t=this.chart.options.colors;this.color=this.options.color||t[aO++]||"#0000ff";if(aO>=t.length){aO=0}},getSymbol:function(){var t=this.chart.options.symbols;this.symbol=this.options.marker.symbol||t[K++];if(K>=t.length){K=0}},addPoint:function(y,t,bb,ba){var ad=this.data,ab=this.graph,V=this.area,L=this.chart;y=(new this.pointClass).init(this,y);E(ba,L);if(ab&&bb){ab.shift=bb}if(V){V.shift=bb;V.isArea=true}t=M(t,true);ad.push(y);bb&&ad[0].remove(false);this.isDirty=true;t&&L.redraw()},setData:function(y,t){var ba=this,ad=ba.data,ab=ba.initialColor,V=ba.chart,L=ad&&ad.length||0;ba.xIncrement=null;if(am(ab)){aO=ab}for(y=B(ar(y||[]),function(bb){return(new ba.pointClass).init(ba,bb)});L--;){ad[L].destroy()}ba.data=y;ba.cleanData();ba.getSegments();ba.isDirty=true;V.isDirtyBox=true;M(t,true)&&V.redraw(false)},remove:function(y,t){var V=this,L=V.chart;y=M(y,true);if(!V.isRemoving){V.isRemoving=true;aa(V,"remove",null,function(){V.destroy();L.isDirtyLegend=L.isDirtyBox=true;y&&L.redraw(t)})}V.isRemoving=false},translate:function(){for(var be=this.chart,bd=this.options.stacking,bc=this.xAxis.categories,bb=this.yAxis,ba=this.data,ad=ba.length;ad--;){var ab=ba[ad],V=ab.x,L=ab.y,y=ab.low,t=bb.stacks[(L<0?"-":"")+this.stackKey];ab.plotX=this.xAxis.translate(V);if(bd&&this.visible&&t[V]){y=t[V];V=y.total;y.cum=y=y.cum-L;L=y+L;if(bd=="percent"){y=V?y*100/V:0;L=V?L*100/V:0}ab.percentage=V?ab.y*100/V:0;ab.stackTotal=V}if(am(y)){ab.yBottom=bb.translate(y,0,1)}if(L!==null){ab.plotY=bb.translate(L,0,1)}ab.clientX=be.inverted?be.plotHeight-ab.plotX:ab.plotX;ab.category=bc&&bc[ab.x]!==I?bc[ab.x]:ab.x}},setTooltipPoints:function(y){var t=this.chart,bb=t.inverted,ba=[],ad=ai((bb?t.plotTop:t.plotLeft)+t.plotSizeX),ab,V,L=[];if(y){this.tooltipPoints=null}O(this.segments,function(bc){ba=ba.concat(bc)});if(this.xAxis&&this.xAxis.reversed){ba=ba.reverse()}O(ba,function(bd,bc){ab=ba[bc-1]?ba[bc-1].high+1:0;for(V=bd.high=ba[bc+1]?a9((bd.plotX+(ba[bc+1]?ba[bc+1].plotX:ad))/2):ad;ab<=V;){L[bb?ad-ab++:ab++]=bd}});this.tooltipPoints=L},onMouseOver:function(){var y=this.chart,t=y.hoverSeries;if(!(!a6&&y.mouseIsDown)){t&&t!=this&&t.onMouseOut();this.options.events.mouseOver&&aa(this,"mouseOver");this.tracker&&this.tracker.toFront();this.setState(c);y.hoverSeries=this}},onMouseOut:function(){var y=this.options,t=this.chart,V=t.tooltip,L=t.hoverPoint;L&&L.onMouseOut();this&&y.events.mouseOut&&aa(this,"mouseOut");V&&!y.stickyTracking&&V.hide();this.setState();t.hoverSeries=null},animate:function(y){var t=this.chart,V=this.clipRect,L=this.options.animation;if(L&&!Y(L)){L={}}if(y){if(!V.isAnimating){V.attr("width",0);V.isAnimating=true}}else{V.animate({width:t.plotSizeX},L);this.animate=null}},drawPoints:function(){var bc,bb=this.data,ba=this.chart,ad,ab,V,L,y,t;if(this.options.marker.enabled){for(V=bb.length;V--;){L=bb[V];ad=L.plotX;ab=L.plotY;t=L.graphic;if(ab!==I&&!isNaN(ab)){bc=L.pointAttr[L.selected?"select":R];y=bc.r;if(t){t.animate({x:ad,y:ab,r:y})}else{L.graphic=ba.renderer.symbol(M(L.marker&&L.marker.symbol,this.symbol),ad,ab,y).attr(bc).add(this.group)}}}}},convertAttribs:function(y,t,bb,ba){var ad=this.pointAttrToOptions,ab,V,L={};y=y||{};t=t||{};bb=bb||{};ba=ba||{};for(ab in ad){V=ad[ab];L[ab]=M(y[V],t[ab],bb[ab],ba[ab])}return L},getAttribs:function(){var bf=this,be=H[bf.type].marker?bf.options.marker:bf.options,bd=be.states,bb=bd[c],ba,ad=bf.color,ab={stroke:ad,fill:ad},V=bf.data,L=[],y,t=bf.pointAttrToOptions;if(bf.options.marker){bb.radius=bb.radius||be.radius+2;bb.lineWidth=bb.lineWidth||be.lineWidth+1}else{bb.color=bb.color||ah(bb.color||ad).brighten(bb.brightness).get()}L[R]=bf.convertAttribs(be,ab);O([c,"select"],function(bg){L[bg]=bf.convertAttribs(bd[bg],L[R])});bf.pointAttr=L;for(ad=V.length;ad--;){ab=V[ad];if((be=ab.options&&ab.options.marker||ab.options)&&be.enabled===false){be.radius=0}ba=false;if(ab.options){for(var bc in t){if(am(be[t[bc]])){ba=true}}}if(ba){y=[];bd=be.states||{};ba=bd[c]=bd[c]||{};if(!bf.options.marker){ba.color=ah(ba.color||ab.options.color).brighten(ba.brightness||bb.brightness).get()}y[R]=bf.convertAttribs(be,L[R]);y[c]=bf.convertAttribs(bd[c],L[c],y[R]);y.select=bf.convertAttribs(bd.select,L.select,y[R])}else{y=L}ab.pointAttr=y}},destroy:function(){var y=this,t=y.chart,ab=/\/5[0-9\.]+ Safari\//.test(q),V,L;aI(y);y.legendItem&&y.chart.legend.destroyItem(y);O(y.data,function(ad){ad.destroy()});O(["area","graph","dataLabelsGroup","group","tracker"],function(ad){if(y[ad]){V=ab&&ad=="group"?"hide":"destroy";y[ad][V]()}});if(t.hoverSeries==y){t.hoverSeries=null}aL(t.series,y);for(L in y){delete y[L]}},drawDataLabels:function(){if(this.options.dataLabels.enabled){var be=this,bd,bc,bb=be.data,ba=be.options.dataLabels,ad,ab=be.dataLabelsGroup,V=be.chart,L=V.inverted,y=be.type,t;if(!ab){ab=be.dataLabelsGroup=V.renderer.g(aw+"data-labels").attr({visibility:be.visible?a1:ax,zIndex:5}).translate(V.plotLeft,V.plotTop).add()}t=ba.color;if(t=="auto"){t=null}ba.style.color=M(t,be.color);O(bb,function(bj){var bi=bj.barX;bi=bi&&bi+bj.barW/2||bj.plotX||-999;var bg=M(bj.plotY,-999),bh=bj.dataLabel,bf=ba.align;ad=ba.formatter.call({x:bj.x,y:bj.y,series:be,point:bj,percentage:bj.percentage,total:bj.total||bj.stackTotal});bd=(L?V.plotWidth-bg:bi)+ba.x;bc=(L?V.plotHeight-bi:bg)+ba.y;if(y=="column"){bd+={left:-1,right:1}[bf]*bj.barW/2||0}if(bh){bh.animate({x:bd,y:bc})}else{if(ad){bh=bj.dataLabel=V.renderer.text(ad,bd,bc).attr({align:bf,rotation:ba.rotation,zIndex:1}).css(ba.style).add(ab)}}L&&!ba.y&&bh.attr({y:bc+parseInt(bh.styles.lineHeight)*0.9-bh.getBBox().height/2})})}},drawGraph:function(){var bi=this,bh=bi.options,bf=bi.graph,bd=[],bc,bb=bi.area,ba=bi.group,ad=bh.lineColor||bi.color,ab=bh.lineWidth,V=bh.dashStyle,t,be=bi.chart.renderer,bj=bi.yAxis.getThreshold(bh.threshold||0),y=/^area/.test(bi.type),L=[],bg=[];O(bi.segments,function(bm){t=[];O(bm,function(bo,bp){if(bi.getPointSpline){t.push.apply(t,bi.getPointSpline(bm,bo,bp))}else{t.push(bp?aJ:N);bp&&bh.step&&t.push(bo.plotX,bm[bp-1].plotY);t.push(bo.plotX,bo.plotY)}});if(bm.length>1){bd=bd.concat(t)}else{L.push(bm[0])}if(y){var bk=[],bn,bl=t.length;for(bn=0;bn<bl;bn++){bk.push(t[bn])}bl==3&&bk.push(aJ,t[1],t[2]);if(bh.stacking&&bi.type!="areaspline"){for(bn=bm.length-1;bn>=0;bn--){bk.push(bm[bn].plotX,bm[bn].yBottom)}}else{bk.push(aJ,bm[bm.length-1].plotX,bj,aJ,bm[0].plotX,bj)}bg=bg.concat(bk)}});bi.graphPath=bd;bi.singlePoints=L;if(y){bc=M(bh.fillColor,ah(bi.color).setOpacity(bh.fillOpacity||0.75).get());if(bb){bb.animate({d:bg})}else{bi.area=bi.chart.renderer.path(bg).attr({fill:bc}).add(ba)}}if(bf){bf.animate({d:bd})}else{if(ab){bf={stroke:ad,"stroke-width":ab};if(V){bf.dashstyle=V}bi.graph=be.path(bd).attr(bf).add(ba).shadow(bh.shadow)}}},render:function(){var y=this,t=y.chart,bb,ba,ad=y.options,ab=ad.animation,V=ab&&y.animate;ab=V?ab&&ab.duration||500:0;var L=y.clipRect;ba=t.renderer;if(!L){L=y.clipRect=!t.hasRendered&&t.clipRect?t.clipRect:ba.clipRect(0,0,t.plotSizeX,t.plotSizeY);if(!t.clipRect){t.clipRect=L}}if(!y.group){bb=y.group=ba.g("series");if(t.inverted){ba=function(){bb.attr({width:t.plotWidth,height:t.plotHeight}).invert()};ba();af(t,"resize",ba)}bb.clip(y.clipRect).attr({visibility:y.visible?a1:ax,zIndex:ad.zIndex}).translate(t.plotLeft,t.plotTop).add(t.seriesGroup)}y.drawDataLabels();V&&y.animate(true);y.getAttribs();y.drawGraph&&y.drawGraph();y.drawPoints();y.options.enableMouseTracking!==false&&y.drawTracker();V&&y.animate();setTimeout(function(){L.isAnimating=false;if((bb=y.group)&&L!=t.clipRect&&L.renderer){bb.clip(y.clipRect=t.clipRect);L.destroy()}},ab);y.isDirty=false},redraw:function(){var y=this.chart,t=this.group;if(t){y.inverted&&t.attr({width:y.plotWidth,height:y.plotHeight});t.animate({translateX:y.plotLeft,translateY:y.plotTop})}this.translate();this.setTooltipPoints(true);this.render()},setState:function(y){var t=this.options,V=this.graph,L=t.states;t=t.lineWidth;y=y||R;if(this.state!=y){this.state=y;if(!(L[y]&&L[y].enabled===false)){if(y){t=L[y].lineWidth||t+1}if(V&&!V.dashstyle){V.attr({"stroke-width":t},y?0:500)}}}},setVisible:function(bd,bc){var bb=this.chart,ba=this.legendItem,ad=this.group,ab=this.tracker,V=this.dataLabelsGroup,L,y=this.data,t=bb.options.chart.ignoreHiddenSeries;L=this.visible;L=(this.visible=bd=bd===I?!L:bd)?"show":"hide";ad&&ad[L]();if(ab){ab[L]()}else{for(ad=y.length;ad--;){ab=y[ad];ab.tracker&&ab.tracker[L]()}}V&&V[L]();ba&&bb.legend.colorizeItem(this,bd);this.isDirty=true;this.options.stacking&&O(bb.series,function(be){if(be.options.stacking&&be.visible){be.isDirty=true}});if(t){bb.isDirtyBox=true}bc!==false&&bb.redraw();aa(this,L)},show:function(){this.setVisible(true)},hide:function(){this.setVisible(false)},select:function(t){this.selected=t=t===I?!this.selected:t;if(this.checkbox){this.checkbox.checked=t}aa(this,t?"select":"unselect")},drawTracker:function(){var bd=this,bc=bd.options,bb=[].concat(bd.graphPath),ba=bb.length,ad=bd.chart,ab=ad.options.tooltip.snap,V=bd.tracker,L=bc.cursor;L=L&&{cursor:L};var y=bd.singlePoints,t;if(ba){for(t=ba+1;t--;){bb[t]==N&&bb.splice(t+1,0,bb[t+1]-ab,bb[t+2],aJ);if(t&&bb[t]==N||t==ba){bb.splice(t,0,aJ,bb[t-2]+ab,bb[t-1])}}}for(t=0;t<y.length;t++){ba=y[t];bb.push(N,ba.plotX-ab,ba.plotY,aJ,ba.plotX+ab,ba.plotY)}if(V){V.attr({d:bb})}else{bd.tracker=ad.renderer.path(bb).attr({isTracker:true,stroke:aA,fill:aN,"stroke-width":bc.lineWidth+2*ab,visibility:bd.visible?a1:ax,zIndex:1}).on(a6?"touchstart":"mouseover",function(){ad.hoverSeries!=bd&&bd.onMouseOver()}).on("mouseout",function(){bc.stickyTracking||bd.onMouseOut()}).css(L).add(ad.trackerGroup)}}};F=r(a4);aQ.line=F;F=r(a4,{type:"area"});aQ.area=F;F=r(a4,{type:"spline",getPointSpline:function(bf,be,bd){var bb=be.plotX,ba=be.plotY,ad=bf[bd-1],ab=bf[bd+1],V,L,y,t;if(bd&&bd<bf.length-1){bf=ad.plotY;y=ab.plotX;ab=ab.plotY;var bc;V=(1.5*bb+ad.plotX)/2.5;L=(1.5*ba+bf)/2.5;y=(1.5*bb+y)/2.5;t=(1.5*ba+ab)/2.5;bc=(t-L)*(y-bb)/(y-V)+ba-t;L+=bc;t+=bc;if(L>bf&&L>ba){L=a7(bf,ba);t=2*ba-L}else{if(L<bf&&L<ba){L=at(bf,ba);t=2*ba-L}}if(t>ab&&t>ba){t=a7(ab,ba);L=2*ba-t}else{if(t<ab&&t<ba){t=at(ab,ba);L=2*ba-t}}be.rightContX=y;be.rightContY=t}if(bd){be=["C",ad.rightContX||ad.plotX,ad.rightContY||ad.plotY,V||bb,L||ba,bb,ba];ad.rightContX=ad.rightContY=null}else{be=[N,bb,ba]}return be}});aQ.spline=F;F=r(F,{type:"areaspline"});aQ.areaspline=F;var aV=r(a4,{type:"column",pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color",r:"borderRadius"},init:function(){a4.prototype.init.apply(this,arguments);var y=this,t=y.chart;t.hasColumn=true;t.hasRendered&&O(t.series,function(L){if(L.type==y.type){L.isDirty=true}})},translate:function(){var bi=this,bh=bi.chart,bf=0,bd=bi.xAxis.reversed,bc=bi.xAxis.categories,bb={},ba,ad;a4.prototype.translate.apply(bi);O(bh.series,function(bl){if(bl.type==bi.type){if(bl.options.stacking){ba=bl.stackKey;if(bb[ba]===I){bb[ba]=bf++}ad=bb[ba]}else{ad=bf++}bl.columnIndex=ad}});var ab=bi.options,V=bi.data,t=bi.closestPoints;bh=aF(V[1]?V[t].plotX-V[t-1].plotX:bh.plotSizeX/(bc?bc.length:1));bc=bh*ab.groupPadding;t=(bh-2*bc)/bf;var be=ab.pointWidth,bk=am(be)?(t-be)/2:t*ab.pointPadding,y=M(be,t-2*bk),L=bk+(bc+((bd?bf-bi.columnIndex:bi.columnIndex)||0)*t-bh/2)*(bd?-1:1),bg=bi.yAxis.getThreshold(ab.threshold||0),bj=M(ab.minPointLength,5);O(V,function(bl){var br=bl.plotY,bm=bl.yBottom||bg,bo=bl.plotX+L,bq=z(at(br,bm)),bp=z(a7(br,bm)-bq),bn;if(aF(bp)<bj){if(bj){bp=bj;bq=aF(bq-bg)>bj?bm-bj:bg-(br<=bg?bj:0)}bn=bq-3}aP(bl,{barX:bo,barY:bq,barW:y,barH:bp});bl.shapeType="rect";bl.shapeArgs={x:bo,y:bq,width:y,height:bp,r:ab.borderRadius};bl.trackerArgs=am(bn)&&s(bl.shapeArgs,{height:a7(6,bp+3),y:bn})})},getSymbol:function(){},drawGraph:function(){},drawPoints:function(){var y=this,t=y.options,ab=y.chart.renderer,V,L;O(y.data,function(ba){var ad=ba.plotY;if(ad!==I&&!isNaN(ad)){V=ba.graphic;L=ba.shapeArgs;if(V){b(V);V.animate(L)}else{ba.graphic=ab[ba.shapeType](L).attr(ba.pointAttr[ba.selected?"select":R]).add(y.group).shadow(t.shadow)}}})},drawTracker:function(){var bc=this,bb=bc.chart,ba=bb.renderer,ad,ab,V=+new Date,L=bc.options.cursor,y=L&&{cursor:L},t;O(bc.data,function(bd){ab=bd.tracker;ad=bd.trackerArgs||bd.shapeArgs;if(bd.y!==null){if(ab){ab.attr(ad)}else{bd.tracker=ba[bd.shapeType](ad).attr({isTracker:V,fill:aA,visibility:bc.visible?a1:ax,zIndex:1}).on(a6?"touchstart":"mouseover",function(be){t=be.relatedTarget||be.fromElement;bb.hoverSeries!=bc&&e(t,"isTracker")!=V&&bc.onMouseOver();bd.onMouseOver()}).on("mouseout",function(be){if(!bc.options.stickyTracking){t=be.relatedTarget||be.toElement;e(t,"isTracker")!=V&&bc.onMouseOut()}}).css(y).add(bb.trackerGroup)}}})},animate:function(y){var t=this,L=t.data;if(!y){O(L,function(ab){var V=ab.graphic;if(V){V.attr({height:0,y:t.yAxis.translate(0,0,1)});V.animate({height:ab.barH,y:ab.barY},t.options.animation)}});t.animate=null}},remove:function(){var y=this,t=y.chart;t.hasRendered&&O(t.series,function(L){if(L.type==y.type){L.isDirty=true}});a4.prototype.remove.apply(y,arguments)}});aQ.column=aV;F=r(aV,{type:"bar",init:function(t){t.inverted=this.inverted=true;aV.prototype.init.apply(this,arguments)}});aQ.bar=F;F=r(a4,{type:"scatter",translate:function(){var t=this;a4.prototype.translate.apply(t);O(t.data,function(y){y.shapeType="circle";y.shapeArgs={x:y.plotX,y:y.plotY,r:t.chart.options.tooltip.snap}})},drawTracker:function(){var y=this,t=y.options.cursor,V=t&&{cursor:t},L;O(y.data,function(ab){(L=ab.graphic)&&L.attr({isTracker:true}).on("mouseover",function(){y.onMouseOver();ab.onMouseOver()}).on("mouseout",function(){y.options.stickyTracking||y.onMouseOut()}).css(V)})},cleanData:function(){}});aQ.scatter=F;F=r(az,{init:function(){az.prototype.init.apply(this,arguments);var y=this,t;aP(y,{visible:y.visible!==false,name:M(y.name,"Slice")});t=function(){y.slice()};af(y,"select",t);af(y,"unselect",t);return y},setVisible:function(y){var t=this.series.chart,ad=this.tracker,ab=this.dataLabel,V=this.connector,L;L=(this.visible=y=y===I?!this.visible:y)?"show":"hide";this.group[L]();ad&&ad[L]();ab&&ab[L]();V&&V[L]();this.legendItem&&t.legend.colorizeItem(this,y)},slice:function(y,t,ab){var V=this.series.chart,L=this.slicedTranslation;E(ab,V);M(t,true);y=this.sliced=am(y)?y:!this.sliced;this.group.animate({translateX:y?L[0]:V.plotLeft,translateY:y?L[1]:V.plotTop})}});F=r(a4,{type:"pie",isCartesian:false,pointClass:F,pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color"},getColor:function(){this.initialColor=aO},animate:function(){var t=this;O(t.data,function(y){var V=y.graphic;y=y.shapeArgs;var L=-aC/2;if(V){V.attr({r:0,start:L,end:L});V.animate({r:y.r,start:y.start,end:y.end},t.options.animation)}});t.animate=null},translate:function(){var bn=0,bm=-0.25,bl=this.options,bk=bl.slicedOffset,bj=bk+bl.borderWidth,bi=bl.center,bh=this.chart,bg=bh.plotWidth,bf=bh.plotHeight,be,bc,ab,ba=this.data,bd=2*aC,y,V=at(bg,bf),ad,bb,L,t=bl.dataLabels.distance;bi.push(bl.size,bl.innerSize||0);bi=B(bi,function(bo,bp){return(ad=/%$/.test(bo))?[bg,bf,V,V][bp]*Z(bo)/100:bo});this.getX=function(bo,bp){ab=aU.asin((bo-bi[1])/(bi[2]/2+t));return bi[0]+(bp?-1:1)*ae(ab)*(bi[2]/2+t)};this.center=bi;O(ba,function(bo){bn+=bo.y});O(ba,function(bo){y=bn?bo.y/bn:0;be=ai(bm*bd*1000)/1000;bm+=y;bc=ai(bm*bd*1000)/1000;bo.shapeType="arc";bo.shapeArgs={x:bi[0],y:bi[1],r:bi[2]/2,innerR:bi[3]/2,start:be,end:bc};ab=(bc+be)/2;bo.slicedTranslation=B([ae(ab)*bk+bh.plotLeft,aT(ab)*bk+bh.plotTop],ai);bb=ae(ab)*bi[2]/2;L=aT(ab)*bi[2]/2;bo.tooltipPos=[bi[0]+bb*0.7,bi[1]+L*0.7];bo.labelPos=[bi[0]+bb+ae(ab)*t,bi[1]+L+aT(ab)*t,bi[0]+bb+ae(ab)*bj,bi[1]+L+aT(ab)*bj,bi[0]+bb,bi[1]+L,t<0?"center":ab<bd/4?"left":"right",ab];bo.percentage=y*100;bo.total=bn});this.setTooltipPoints()},render:function(){this.getAttribs();this.drawPoints();this.options.enableMouseTracking!==false&&this.drawTracker();this.drawDataLabels();this.options.animation&&this.animate&&this.animate();this.isDirty=false},drawPoints:function(){var y=this.chart,t=y.renderer,ad,ab,V,L;O(this.data,function(ba){ab=ba.graphic;L=ba.shapeArgs;V=ba.group;if(!V){V=ba.group=t.g("point").attr({zIndex:5}).add()}ad=ba.sliced?ba.slicedTranslation:[y.plotLeft,y.plotTop];V.translate(ad[0],ad[1]);if(ab){ab.animate(L)}else{ba.graphic=t.arc(L).attr(aP(ba.pointAttr[R],{"stroke-linejoin":"round"})).add(ba.group)}ba.visible===false&&ba.setVisible(false)})},drawDataLabels:function(){var bp=this.data,bo,bn=this.chart,bm=this.options.dataLabels,bl=M(bm.connectorPadding,10),bk=M(bm.connectorWidth,1),bj,bi,bh=bm.distance>0,bg,be,ba=this.center[1],bc=[[],[],[],[]],bf,y,ad,bb,bd,L,t,V=4,ab;a4.prototype.drawDataLabels.apply(this);O(bp,function(br){var bq=br.labelPos[7];bc[bq<0?0:bq<aC/2?1:bq<aC?2:3].push(br)});bc[1].reverse();bc[3].reverse();for(t=function(br,bq){return br.y>bq.y};V--;){bp=0;bo=[].concat(bc[V]);bo.sort(t);for(ab=bo.length;ab--;){bo[ab].rank=ab}for(bb=0;bb<2;bb++){be=(L=V%3)?9999:-9999;bd=L?-1:1;for(ab=0;ab<bc[V].length;ab++){bo=bc[V][ab];if(bj=bo.dataLabel){bi=bo.labelPos;ad=a1;bf=bi[0];y=bi[1];bg||(bg=bj&&bj.getBBox().height);if(bh){if(bb&&bo.rank<bp){ad=ax}else{if(!L&&y<be+bg||L&&y>be-bg){y=be+bd*bg;bf=this.getX(y,V>1);if(!L&&y+bg>ba||L&&y-bg<ba){if(bb){ad=ax}else{bp++}}}}}if(bo.visible===false){ad=ax}if(ad==a1){be=y}if(bb){bj.attr({visibility:ad,align:bi[6]})[bj.moved?"animate":"attr"]({x:bf+bm.x+({left:bl,right:-bl}[bi[6]]||0),y:y+bm.y});bj.moved=true;if(bh&&bk){bj=bo.connector;bi=[N,bf+(bi[6]=="left"?5:-5),y,aJ,bf,y,aJ,bi[2],bi[3],aJ,bi[4],bi[5]];if(bj){bj.animate({d:bi});bj.attr("visibility",ad)}else{bo.connector=bj=this.chart.renderer.path(bi).attr({"stroke-width":bk,stroke:bm.connectorColor||"#606060",visibility:ad,zIndex:3}).translate(bn.plotLeft,bn.plotTop).add()}}}}}}}},drawTracker:aV.prototype.drawTracker,getSymbol:function(){}});aQ.pie=F;ap.Highcharts={Chart:aK,dateFormat:a8,pathAnim:g,getOptions:function(){return u},numberFormat:a2,Point:az,Color:ah,Renderer:G,seriesTypes:aQ,setOptions:function(t){u=s(u,t);aG();return u},Series:a4,addEvent:af,createElement:i,discardElement:l,css:p,each:O,extend:aP,map:B,merge:s,pick:M,extendClass:r,version:"2.1.2"}})();jQuery.cookie=function(e,f,b){if(arguments.length>1&&(f===null||typeof f!=="object")){b=jQuery.extend({},b);if(f===null){b.expires=-1}if(typeof b.expires==="number"){var h=b.expires,c=b.expires=new Date();c.setDate(c.getDate()+h)}return(document.cookie=[encodeURIComponent(e),"=",b.raw?String(f):encodeURIComponent(String(f)),b.expires?"; expires="+b.expires.toUTCString():"",b.path?"; path="+b.path:"",b.domain?"; domain="+b.domain:"",b.secure?"; secure":""].join(""))}b=f||{};var a,g=b.raw?function(i){return i}:decodeURIComponent;return(a=new RegExp("(?:^|; )"+encodeURIComponent(e)+"=([^;]*)").exec(document.cookie))?g(a[1]):null};(function(i,za,p){i.fn.dataTableSettings=[];var D=i.fn.dataTableSettings;i.fn.dataTableExt={};var n=i.fn.dataTableExt;n.sVersion="1.8.2";n.sErrMode="alert";n.iApiIndex=0;n.oApi={};n.afnFiltering=[];n.aoFeatures=[];n.ofnSearch={};n.afnSortData=[];n.oStdClasses={sPagePrevEnabled:"paginate_enabled_previous",sPagePrevDisabled:"paginate_disabled_previous",sPageNextEnabled:"paginate_enabled_next",sPageNextDisabled:"paginate_disabled_next",sPageJUINext:"",sPageJUIPrev:"",sPageButton:"paginate_button",sPageButtonActive:"paginate_active",sPageButtonStaticDisabled:"paginate_button paginate_button_disabled",sPageFirst:"first",sPagePrevious:"previous",sPageNext:"next",sPageLast:"last",sStripeOdd:"odd",sStripeEven:"even",sRowEmpty:"dataTables_empty",sWrapper:"dataTables_wrapper",sFilter:"dataTables_filter",sInfo:"dataTables_info",sPaging:"dataTables_paginate paging_",sLength:"dataTables_length",sProcessing:"dataTables_processing",sSortAsc:"sorting_asc",sSortDesc:"sorting_desc",sSortable:"sorting",sSortableAsc:"sorting_asc_disabled",sSortableDesc:"sorting_desc_disabled",sSortableNone:"sorting_disabled",sSortColumn:"sorting_",sSortJUIAsc:"",sSortJUIDesc:"",sSortJUI:"",sSortJUIAscAllowed:"",sSortJUIDescAllowed:"",sSortJUIWrapper:"",sSortIcon:"",sScrollWrapper:"dataTables_scroll",sScrollHead:"dataTables_scrollHead",sScrollHeadInner:"dataTables_scrollHeadInner",sScrollBody:"dataTables_scrollBody",sScrollFoot:"dataTables_scrollFoot",sScrollFootInner:"dataTables_scrollFootInner",sFooterTH:""};n.oJUIClasses={sPagePrevEnabled:"fg-button ui-button ui-state-default ui-corner-left",sPagePrevDisabled:"fg-button ui-button ui-state-default ui-corner-left ui-state-disabled",sPageNextEnabled:"fg-button ui-button ui-state-default ui-corner-right",sPageNextDisabled:"fg-button ui-button ui-state-default ui-corner-right ui-state-disabled",sPageJUINext:"ui-icon ui-icon-circle-arrow-e",sPageJUIPrev:"ui-icon ui-icon-circle-arrow-w",sPageButton:"fg-button ui-button ui-state-default",sPageButtonActive:"fg-button ui-button ui-state-default ui-state-disabled",sPageButtonStaticDisabled:"fg-button ui-button ui-state-default ui-state-disabled",sPageFirst:"first ui-corner-tl ui-corner-bl",sPagePrevious:"previous",sPageNext:"next",sPageLast:"last ui-corner-tr ui-corner-br",sStripeOdd:"odd",sStripeEven:"even",sRowEmpty:"dataTables_empty",sWrapper:"dataTables_wrapper",sFilter:"dataTables_filter",sInfo:"dataTables_info",sPaging:"dataTables_paginate fg-buttonset ui-buttonset fg-buttonset-multi ui-buttonset-multi paging_",sLength:"dataTables_length",sProcessing:"dataTables_processing",sSortAsc:"ui-state-default",sSortDesc:"ui-state-default",sSortable:"ui-state-default",sSortableAsc:"ui-state-default",sSortableDesc:"ui-state-default",sSortableNone:"ui-state-default",sSortColumn:"sorting_",sSortJUIAsc:"css_right ui-icon ui-icon-triangle-1-n",sSortJUIDesc:"css_right ui-icon ui-icon-triangle-1-s",sSortJUI:"css_right ui-icon ui-icon-carat-2-n-s",sSortJUIAscAllowed:"css_right ui-icon ui-icon-carat-1-n",sSortJUIDescAllowed:"css_right ui-icon ui-icon-carat-1-s",sSortJUIWrapper:"DataTables_sort_wrapper",sSortIcon:"DataTables_sort_icon",sScrollWrapper:"dataTables_scroll",sScrollHead:"dataTables_scrollHead ui-state-default",sScrollHeadInner:"dataTables_scrollHeadInner",sScrollBody:"dataTables_scrollBody",sScrollFoot:"dataTables_scrollFoot ui-state-default",sScrollFootInner:"dataTables_scrollFootInner",sFooterTH:"ui-state-default"};n.oPagination={two_button:{fnInit:function(g,l,s){var t,w,y;if(g.bJUI){t=p.createElement("a");w=p.createElement("a");y=p.createElement("span");y.className=g.oClasses.sPageJUINext;w.appendChild(y);y=p.createElement("span");y.className=g.oClasses.sPageJUIPrev;t.appendChild(y)}else{t=p.createElement("div");w=p.createElement("div")}t.className=g.oClasses.sPagePrevDisabled;w.className=g.oClasses.sPageNextDisabled;t.title=g.oLanguage.oPaginate.sPrevious;w.title=g.oLanguage.oPaginate.sNext;l.appendChild(t);l.appendChild(w);i(t).bind("click.DT",function(){g.oApi._fnPageChange(g,"previous")&&s(g)});i(w).bind("click.DT",function(){g.oApi._fnPageChange(g,"next")&&s(g)});i(t).bind("selectstart.DT",function(){return false});i(w).bind("selectstart.DT",function(){return false});if(g.sTableId!==""&&typeof g.aanFeatures.p=="undefined"){l.setAttribute("id",g.sTableId+"_paginate");t.setAttribute("id",g.sTableId+"_previous");w.setAttribute("id",g.sTableId+"_next")}},fnUpdate:function(g){if(g.aanFeatures.p){for(var l=g.aanFeatures.p,s=0,t=l.length;s<t;s++){if(l[s].childNodes.length!==0){l[s].childNodes[0].className=g._iDisplayStart===0?g.oClasses.sPagePrevDisabled:g.oClasses.sPagePrevEnabled;l[s].childNodes[1].className=g.fnDisplayEnd()==g.fnRecordsDisplay()?g.oClasses.sPageNextDisabled:g.oClasses.sPageNextEnabled}}}}},iFullNumbersShowPages:5,full_numbers:{fnInit:function(g,l,s){var t=p.createElement("span"),w=p.createElement("span"),y=p.createElement("span"),F=p.createElement("span"),x=p.createElement("span");t.innerHTML=g.oLanguage.oPaginate.sFirst;w.innerHTML=g.oLanguage.oPaginate.sPrevious;F.innerHTML=g.oLanguage.oPaginate.sNext;x.innerHTML=g.oLanguage.oPaginate.sLast;var v=g.oClasses;t.className=v.sPageButton+" "+v.sPageFirst;w.className=v.sPageButton+" "+v.sPagePrevious;F.className=v.sPageButton+" "+v.sPageNext;x.className=v.sPageButton+" "+v.sPageLast;l.appendChild(t);l.appendChild(w);l.appendChild(y);l.appendChild(F);l.appendChild(x);i(t).bind("click.DT",function(){g.oApi._fnPageChange(g,"first")&&s(g)});i(w).bind("click.DT",function(){g.oApi._fnPageChange(g,"previous")&&s(g)});i(F).bind("click.DT",function(){g.oApi._fnPageChange(g,"next")&&s(g)});i(x).bind("click.DT",function(){g.oApi._fnPageChange(g,"last")&&s(g)});i("span",l).bind("mousedown.DT",function(){return false}).bind("selectstart.DT",function(){return false});if(g.sTableId!==""&&typeof g.aanFeatures.p=="undefined"){l.setAttribute("id",g.sTableId+"_paginate");t.setAttribute("id",g.sTableId+"_first");w.setAttribute("id",g.sTableId+"_previous");F.setAttribute("id",g.sTableId+"_next");x.setAttribute("id",g.sTableId+"_last")}},fnUpdate:function(g,l){if(g.aanFeatures.p){var s=n.oPagination.iFullNumbersShowPages,t=Math.floor(s/2),w=Math.ceil(g.fnRecordsDisplay()/g._iDisplayLength),y=Math.ceil(g._iDisplayStart/g._iDisplayLength)+1,F="",x,v=g.oClasses;if(w<s){t=1;x=w}else{if(y<=t){t=1;x=s}else{if(y>=w-t){t=w-s+1;x=w}else{t=y-Math.ceil(s/2)+1;x=t+s-1}}}for(s=t;s<=x;s++){F+=y!=s?'<span class="'+v.sPageButton+'">'+s+"</span>":'<span class="'+v.sPageButtonActive+'">'+s+"</span>"}x=g.aanFeatures.p;var z,$=function(M){g._iDisplayStart=(this.innerHTML*1-1)*g._iDisplayLength;l(g);M.preventDefault()},X=function(){return false};s=0;for(t=x.length;s<t;s++){if(x[s].childNodes.length!==0){z=i("span:eq(2)",x[s]);z.html(F);i("span",z).bind("click.DT",$).bind("mousedown.DT",X).bind("selectstart.DT",X);z=x[s].getElementsByTagName("span");z=[z[0],z[1],z[z.length-2],z[z.length-1]];i(z).removeClass(v.sPageButton+" "+v.sPageButtonActive+" "+v.sPageButtonStaticDisabled);if(y==1){z[0].className+=" "+v.sPageButtonStaticDisabled;z[1].className+=" "+v.sPageButtonStaticDisabled}else{z[0].className+=" "+v.sPageButton;z[1].className+=" "+v.sPageButton}if(w===0||y==w||g._iDisplayLength==-1){z[2].className+=" "+v.sPageButtonStaticDisabled;z[3].className+=" "+v.sPageButtonStaticDisabled}else{z[2].className+=" "+v.sPageButton;z[3].className+=" "+v.sPageButton}}}}}}};n.oSort={"string-asc":function(g,l){if(typeof g!="string"){g=""}if(typeof l!="string"){l=""}g=g.toLowerCase();l=l.toLowerCase();return g<l?-1:g>l?1:0},"string-desc":function(g,l){if(typeof g!="string"){g=""}if(typeof l!="string"){l=""}g=g.toLowerCase();l=l.toLowerCase();return g<l?1:g>l?-1:0},"html-asc":function(g,l){g=g.replace(/<.*?>/g,"").toLowerCase();l=l.replace(/<.*?>/g,"").toLowerCase();return g<l?-1:g>l?1:0},"html-desc":function(g,l){g=g.replace(/<.*?>/g,"").toLowerCase();l=l.replace(/<.*?>/g,"").toLowerCase();return g<l?1:g>l?-1:0},"date-asc":function(g,l){g=Date.parse(g);l=Date.parse(l);if(isNaN(g)||g===""){g=Date.parse("01/01/1970 00:00:00")}if(isNaN(l)||l===""){l=Date.parse("01/01/1970 00:00:00")}return g-l},"date-desc":function(g,l){g=Date.parse(g);l=Date.parse(l);if(isNaN(g)||g===""){g=Date.parse("01/01/1970 00:00:00")}if(isNaN(l)||l===""){l=Date.parse("01/01/1970 00:00:00")}return l-g},"numeric-asc":function(g,l){return(g=="-"||g===""?0:g*1)-(l=="-"||l===""?0:l*1)},"numeric-desc":function(g,l){return(l=="-"||l===""?0:l*1)-(g=="-"||g===""?0:g*1)}};n.aTypes=[function(g){if(typeof g=="number"){return"numeric"}else{if(typeof g!="string"){return null}}var l,s=false;l=g.charAt(0);if("0123456789-".indexOf(l)==-1){return null}for(var t=1;t<g.length;t++){l=g.charAt(t);if("0123456789.".indexOf(l)==-1){return null}if(l=="."){if(s){return null}s=true}}return"numeric"},function(g){var l=Date.parse(g);if(l!==null&&!isNaN(l)||typeof g=="string"&&g.length===0){return"date"}return null},function(g){if(typeof g=="string"&&g.indexOf("<")!=-1&&g.indexOf(">")!=-1){return"html"}return null}];n.fnVersionCheck=function(g){var l=function(x,v){for(;x.length<v;){x+="0"}return x},s=n.sVersion.split(".");g=g.split(".");for(var t="",w="",y=0,F=g.length;y<F;y++){t+=l(s[y],3);w+=l(g[y],3)}return parseInt(t,10)>=parseInt(w,10)};n._oExternConfig={iNextUnique:0};i.fn.dataTable=function(g){function l(){this.fnRecordsTotal=function(){return this.oFeatures.bServerSide?parseInt(this._iRecordsTotal,10):this.aiDisplayMaster.length};this.fnRecordsDisplay=function(){return this.oFeatures.bServerSide?parseInt(this._iRecordsDisplay,10):this.aiDisplay.length};this.fnDisplayEnd=function(){return this.oFeatures.bServerSide?this.oFeatures.bPaginate===false||this._iDisplayLength==-1?this._iDisplayStart+this.aiDisplay.length:Math.min(this._iDisplayStart+this._iDisplayLength,this._iRecordsDisplay):this._iDisplayEnd};this.sInstance=this.oInstance=null;this.oFeatures={bPaginate:true,bLengthChange:true,bFilter:true,bSort:true,bInfo:true,bAutoWidth:true,bProcessing:false,bSortClasses:true,bStateSave:false,bServerSide:false,bDeferRender:false};this.oScroll={sX:"",sXInner:"",sY:"",bCollapse:false,bInfinite:false,iLoadGap:100,iBarWidth:0,bAutoCss:true};this.aanFeatures=[];this.oLanguage={sProcessing:"Processing...",sLengthMenu:"Show _MENU_ entries",sZeroRecords:"No matching records found",sEmptyTable:"No data available in table",sLoadingRecords:"Loading...",sInfo:"Showing _START_ to _END_ of _TOTAL_ entries",sInfoEmpty:"Showing 0 to 0 of 0 entries",sInfoFiltered:"(filtered from _MAX_ total entries)",sInfoPostFix:"",sInfoThousands:",",sSearch:"Search:",sUrl:"",oPaginate:{sFirst:"First",sPrevious:"Previous",sNext:"Next",sLast:"Last"},fnInfoCallback:null};this.aoData=[];this.aiDisplay=[];this.aiDisplayMaster=[];this.aoColumns=[];this.aoHeader=[];this.aoFooter=[];this.iNextId=0;this.asDataSearch=[];this.oPreviousSearch={sSearch:"",bRegex:false,bSmart:true};this.aoPreSearchCols=[];this.aaSorting=[[0,"asc",0]];this.aaSortingFixed=null;this.asStripeClasses=[];this.asDestroyStripes=[];this.sDestroyWidth=0;this.fnFooterCallback=this.fnHeaderCallback=this.fnRowCallback=null;this.aoDrawCallback=[];this.fnInitComplete=this.fnPreDrawCallback=null;this.sTableId="";this.nTableWrapper=this.nTBody=this.nTFoot=this.nTHead=this.nTable=null;this.bInitialised=this.bDeferLoading=false;this.aoOpenRows=[];this.sDom="lfrtip";this.sPaginationType="two_button";this.iCookieDuration=7200;this.sCookiePrefix="SpryMedia_DataTables_";this.fnCookieCallback=null;this.aoStateSave=[];this.aoStateLoad=[];this.sAjaxSource=this.oLoadedState=null;this.sAjaxDataProp="aaData";this.bAjaxDataGet=true;this.jqXHR=null;this.fnServerData=function(a,b,c,d){d.jqXHR=i.ajax({url:a,data:b,success:function(f){i(d.oInstance).trigger("xhr",d);c(f)},dataType:"json",cache:false,error:function(f,e){e=="parsererror"&&alert("DataTables warning: JSON data from server could not be parsed. This is caused by a JSON formatting error.")}})};this.aoServerParams=[];this.fnFormatNumber=function(a){if(a<1000){return a}else{var b=a+"";a=b.split("");var c="";b=b.length;for(var d=0;d<b;d++){if(d%3===0&&d!==0){c=this.oLanguage.sInfoThousands+c}c=a[b-d-1]+c}}return c};this.aLengthMenu=[10,25,50,100];this.bDrawing=this.iDraw=0;this.iDrawError=-1;this._iDisplayLength=10;this._iDisplayStart=0;this._iDisplayEnd=10;this._iRecordsDisplay=this._iRecordsTotal=0;this.bJUI=false;this.oClasses=n.oStdClasses;this.bSortCellsTop=this.bSorted=this.bFiltered=false;this.oInit=null;this.aoDestroyCallback=[]}function s(a){return function(){var b=[A(this[n.iApiIndex])].concat(Array.prototype.slice.call(arguments));return n.oApi[a].apply(this,b)}}function t(a){var b,c,d=a.iInitDisplayStart;if(a.bInitialised===false){setTimeout(function(){t(a)},200)}else{Aa(a);X(a);M(a,a.aoHeader);a.nTFoot&&M(a,a.aoFooter);K(a,true);a.oFeatures.bAutoWidth&&ga(a);b=0;for(c=a.aoColumns.length;b<c;b++){if(a.aoColumns[b].sWidth!==null){a.aoColumns[b].nTh.style.width=q(a.aoColumns[b].sWidth)}}if(a.oFeatures.bSort){R(a)}else{if(a.oFeatures.bFilter){N(a,a.oPreviousSearch)}else{a.aiDisplay=a.aiDisplayMaster.slice();E(a);C(a)}}if(a.sAjaxSource!==null&&!a.oFeatures.bServerSide){c=[];ha(a,c);a.fnServerData.call(a.oInstance,a.sAjaxSource,c,function(f){var e=f;if(a.sAjaxDataProp!==""){e=aa(a.sAjaxDataProp)(f)}for(b=0;b<e.length;b++){v(a,e[b])}a.iInitDisplayStart=d;if(a.oFeatures.bSort){R(a)}else{a.aiDisplay=a.aiDisplayMaster.slice();E(a);C(a)}K(a,false);w(a,f)},a)}else{if(!a.oFeatures.bServerSide){K(a,false);w(a)}}}}function w(a,b){a._bInitComplete=true;if(typeof a.fnInitComplete=="function"){typeof b!="undefined"?a.fnInitComplete.call(a.oInstance,a,b):a.fnInitComplete.call(a.oInstance,a)}}function y(a,b,c){a.oLanguage=i.extend(true,a.oLanguage,b);typeof b.sEmptyTable=="undefined"&&typeof b.sZeroRecords!="undefined"&&o(a.oLanguage,b,"sZeroRecords","sEmptyTable");typeof b.sLoadingRecords=="undefined"&&typeof b.sZeroRecords!="undefined"&&o(a.oLanguage,b,"sZeroRecords","sLoadingRecords");c&&t(a)}function F(a,b){var c=a.aoColumns.length;b={sType:null,_bAutoType:true,bVisible:true,bSearchable:true,bSortable:true,asSorting:["asc","desc"],sSortingClass:a.oClasses.sSortable,sSortingClassJUI:a.oClasses.sSortJUI,sTitle:b?b.innerHTML:"",sName:"",sWidth:null,sWidthOrig:null,sClass:null,fnRender:null,bUseRendered:true,iDataSort:c,mDataProp:c,fnGetData:null,fnSetData:null,sSortDataType:"std",sDefaultContent:null,sContentPadding:"",nTh:b?b:p.createElement("th"),nTf:null};a.aoColumns.push(b);if(typeof a.aoPreSearchCols[c]=="undefined"||a.aoPreSearchCols[c]===null){a.aoPreSearchCols[c]={sSearch:"",bRegex:false,bSmart:true}}else{if(typeof a.aoPreSearchCols[c].bRegex=="undefined"){a.aoPreSearchCols[c].bRegex=true}if(typeof a.aoPreSearchCols[c].bSmart=="undefined"){a.aoPreSearchCols[c].bSmart=true}}x(a,c,null)}function x(a,b,c){b=a.aoColumns[b];if(typeof c!="undefined"&&c!==null){if(typeof c.sType!="undefined"){b.sType=c.sType;b._bAutoType=false}o(b,c,"bVisible");o(b,c,"bSearchable");o(b,c,"bSortable");o(b,c,"sTitle");o(b,c,"sName");o(b,c,"sWidth");o(b,c,"sWidth","sWidthOrig");o(b,c,"sClass");o(b,c,"fnRender");o(b,c,"bUseRendered");o(b,c,"iDataSort");o(b,c,"mDataProp");o(b,c,"asSorting");o(b,c,"sSortDataType");o(b,c,"sDefaultContent");o(b,c,"sContentPadding")}b.fnGetData=aa(b.mDataProp);b.fnSetData=Ba(b.mDataProp);if(!a.oFeatures.bSort){b.bSortable=false}if(!b.bSortable||i.inArray("asc",b.asSorting)==-1&&i.inArray("desc",b.asSorting)==-1){b.sSortingClass=a.oClasses.sSortableNone;b.sSortingClassJUI=""}else{if(b.bSortable||i.inArray("asc",b.asSorting)==-1&&i.inArray("desc",b.asSorting)==-1){b.sSortingClass=a.oClasses.sSortable;b.sSortingClassJUI=a.oClasses.sSortJUI}else{if(i.inArray("asc",b.asSorting)!=-1&&i.inArray("desc",b.asSorting)==-1){b.sSortingClass=a.oClasses.sSortableAsc;b.sSortingClassJUI=a.oClasses.sSortJUIAscAllowed}else{if(i.inArray("asc",b.asSorting)==-1&&i.inArray("desc",b.asSorting)!=-1){b.sSortingClass=a.oClasses.sSortableDesc;b.sSortingClassJUI=a.oClasses.sSortJUIDescAllowed}}}}}function v(a,b){var c;c=i.isArray(b)?b.slice():i.extend(true,{},b);b=a.aoData.length;var d={nTr:null,_iId:a.iNextId++,_aData:c,_anHidden:[],_sRowStripe:""};a.aoData.push(d);for(var f,e=0,h=a.aoColumns.length;e<h;e++){c=a.aoColumns[e];typeof c.fnRender=="function"&&c.bUseRendered&&c.mDataProp!==null&&O(a,b,e,c.fnRender({iDataRow:b,iDataColumn:e,aData:d._aData,oSettings:a}));if(c._bAutoType&&c.sType!="string"){f=G(a,b,e,"type");if(f!==null&&f!==""){f=ia(f);if(c.sType===null){c.sType=f}else{if(c.sType!=f&&c.sType!="html"){c.sType="string"}}}}}a.aiDisplayMaster.push(b);a.oFeatures.bDeferRender||z(a,b);return b}function z(a,b){var c=a.aoData[b],d;if(c.nTr===null){c.nTr=p.createElement("tr");typeof c._aData.DT_RowId!="undefined"&&c.nTr.setAttribute("id",c._aData.DT_RowId);typeof c._aData.DT_RowClass!="undefined"&&i(c.nTr).addClass(c._aData.DT_RowClass);for(var f=0,e=a.aoColumns.length;f<e;f++){var h=a.aoColumns[f];d=p.createElement("td");d.innerHTML=typeof h.fnRender=="function"&&(!h.bUseRendered||h.mDataProp===null)?h.fnRender({iDataRow:b,iDataColumn:f,aData:c._aData,oSettings:a}):G(a,b,f,"display");if(h.sClass!==null){d.className=h.sClass}if(h.bVisible){c.nTr.appendChild(d);c._anHidden[f]=null}else{c._anHidden[f]=d}}}}function $(a){var b,c,d,f,e,h,j,k,m;if(a.bDeferLoading||a.sAjaxSource===null){j=a.nTBody.childNodes;b=0;for(c=j.length;b<c;b++){if(j[b].nodeName.toUpperCase()=="TR"){k=a.aoData.length;a.aoData.push({nTr:j[b],_iId:a.iNextId++,_aData:[],_anHidden:[],_sRowStripe:""});a.aiDisplayMaster.push(k);h=j[b].childNodes;d=e=0;for(f=h.length;d<f;d++){m=h[d].nodeName.toUpperCase();if(m=="TD"||m=="TH"){O(a,k,e,i.trim(h[d].innerHTML));e++}}}}}j=ba(a);h=[];b=0;for(c=j.length;b<c;b++){d=0;for(f=j[b].childNodes.length;d<f;d++){e=j[b].childNodes[d];m=e.nodeName.toUpperCase();if(m=="TD"||m=="TH"){h.push(e)}}}h.length!=j.length*a.aoColumns.length&&J(a,1,"Unexpected number of TD elements. Expected "+j.length*a.aoColumns.length+" and got "+h.length+". DataTables does not support rowspan / colspan in the table body, and there must be one cell for each row/column combination.");d=0;for(f=a.aoColumns.length;d<f;d++){if(a.aoColumns[d].sTitle===null){a.aoColumns[d].sTitle=a.aoColumns[d].nTh.innerHTML}j=a.aoColumns[d]._bAutoType;m=typeof a.aoColumns[d].fnRender=="function";e=a.aoColumns[d].sClass!==null;k=a.aoColumns[d].bVisible;var u,r;if(j||m||e||!k){b=0;for(c=a.aoData.length;b<c;b++){u=h[b*f+d];if(j&&a.aoColumns[d].sType!="string"){r=G(a,b,d,"type");if(r!==""){r=ia(r);if(a.aoColumns[d].sType===null){a.aoColumns[d].sType=r}else{if(a.aoColumns[d].sType!=r&&a.aoColumns[d].sType!="html"){a.aoColumns[d].sType="string"}}}}if(m){r=a.aoColumns[d].fnRender({iDataRow:b,iDataColumn:d,aData:a.aoData[b]._aData,oSettings:a});u.innerHTML=r;a.aoColumns[d].bUseRendered&&O(a,b,d,r)}if(e){u.className+=" "+a.aoColumns[d].sClass}if(k){a.aoData[b]._anHidden[d]=null}else{a.aoData[b]._anHidden[d]=u;u.parentNode.removeChild(u)}}}}}function X(a){var b,c,d;a.nTHead.getElementsByTagName("tr");if(a.nTHead.getElementsByTagName("th").length!==0){b=0;for(d=a.aoColumns.length;b<d;b++){c=a.aoColumns[b].nTh;a.aoColumns[b].sClass!==null&&i(c).addClass(a.aoColumns[b].sClass);if(a.aoColumns[b].sTitle!=c.innerHTML){c.innerHTML=a.aoColumns[b].sTitle}}}else{var f=p.createElement("tr");b=0;for(d=a.aoColumns.length;b<d;b++){c=a.aoColumns[b].nTh;c.innerHTML=a.aoColumns[b].sTitle;a.aoColumns[b].sClass!==null&&i(c).addClass(a.aoColumns[b].sClass);f.appendChild(c)}i(a.nTHead).html("")[0].appendChild(f);Y(a.aoHeader,a.nTHead)}if(a.bJUI){b=0;for(d=a.aoColumns.length;b<d;b++){c=a.aoColumns[b].nTh;f=p.createElement("div");f.className=a.oClasses.sSortJUIWrapper;i(c).contents().appendTo(f);var e=p.createElement("span");e.className=a.oClasses.sSortIcon;f.appendChild(e);c.appendChild(f)}}d=function(){this.onselectstart=function(){return false};return false};if(a.oFeatures.bSort){for(b=0;b<a.aoColumns.length;b++){if(a.aoColumns[b].bSortable!==false){ja(a,a.aoColumns[b].nTh,b);i(a.aoColumns[b].nTh).bind("mousedown.DT",d)}else{i(a.aoColumns[b].nTh).addClass(a.oClasses.sSortableNone)}}}a.oClasses.sFooterTH!==""&&i(a.nTFoot).children("tr").children("th").addClass(a.oClasses.sFooterTH);if(a.nTFoot!==null){c=S(a,null,a.aoFooter);b=0;for(d=a.aoColumns.length;b<d;b++){if(typeof c[b]!="undefined"){a.aoColumns[b].nTf=c[b]}}}}function M(a,b,c){var d,f,e,h=[],j=[],k=a.aoColumns.length;if(typeof c=="undefined"){c=false}d=0;for(f=b.length;d<f;d++){h[d]=b[d].slice();h[d].nTr=b[d].nTr;for(e=k-1;e>=0;e--){!a.aoColumns[e].bVisible&&!c&&h[d].splice(e,1)}j.push([])}d=0;for(f=h.length;d<f;d++){if(h[d].nTr){a=0;for(e=h[d].nTr.childNodes.length;a<e;a++){h[d].nTr.removeChild(h[d].nTr.childNodes[0])}}e=0;for(b=h[d].length;e<b;e++){k=c=1;if(typeof j[d][e]=="undefined"){h[d].nTr.appendChild(h[d][e].cell);for(j[d][e]=1;typeof h[d+c]!="undefined"&&h[d][e].cell==h[d+c][e].cell;){j[d+c][e]=1;c++}for(;typeof h[d][e+k]!="undefined"&&h[d][e].cell==h[d][e+k].cell;){for(a=0;a<c;a++){j[d+a][e+k]=1}k++}h[d][e].cell.rowSpan=c;h[d][e].cell.colSpan=k}}}}function C(a){var b,c,d=[],f=0,e=false;b=a.asStripeClasses.length;c=a.aoOpenRows.length;if(!(a.fnPreDrawCallback!==null&&a.fnPreDrawCallback.call(a.oInstance,a)===false)){a.bDrawing=true;if(typeof a.iInitDisplayStart!="undefined"&&a.iInitDisplayStart!=-1){a._iDisplayStart=a.oFeatures.bServerSide?a.iInitDisplayStart:a.iInitDisplayStart>=a.fnRecordsDisplay()?0:a.iInitDisplayStart;a.iInitDisplayStart=-1;E(a)}if(a.bDeferLoading){a.bDeferLoading=false;a.iDraw++}else{if(a.oFeatures.bServerSide){if(!a.bDestroying&&!Ca(a)){return}}else{a.iDraw++}}if(a.aiDisplay.length!==0){var h=a._iDisplayStart,j=a._iDisplayEnd;if(a.oFeatures.bServerSide){h=0;j=a.aoData.length}for(h=h;h<j;h++){var k=a.aoData[a.aiDisplay[h]];k.nTr===null&&z(a,a.aiDisplay[h]);var m=k.nTr;if(b!==0){var u=a.asStripeClasses[f%b];if(k._sRowStripe!=u){i(m).removeClass(k._sRowStripe).addClass(u);k._sRowStripe=u}}if(typeof a.fnRowCallback=="function"){m=a.fnRowCallback.call(a.oInstance,m,a.aoData[a.aiDisplay[h]]._aData,f,h);if(!m&&!e){J(a,0,"A node was not returned by fnRowCallback");e=true}}d.push(m);f++;if(c!==0){for(k=0;k<c;k++){m==a.aoOpenRows[k].nParent&&d.push(a.aoOpenRows[k].nTr)}}}}else{d[0]=p.createElement("tr");if(typeof a.asStripeClasses[0]!="undefined"){d[0].className=a.asStripeClasses[0]}e=a.oLanguage.sZeroRecords.replace("_MAX_",a.fnFormatNumber(a.fnRecordsTotal()));if(a.iDraw==1&&a.sAjaxSource!==null&&!a.oFeatures.bServerSide){e=a.oLanguage.sLoadingRecords}else{if(typeof a.oLanguage.sEmptyTable!="undefined"&&a.fnRecordsTotal()===0){e=a.oLanguage.sEmptyTable}}b=p.createElement("td");b.setAttribute("valign","top");b.colSpan=Z(a);b.className=a.oClasses.sRowEmpty;b.innerHTML=e;d[f].appendChild(b)}typeof a.fnHeaderCallback=="function"&&a.fnHeaderCallback.call(a.oInstance,i(a.nTHead).children("tr")[0],ca(a),a._iDisplayStart,a.fnDisplayEnd(),a.aiDisplay);typeof a.fnFooterCallback=="function"&&a.fnFooterCallback.call(a.oInstance,i(a.nTFoot).children("tr")[0],ca(a),a._iDisplayStart,a.fnDisplayEnd(),a.aiDisplay);f=p.createDocumentFragment();b=p.createDocumentFragment();if(a.nTBody){e=a.nTBody.parentNode;b.appendChild(a.nTBody);if(!a.oScroll.bInfinite||!a._bInitComplete||a.bSorted||a.bFiltered){c=a.nTBody.childNodes;for(b=c.length-1;b>=0;b--){c[b].parentNode.removeChild(c[b])}}b=0;for(c=d.length;b<c;b++){f.appendChild(d[b])}a.nTBody.appendChild(f);e!==null&&e.appendChild(a.nTBody)}for(b=a.aoDrawCallback.length-1;b>=0;b--){a.aoDrawCallback[b].fn.call(a.oInstance,a)}i(a.oInstance).trigger("draw",a);a.bSorted=false;a.bFiltered=false;a.bDrawing=false;if(a.oFeatures.bServerSide){K(a,false);typeof a._bInitComplete=="undefined"&&w(a)}}}function da(a){if(a.oFeatures.bSort){R(a,a.oPreviousSearch)}else{if(a.oFeatures.bFilter){N(a,a.oPreviousSearch)}else{E(a);C(a)}}}function Ca(a){if(a.bAjaxDataGet){a.iDraw++;K(a,true);var b=Da(a);ha(a,b);a.fnServerData.call(a.oInstance,a.sAjaxSource,b,function(c){Ea(a,c)},a);return false}else{return true}}function Da(a){var b=a.aoColumns.length,c=[],d,f;c.push({name:"sEcho",value:a.iDraw});c.push({name:"iColumns",value:b});c.push({name:"sColumns",value:ka(a)});c.push({name:"iDisplayStart",value:a._iDisplayStart});c.push({name:"iDisplayLength",value:a.oFeatures.bPaginate!==false?a._iDisplayLength:-1});for(f=0;f<b;f++){d=a.aoColumns[f].mDataProp;c.push({name:"mDataProp_"+f,value:typeof d=="function"?"function":d})}if(a.oFeatures.bFilter!==false){c.push({name:"sSearch",value:a.oPreviousSearch.sSearch});c.push({name:"bRegex",value:a.oPreviousSearch.bRegex});for(f=0;f<b;f++){c.push({name:"sSearch_"+f,value:a.aoPreSearchCols[f].sSearch});c.push({name:"bRegex_"+f,value:a.aoPreSearchCols[f].bRegex});c.push({name:"bSearchable_"+f,value:a.aoColumns[f].bSearchable})}}if(a.oFeatures.bSort!==false){d=a.aaSortingFixed!==null?a.aaSortingFixed.length:0;var e=a.aaSorting.length;c.push({name:"iSortingCols",value:d+e});for(f=0;f<d;f++){c.push({name:"iSortCol_"+f,value:a.aaSortingFixed[f][0]});c.push({name:"sSortDir_"+f,value:a.aaSortingFixed[f][1]})}for(f=0;f<e;f++){c.push({name:"iSortCol_"+(f+d),value:a.aaSorting[f][0]});c.push({name:"sSortDir_"+(f+d),value:a.aaSorting[f][1]})}for(f=0;f<b;f++){c.push({name:"bSortable_"+f,value:a.aoColumns[f].bSortable})}}return c}function ha(a,b){for(var c=0,d=a.aoServerParams.length;c<d;c++){a.aoServerParams[c].fn.call(a.oInstance,b)}}function Ea(a,b){if(typeof b.sEcho!="undefined"){if(b.sEcho*1<a.iDraw){return}else{a.iDraw=b.sEcho*1}}if(!a.oScroll.bInfinite||a.oScroll.bInfinite&&(a.bSorted||a.bFiltered)){la(a)}a._iRecordsTotal=b.iTotalRecords;a._iRecordsDisplay=b.iTotalDisplayRecords;var c=ka(a);if(c=typeof b.sColumns!="undefined"&&c!==""&&b.sColumns!=c){var d=Fa(a,b.sColumns)}b=aa(a.sAjaxDataProp)(b);for(var f=0,e=b.length;f<e;f++){if(c){for(var h=[],j=0,k=a.aoColumns.length;j<k;j++){h.push(b[f][d[j]])}v(a,h)}else{v(a,b[f])}}a.aiDisplay=a.aiDisplayMaster.slice();a.bAjaxDataGet=false;C(a);a.bAjaxDataGet=true;K(a,false)}function Aa(a){var b=p.createElement("div");a.nTable.parentNode.insertBefore(b,a.nTable);a.nTableWrapper=p.createElement("div");a.nTableWrapper.className=a.oClasses.sWrapper;a.sTableId!==""&&a.nTableWrapper.setAttribute("id",a.sTableId+"_wrapper");a.nTableReinsertBefore=a.nTable.nextSibling;for(var c=a.nTableWrapper,d=a.sDom.split(""),f,e,h,j,k,m,u,r=0;r<d.length;r++){e=0;h=d[r];if(h=="<"){j=p.createElement("div");k=d[r+1];if(k=="'"||k=='"'){m="";for(u=2;d[r+u]!=k;){m+=d[r+u];u++}if(m=="H"){m="fg-toolbar ui-toolbar ui-widget-header ui-corner-tl ui-corner-tr ui-helper-clearfix"}else{if(m=="F"){m="fg-toolbar ui-toolbar ui-widget-header ui-corner-bl ui-corner-br ui-helper-clearfix"}}if(m.indexOf(".")!=-1){k=m.split(".");j.setAttribute("id",k[0].substr(1,k[0].length-1));j.className=k[1]}else{if(m.charAt(0)=="#"){j.setAttribute("id",m.substr(1,m.length-1))}else{j.className=m}}r+=u}c.appendChild(j);c=j}else{if(h==">"){c=c.parentNode}else{if(h=="l"&&a.oFeatures.bPaginate&&a.oFeatures.bLengthChange){f=Ga(a);e=1}else{if(h=="f"&&a.oFeatures.bFilter){f=Ha(a);e=1}else{if(h=="r"&&a.oFeatures.bProcessing){f=Ia(a);e=1}else{if(h=="t"){f=Ja(a);e=1}else{if(h=="i"&&a.oFeatures.bInfo){f=Ka(a);e=1}else{if(h=="p"&&a.oFeatures.bPaginate){f=La(a);e=1}else{if(n.aoFeatures.length!==0){j=n.aoFeatures;u=0;for(k=j.length;u<k;u++){if(h==j[u].cFeature){if(f=j[u].fnInit(a)){e=1}break}}}}}}}}}}}if(e==1&&f!==null){if(typeof a.aanFeatures[h]!="object"){a.aanFeatures[h]=[]}a.aanFeatures[h].push(f);c.appendChild(f)}}b.parentNode.replaceChild(a.nTableWrapper,b)}function Ja(a){if(a.oScroll.sX===""&&a.oScroll.sY===""){return a.nTable}var b=p.createElement("div"),c=p.createElement("div"),d=p.createElement("div"),f=p.createElement("div"),e=p.createElement("div"),h=p.createElement("div"),j=a.nTable.cloneNode(false),k=a.nTable.cloneNode(false),m=a.nTable.getElementsByTagName("thead")[0],u=a.nTable.getElementsByTagName("tfoot").length===0?null:a.nTable.getElementsByTagName("tfoot")[0],r=typeof g.bJQueryUI!="undefined"&&g.bJQueryUI?n.oJUIClasses:n.oStdClasses;c.appendChild(d);e.appendChild(h);f.appendChild(a.nTable);b.appendChild(c);b.appendChild(f);d.appendChild(j);j.appendChild(m);if(u!==null){b.appendChild(e);h.appendChild(k);k.appendChild(u)}b.className=r.sScrollWrapper;c.className=r.sScrollHead;d.className=r.sScrollHeadInner;f.className=r.sScrollBody;e.className=r.sScrollFoot;h.className=r.sScrollFootInner;if(a.oScroll.bAutoCss){c.style.overflow="hidden";c.style.position="relative";e.style.overflow="hidden";f.style.overflow="auto"}c.style.border="0";c.style.width="100%";e.style.border="0";d.style.width="150%";j.removeAttribute("id");j.style.marginLeft="0";a.nTable.style.marginLeft="0";if(u!==null){k.removeAttribute("id");k.style.marginLeft="0"}d=i(a.nTable).children("caption");h=0;for(k=d.length;h<k;h++){j.appendChild(d[h])}if(a.oScroll.sX!==""){c.style.width=q(a.oScroll.sX);f.style.width=q(a.oScroll.sX);if(u!==null){e.style.width=q(a.oScroll.sX)}i(f).scroll(function(){c.scrollLeft=this.scrollLeft;if(u!==null){e.scrollLeft=this.scrollLeft}})}if(a.oScroll.sY!==""){f.style.height=q(a.oScroll.sY)}a.aoDrawCallback.push({fn:Ma,sName:"scrolling"});a.oScroll.bInfinite&&i(f).scroll(function(){if(!a.bDrawing){if(i(this).scrollTop()+i(this).height()>i(a.nTable).height()-a.oScroll.iLoadGap){if(a.fnDisplayEnd()<a.fnRecordsDisplay()){ma(a,"next");E(a);C(a)}}}});a.nScrollHead=c;a.nScrollFoot=e;return b}function Ma(a){var b=a.nScrollHead.getElementsByTagName("div")[0],c=b.getElementsByTagName("table")[0],d=a.nTable.parentNode,f,e,h,j,k,m,u,r,H=[],L=a.nTFoot!==null?a.nScrollFoot.getElementsByTagName("div")[0]:null,T=a.nTFoot!==null?L.getElementsByTagName("table")[0]:null,B=i.browser.msie&&i.browser.version<=7;h=a.nTable.getElementsByTagName("thead");h.length>0&&a.nTable.removeChild(h[0]);if(a.nTFoot!==null){k=a.nTable.getElementsByTagName("tfoot");k.length>0&&a.nTable.removeChild(k[0])}h=a.nTHead.cloneNode(true);a.nTable.insertBefore(h,a.nTable.childNodes[0]);if(a.nTFoot!==null){k=a.nTFoot.cloneNode(true);a.nTable.insertBefore(k,a.nTable.childNodes[1])}if(a.oScroll.sX===""){d.style.width="100%";b.parentNode.style.width="100%"}var U=S(a,h);f=0;for(e=U.length;f<e;f++){u=Na(a,f);U[f].style.width=a.aoColumns[u].sWidth}a.nTFoot!==null&&P(function(I){I.style.width=""},k.getElementsByTagName("tr"));f=i(a.nTable).outerWidth();if(a.oScroll.sX===""){a.nTable.style.width="100%";if(B&&(d.scrollHeight>d.offsetHeight||i(d).css("overflow-y")=="scroll")){a.nTable.style.width=q(i(a.nTable).outerWidth()-a.oScroll.iBarWidth)}}else{if(a.oScroll.sXInner!==""){a.nTable.style.width=q(a.oScroll.sXInner)}else{if(f==i(d).width()&&i(d).height()<i(a.nTable).height()){a.nTable.style.width=q(f-a.oScroll.iBarWidth);if(i(a.nTable).outerWidth()>f-a.oScroll.iBarWidth){a.nTable.style.width=q(f)}}else{a.nTable.style.width=q(f)}}}f=i(a.nTable).outerWidth();e=a.nTHead.getElementsByTagName("tr");h=h.getElementsByTagName("tr");P(function(I,na){m=I.style;m.paddingTop="0";m.paddingBottom="0";m.borderTopWidth="0";m.borderBottomWidth="0";m.height=0;r=i(I).width();na.style.width=q(r);H.push(r)},h,e);i(h).height(0);if(a.nTFoot!==null){j=k.getElementsByTagName("tr");k=a.nTFoot.getElementsByTagName("tr");P(function(I,na){m=I.style;m.paddingTop="0";m.paddingBottom="0";m.borderTopWidth="0";m.borderBottomWidth="0";m.height=0;r=i(I).width();na.style.width=q(r);H.push(r)},j,k);i(j).height(0)}P(function(I){I.innerHTML="";I.style.width=q(H.shift())},h);a.nTFoot!==null&&P(function(I){I.innerHTML="";I.style.width=q(H.shift())},j);if(i(a.nTable).outerWidth()<f){j=d.scrollHeight>d.offsetHeight||i(d).css("overflow-y")=="scroll"?f+a.oScroll.iBarWidth:f;if(B&&(d.scrollHeight>d.offsetHeight||i(d).css("overflow-y")=="scroll")){a.nTable.style.width=q(j-a.oScroll.iBarWidth)}d.style.width=q(j);b.parentNode.style.width=q(j);if(a.nTFoot!==null){L.parentNode.style.width=q(j)}if(a.oScroll.sX===""){J(a,1,"The table cannot fit into the current element which will cause column misalignment. The table has been drawn at its minimum possible width.")}else{a.oScroll.sXInner!==""&&J(a,1,"The table cannot fit into the current element which will cause column misalignment. Increase the sScrollXInner value or remove it to allow automatic calculation")}}else{d.style.width=q("100%");b.parentNode.style.width=q("100%");if(a.nTFoot!==null){L.parentNode.style.width=q("100%")}}if(a.oScroll.sY===""){if(B){d.style.height=q(a.nTable.offsetHeight+a.oScroll.iBarWidth)}}if(a.oScroll.sY!==""&&a.oScroll.bCollapse){d.style.height=q(a.oScroll.sY);B=a.oScroll.sX!==""&&a.nTable.offsetWidth>d.offsetWidth?a.oScroll.iBarWidth:0;if(a.nTable.offsetHeight<d.offsetHeight){d.style.height=q(i(a.nTable).height()+B)}}B=i(a.nTable).outerWidth();c.style.width=q(B);b.style.width=q(B+a.oScroll.iBarWidth);if(a.nTFoot!==null){L.style.width=q(a.nTable.offsetWidth+a.oScroll.iBarWidth);T.style.width=q(a.nTable.offsetWidth)}if(a.bSorted||a.bFiltered){d.scrollTop=0}}function ea(a){if(a.oFeatures.bAutoWidth===false){return false}ga(a);for(var b=0,c=a.aoColumns.length;b<c;b++){a.aoColumns[b].nTh.style.width=a.aoColumns[b].sWidth}}function Ha(a){var b=a.oLanguage.sSearch;b=b.indexOf("_INPUT_")!==-1?b.replace("_INPUT_",'<input type="text" />'):b===""?'<input type="text" />':b+' <input type="text" />';var c=p.createElement("div");c.className=a.oClasses.sFilter;c.innerHTML="<label>"+b+"</label>";a.sTableId!==""&&typeof a.aanFeatures.f=="undefined"&&c.setAttribute("id",a.sTableId+"_filter");b=i("input",c);b.val(a.oPreviousSearch.sSearch.replace('"',"&quot;"));b.bind("keyup.DT",function(){for(var d=a.aanFeatures.f,f=0,e=d.length;f<e;f++){d[f]!=i(this).parents("div.dataTables_filter")[0]&&i("input",d[f]).val(this.value)}this.value!=a.oPreviousSearch.sSearch&&N(a,{sSearch:this.value,bRegex:a.oPreviousSearch.bRegex,bSmart:a.oPreviousSearch.bSmart})});b.bind("keypress.DT",function(d){if(d.keyCode==13){return false}});return c}function N(a,b,c){Oa(a,b.sSearch,c,b.bRegex,b.bSmart);for(b=0;b<a.aoPreSearchCols.length;b++){Pa(a,a.aoPreSearchCols[b].sSearch,b,a.aoPreSearchCols[b].bRegex,a.aoPreSearchCols[b].bSmart)}n.afnFiltering.length!==0&&Qa(a);a.bFiltered=true;i(a.oInstance).trigger("filter",a);a._iDisplayStart=0;E(a);C(a);oa(a,0)}function Qa(a){for(var b=n.afnFiltering,c=0,d=b.length;c<d;c++){for(var f=0,e=0,h=a.aiDisplay.length;e<h;e++){var j=a.aiDisplay[e-f];if(!b[c](a,fa(a,j,"filter"),j)){a.aiDisplay.splice(e-f,1);f++}}}}function Pa(a,b,c,d,f){if(b!==""){var e=0;b=pa(b,d,f);for(d=a.aiDisplay.length-1;d>=0;d--){f=qa(G(a,a.aiDisplay[d],c,"filter"),a.aoColumns[c].sType);if(!b.test(f)){a.aiDisplay.splice(d,1);e++}}}}function Oa(a,b,c,d,f){var e=pa(b,d,f);if(typeof c=="undefined"||c===null){c=0}if(n.afnFiltering.length!==0){c=1}if(b.length<=0){a.aiDisplay.splice(0,a.aiDisplay.length);a.aiDisplay=a.aiDisplayMaster.slice()}else{if(a.aiDisplay.length==a.aiDisplayMaster.length||a.oPreviousSearch.sSearch.length>b.length||c==1||b.indexOf(a.oPreviousSearch.sSearch)!==0){a.aiDisplay.splice(0,a.aiDisplay.length);oa(a,1);for(c=0;c<a.aiDisplayMaster.length;c++){e.test(a.asDataSearch[c])&&a.aiDisplay.push(a.aiDisplayMaster[c])}}else{var h=0;for(c=0;c<a.asDataSearch.length;c++){if(!e.test(a.asDataSearch[c])){a.aiDisplay.splice(c-h,1);h++}}}}a.oPreviousSearch.sSearch=b;a.oPreviousSearch.bRegex=d;a.oPreviousSearch.bSmart=f}function oa(a,b){if(!a.oFeatures.bServerSide){a.asDataSearch.splice(0,a.asDataSearch.length);b=typeof b!="undefined"&&b==1?a.aiDisplayMaster:a.aiDisplay;for(var c=0,d=b.length;c<d;c++){a.asDataSearch[c]=ra(a,fa(a,b[c],"filter"))}}}function ra(a,b){var c="";if(typeof a.__nTmpFilter=="undefined"){a.__nTmpFilter=p.createElement("div")}for(var d=a.__nTmpFilter,f=0,e=a.aoColumns.length;f<e;f++){if(a.aoColumns[f].bSearchable){c+=qa(b[f],a.aoColumns[f].sType)+"  "}}if(c.indexOf("&")!==-1){d.innerHTML=c;c=d.textContent?d.textContent:d.innerText;c=c.replace(/\n/g," ").replace(/\r/g,"")}return c}function pa(a,b,c){if(c){a=b?a.split(" "):sa(a).split(" ");a="^(?=.*?"+a.join(")(?=.*?")+").*$";return new RegExp(a,"i")}else{a=b?a:sa(a);return new RegExp(a,"i")}}function qa(a,b){if(typeof n.ofnSearch[b]=="function"){return n.ofnSearch[b](a)}else{if(b=="html"){return a.replace(/\n/g," ").replace(/<.*?>/g,"")}else{if(typeof a=="string"){return a.replace(/\n/g," ")}else{if(a===null){return""}}}}return a}function R(a,b){var c,d,f,e,h=[],j=[],k=n.oSort;d=a.aoData;var m=a.aoColumns;if(!a.oFeatures.bServerSide&&(a.aaSorting.length!==0||a.aaSortingFixed!==null)){h=a.aaSortingFixed!==null?a.aaSortingFixed.concat(a.aaSorting):a.aaSorting.slice();for(c=0;c<h.length;c++){var u=h[c][0];f=ta(a,u);e=a.aoColumns[u].sSortDataType;if(typeof n.afnSortData[e]!="undefined"){var r=n.afnSortData[e](a,u,f);f=0;for(e=d.length;f<e;f++){O(a,f,u,r[f])}}}c=0;for(d=a.aiDisplayMaster.length;c<d;c++){j[a.aiDisplayMaster[c]]=c}var H=h.length;a.aiDisplayMaster.sort(function(L,T){var B,U;for(c=0;c<H;c++){B=m[h[c][0]].iDataSort;U=m[B].sType;B=k[(U?U:"string")+"-"+h[c][1]](G(a,L,B,"sort"),G(a,T,B,"sort"));if(B!==0){return B}}return k["numeric-asc"](j[L],j[T])})}if((typeof b=="undefined"||b)&&!a.oFeatures.bDeferRender){V(a)}a.bSorted=true;i(a.oInstance).trigger("sort",a);if(a.oFeatures.bFilter){N(a,a.oPreviousSearch,1)}else{a.aiDisplay=a.aiDisplayMaster.slice();a._iDisplayStart=0;E(a);C(a)}}function ja(a,b,c,d){i(b).bind("click.DT",function(f){if(a.aoColumns[c].bSortable!==false){var e=function(){var h,j;if(f.shiftKey){for(var k=false,m=0;m<a.aaSorting.length;m++){if(a.aaSorting[m][0]==c){k=true;h=a.aaSorting[m][0];j=a.aaSorting[m][2]+1;if(typeof a.aoColumns[h].asSorting[j]=="undefined"){a.aaSorting.splice(m,1)}else{a.aaSorting[m][1]=a.aoColumns[h].asSorting[j];a.aaSorting[m][2]=j}break}}k===false&&a.aaSorting.push([c,a.aoColumns[c].asSorting[0],0])}else{if(a.aaSorting.length==1&&a.aaSorting[0][0]==c){h=a.aaSorting[0][0];j=a.aaSorting[0][2]+1;if(typeof a.aoColumns[h].asSorting[j]=="undefined"){j=0}a.aaSorting[0][1]=a.aoColumns[h].asSorting[j];a.aaSorting[0][2]=j}else{a.aaSorting.splice(0,a.aaSorting.length);a.aaSorting.push([c,a.aoColumns[c].asSorting[0],0])}}R(a)};if(a.oFeatures.bProcessing){K(a,true);setTimeout(function(){e();a.oFeatures.bServerSide||K(a,false)},0)}else{e()}typeof d=="function"&&d(a)}})}function V(a){var b,c,d,f,e,h=a.aoColumns.length,j=a.oClasses;for(b=0;b<h;b++){a.aoColumns[b].bSortable&&i(a.aoColumns[b].nTh).removeClass(j.sSortAsc+" "+j.sSortDesc+" "+a.aoColumns[b].sSortingClass)}f=a.aaSortingFixed!==null?a.aaSortingFixed.concat(a.aaSorting):a.aaSorting.slice();for(b=0;b<a.aoColumns.length;b++){if(a.aoColumns[b].bSortable){e=a.aoColumns[b].sSortingClass;d=-1;for(c=0;c<f.length;c++){if(f[c][0]==b){e=f[c][1]=="asc"?j.sSortAsc:j.sSortDesc;d=c;break}}i(a.aoColumns[b].nTh).addClass(e);if(a.bJUI){c=i("span",a.aoColumns[b].nTh);c.removeClass(j.sSortJUIAsc+" "+j.sSortJUIDesc+" "+j.sSortJUI+" "+j.sSortJUIAscAllowed+" "+j.sSortJUIDescAllowed);c.addClass(d==-1?a.aoColumns[b].sSortingClassJUI:f[d][1]=="asc"?j.sSortJUIAsc:j.sSortJUIDesc)}}else{i(a.aoColumns[b].nTh).addClass(a.aoColumns[b].sSortingClass)}}e=j.sSortColumn;if(a.oFeatures.bSort&&a.oFeatures.bSortClasses){d=Q(a);if(a.oFeatures.bDeferRender){i(d).removeClass(e+"1 "+e+"2 "+e+"3")}else{if(d.length>=h){for(b=0;b<h;b++){if(d[b].className.indexOf(e+"1")!=-1){c=0;for(a=d.length/h;c<a;c++){d[h*c+b].className=i.trim(d[h*c+b].className.replace(e+"1",""))}}else{if(d[b].className.indexOf(e+"2")!=-1){c=0;for(a=d.length/h;c<a;c++){d[h*c+b].className=i.trim(d[h*c+b].className.replace(e+"2",""))}}else{if(d[b].className.indexOf(e+"3")!=-1){c=0;for(a=d.length/h;c<a;c++){d[h*c+b].className=i.trim(d[h*c+b].className.replace(" "+e+"3",""))}}}}}}}j=1;var k;for(b=0;b<f.length;b++){k=parseInt(f[b][0],10);c=0;for(a=d.length/h;c<a;c++){d[h*c+k].className+=" "+e+j}j<3&&j++}}}function La(a){if(a.oScroll.bInfinite){return null}var b=p.createElement("div");b.className=a.oClasses.sPaging+a.sPaginationType;n.oPagination[a.sPaginationType].fnInit(a,b,function(c){E(c);C(c)});typeof a.aanFeatures.p=="undefined"&&a.aoDrawCallback.push({fn:function(c){n.oPagination[c.sPaginationType].fnUpdate(c,function(d){E(d);C(d)})},sName:"pagination"});return b}function ma(a,b){var c=a._iDisplayStart;if(b=="first"){a._iDisplayStart=0}else{if(b=="previous"){a._iDisplayStart=a._iDisplayLength>=0?a._iDisplayStart-a._iDisplayLength:0;if(a._iDisplayStart<0){a._iDisplayStart=0}}else{if(b=="next"){if(a._iDisplayLength>=0){if(a._iDisplayStart+a._iDisplayLength<a.fnRecordsDisplay()){a._iDisplayStart+=a._iDisplayLength}}else{a._iDisplayStart=0}}else{if(b=="last"){if(a._iDisplayLength>=0){b=parseInt((a.fnRecordsDisplay()-1)/a._iDisplayLength,10)+1;a._iDisplayStart=(b-1)*a._iDisplayLength}else{a._iDisplayStart=0}}else{J(a,0,"Unknown paging action: "+b)}}}}i(a.oInstance).trigger("page",a);return c!=a._iDisplayStart}function Ka(a){var b=p.createElement("div");b.className=a.oClasses.sInfo;if(typeof a.aanFeatures.i=="undefined"){a.aoDrawCallback.push({fn:Ra,sName:"information"});a.sTableId!==""&&b.setAttribute("id",a.sTableId+"_info")}return b}function Ra(a){if(!(!a.oFeatures.bInfo||a.aanFeatures.i.length===0)){var b=a._iDisplayStart+1,c=a.fnDisplayEnd(),d=a.fnRecordsTotal(),f=a.fnRecordsDisplay(),e=a.fnFormatNumber(b),h=a.fnFormatNumber(c),j=a.fnFormatNumber(d),k=a.fnFormatNumber(f);if(a.oScroll.bInfinite){e=a.fnFormatNumber(1)}e=a.fnRecordsDisplay()===0&&a.fnRecordsDisplay()==a.fnRecordsTotal()?a.oLanguage.sInfoEmpty+a.oLanguage.sInfoPostFix:a.fnRecordsDisplay()===0?a.oLanguage.sInfoEmpty+" "+a.oLanguage.sInfoFiltered.replace("_MAX_",j)+a.oLanguage.sInfoPostFix:a.fnRecordsDisplay()==a.fnRecordsTotal()?a.oLanguage.sInfo.replace("_START_",e).replace("_END_",h).replace("_TOTAL_",k)+a.oLanguage.sInfoPostFix:a.oLanguage.sInfo.replace("_START_",e).replace("_END_",h).replace("_TOTAL_",k)+" "+a.oLanguage.sInfoFiltered.replace("_MAX_",a.fnFormatNumber(a.fnRecordsTotal()))+a.oLanguage.sInfoPostFix;if(a.oLanguage.fnInfoCallback!==null){e=a.oLanguage.fnInfoCallback(a,b,c,d,f,e)}a=a.aanFeatures.i;b=0;for(c=a.length;b<c;b++){i(a[b]).html(e)}}}function Ga(a){if(a.oScroll.bInfinite){return null}var b='<select size="1" '+(a.sTableId===""?"":'name="'+a.sTableId+'_length"')+">",c,d;if(a.aLengthMenu.length==2&&typeof a.aLengthMenu[0]=="object"&&typeof a.aLengthMenu[1]=="object"){c=0;for(d=a.aLengthMenu[0].length;c<d;c++){b+='<option value="'+a.aLengthMenu[0][c]+'">'+a.aLengthMenu[1][c]+"</option>"}}else{c=0;for(d=a.aLengthMenu.length;c<d;c++){b+='<option value="'+a.aLengthMenu[c]+'">'+a.aLengthMenu[c]+"</option>"}}b+="</select>";var f=p.createElement("div");a.sTableId!==""&&typeof a.aanFeatures.l=="undefined"&&f.setAttribute("id",a.sTableId+"_length");f.className=a.oClasses.sLength;f.innerHTML="<label>"+a.oLanguage.sLengthMenu.replace("_MENU_",b)+"</label>";i('select option[value="'+a._iDisplayLength+'"]',f).attr("selected",true);i("select",f).bind("change.DT",function(){var e=i(this).val(),h=a.aanFeatures.l;c=0;for(d=h.length;c<d;c++){h[c]!=this.parentNode&&i("select",h[c]).val(e)}a._iDisplayLength=parseInt(e,10);E(a);if(a.fnDisplayEnd()==a.fnRecordsDisplay()){a._iDisplayStart=a.fnDisplayEnd()-a._iDisplayLength;if(a._iDisplayStart<0){a._iDisplayStart=0}}if(a._iDisplayLength==-1){a._iDisplayStart=0}C(a)});return f}function Ia(a){var b=p.createElement("div");a.sTableId!==""&&typeof a.aanFeatures.r=="undefined"&&b.setAttribute("id",a.sTableId+"_processing");b.innerHTML=a.oLanguage.sProcessing;b.className=a.oClasses.sProcessing;a.nTable.parentNode.insertBefore(b,a.nTable);return b}function K(a,b){if(a.oFeatures.bProcessing){a=a.aanFeatures.r;for(var c=0,d=a.length;c<d;c++){a[c].style.visibility=b?"visible":"hidden"}}}function Na(a,b){for(var c=-1,d=0;d<a.aoColumns.length;d++){a.aoColumns[d].bVisible===true&&c++;if(c==b){return d}}return null}function ta(a,b){for(var c=-1,d=0;d<a.aoColumns.length;d++){a.aoColumns[d].bVisible===true&&c++;if(d==b){return a.aoColumns[d].bVisible===true?c:null}}return null}function W(a,b){var c,d;c=a._iDisplayStart;for(d=a._iDisplayEnd;c<d;c++){if(a.aoData[a.aiDisplay[c]].nTr==b){return a.aiDisplay[c]}}c=0;for(d=a.aoData.length;c<d;c++){if(a.aoData[c].nTr==b){return c}}return null}function Z(a){for(var b=0,c=0;c<a.aoColumns.length;c++){a.aoColumns[c].bVisible===true&&b++}return b}function E(a){a._iDisplayEnd=a.oFeatures.bPaginate===false?a.aiDisplay.length:a._iDisplayStart+a._iDisplayLength>a.aiDisplay.length||a._iDisplayLength==-1?a.aiDisplay.length:a._iDisplayStart+a._iDisplayLength}function Sa(a,b){if(!a||a===null||a===""){return 0}if(typeof b=="undefined"){b=p.getElementsByTagName("body")[0]}var c=p.createElement("div");c.style.width=q(a);b.appendChild(c);a=c.offsetWidth;b.removeChild(c);return a}function ga(a){var b=0,c,d=0,f=a.aoColumns.length,e,h=i("th",a.nTHead);for(e=0;e<f;e++){if(a.aoColumns[e].bVisible){d++;if(a.aoColumns[e].sWidth!==null){c=Sa(a.aoColumns[e].sWidthOrig,a.nTable.parentNode);if(c!==null){a.aoColumns[e].sWidth=q(c)}b++}}}if(f==h.length&&b===0&&d==f&&a.oScroll.sX===""&&a.oScroll.sY===""){for(e=0;e<a.aoColumns.length;e++){c=i(h[e]).width();if(c!==null){a.aoColumns[e].sWidth=q(c)}}}else{b=a.nTable.cloneNode(false);e=a.nTHead.cloneNode(true);d=p.createElement("tbody");c=p.createElement("tr");b.removeAttribute("id");b.appendChild(e);if(a.nTFoot!==null){b.appendChild(a.nTFoot.cloneNode(true));P(function(k){k.style.width=""},b.getElementsByTagName("tr"))}b.appendChild(d);d.appendChild(c);d=i("thead th",b);if(d.length===0){d=i("tbody tr:eq(0)>td",b)}h=S(a,e);for(e=d=0;e<f;e++){var j=a.aoColumns[e];if(j.bVisible&&j.sWidthOrig!==null&&j.sWidthOrig!==""){h[e-d].style.width=q(j.sWidthOrig)}else{if(j.bVisible){h[e-d].style.width=""}else{d++}}}for(e=0;e<f;e++){if(a.aoColumns[e].bVisible){d=Ta(a,e);if(d!==null){d=d.cloneNode(true);if(a.aoColumns[e].sContentPadding!==""){d.innerHTML+=a.aoColumns[e].sContentPadding}c.appendChild(d)}}}f=a.nTable.parentNode;f.appendChild(b);if(a.oScroll.sX!==""&&a.oScroll.sXInner!==""){b.style.width=q(a.oScroll.sXInner)}else{if(a.oScroll.sX!==""){b.style.width="";if(i(b).width()<f.offsetWidth){b.style.width=q(f.offsetWidth)}}else{if(a.oScroll.sY!==""){b.style.width=q(f.offsetWidth)}}}b.style.visibility="hidden";Ua(a,b);f=i("tbody tr:eq(0)",b).children();if(f.length===0){f=S(a,i("thead",b)[0])}if(a.oScroll.sX!==""){for(e=d=c=0;e<a.aoColumns.length;e++){if(a.aoColumns[e].bVisible){c+=a.aoColumns[e].sWidthOrig===null?i(f[d]).outerWidth():parseInt(a.aoColumns[e].sWidth.replace("px",""),10)+(i(f[d]).outerWidth()-i(f[d]).width());d++}}b.style.width=q(c);a.nTable.style.width=q(c)}for(e=d=0;e<a.aoColumns.length;e++){if(a.aoColumns[e].bVisible){c=i(f[d]).width();if(c!==null&&c>0){a.aoColumns[e].sWidth=q(c)}d++}}a.nTable.style.width=q(i(b).outerWidth());b.parentNode.removeChild(b)}}function Ua(a,b){if(a.oScroll.sX===""&&a.oScroll.sY!==""){i(b).width();b.style.width=q(i(b).outerWidth()-a.oScroll.iBarWidth)}else{if(a.oScroll.sX!==""){b.style.width=q(i(b).outerWidth())}}}function Ta(a,b){var c=Va(a,b);if(c<0){return null}if(a.aoData[c].nTr===null){var d=p.createElement("td");d.innerHTML=G(a,c,b,"");return d}return Q(a,c)[b]}function Va(a,b){for(var c=-1,d=-1,f=0;f<a.aoData.length;f++){var e=G(a,f,b,"display")+"";e=e.replace(/<.*?>/g,"");if(e.length>c){c=e.length;d=f}}return d}function q(a){if(a===null){return"0px"}if(typeof a=="number"){if(a<0){return"0px"}return a+"px"}var b=a.charCodeAt(a.length-1);if(b<48||b>57){return a}return a+"px"}function Za(a,b){if(a.length!=b.length){return 1}for(var c=0;c<a.length;c++){if(a[c]!=b[c]){return 2}}return 0}function ia(a){for(var b=n.aTypes,c=b.length,d=0;d<c;d++){var f=b[d](a);if(f!==null){return f}}return"string"}function A(a){for(var b=0;b<D.length;b++){if(D[b].nTable==a){return D[b]}}return null}function ca(a){for(var b=[],c=a.aoData.length,d=0;d<c;d++){b.push(a.aoData[d]._aData)}return b}function ba(a){for(var b=[],c=0,d=a.aoData.length;c<d;c++){a.aoData[c].nTr!==null&&b.push(a.aoData[c].nTr)}return b}function Q(a,b){var c=[],d,f,e,h,j;f=0;var k=a.aoData.length;if(typeof b!="undefined"){f=b;k=b+1}for(f=f;f<k;f++){j=a.aoData[f];if(j.nTr!==null){b=[];e=0;for(h=j.nTr.childNodes.length;e<h;e++){d=j.nTr.childNodes[e].nodeName.toLowerCase();if(d=="td"||d=="th"){b.push(j.nTr.childNodes[e])}}e=d=0;for(h=a.aoColumns.length;e<h;e++){if(a.aoColumns[e].bVisible){c.push(b[e-d])}else{c.push(j._anHidden[e]);d++}}}}return c}function sa(a){return a.replace(new RegExp("(\\/|\\.|\\*|\\+|\\?|\\||\\(|\\)|\\[|\\]|\\{|\\}|\\\\|\\$|\\^)","g"),"\\$1")}function ua(a,b){for(var c=-1,d=0,f=a.length;d<f;d++){if(a[d]==b){c=d}else{a[d]>b&&a[d]--}}c!=-1&&a.splice(c,1)}function Fa(a,b){b=b.split(",");for(var c=[],d=0,f=a.aoColumns.length;d<f;d++){for(var e=0;e<f;e++){if(a.aoColumns[d].sName==b[e]){c.push(e);break}}}return c}function ka(a){for(var b="",c=0,d=a.aoColumns.length;c<d;c++){b+=a.aoColumns[c].sName+","}if(b.length==d){return""}return b.slice(0,-1)}function J(a,b,c){a=a.sTableId===""?"DataTables warning: "+c:"DataTables warning (table id = '"+a.sTableId+"'): "+c;if(b===0){if(n.sErrMode=="alert"){alert(a)}else{throw a}}else{typeof console!="undefined"&&typeof console.log!="undefined"&&console.log(a)}}function la(a){a.aoData.splice(0,a.aoData.length);a.aiDisplayMaster.splice(0,a.aiDisplayMaster.length);a.aiDisplay.splice(0,a.aiDisplay.length);E(a)}function va(a){if(!(!a.oFeatures.bStateSave||typeof a.bDestroying!="undefined")){var b,c,d,f="{";f+='"iCreate":'+(new Date).getTime()+",";f+='"iStart":'+(a.oScroll.bInfinite?0:a._iDisplayStart)+",";f+='"iEnd":'+(a.oScroll.bInfinite?a._iDisplayLength:a._iDisplayEnd)+",";f+='"iLength":'+a._iDisplayLength+",";f+='"sFilter":"'+encodeURIComponent(a.oPreviousSearch.sSearch)+'",';f+='"sFilterEsc":'+!a.oPreviousSearch.bRegex+",";f+='"aaSorting":[ ';for(b=0;b<a.aaSorting.length;b++){f+="["+a.aaSorting[b][0]+',"'+a.aaSorting[b][1]+'"],'}f=f.substring(0,f.length-1);f+="],";f+='"aaSearchCols":[ ';for(b=0;b<a.aoPreSearchCols.length;b++){f+='["'+encodeURIComponent(a.aoPreSearchCols[b].sSearch)+'",'+!a.aoPreSearchCols[b].bRegex+"],"}f=f.substring(0,f.length-1);f+="],";f+='"abVisCols":[ ';for(b=0;b<a.aoColumns.length;b++){f+=a.aoColumns[b].bVisible+","}f=f.substring(0,f.length-1);f+="]";b=0;for(c=a.aoStateSave.length;b<c;b++){d=a.aoStateSave[b].fn(a,f);if(d!==""){f=d}}f+="}";Wa(a.sCookiePrefix+a.sInstance,f,a.iCookieDuration,a.sCookiePrefix,a.fnCookieCallback)}}function Xa(a,b){if(a.oFeatures.bStateSave){var c,d,f;d=wa(a.sCookiePrefix+a.sInstance);if(d!==null&&d!==""){try{c=typeof i.parseJSON=="function"?i.parseJSON(d.replace(/'/g,'"')):eval("("+d+")")}catch(e){return}d=0;for(f=a.aoStateLoad.length;d<f;d++){if(!a.aoStateLoad[d].fn(a,c)){return}}a.oLoadedState=i.extend(true,{},c);a._iDisplayStart=c.iStart;a.iInitDisplayStart=c.iStart;a._iDisplayEnd=c.iEnd;a._iDisplayLength=c.iLength;a.oPreviousSearch.sSearch=decodeURIComponent(c.sFilter);a.aaSorting=c.aaSorting.slice();a.saved_aaSorting=c.aaSorting.slice();if(typeof c.sFilterEsc!="undefined"){a.oPreviousSearch.bRegex=!c.sFilterEsc}if(typeof c.aaSearchCols!="undefined"){for(d=0;d<c.aaSearchCols.length;d++){a.aoPreSearchCols[d]={sSearch:decodeURIComponent(c.aaSearchCols[d][0]),bRegex:!c.aaSearchCols[d][1]}}}if(typeof c.abVisCols!="undefined"){b.saved_aoColumns=[];for(d=0;d<c.abVisCols.length;d++){b.saved_aoColumns[d]={};b.saved_aoColumns[d].bVisible=c.abVisCols[d]}}}}}function Wa(a,b,c,d,f){var e=new Date;e.setTime(e.getTime()+c*1000);c=za.location.pathname.split("/");a=a+"_"+c.pop().replace(/[\/:]/g,"").toLowerCase();var h;if(f!==null){h=typeof i.parseJSON=="function"?i.parseJSON(b):eval("("+b+")");b=f(a,h,e.toGMTString(),c.join("/")+"/")}else{b=a+"="+encodeURIComponent(b)+"; expires="+e.toGMTString()+"; path="+c.join("/")+"/"}f="";e=9999999999999;if((wa(a)!==null?p.cookie.length:b.length+p.cookie.length)+10>4096){a=p.cookie.split(";");for(var j=0,k=a.length;j<k;j++){if(a[j].indexOf(d)!=-1){var m=a[j].split("=");try{h=eval("("+decodeURIComponent(m[1])+")")}catch(u){continue}if(typeof h.iCreate!="undefined"&&h.iCreate<e){f=m[0];e=h.iCreate}}}if(f!==""){p.cookie=f+"=; expires=Thu, 01-Jan-1970 00:00:01 GMT; path="+c.join("/")+"/"}}p.cookie=b}function wa(a){var b=za.location.pathname.split("/");a=a+"_"+b[b.length-1].replace(/[\/:]/g,"").toLowerCase()+"=";b=p.cookie.split(";");for(var c=0;c<b.length;c++){for(var d=b[c];d.charAt(0)==" ";){d=d.substring(1,d.length)}if(d.indexOf(a)===0){return decodeURIComponent(d.substring(a.length,d.length))}}return null}function Y(a,b){b=i(b).children("tr");var c,d,f,e,h,j,k,m,u=function(L,T,B){for(;typeof L[T][B]!="undefined";){B++}return B};a.splice(0,a.length);d=0;for(j=b.length;d<j;d++){a.push([])}d=0;for(j=b.length;d<j;d++){f=0;for(k=b[d].childNodes.length;f<k;f++){c=b[d].childNodes[f];if(c.nodeName.toUpperCase()=="TD"||c.nodeName.toUpperCase()=="TH"){var r=c.getAttribute("colspan")*1,H=c.getAttribute("rowspan")*1;r=!r||r===0||r===1?1:r;H=!H||H===0||H===1?1:H;m=u(a,d,0);for(h=0;h<r;h++){for(e=0;e<H;e++){a[d+e][m+h]={cell:c,unique:r==1?true:false};a[d+e].nTr=b[d]}}}}}}function S(a,b,c){var d=[];if(typeof c=="undefined"){c=a.aoHeader;if(typeof b!="undefined"){c=[];Y(c,b)}}b=0;for(var f=c.length;b<f;b++){for(var e=0,h=c[b].length;e<h;e++){if(c[b][e].unique&&(typeof d[e]=="undefined"||!a.bSortCellsTop)){d[e]=c[b][e].cell}}}return d}function Ya(){var a=p.createElement("p"),b=a.style;b.width="100%";b.height="200px";b.padding="0px";var c=p.createElement("div");b=c.style;b.position="absolute";b.top="0px";b.left="0px";b.visibility="hidden";b.width="200px";b.height="150px";b.padding="0px";b.overflow="hidden";c.appendChild(a);p.body.appendChild(c);b=a.offsetWidth;c.style.overflow="scroll";a=a.offsetWidth;if(b==a){a=c.clientWidth}p.body.removeChild(c);return b-a}function P(a,b,c){for(var d=0,f=b.length;d<f;d++){for(var e=0,h=b[d].childNodes.length;e<h;e++){if(b[d].childNodes[e].nodeType==1){typeof c!="undefined"?a(b[d].childNodes[e],c[d].childNodes[e]):a(b[d].childNodes[e])}}}}function o(a,b,c,d){if(typeof d=="undefined"){d=c}if(typeof b[c]!="undefined"){a[d]=b[c]}}function fa(a,b,c){for(var d=[],f=0,e=a.aoColumns.length;f<e;f++){d.push(G(a,b,f,c))}return d}function G(a,b,c,d){var f=a.aoColumns[c];if((c=f.fnGetData(a.aoData[b]._aData))===undefined){if(a.iDrawError!=a.iDraw&&f.sDefaultContent===null){J(a,0,"Requested unknown parameter '"+f.mDataProp+"' from the data source for row "+b);a.iDrawError=a.iDraw}return f.sDefaultContent}if(c===null&&f.sDefaultContent!==null){c=f.sDefaultContent}else{if(typeof c=="function"){return c()}}if(d=="display"&&c===null){return""}return c}function O(a,b,c,d){a.aoColumns[c].fnSetData(a.aoData[b]._aData,d)}function aa(a){if(a===null){return function(){return null}}else{if(typeof a=="function"){return function(c){return a(c)}}else{if(typeof a=="string"&&a.indexOf(".")!=-1){var b=a.split(".");return b.length==2?function(c){return c[b[0]][b[1]]}:b.length==3?function(c){return c[b[0]][b[1]][b[2]]}:function(c){for(var d=0,f=b.length;d<f;d++){c=c[b[d]]}return c}}else{return function(c){return c[a]}}}}}function Ba(a){if(a===null){return function(){}}else{if(typeof a=="function"){return function(c,d){return a(c,d)}}else{if(typeof a=="string"&&a.indexOf(".")!=-1){var b=a.split(".");return b.length==2?function(c,d){c[b[0]][b[1]]=d}:b.length==3?function(c,d){c[b[0]][b[1]][b[2]]=d}:function(c,d){for(var f=0,e=b.length-1;f<e;f++){c=c[b[f]]}c[b[b.length-1]]=d}}else{return function(c,d){c[a]=d}}}}}this.oApi={};this.fnDraw=function(a){var b=A(this[n.iApiIndex]);if(typeof a!="undefined"&&a===false){E(b);C(b)}else{da(b)}};this.fnFilter=function(a,b,c,d,f){var e=A(this[n.iApiIndex]);if(e.oFeatures.bFilter){if(typeof c=="undefined"){c=false}if(typeof d=="undefined"){d=true}if(typeof f=="undefined"){f=true}if(typeof b=="undefined"||b===null){N(e,{sSearch:a,bRegex:c,bSmart:d},1);if(f&&typeof e.aanFeatures.f!="undefined"){b=e.aanFeatures.f;c=0;for(d=b.length;c<d;c++){i("input",b[c]).val(a)}}}else{e.aoPreSearchCols[b].sSearch=a;e.aoPreSearchCols[b].bRegex=c;e.aoPreSearchCols[b].bSmart=d;N(e,e.oPreviousSearch,1)}}};this.fnSettings=function(){return A(this[n.iApiIndex])};this.fnVersionCheck=n.fnVersionCheck;this.fnSort=function(a){var b=A(this[n.iApiIndex]);b.aaSorting=a;R(b)};this.fnSortListener=function(a,b,c){ja(A(this[n.iApiIndex]),a,b,c)};this.fnAddData=function(a,b){if(a.length===0){return[]}var c=[],d,f=A(this[n.iApiIndex]);if(typeof a[0]=="object"){for(var e=0;e<a.length;e++){d=v(f,a[e]);if(d==-1){return c}c.push(d)}}else{d=v(f,a);if(d==-1){return c}c.push(d)}f.aiDisplay=f.aiDisplayMaster.slice();if(typeof b=="undefined"||b){da(f)}return c};this.fnDeleteRow=function(a,b,c){var d=A(this[n.iApiIndex]);a=typeof a=="object"?W(d,a):a;var f=d.aoData.splice(a,1),e=i.inArray(a,d.aiDisplay);d.asDataSearch.splice(e,1);ua(d.aiDisplayMaster,a);ua(d.aiDisplay,a);typeof b=="function"&&b.call(this,d,f);if(d._iDisplayStart>=d.aiDisplay.length){d._iDisplayStart-=d._iDisplayLength;if(d._iDisplayStart<0){d._iDisplayStart=0}}if(typeof c=="undefined"||c){E(d);C(d)}return f};this.fnClearTable=function(a){var b=A(this[n.iApiIndex]);la(b);if(typeof a=="undefined"||a){C(b)}};this.fnOpen=function(a,b,c){var d=A(this[n.iApiIndex]);this.fnClose(a);var f=p.createElement("tr"),e=p.createElement("td");f.appendChild(e);e.className=c;e.colSpan=Z(d);if(typeof b.jquery!="undefined"||typeof b=="object"){e.appendChild(b)}else{e.innerHTML=b}b=i("tr",d.nTBody);i.inArray(a,b)!=-1&&i(f).insertAfter(a);d.aoOpenRows.push({nTr:f,nParent:a});return f};this.fnClose=function(a){for(var b=A(this[n.iApiIndex]),c=0;c<b.aoOpenRows.length;c++){if(b.aoOpenRows[c].nParent==a){(a=b.aoOpenRows[c].nTr.parentNode)&&a.removeChild(b.aoOpenRows[c].nTr);b.aoOpenRows.splice(c,1);return 0}}return 1};this.fnGetData=function(a,b){var c=A(this[n.iApiIndex]);if(typeof a!="undefined"){a=typeof a=="object"?W(c,a):a;if(typeof b!="undefined"){return G(c,a,b,"")}return typeof c.aoData[a]!="undefined"?c.aoData[a]._aData:null}return ca(c)};this.fnGetNodes=function(a){var b=A(this[n.iApiIndex]);if(typeof a!="undefined"){return typeof b.aoData[a]!="undefined"?b.aoData[a].nTr:null}return ba(b)};this.fnGetPosition=function(a){var b=A(this[n.iApiIndex]),c=a.nodeName.toUpperCase();if(c=="TR"){return W(b,a)}else{if(c=="TD"||c=="TH"){c=W(b,a.parentNode);for(var d=Q(b,c),f=0;f<b.aoColumns.length;f++){if(d[f]==a){return[c,ta(b,f),f]}}}}return null};this.fnUpdate=function(a,b,c,d,f){var e=A(this[n.iApiIndex]);b=typeof b=="object"?W(e,b):b;if(i.isArray(a)&&typeof a=="object"){e.aoData[b]._aData=a.slice();for(c=0;c<e.aoColumns.length;c++){this.fnUpdate(G(e,b,c),b,c,false,false)}}else{if(a!==null&&typeof a=="object"){e.aoData[b]._aData=i.extend(true,{},a);for(c=0;c<e.aoColumns.length;c++){this.fnUpdate(G(e,b,c),b,c,false,false)}}else{a=a;O(e,b,c,a);if(e.aoColumns[c].fnRender!==null){a=e.aoColumns[c].fnRender({iDataRow:b,iDataColumn:c,aData:e.aoData[b]._aData,oSettings:e});e.aoColumns[c].bUseRendered&&O(e,b,c,a)}if(e.aoData[b].nTr!==null){Q(e,b)[c].innerHTML=a}}}c=i.inArray(b,e.aiDisplay);e.asDataSearch[c]=ra(e,fa(e,b,"filter"));if(typeof f=="undefined"||f){ea(e)}if(typeof d=="undefined"||d){da(e)}return 0};this.fnSetColumnVis=function(a,b,c){var d=A(this[n.iApiIndex]),f,e;e=d.aoColumns.length;var h,j;if(d.aoColumns[a].bVisible!=b){if(b){for(f=j=0;f<a;f++){d.aoColumns[f].bVisible&&j++}j=j>=Z(d);if(!j){for(f=a;f<e;f++){if(d.aoColumns[f].bVisible){h=f;break}}}f=0;for(e=d.aoData.length;f<e;f++){if(d.aoData[f].nTr!==null){j?d.aoData[f].nTr.appendChild(d.aoData[f]._anHidden[a]):d.aoData[f].nTr.insertBefore(d.aoData[f]._anHidden[a],Q(d,f)[h])}}}else{f=0;for(e=d.aoData.length;f<e;f++){if(d.aoData[f].nTr!==null){h=Q(d,f)[a];d.aoData[f]._anHidden[a]=h;h.parentNode.removeChild(h)}}}d.aoColumns[a].bVisible=b;M(d,d.aoHeader);d.nTFoot&&M(d,d.aoFooter);f=0;for(e=d.aoOpenRows.length;f<e;f++){d.aoOpenRows[f].nTr.colSpan=Z(d)}if(typeof c=="undefined"||c){ea(d);C(d)}va(d)}};this.fnPageChange=function(a,b){var c=A(this[n.iApiIndex]);ma(c,a);E(c);if(typeof b=="undefined"||b){C(c)}};this.fnDestroy=function(){var a=A(this[n.iApiIndex]),b=a.nTableWrapper.parentNode,c=a.nTBody,d,f;a.bDestroying=true;d=0;for(f=a.aoDestroyCallback.length;d<f;d++){a.aoDestroyCallback[d].fn()}d=0;for(f=a.aoColumns.length;d<f;d++){a.aoColumns[d].bVisible===false&&this.fnSetColumnVis(d,true)}i(a.nTableWrapper).find("*").andSelf().unbind(".DT");i("tbody>tr>td."+a.oClasses.sRowEmpty,a.nTable).parent().remove();if(a.nTable!=a.nTHead.parentNode){i(a.nTable).children("thead").remove();a.nTable.appendChild(a.nTHead)}if(a.nTFoot&&a.nTable!=a.nTFoot.parentNode){i(a.nTable).children("tfoot").remove();a.nTable.appendChild(a.nTFoot)}a.nTable.parentNode.removeChild(a.nTable);i(a.nTableWrapper).remove();a.aaSorting=[];a.aaSortingFixed=[];V(a);i(ba(a)).removeClass(a.asStripeClasses.join(" "));if(a.bJUI){i("th",a.nTHead).removeClass([n.oStdClasses.sSortable,n.oJUIClasses.sSortableAsc,n.oJUIClasses.sSortableDesc,n.oJUIClasses.sSortableNone].join(" "));i("th span."+n.oJUIClasses.sSortIcon,a.nTHead).remove();i("th",a.nTHead).each(function(){var e=i("div."+n.oJUIClasses.sSortJUIWrapper,this),h=e.contents();i(this).append(h);e.remove()})}else{i("th",a.nTHead).removeClass([n.oStdClasses.sSortable,n.oStdClasses.sSortableAsc,n.oStdClasses.sSortableDesc,n.oStdClasses.sSortableNone].join(" "))}a.nTableReinsertBefore?b.insertBefore(a.nTable,a.nTableReinsertBefore):b.appendChild(a.nTable);d=0;for(f=a.aoData.length;d<f;d++){a.aoData[d].nTr!==null&&c.appendChild(a.aoData[d].nTr)}if(a.oFeatures.bAutoWidth===true){a.nTable.style.width=q(a.sDestroyWidth)}i(c).children("tr:even").addClass(a.asDestroyStripes[0]);i(c).children("tr:odd").addClass(a.asDestroyStripes[1]);d=0;for(f=D.length;d<f;d++){D[d]==a&&D.splice(d,1)}a=null};this.fnAdjustColumnSizing=function(a){var b=A(this[n.iApiIndex]);ea(b);if(typeof a=="undefined"||a){this.fnDraw(false)}else{if(b.oScroll.sX!==""||b.oScroll.sY!==""){this.oApi._fnScrollDraw(b)}}};for(var xa in n.oApi){if(xa){this[xa]=s(xa)}}this.oApi._fnExternApiFunc=s;this.oApi._fnInitialise=t;this.oApi._fnInitComplete=w;this.oApi._fnLanguageProcess=y;this.oApi._fnAddColumn=F;this.oApi._fnColumnOptions=x;this.oApi._fnAddData=v;this.oApi._fnCreateTr=z;this.oApi._fnGatherData=$;this.oApi._fnBuildHead=X;this.oApi._fnDrawHead=M;this.oApi._fnDraw=C;this.oApi._fnReDraw=da;this.oApi._fnAjaxUpdate=Ca;this.oApi._fnAjaxParameters=Da;this.oApi._fnAjaxUpdateDraw=Ea;this.oApi._fnServerParams=ha;this.oApi._fnAddOptionsHtml=Aa;this.oApi._fnFeatureHtmlTable=Ja;this.oApi._fnScrollDraw=Ma;this.oApi._fnAdjustColumnSizing=ea;this.oApi._fnFeatureHtmlFilter=Ha;this.oApi._fnFilterComplete=N;this.oApi._fnFilterCustom=Qa;this.oApi._fnFilterColumn=Pa;this.oApi._fnFilter=Oa;this.oApi._fnBuildSearchArray=oa;this.oApi._fnBuildSearchRow=ra;this.oApi._fnFilterCreateSearch=pa;this.oApi._fnDataToSearch=qa;this.oApi._fnSort=R;this.oApi._fnSortAttachListener=ja;this.oApi._fnSortingClasses=V;this.oApi._fnFeatureHtmlPaginate=La;this.oApi._fnPageChange=ma;this.oApi._fnFeatureHtmlInfo=Ka;this.oApi._fnUpdateInfo=Ra;this.oApi._fnFeatureHtmlLength=Ga;this.oApi._fnFeatureHtmlProcessing=Ia;this.oApi._fnProcessingDisplay=K;this.oApi._fnVisibleToColumnIndex=Na;this.oApi._fnColumnIndexToVisible=ta;this.oApi._fnNodeToDataIndex=W;this.oApi._fnVisbleColumns=Z;this.oApi._fnCalculateEnd=E;this.oApi._fnConvertToWidth=Sa;this.oApi._fnCalculateColumnWidths=ga;this.oApi._fnScrollingWidthAdjust=Ua;this.oApi._fnGetWidestNode=Ta;this.oApi._fnGetMaxLenString=Va;this.oApi._fnStringToCss=q;this.oApi._fnArrayCmp=Za;this.oApi._fnDetectType=ia;this.oApi._fnSettingsFromNode=A;this.oApi._fnGetDataMaster=ca;this.oApi._fnGetTrNodes=ba;this.oApi._fnGetTdNodes=Q;this.oApi._fnEscapeRegex=sa;this.oApi._fnDeleteIndex=ua;this.oApi._fnReOrderIndex=Fa;this.oApi._fnColumnOrdering=ka;this.oApi._fnLog=J;this.oApi._fnClearTable=la;this.oApi._fnSaveState=va;this.oApi._fnLoadState=Xa;this.oApi._fnCreateCookie=Wa;this.oApi._fnReadCookie=wa;this.oApi._fnDetectHeader=Y;this.oApi._fnGetUniqueThs=S;this.oApi._fnScrollBarWidth=Ya;this.oApi._fnApplyToChildren=P;this.oApi._fnMap=o;this.oApi._fnGetRowData=fa;this.oApi._fnGetCellData=G;this.oApi._fnSetCellData=O;this.oApi._fnGetObjectDataFn=aa;this.oApi._fnSetObjectDataFn=Ba;var ya=this;return this.each(function(){var a=0,b,c,d,f;a=0;for(b=D.length;a<b;a++){if(D[a].nTable==this){if(typeof g=="undefined"||typeof g.bRetrieve!="undefined"&&g.bRetrieve===true){return D[a].oInstance}else{if(typeof g.bDestroy!="undefined"&&g.bDestroy===true){D[a].oInstance.fnDestroy();break}else{J(D[a],0,"Cannot reinitialise DataTable.\n\nTo retrieve the DataTables object for this table, please pass either no arguments to the dataTable() function, or set bRetrieve to true. Alternatively, to destory the old table and create a new one, set bDestroy to true (note that a lot of changes to the configuration can be made through the API which is usually much faster).");return}}}if(D[a].sTableId!==""&&D[a].sTableId==this.getAttribute("id")){D.splice(a,1);break}}var e=new l;D.push(e);var h=false,j=false;a=this.getAttribute("id");if(a!==null){e.sTableId=a;e.sInstance=a}else{e.sInstance=n._oExternConfig.iNextUnique++}if(this.nodeName.toLowerCase()!="table"){J(e,0,"Attempted to initialise DataTables on a node which is not a table: "+this.nodeName)}else{e.nTable=this;e.oInstance=ya.length==1?ya:i(this).dataTable();e.oApi=ya.oApi;e.sDestroyWidth=i(this).width();if(typeof g!="undefined"&&g!==null){e.oInit=g;o(e.oFeatures,g,"bPaginate");o(e.oFeatures,g,"bLengthChange");o(e.oFeatures,g,"bFilter");o(e.oFeatures,g,"bSort");o(e.oFeatures,g,"bInfo");o(e.oFeatures,g,"bProcessing");o(e.oFeatures,g,"bAutoWidth");o(e.oFeatures,g,"bSortClasses");o(e.oFeatures,g,"bServerSide");o(e.oFeatures,g,"bDeferRender");o(e.oScroll,g,"sScrollX","sX");o(e.oScroll,g,"sScrollXInner","sXInner");o(e.oScroll,g,"sScrollY","sY");o(e.oScroll,g,"bScrollCollapse","bCollapse");o(e.oScroll,g,"bScrollInfinite","bInfinite");o(e.oScroll,g,"iScrollLoadGap","iLoadGap");o(e.oScroll,g,"bScrollAutoCss","bAutoCss");o(e,g,"asStripClasses","asStripeClasses");o(e,g,"asStripeClasses");o(e,g,"fnPreDrawCallback");o(e,g,"fnRowCallback");o(e,g,"fnHeaderCallback");o(e,g,"fnFooterCallback");o(e,g,"fnCookieCallback");o(e,g,"fnInitComplete");o(e,g,"fnServerData");o(e,g,"fnFormatNumber");o(e,g,"aaSorting");o(e,g,"aaSortingFixed");o(e,g,"aLengthMenu");o(e,g,"sPaginationType");o(e,g,"sAjaxSource");o(e,g,"sAjaxDataProp");o(e,g,"iCookieDuration");o(e,g,"sCookiePrefix");o(e,g,"sDom");o(e,g,"bSortCellsTop");o(e,g,"oSearch","oPreviousSearch");o(e,g,"aoSearchCols","aoPreSearchCols");o(e,g,"iDisplayLength","_iDisplayLength");o(e,g,"bJQueryUI","bJUI");o(e.oLanguage,g,"fnInfoCallback");typeof g.fnDrawCallback=="function"&&e.aoDrawCallback.push({fn:g.fnDrawCallback,sName:"user"});typeof g.fnServerParams=="function"&&e.aoServerParams.push({fn:g.fnServerParams,sName:"user"});typeof g.fnStateSaveCallback=="function"&&e.aoStateSave.push({fn:g.fnStateSaveCallback,sName:"user"});typeof g.fnStateLoadCallback=="function"&&e.aoStateLoad.push({fn:g.fnStateLoadCallback,sName:"user"});if(e.oFeatures.bServerSide&&e.oFeatures.bSort&&e.oFeatures.bSortClasses){e.aoDrawCallback.push({fn:V,sName:"server_side_sort_classes"})}else{e.oFeatures.bDeferRender&&e.aoDrawCallback.push({fn:V,sName:"defer_sort_classes"})}if(typeof g.bJQueryUI!="undefined"&&g.bJQueryUI){e.oClasses=n.oJUIClasses;if(typeof g.sDom=="undefined"){e.sDom='<"H"lfr>t<"F"ip>'}}if(e.oScroll.sX!==""||e.oScroll.sY!==""){e.oScroll.iBarWidth=Ya()}if(typeof g.iDisplayStart!="undefined"&&typeof e.iInitDisplayStart=="undefined"){e.iInitDisplayStart=g.iDisplayStart;e._iDisplayStart=g.iDisplayStart}if(typeof g.bStateSave!="undefined"){e.oFeatures.bStateSave=g.bStateSave;Xa(e,g);e.aoDrawCallback.push({fn:va,sName:"state_save"})}if(typeof g.iDeferLoading!="undefined"){e.bDeferLoading=true;e._iRecordsTotal=g.iDeferLoading;e._iRecordsDisplay=g.iDeferLoading}if(typeof g.aaData!="undefined"){j=true}if(typeof g!="undefined"&&typeof g.aoData!="undefined"){g.aoColumns=g.aoData}if(typeof g.oLanguage!="undefined"){if(typeof g.oLanguage.sUrl!="undefined"&&g.oLanguage.sUrl!==""){e.oLanguage.sUrl=g.oLanguage.sUrl;i.getJSON(e.oLanguage.sUrl,null,function(u){y(e,u,true)});h=true}else{y(e,g.oLanguage,false)}}}else{g={}}if(typeof g.asStripClasses=="undefined"&&typeof g.asStripeClasses=="undefined"){e.asStripeClasses.push(e.oClasses.sStripeOdd);e.asStripeClasses.push(e.oClasses.sStripeEven)}c=false;d=i(this).children("tbody").children("tr");a=0;for(b=e.asStripeClasses.length;a<b;a++){if(d.filter(":lt(2)").hasClass(e.asStripeClasses[a])){c=true;break}}if(c){e.asDestroyStripes=["",""];if(i(d[0]).hasClass(e.oClasses.sStripeOdd)){e.asDestroyStripes[0]+=e.oClasses.sStripeOdd+" "}if(i(d[0]).hasClass(e.oClasses.sStripeEven)){e.asDestroyStripes[0]+=e.oClasses.sStripeEven}if(i(d[1]).hasClass(e.oClasses.sStripeOdd)){e.asDestroyStripes[1]+=e.oClasses.sStripeOdd+" "}if(i(d[1]).hasClass(e.oClasses.sStripeEven)){e.asDestroyStripes[1]+=e.oClasses.sStripeEven}d.removeClass(e.asStripeClasses.join(" "))}c=[];var k;a=this.getElementsByTagName("thead");if(a.length!==0){Y(e.aoHeader,a[0]);c=S(e)}if(typeof g.aoColumns=="undefined"){k=[];a=0;for(b=c.length;a<b;a++){k.push(null)}}else{k=g.aoColumns}a=0;for(b=k.length;a<b;a++){if(typeof g.saved_aoColumns!="undefined"&&g.saved_aoColumns.length==b){if(k[a]===null){k[a]={}}k[a].bVisible=g.saved_aoColumns[a].bVisible}F(e,c?c[a]:null)}if(typeof g.aoColumnDefs!="undefined"){for(a=g.aoColumnDefs.length-1;a>=0;a--){var m=g.aoColumnDefs[a].aTargets;i.isArray(m)||J(e,1,"aTargets must be an array of targets, not a "+typeof m);c=0;for(d=m.length;c<d;c++){if(typeof m[c]=="number"&&m[c]>=0){for(;e.aoColumns.length<=m[c];){F(e)}x(e,m[c],g.aoColumnDefs[a])}else{if(typeof m[c]=="number"&&m[c]<0){x(e,e.aoColumns.length+m[c],g.aoColumnDefs[a])}else{if(typeof m[c]=="string"){b=0;for(f=e.aoColumns.length;b<f;b++){if(m[c]=="_all"||i(e.aoColumns[b].nTh).hasClass(m[c])){x(e,b,g.aoColumnDefs[a])}}}}}}}}if(typeof k!="undefined"){a=0;for(b=k.length;a<b;a++){x(e,a,k[a])}}a=0;for(b=e.aaSorting.length;a<b;a++){if(e.aaSorting[a][0]>=e.aoColumns.length){e.aaSorting[a][0]=0}k=e.aoColumns[e.aaSorting[a][0]];if(typeof e.aaSorting[a][2]=="undefined"){e.aaSorting[a][2]=0}if(typeof g.aaSorting=="undefined"&&typeof e.saved_aaSorting=="undefined"){e.aaSorting[a][1]=k.asSorting[0]}c=0;for(d=k.asSorting.length;c<d;c++){if(e.aaSorting[a][1]==k.asSorting[c]){e.aaSorting[a][2]=c;break}}}V(e);a=i(this).children("thead");if(a.length===0){a=[p.createElement("thead")];this.appendChild(a[0])}e.nTHead=a[0];a=i(this).children("tbody");if(a.length===0){a=[p.createElement("tbody")];this.appendChild(a[0])}e.nTBody=a[0];a=i(this).children("tfoot");if(a.length>0){e.nTFoot=a[0];Y(e.aoFooter,e.nTFoot)}if(j){for(a=0;a<g.aaData.length;a++){v(e,g.aaData[a])}}else{$(e)}e.aiDisplay=e.aiDisplayMaster.slice();e.bInitialised=true;h===false&&t(e)}})}})(jQuery,window,document);
/*!
 * jQuery Form Plugin
 * version: 2.87 (20-OCT-2011)
 * @requires jQuery v1.3.2 or later
 *
 * Examples and documentation at: http://malsup.com/jquery/form/
 * Dual licensed under the MIT and GPL licenses:
 *   http://www.opensource.org/licenses/mit-license.php
 *   http://www.gnu.org/licenses/gpl.html
 */
(function(b){b.fn.ajaxSubmit=function(e){if(!this.length){a("ajaxSubmit: skipping submit process - no element selected");return this}var c,r,g,i=this;if(typeof e=="function"){e={success:e}}c=this.attr("method");r=this.attr("action");g=(typeof r==="string")?b.trim(r):"";g=g||window.location.href||"";if(g){g=(g.match(/^([^#]+)/)||[])[1]}e=b.extend(true,{url:g,success:b.ajaxSettings.success,type:c||"GET",iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},e);var l={};this.trigger("form-pre-serialize",[this,e,l]);if(l.veto){a("ajaxSubmit: submit vetoed via form-pre-serialize trigger");return this}if(e.beforeSerialize&&e.beforeSerialize(this,e)===false){a("ajaxSubmit: submit aborted via beforeSerialize callback");return this}var h=e.traditional;if(h===undefined){h=b.ajaxSettings.traditional}var w,p,k,x=this.formToArray(e.semantic);if(e.data){e.extraData=e.data;w=b.param(e.data,h)}if(e.beforeSubmit&&e.beforeSubmit(x,this,e)===false){a("ajaxSubmit: submit aborted via beforeSubmit callback");return this}this.trigger("form-submit-validate",[x,this,e,l]);if(l.veto){a("ajaxSubmit: submit vetoed via form-submit-validate trigger");return this}var o=b.param(x,h);if(w){o=(o?(o+"&"+w):w)}if(e.type.toUpperCase()=="GET"){e.url+=(e.url.indexOf("?")>=0?"&":"?")+o;e.data=null}else{e.data=o}var y=[];if(e.resetForm){y.push(function(){i.resetForm()})}if(e.clearForm){y.push(function(){i.clearForm(e.includeHidden)})}if(!e.dataType&&e.target){var f=e.success||function(){};y.push(function(q){var n=e.replaceTarget?"replaceWith":"html";b(e.target)[n](q).each(f,arguments)})}else{if(e.success){y.push(e.success)}}e.success=function(A,q,B){var z=e.context||e;for(var v=0,n=y.length;v<n;v++){y[v].apply(z,[A,q,B||i,i])}};var t=b("input:file",this).length>0;var s="multipart/form-data";var m=(i.attr("enctype")==s||i.attr("encoding")==s);if(e.iframe!==false&&(t||e.iframe||m)){if(e.closeKeepAlive){b.get(e.closeKeepAlive,function(){j(x)})}else{j(x)}}else{if(b.browser.msie&&c=="get"&&typeof e.type==="undefined"){var u=i[0].getAttribute("method");if(typeof u==="string"){e.type=u}}b.ajax(e)}this.trigger("form-submit-notify",[this,e]);return this;function j(V){var A=i[0],z,R,L,T,O,C,G,E,F,P,S,J;var D=!!b.fn.prop;if(V){if(D){for(R=0;R<V.length;R++){z=b(A[V[R].name]);z.prop("disabled",false)}}else{for(R=0;R<V.length;R++){z=b(A[V[R].name]);z.removeAttr("disabled")}}}if(b(":input[name=submit],:input[id=submit]",A).length){alert('Error: Form elements must not have name or id of "submit".');return}L=b.extend(true,{},b.ajaxSettings,e);L.context=L.context||L;O="jqFormIO"+(new Date().getTime());if(L.iframeTarget){C=b(L.iframeTarget);P=C.attr("name");if(P==null){C.attr("name",O)}else{O=P}}else{C=b('<iframe name="'+O+'" src="'+L.iframeSrc+'" />');C.css({position:"absolute",top:"-1000px",left:"-1000px"})}G=C[0];E={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(n){var Y=(n==="timeout"?"timeout":"aborted");a("aborting upload... "+Y);this.aborted=1;C.attr("src",L.iframeSrc);E.error=Y;L.error&&L.error.call(L.context,E,Y,n);T&&b.event.trigger("ajaxError",[E,L,Y]);L.complete&&L.complete.call(L.context,E,Y)}};T=L.global;if(T&&!b.active++){b.event.trigger("ajaxStart")}if(T){b.event.trigger("ajaxSend",[E,L])}if(L.beforeSend&&L.beforeSend.call(L.context,E,L)===false){if(L.global){b.active--}return}if(E.aborted){return}F=A.clk;if(F){P=F.name;if(P&&!F.disabled){L.extraData=L.extraData||{};L.extraData[P]=F.value;if(F.type=="image"){L.extraData[P+".x"]=A.clk_x;L.extraData[P+".y"]=A.clk_y}}}var K=1;var H=2;function I(Y){var n=Y.contentWindow?Y.contentWindow.document:Y.contentDocument?Y.contentDocument:Y.document;return n}function Q(){var aa=i.attr("target"),Y=i.attr("action");A.setAttribute("target",O);if(!c){A.setAttribute("method","POST")}if(Y!=L.url){A.setAttribute("action",L.url)}if(!L.skipEncodingOverride&&(!c||/post/i.test(c))){i.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"})}if(L.timeout){J=setTimeout(function(){S=true;N(K)},L.timeout)}function ab(){try{var n=I(G).readyState;a("state = "+n);if(n.toLowerCase()=="uninitialized"){setTimeout(ab,50)}}catch(ad){a("Server abort: ",ad," (",ad.name,")");N(H);J&&clearTimeout(J);J=undefined}}var Z=[];try{if(L.extraData){for(var ac in L.extraData){Z.push(b('<input type="hidden" name="'+ac+'" />').attr("value",L.extraData[ac]).appendTo(A)[0])}}if(!L.iframeTarget){C.appendTo("body");G.attachEvent?G.attachEvent("onload",N):G.addEventListener("load",N,false)}setTimeout(ab,15);A.submit()}finally{A.setAttribute("action",Y);if(aa){A.setAttribute("target",aa)}else{i.removeAttr("target")}b(Z).remove()}}if(L.forceSync){Q()}else{setTimeout(Q,10)}var W,X,U=50,B;function N(ac){if(E.aborted||B){return}try{X=I(G)}catch(af){a("cannot access response document: ",af);ac=H}if(ac===K&&E){E.abort("timeout");return}else{if(ac==H&&E){E.abort("server abort");return}}if(!X||X.location.href==L.iframeSrc){if(!S){return}}G.detachEvent?G.detachEvent("onload",N):G.removeEventListener("load",N,false);var aa="success",ae;try{if(S){throw"timeout"}var Z=L.dataType=="xml"||X.XMLDocument||b.isXMLDoc(X);a("isXml="+Z);if(!Z&&window.opera&&(X.body==null||X.body.innerHTML=="")){if(--U){a("requeing onLoad callback, DOM not available");setTimeout(N,250);return}}var ag=X.body?X.body:X.documentElement;E.responseText=ag?ag.innerHTML:null;E.responseXML=X.XMLDocument?X.XMLDocument:X;if(Z){L.dataType="xml"}E.getResponseHeader=function(aj){var ai={"content-type":L.dataType};return ai[aj]};if(ag){E.status=Number(ag.getAttribute("status"))||E.status;E.statusText=ag.getAttribute("statusText")||E.statusText}var n=(L.dataType||"").toLowerCase();var ad=/(json|script|text)/.test(n);if(ad||L.textarea){var ab=X.getElementsByTagName("textarea")[0];if(ab){E.responseText=ab.value;E.status=Number(ab.getAttribute("status"))||E.status;E.statusText=ab.getAttribute("statusText")||E.statusText}else{if(ad){var Y=X.getElementsByTagName("pre")[0];var ah=X.getElementsByTagName("body")[0];if(Y){E.responseText=Y.textContent?Y.textContent:Y.innerText}else{if(ah){E.responseText=ah.textContent?ah.textContent:ah.innerText}}}}}else{if(n=="xml"&&!E.responseXML&&E.responseText!=null){E.responseXML=M(E.responseText)}}try{W=q(E,n,L)}catch(ac){aa="parsererror";E.error=ae=(ac||aa)}}catch(ac){a("error caught: ",ac);aa="error";E.error=ae=(ac||aa)}if(E.aborted){a("upload aborted");aa=null}if(E.status){aa=(E.status>=200&&E.status<300||E.status===304)?"success":"error"}if(aa==="success"){L.success&&L.success.call(L.context,W,"success",E);T&&b.event.trigger("ajaxSuccess",[E,L])}else{if(aa){if(ae==undefined){ae=E.statusText}L.error&&L.error.call(L.context,E,aa,ae);T&&b.event.trigger("ajaxError",[E,L,ae])}}T&&b.event.trigger("ajaxComplete",[E,L]);if(T&&!--b.active){b.event.trigger("ajaxStop")}L.complete&&L.complete.call(L.context,E,aa);B=true;if(L.timeout){clearTimeout(J)}setTimeout(function(){if(!L.iframeTarget){C.remove()}E.responseXML=null},100)}var M=b.parseXML||function(n,Y){if(window.ActiveXObject){Y=new ActiveXObject("Microsoft.XMLDOM");Y.async="false";Y.loadXML(n)}else{Y=(new DOMParser()).parseFromString(n,"text/xml")}return(Y&&Y.documentElement&&Y.documentElement.nodeName!="parsererror")?Y:null};var v=b.parseJSON||function(n){return window["eval"]("("+n+")")};var q=function(ac,aa,Z){var Y=ac.getResponseHeader("content-type")||"",n=aa==="xml"||!aa&&Y.indexOf("xml")>=0,ab=n?ac.responseXML:ac.responseText;if(n&&ab.documentElement.nodeName==="parsererror"){b.error&&b.error("parsererror")}if(Z&&Z.dataFilter){ab=Z.dataFilter(ab,aa)}if(typeof ab==="string"){if(aa==="json"||!aa&&Y.indexOf("json")>=0){ab=v(ab)}else{if(aa==="script"||!aa&&Y.indexOf("javascript")>=0){b.globalEval(ab)}}}return ab}}};b.fn.ajaxForm=function(c){if(this.length===0){var e={s:this.selector,c:this.context};if(!b.isReady&&e.s){a("DOM not ready, queuing ajaxForm");b(function(){b(e.s,e.c).ajaxForm(c)});return this}a("terminating; zero elements found by selector"+(b.isReady?"":" (DOM not ready)"));return this}return this.ajaxFormUnbind().bind("submit.form-plugin",function(f){if(!f.isDefaultPrevented()){f.preventDefault();b(this).ajaxSubmit(c)}}).bind("click.form-plugin",function(j){var i=j.target;var g=b(i);if(!(g.is(":submit,input:image"))){var f=g.closest(":submit");if(f.length==0){return}i=f[0]}var h=this;h.clk=i;if(i.type=="image"){if(j.offsetX!=undefined){h.clk_x=j.offsetX;h.clk_y=j.offsetY}else{if(typeof b.fn.offset=="function"){var k=g.offset();h.clk_x=j.pageX-k.left;h.clk_y=j.pageY-k.top}else{h.clk_x=j.pageX-i.offsetLeft;h.clk_y=j.pageY-i.offsetTop}}}setTimeout(function(){h.clk=h.clk_x=h.clk_y=null},100)})};b.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")};b.fn.formToArray=function(r){var q=[];if(this.length===0){return q}var e=this[0];var h=r?e.getElementsByTagName("*"):e.elements;if(!h){return q}var l,k,g,s,f,o,c;for(l=0,o=h.length;l<o;l++){f=h[l];g=f.name;if(!g){continue}if(r&&e.clk&&f.type=="image"){if(!f.disabled&&e.clk==f){q.push({name:g,value:b(f).val()});q.push({name:g+".x",value:e.clk_x},{name:g+".y",value:e.clk_y})}continue}s=b.fieldValue(f,true);if(s&&s.constructor==Array){for(k=0,c=s.length;k<c;k++){q.push({name:g,value:s[k]})}}else{if(s!==null&&typeof s!="undefined"){q.push({name:g,value:s})}}}if(!r&&e.clk){var m=b(e.clk),p=m[0];g=p.name;if(g&&!p.disabled&&p.type=="image"){q.push({name:g,value:m.val()});q.push({name:g+".x",value:e.clk_x},{name:g+".y",value:e.clk_y})}}return q};b.fn.formSerialize=function(c){return b.param(this.formToArray(c))};b.fn.fieldSerialize=function(e){var c=[];this.each(function(){var j=this.name;if(!j){return}var g=b.fieldValue(this,e);if(g&&g.constructor==Array){for(var h=0,f=g.length;h<f;h++){c.push({name:j,value:g[h]})}}else{if(g!==null&&typeof g!="undefined"){c.push({name:this.name,value:g})}}});return b.param(c)};b.fn.fieldValue=function(j){for(var h=[],f=0,c=this.length;f<c;f++){var g=this[f];var e=b.fieldValue(g,j);if(e===null||typeof e=="undefined"||(e.constructor==Array&&!e.length)){continue}e.constructor==Array?b.merge(h,e):h.push(e)}return h};b.fieldValue=function(c,k){var f=c.name,q=c.type,r=c.tagName.toLowerCase();if(k===undefined){k=true}if(k&&(!f||c.disabled||q=="reset"||q=="button"||(q=="checkbox"||q=="radio")&&!c.checked||(q=="submit"||q=="image")&&c.form&&c.form.clk!=c||r=="select"&&c.selectedIndex==-1)){return null}if(r=="select"){var l=c.selectedIndex;if(l<0){return null}var o=[],e=c.options;var h=(q=="select-one");var m=(h?l+1:e.length);for(var g=(h?l:0);g<m;g++){var j=e[g];if(j.selected){var p=j.value;if(!p){p=(j.attributes&&j.attributes.value&&!(j.attributes.value.specified))?j.text:j.value}if(h){return p}o.push(p)}}return o}return b(c).val()};b.fn.clearForm=function(c){return this.each(function(){b("input,select,textarea",this).clearFields(c)})};b.fn.clearFields=b.fn.clearInputs=function(c){var e=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each(function(){var g=this.type,f=this.tagName.toLowerCase();if(e.test(g)||f=="textarea"||(c&&/hidden/.test(g))){this.value=""}else{if(g=="checkbox"||g=="radio"){this.checked=false}else{if(f=="select"){this.selectedIndex=-1}}}})};b.fn.resetForm=function(){return this.each(function(){if(typeof this.reset=="function"||(typeof this.reset=="object"&&!this.reset.nodeType)){this.reset()}})};b.fn.enable=function(c){if(c===undefined){c=true}return this.each(function(){this.disabled=!c})};b.fn.selected=function(c){if(c===undefined){c=true}return this.each(function(){var e=this.type;if(e=="checkbox"||e=="radio"){this.checked=c}else{if(this.tagName.toLowerCase()=="option"){var f=b(this).parent("select");if(c&&f[0]&&f[0].type=="select-one"){f.find("option").selected(false)}this.selected=c}}})};b.fn.ajaxSubmit.debug=false;function a(){if(!b.fn.ajaxSubmit.debug){return}var c="[jquery.form] "+Array.prototype.join.call(arguments,"");if(window.console&&window.console.log){window.console.log(c)}else{if(window.opera&&window.opera.postError){window.opera.postError(c)}}}})(jQuery);(function(h){function f(){}function w(G){e=[G]}function p(K,H,I,J){try{J=K&&K.apply(H.context||H,I)}catch(G){J=!1}return J}function o(G){return/\?/.test(G)?"&":"?"}var q="async",u="charset",s="",E="error",v="insertBefore",t="_jqjsp",B="on",i=B+"click",l=B+E,r=B+"load",z=B+"readystatechange",b="readyState",D="removeChild",k="<script>",A="success",C="timeout",g=window,a=h.Deferred,j=h("head")[0]||document.documentElement,c=j.firstChild,y={},n=0,e,m={callback:t,url:location.href},x=g.opera;function F(K){K=h.extend({},m,K);var I=K.success,P=K.error,H=K.complete,Y=K.dataFilter,aa=K.callbackParameter,Q=K.callback,Z=K.cache,G=K.pageCache,J=K.charset,L=K.url,ac=K.data,S=K.timeout,O,W=0,U=f,R,N,ab,M,V;a&&a(function(ad){ad.done(I).fail(P);I=ad.resolve;P=ad.reject}).promise(K);K.abort=function(){!(W++)&&U()};if(p(K.beforeSend,K,[K])===!1||W){return K}L=L||s;ac=ac?((typeof ac)=="string"?ac:h.param(ac,K.traditional)):s;L+=ac?(o(L)+ac):s;aa&&(L+=o(L)+encodeURIComponent(aa)+"=?");!Z&&!G&&(L+=o(L)+"_"+(new Date()).getTime()+"=");L=L.replace(/=\?(&|$)/,"="+Q+"$1");function X(ad){if(!(W++)){U();G&&(y[L]={s:[ad]});Y&&(ad=Y.apply(K,[ad]));p(I,K,[ad,A]);p(H,K,[K,A])}}function T(ad){if(!(W++)){U();G&&ad!=C&&(y[L]=ad);p(P,K,[K,ad]);p(H,K,[K,ad])}}if(G&&(O=y[L])){O.s?X(O.s[0]):T(O)}else{g[Q]=w;ab=h(k)[0];ab.id=t+n++;if(J){ab[u]=J}x&&x.version()<11.6?((M=h(k)[0]).text="document.getElementById('"+ab.id+"')."+l+"()"):(ab[q]=q);if(z in ab){ab.htmlFor=ab.id;ab.event=i}ab[r]=ab[l]=ab[z]=function(ad){if(!ab[b]||!/i/.test(ab[b])){try{ab[i]&&ab[i]()}catch(ae){}ad=e;e=0;ad?X(ad[0]):T(E)}};ab.src=L;U=function(ad){V&&clearTimeout(V);ab[z]=ab[r]=ab[l]=null;j[D](ab);M&&j[D](M)};j[v](ab,c);M&&j[v](M,c);V=S>0&&setTimeout(function(){T(C)},S)}return K}F.setup=function(G){h.extend(m,G)};h.jsonp=F})(jQuery);
/*!
 * HTML5 Placeholder jQuery Plugin v1.8.2
 * @link http://github.com/mathiasbynens/Placeholder-jQuery-Plugin
 * @author Mathias Bynens <http://mathiasbynens.be/>
 */
(function(i){var j="placeholder" in document.createElement("input"),h="placeholder" in document.createElement("textarea");if(j&&h){i.fn.placeholder=function(){return this};i.fn.placeholder.input=i.fn.placeholder.textarea=true}else{i.fn.placeholder=function(){return this.filter((j?"textarea":":input")+"[placeholder]").bind("focus.placeholder",g).bind("blur.placeholder",k).trigger("blur.placeholder").end()};i.fn.placeholder.input=j;i.fn.placeholder.textarea=h}function l(b){var c={},a=/^jQuery\d+$/;i.each(b.attributes,function(e,f){if(f.specified&&!a.test(f.name)){c[f.name]=f.value}});return c}function g(){var a=i(this);if(a.val()===a.attr("placeholder")&&a.hasClass("placeholder")){if(a.data("placeholder-password")){a.hide().next().attr("id",a.removeAttr("id").data("placeholder-id")).show().focus()}else{a.val("").removeClass("placeholder")}}}function k(f){var a,b=i(this),m=b,c=this.id;if(b.val()===""){if(b.is(":password")){if(!b.data("placeholder-textinput")){try{a=b.clone().attr({type:"text"})}catch(e){a=i("<input>").attr(i.extend(l(this),{type:"text"}))}a.removeAttr("name").data("placeholder-password",true).data("placeholder-id",c).bind("focus.placeholder",g);b.data("placeholder-textinput",a).data("placeholder-id",c).before(a)}b=b.removeAttr("id").hide().prev().attr("id",c).show()}b.addClass("placeholder").val(b.attr("placeholder"))}else{b.removeClass("placeholder")}}i(function(){i("form").bind("submit.placeholder",function(){var a=i(".placeholder",this).each(g);setTimeout(function(){a.each(k)},10)})});i(window).bind("unload.placeholder",function(){i(".placeholder").val("")})}(jQuery));(function(g){var f={common:{type:"line",lineColor:"#00f",fillColor:"#cdf",defaultPixelsPerValue:3,width:"auto",height:"auto",composite:false,tagValuesAttribute:"values",tagOptionsPrefix:"spark",enableTagOptions:false},line:{spotColor:"#f80",spotRadius:1.5,minSpotColor:"#f80",maxSpotColor:"#f80",lineWidth:1,normalRangeMin:undefined,normalRangeMax:undefined,normalRangeColor:"#ccc",drawNormalOnTop:false,chartRangeMin:undefined,chartRangeMax:undefined,chartRangeMinX:undefined,chartRangeMaxX:undefined},bar:{barColor:"#00f",negBarColor:"#f44",zeroColor:undefined,nullColor:undefined,zeroAxis:undefined,barWidth:4,barSpacing:1,chartRangeMax:undefined,chartRangeMin:undefined,chartRangeClip:false,colorMap:undefined},tristate:{barWidth:4,barSpacing:1,posBarColor:"#6f6",negBarColor:"#f44",zeroBarColor:"#999",colorMap:{}},discrete:{lineHeight:"auto",thresholdColor:undefined,thresholdValue:0,chartRangeMax:undefined,chartRangeMin:undefined,chartRangeClip:false},bullet:{targetColor:"red",targetWidth:3,performanceColor:"blue",rangeColors:["#D3DAFE","#A8B6FF","#7F94FF"],base:undefined},pie:{sliceColors:["#f00","#0f0","#00f"]},box:{raw:false,boxLineColor:"black",boxFillColor:"#cdf",whiskerColor:"black",outlierLineColor:"#333",outlierFillColor:"white",medianColor:"red",showOutliers:true,outlierIQR:1.5,spotRadius:1.5,target:undefined,targetColor:"#4a2",chartRangeMax:undefined,chartRangeMin:undefined}};var j,b,c;g.fn.simpledraw=function(m,l,n){if(n&&this[0].VCanvas){return this[0].VCanvas}if(m===undefined){m=g(this).innerWidth()}if(l===undefined){l=g(this).innerHeight()}if(g.browser.hasCanvas){return new b(m,l,this)}else{if(g.browser.msie){return new c(m,l,this)}else{return false}}};var a=[];g.fn.sparkline=function(l,m){return this.each(function(){var n=new g.fn.sparkline.options(this,m);var o=function(){var q,s,p;if(l==="html"||l===undefined){var t=this.getAttribute(n.get("tagValuesAttribute"));if(t===undefined||t===null){t=g(this).html()}q=t.replace(/(^\s*<!--)|(-->\s*$)|\s+/g,"").split(",")}else{q=l}s=n.get("width")=="auto"?q.length*n.get("defaultPixelsPerValue"):n.get("width");if(n.get("height")=="auto"){if(!n.get("composite")||!this.VCanvas){var r=document.createElement("span");r.innerHTML="a";g(this).html(r);p=g(r).innerHeight();g(r).remove()}}else{p=n.get("height")}g.fn.sparkline[n.get("type")].call(this,q,n,s,p)};if((g(this).html()&&g(this).is(":hidden"))||(g.fn.jquery<"1.3.0"&&g(this).parents().is(":hidden"))||!g(this).parents("body").length){a.push([this,o])}else{o.call(this)}})};g.fn.sparkline.defaults=f;g.sparkline_display_visible=function(){for(var l=a.length-1;l>=0;l--){var m=a[l][0];if(g(m).is(":visible")&&!g(m).parents().is(":hidden")){a[l][1].call(m);a.splice(l,1)}}};var h={};var e=function(m){switch(m){case"undefined":m=undefined;break;case"null":m=null;break;case"true":m=true;break;case"false":m=false;break;default:var l=parseFloat(m);if(m==l){m=l}}return m};g.fn.sparkline.options=function(l,q){var p;this.userOptions=q=q||{};this.tag=l;this.tagValCache={};var o=g.fn.sparkline.defaults;var n=o.common;this.tagOptionsPrefix=q.enableTagOptions&&(q.tagOptionsPrefix||n.tagOptionsPrefix);var m=this.getTagSetting("type");if(m===h){p=o[q.type||n.type]}else{p=o[m]}this.mergedOptions=g.extend({},n,p,q)};g.fn.sparkline.options.prototype.getTagSetting=function(n){var q,m,p=this.tagOptionsPrefix;if(p===false||p===undefined){return h}if(this.tagValCache.hasOwnProperty(n)){q=this.tagValCache.key}else{q=this.tag.getAttribute(p+n);if(q===undefined||q===null){q=h}else{if(q.substr(0,1)=="["){q=q.substr(1,q.length-2).split(",");for(m=q.length;m--;){q[m]=e(q[m].replace(/(^\s*)|(\s*$)/g,""))}}else{if(q.substr(0,1)=="{"){var o=q.substr(1,q.length-2).split(",");q={};for(m=o.length;m--;){var l=o[m].split(":",2);q[l[0].replace(/(^\s*)|(\s*$)/g,"")]=e(l[1].replace(/(^\s*)|(\s*$)/g,""))}}else{q=e(q)}}}this.tagValCache.key=q}return q};g.fn.sparkline.options.prototype.get=function(m){var l=this.getTagSetting(m);if(l!==h){return l}return this.mergedOptions[m]};g.fn.sparkline.line=function(Y,G,m,n){var v=[],u=[],F=[];for(var X=0;X<Y.length;X++){var I=Y[X];var r=typeof(Y[X])=="string";var R=typeof(Y[X])=="object"&&Y[X] instanceof Array;var z=r&&Y[X].split(":");if(r&&z.length==2){v.push(Number(z[0]));u.push(Number(z[1]));F.push(Number(z[1]))}else{if(R){v.push(I[0]);u.push(I[1]);F.push(I[1])}else{v.push(X);if(Y[X]===null||Y[X]=="null"){u.push(null)}else{u.push(Number(I));F.push(Number(I))}}}}if(G.get("xvalues")){v=G.get("xvalues")}var p=Math.max.apply(Math,F);var P=p;var D=Math.min.apply(Math,F);var L=D;var q=Math.max.apply(Math,v);var E=Math.min.apply(Math,v);var K=G.get("normalRangeMin");var o=G.get("normalRangeMax");if(K!==undefined){if(K<D){D=K}if(o>p){p=o}}if(G.get("chartRangeMin")!==undefined&&(G.get("chartRangeClip")||G.get("chartRangeMin")<D)){D=G.get("chartRangeMin")}if(G.get("chartRangeMax")!==undefined&&(G.get("chartRangeClip")||G.get("chartRangeMax")>p)){p=G.get("chartRangeMax")}if(G.get("chartRangeMinX")!==undefined&&(G.get("chartRangeClipX")||G.get("chartRangeMinX")<E)){E=G.get("chartRangeMinX")}if(G.get("chartRangeMaxX")!==undefined&&(G.get("chartRangeClipX")||G.get("chartRangeMaxX")>q)){q=G.get("chartRangeMaxX")}var A=q-E===0?1:q-E;var w=p-D===0?1:p-D;var C=u.length-1;if(C<1){this.innerHTML="";return}var l=g(this).simpledraw(m,n,G.get("composite"));if(l){var O=l.pixel_width;var T=l.pixel_height;var H=0;var t=0;var W=G.get("spotRadius");if(W&&(O<(W*4)||T<(W*4))){W=0}if(W){if(G.get("minSpotColor")||(G.get("spotColor")&&u[C]==D)){T-=Math.ceil(W)}if(G.get("maxSpotColor")||(G.get("spotColor")&&u[C]==p)){T-=Math.ceil(W);H+=Math.ceil(W)}if(G.get("minSpotColor")||G.get("maxSpotColor")&&(u[0]==D||u[0]==p)){t+=Math.ceil(W);O-=Math.ceil(W)}if(G.get("spotColor")||(G.get("minSpotColor")||G.get("maxSpotColor")&&(u[C]==D||u[C]==p))){O-=Math.ceil(W)}}T--;var J=function(){if(K!==undefined){var y=H+Math.round(T-(T*((o-D)/w)));var x=Math.round((T*(o-K))/w);l.drawRect(t,y,O,x,undefined,G.get("normalRangeColor"))}};if(!G.get("drawNormalOnTop")){J()}var U=[];var M=[U];var S,Q,V=u.length;for(X=0;X<V;X++){S=v[X];Q=u[X];if(Q===null){if(X){if(u[X-1]!==null){U=[];M.push(U)}}}else{if(Q<D){Q=D}if(Q>p){Q=p}if(!U.length){U.push([t+Math.round((S-E)*(O/A)),H+T])}U.push([t+Math.round((S-E)*(O/A)),H+Math.round(T-(T*((Q-D)/w)))])}}var N=[];var s=[];var B=M.length;for(X=0;X<B;X++){U=M[X];if(!U.length){continue}if(G.get("fillColor")){U.push([U[U.length-1][0],H+T-1]);s.push(U.slice(0));U.pop()}if(U.length>2){U[0]=[U[0][0],U[1][1]]}N.push(U)}B=s.length;for(X=0;X<B;X++){l.drawShape(s[X],undefined,G.get("fillColor"))}if(G.get("drawNormalOnTop")){J()}B=N.length;for(X=0;X<B;X++){l.drawShape(N[X],G.get("lineColor"),undefined,G.get("lineWidth"))}if(W&&G.get("spotColor")){l.drawCircle(t+Math.round(v[v.length-1]*(O/A)),H+Math.round(T-(T*((u[C]-D)/w))),W,undefined,G.get("spotColor"))}if(p!=L){if(W&&G.get("minSpotColor")){S=v[g.inArray(L,u)];l.drawCircle(t+Math.round((S-E)*(O/A)),H+Math.round(T-(T*((L-D)/w))),W,undefined,G.get("minSpotColor"))}if(W&&G.get("maxSpotColor")){S=v[g.inArray(P,u)];l.drawCircle(t+Math.round((S-E)*(O/A)),H+Math.round(T-(T*((P-D)/w))),W,undefined,G.get("maxSpotColor"))}}}else{this.innerHTML=""}};g.fn.sparkline.bar=function(l,n,w,u){w=(l.length*n.get("barWidth"))+((l.length-1)*n.get("barSpacing"));var o=[];for(var E=0,q=l.length;E<q;E++){if(l[E]=="null"||l[E]===null){l[E]=null}else{l[E]=Number(l[E]);o.push(Number(l[E]))}}var D=Math.max.apply(Math,o),z=Math.min.apply(Math,o);if(n.get("chartRangeMin")!==undefined&&(n.get("chartRangeClip")||n.get("chartRangeMin")<z)){z=n.get("chartRangeMin")}if(n.get("chartRangeMax")!==undefined&&(n.get("chartRangeClip")||n.get("chartRangeMax")>D)){D=n.get("chartRangeMax")}var C=n.get("zeroAxis");if(C===undefined){C=z<0}var t=D-z===0?1:D-z;var p,v;if(g.isArray(n.get("colorMap"))){p=n.get("colorMap");v=null}else{p=null;v=n.get("colorMap")}var F=g(this).simpledraw(w,u,n.get("composite"));if(F){var A,B=F.pixel_height,m=z<0&&C?B-Math.round(B*(Math.abs(z)/t))-1:B-1;for(E=l.length;E--;){var s=E*(n.get("barWidth")+n.get("barSpacing")),r,G=l[E];if(G===null){if(n.get("nullColor")){A=n.get("nullColor");G=(C&&z<0)?0:z;u=1;r=(C&&z<0)?m:B-u}else{continue}}else{if(G<z){G=z}if(G>D){G=D}A=(G<0)?n.get("negBarColor"):n.get("barColor");if(C&&z<0){u=Math.round(B*((Math.abs(G)/t)))+1;r=(G<0)?m:m-u}else{u=Math.round(B*((G-z)/t))+1;r=B-u}if(G===0&&n.get("zeroColor")!==undefined){A=n.get("zeroColor")}if(v&&v[G]){A=v[G]}else{if(p&&p.length>E){A=p[E]}}if(A===null){continue}}F.drawRect(s,r,n.get("barWidth")-1,u-1,A,A)}}else{this.innerHTML=""}};g.fn.sparkline.tristate=function(v,z,m,w){v=g.map(v,Number);m=(v.length*z.get("barWidth"))+((v.length-1)*z.get("barSpacing"));var q,u;if(g.isArray(z.get("colorMap"))){q=z.get("colorMap");u=null}else{q=null;u=z.get("colorMap")}var r=g(this).simpledraw(m,w,z.get("composite"));if(r){var l=r.pixel_height,p=Math.round(l/2);for(var o=v.length;o--;){var t=o*(z.get("barWidth")+z.get("barSpacing")),s,n;if(v[o]<0){s=p;w=p-1;n=z.get("negBarColor")}else{if(v[o]>0){s=0;w=p-1;n=z.get("posBarColor")}else{s=p-1;w=2;n=z.get("zeroBarColor")}}if(u&&u[v[o]]){n=u[v[o]]}else{if(q&&q.length>o){n=q[o]}}if(n===null){continue}r.drawRect(t,s,z.get("barWidth")-1,w-1,n,n)}}else{this.innerHTML=""}};g.fn.sparkline.discrete=function(z,B,m,A){z=g.map(z,Number);m=B.get("width")=="auto"?z.length*2:m;var o=Math.floor(m/z.length);var u=g(this).simpledraw(m,A,B.get("composite"));if(u){var l=u.pixel_height,y=B.get("lineHeight")=="auto"?Math.round(l*0.3):B.get("lineHeight"),t=l-y,q=Math.min.apply(Math,z),v=Math.max.apply(Math,z);if(B.get("chartRangeMin")!==undefined&&(B.get("chartRangeClip")||B.get("chartRangeMin")<q)){q=B.get("chartRangeMin")}if(B.get("chartRangeMax")!==undefined&&(B.get("chartRangeClip")||B.get("chartRangeMax")>v)){v=B.get("chartRangeMax")}var s=v-q;for(var r=z.length;r--;){var p=z[r];if(p<q){p=q}if(p>v){p=v}var w=(r*o),n=Math.round(t-t*((p-q)/s));u.drawLine(w,n,w,n+y,(B.get("thresholdColor")&&p<B.get("thresholdValue"))?B.get("thresholdColor"):B.get("lineColor"))}}else{this.innerHTML=""}};g.fn.sparkline.bullet=function(n,p,y,v){n=g.map(n,Number);y=p.get("width")=="auto"?"4.0em":y;var F=g(this).simpledraw(y,v,p.get("composite"));if(F&&n.length>1){var E=F.pixel_width-Math.ceil(p.get("targetWidth")/2),A=F.pixel_height,z=Math.min.apply(Math,n),B=Math.max.apply(Math,n);if(p.get("base")===undefined){z=z<0?z:0}else{z=p.get("base")}var t=B-z;for(var C=2,r=n.length;C<r;C++){var q=n[C],m=Math.round(E*((q-z)/t));F.drawRect(0,0,m-1,A-1,p.get("rangeColors")[C-2],p.get("rangeColors")[C-2])}var w=n[1],l=Math.round(E*((w-z)/t));F.drawRect(0,Math.round(A*0.3),l-1,Math.round(A*0.4)-1,p.get("performanceColor"),p.get("performanceColor"));var u=n[0],s=Math.round(E*((u-z)/t)-(p.get("targetWidth")/2)),o=Math.round(A*0.1),D=A-(o*2);F.drawRect(s,o,p.get("targetWidth")-1,D-1,p.get("targetColor"),p.get("targetColor"))}else{this.innerHTML=""}};g.fn.sparkline.pie=function(x,z,o,y){x=g.map(x,Number);o=z.get("width")=="auto"?y:o;var t=g(this).simpledraw(o,y,z.get("composite"));if(t&&x.length>1){var u=t.pixel_width,l=t.pixel_height,s=Math.floor(Math.min(u,l)/2),v=0,r=0,m=2*Math.PI;for(var q=x.length;q--;){v+=x[q]}if(z.get("offset")){r+=(2*Math.PI)*(z.get("offset")/360)}var w=x.length;for(q=0;q<w;q++){var n=r;var p=r;if(v>0){p=r+(m*(x[q]/v))}t.drawPieSlice(s,s,s,n,p,undefined,z.get("sliceColors")[q%z.get("sliceColors").length]);r=p}}};var i=function(m,n){if(n==2){var l=Math.floor(m.length/2);return m.length%2?m[l]:(m[l]+m[l+1])/2}else{var o=Math.floor(m.length/4);return m.length%2?(m[o*n]+m[o*n+1])/2:m[o*n]}};g.fn.sparkline.box=function(m,o,z,x){m=g.map(m,Number);z=o.get("width")=="auto"?"4.0em":z;var p=o.get("chartRangeMin")===undefined?Math.min.apply(Math,m):o.get("chartRangeMin"),y=o.get("chartRangeMax")===undefined?Math.max.apply(Math,m):o.get("chartRangeMax"),G=g(this).simpledraw(z,x,o.get("composite")),r=m.length,v,E,u,t,s,l,q;if(G&&m.length>1){var D=G.pixel_width,A=G.pixel_height;if(o.get("raw")){if(o.get("showOutliers")&&m.length>5){E=m[0];v=m[1];u=m[2];t=m[3];s=m[4];l=m[5];q=m[6]}else{v=m[0];u=m[1];t=m[2];s=m[3];l=m[4]}}else{m.sort(function(I,H){return I-H});u=i(m,1);t=i(m,2);s=i(m,3);var n=s-u;if(o.get("showOutliers")){v=undefined;l=undefined;for(var B=0;B<r;B++){if(v===undefined&&m[B]>u-(n*o.get("outlierIQR"))){v=m[B]}if(m[B]<s+(n*o.get("outlierIQR"))){l=m[B]}}E=m[0];q=m[r-1]}else{v=m[0];l=m[r-1]}}var F=D/(y-p+1),C=0;if(o.get("showOutliers")){C=Math.ceil(o.get("spotRadius"));D-=2*Math.ceil(o.get("spotRadius"));F=D/(y-p+1);if(E<v){G.drawCircle((E-p)*F+C,A/2,o.get("spotRadius"),o.get("outlierLineColor"),o.get("outlierFillColor"))}if(q>l){G.drawCircle((q-p)*F+C,A/2,o.get("spotRadius"),o.get("outlierLineColor"),o.get("outlierFillColor"))}}G.drawRect(Math.round((u-p)*F+C),Math.round(A*0.1),Math.round((s-u)*F),Math.round(A*0.8),o.get("boxLineColor"),o.get("boxFillColor"));G.drawLine(Math.round((v-p)*F+C),Math.round(A/2),Math.round((u-p)*F+C),Math.round(A/2),o.get("lineColor"));G.drawLine(Math.round((v-p)*F+C),Math.round(A/4),Math.round((v-p)*F+C),Math.round(A-A/4),o.get("whiskerColor"));G.drawLine(Math.round((l-p)*F+C),Math.round(A/2),Math.round((s-p)*F+C),Math.round(A/2),o.get("lineColor"));G.drawLine(Math.round((l-p)*F+C),Math.round(A/4),Math.round((l-p)*F+C),Math.round(A-A/4),o.get("whiskerColor"));G.drawLine(Math.round((t-p)*F+C),Math.round(A*0.1),Math.round((t-p)*F+C),Math.round(A*0.9),o.get("medianColor"));if(o.get("target")){var w=Math.ceil(o.get("spotRadius"));G.drawLine(Math.round((o.get("target")-p)*F+C),Math.round((A/2)-w),Math.round((o.get("target")-p)*F+C),Math.round((A/2)+w),o.get("targetColor"));G.drawLine(Math.round((o.get("target")-p)*F+C-w),Math.round(A/2),Math.round((o.get("target")-p)*F+C+w),Math.round(A/2),o.get("targetColor"))}}else{this.innerHTML=""}};if(g.browser.msie&&!document.namespaces.v){document.namespaces.add("v","urn:schemas-microsoft-com:vml","#default#VML")}if(g.browser.hasCanvas===undefined){var k=document.createElement("canvas");g.browser.hasCanvas=k.getContext!==undefined}j=function(m,l,n){};j.prototype={init:function(m,l,n){this.width=m;this.height=l;this.target=n;if(n[0]){n=n[0]}n.VCanvas=this},drawShape:function(n,m,o,l){alert("drawShape not implemented")},drawLine:function(n,p,m,o,q,l){return this.drawShape([[n,p],[m,o]],q,l)},drawCircle:function(m,p,l,n,o){alert("drawCircle not implemented")},drawPieSlice:function(m,r,l,o,n,p,q){alert("drawPieSlice not implemented")},drawRect:function(m,q,n,l,o,p){alert("drawRect not implemented")},getElement:function(){return this.canvas},_insert:function(l,m){g(m).html(l)}};b=function(m,l,n){return this.init(m,l,n)};b.prototype=g.extend(new j(),{_super:j.prototype,init:function(m,l,n){this._super.init(m,l,n);this.canvas=document.createElement("canvas");if(n[0]){n=n[0]}n.VCanvas=this;g(this.canvas).css({display:"inline-block",width:m,height:l,verticalAlign:"top"});this._insert(this.canvas,n);this.pixel_height=g(this.canvas).height();this.pixel_width=g(this.canvas).width();this.canvas.width=this.pixel_width;this.canvas.height=this.pixel_height;g(this.canvas).css({width:this.pixel_width,height:this.pixel_height})},_getContext:function(n,o,l){var m=this.canvas.getContext("2d");if(n!==undefined){m.strokeStyle=n}m.lineWidth=l===undefined?1:l;if(o!==undefined){m.fillStyle=o}return m},drawShape:function(q,p,r,l){var n=this._getContext(p,r,l);n.beginPath();n.moveTo(q[0][0]+0.5,q[0][1]+0.5);for(var m=1,o=q.length;m<o;m++){n.lineTo(q[m][0]+0.5,q[m][1]+0.5)}if(p!==undefined){n.stroke()}if(r!==undefined){n.fill()}},drawCircle:function(m,q,l,o,p){var n=this._getContext(o,p);n.beginPath();n.arc(m,q,l,0,2*Math.PI,false);if(o!==undefined){n.stroke()}if(p!==undefined){n.fill()}},drawPieSlice:function(m,s,l,p,n,q,r){var o=this._getContext(q,r);o.beginPath();o.moveTo(m,s);o.arc(m,s,l,p,n,false);o.lineTo(m,s);o.closePath();if(q!==undefined){o.stroke()}if(r){o.fill()}},drawRect:function(m,q,n,l,o,p){return this.drawShape([[m,q],[m+n,q],[m+n,q+l],[m,q+l],[m,q]],o,p)}});c=function(m,l,n){return this.init(m,l,n)};c.prototype=g.extend(new j(),{_super:j.prototype,init:function(m,l,o){this._super.init(m,l,o);if(o[0]){o=o[0]}o.VCanvas=this;this.canvas=document.createElement("span");g(this.canvas).css({display:"inline-block",position:"relative",overflow:"hidden",width:m,height:l,margin:"0px",padding:"0px",verticalAlign:"top"});this._insert(this.canvas,o);this.pixel_height=g(this.canvas).height();this.pixel_width=g(this.canvas).width();this.canvas.width=this.pixel_width;this.canvas.height=this.pixel_height;var n='<v:group coordorigin="0 0" coordsize="'+this.pixel_width+" "+this.pixel_height+'" style="position:absolute;top:0;left:0;width:'+this.pixel_width+"px;height="+this.pixel_height+'px;"></v:group>';this.canvas.insertAdjacentHTML("beforeEnd",n);this.group=g(this.canvas).children()[0]},drawShape:function(w,r,l,o){var s=[];for(var n=0,m=w.length;n<m;n++){s[n]=""+(w[n][0])+","+(w[n][1])}var q=s.splice(0,1);o=o===undefined?1:o;var v=r===undefined?' stroked="false" ':' strokeWeight="'+o+'" strokeColor="'+r+'" ';var u=l===undefined?' filled="false"':' fillColor="'+l+'" filled="true" ';var p=s[0]==s[s.length-1]?"x ":"";var t='<v:shape coordorigin="0 0" coordsize="'+this.pixel_width+" "+this.pixel_height+'" '+v+u+' style="position:absolute;left:0px;top:0px;height:'+this.pixel_height+"px;width:"+this.pixel_width+'px;padding:0px;margin:0px;"  path="m '+q+" l "+s.join(", ")+" "+p+'e"> </v:shape>';this.group.insertAdjacentHTML("beforeEnd",t)},drawCircle:function(m,s,l,q,r){m-=l+1;s-=l+1;var p=q===undefined?' stroked="false" ':' strokeWeight="1" strokeColor="'+q+'" ';var o=r===undefined?' filled="false"':' fillColor="'+r+'" filled="true" ';var n="<v:oval "+p+o+' style="position:absolute;top:'+s+"px; left:"+m+"px; width:"+(l*2)+"px; height:"+(l*2)+'px"></v:oval>';this.group.insertAdjacentHTML("beforeEnd",n)},drawPieSlice:function(w,u,r,s,o,v,n){if(s==o){return}if((o-s)==(2*Math.PI)){s=0;o=(2*Math.PI)}var m=w+Math.round(Math.cos(s)*r);var l=u+Math.round(Math.sin(s)*r);var q=w+Math.round(Math.cos(o)*r);var p=u+Math.round(Math.sin(o)*r);if(m==q&&l==p&&(o-s)<Math.PI){return}var t=[w-r,u-r,w+r,u+r,m,l,q,p];var B=v===undefined?' stroked="false" ':' strokeWeight="1" strokeColor="'+v+'" ';var A=n===undefined?' filled="false"':' fillColor="'+n+'" filled="true" ';var z='<v:shape coordorigin="0 0" coordsize="'+this.pixel_width+" "+this.pixel_height+'" '+B+A+' style="position:absolute;left:0px;top:0px;height:'+this.pixel_height+"px;width:"+this.pixel_width+'px;padding:0px;margin:0px;"  path="m '+w+","+u+" wa "+t.join(", ")+' x e"> </v:shape>';this.group.insertAdjacentHTML("beforeEnd",z)},drawRect:function(m,q,n,l,o,p){return this.drawShape([[m,q],[m,q+l],[m+n,q+l],[m+n,q],[m,q]],o,p)}})})(jQuery);(function($){$.extend({tablesorter:new function(){var parsers=[],widgets=[];this.defaults={cssHeader:"header",cssAsc:"headerSortUp",cssDesc:"headerSortDown",cssChildRow:"expand-child",sortInitialOrder:"asc",sortMultiSortKey:"shiftKey",sortForce:null,sortAppend:null,sortLocaleCompare:true,textExtraction:"simple",parsers:{},widgets:[],widgetZebra:{css:["even","odd"]},headers:{},widthFixed:false,cancelSelection:true,sortList:[],headerList:[],dateFormat:"us",decimal:"/.|,/g",onRenderHeader:null,selectorHeaders:"thead th",debug:false};function benchmark(s,d){log(s+","+(new Date().getTime()-d.getTime())+"ms")}this.benchmark=benchmark;function log(s){if(typeof console!="undefined"&&typeof console.debug!="undefined"){console.log(s)}else{alert(s)}}function buildParserCache(table,$headers){if(table.config.debug){var parsersDebug=""}if(table.tBodies.length==0){return}var rows=table.tBodies[0].rows;if(rows[0]){var list=[],cells=rows[0].cells,l=cells.length;for(var i=0;i<l;i++){var p=false;if($.metadata&&($($headers[i]).metadata()&&$($headers[i]).metadata().sorter)){p=getParserById($($headers[i]).metadata().sorter)}else{if((table.config.headers[i]&&table.config.headers[i].sorter)){p=getParserById(table.config.headers[i].sorter)}}if(!p){p=detectParserForColumn(table,rows,-1,i)}if(table.config.debug){parsersDebug+="column:"+i+" parser:"+p.id+"\n"}list.push(p)}}if(table.config.debug){log(parsersDebug)}return list}function detectParserForColumn(table,rows,rowIndex,cellIndex){var l=parsers.length,node=false,nodeValue=false,keepLooking=true;while(nodeValue==""&&keepLooking){rowIndex++;if(rows[rowIndex]){node=getNodeFromRowAndCellIndex(rows,rowIndex,cellIndex);nodeValue=trimAndGetNodeText(table.config,node);if(table.config.debug){log("Checking if value was empty on row:"+rowIndex)}}else{keepLooking=false}}for(var i=1;i<l;i++){if(parsers[i].is(nodeValue,table,node)){return parsers[i]}}return parsers[0]}function getNodeFromRowAndCellIndex(rows,rowIndex,cellIndex){return rows[rowIndex].cells[cellIndex]}function trimAndGetNodeText(config,node){return $.trim(getElementText(config,node))}function getParserById(name){var l=parsers.length;for(var i=0;i<l;i++){if(parsers[i].id.toLowerCase()==name.toLowerCase()){return parsers[i]}}return false}function buildCache(table){if(table.config.debug){var cacheTime=new Date()}var totalRows=(table.tBodies[0]&&table.tBodies[0].rows.length)||0,totalCells=(table.tBodies[0].rows[0]&&table.tBodies[0].rows[0].cells.length)||0,parsers=table.config.parsers,cache={row:[],normalized:[]};for(var i=0;i<totalRows;++i){var c=$(table.tBodies[0].rows[i]),cols=[];if(c.hasClass(table.config.cssChildRow)){cache.row[cache.row.length-1]=cache.row[cache.row.length-1].add(c);continue}cache.row.push(c);for(var j=0;j<totalCells;++j){cols.push(parsers[j].format(getElementText(table.config,c[0].cells[j]),table,c[0].cells[j]))}cols.push(cache.normalized.length);cache.normalized.push(cols);cols=null}if(table.config.debug){benchmark("Building cache for "+totalRows+" rows:",cacheTime)}return cache}function getElementText(config,node){var text="";if(!node){return""}if(!config.supportsTextContent){config.supportsTextContent=node.textContent||false}if(config.textExtraction=="simple"){if(config.supportsTextContent){text=node.textContent}else{if(node.childNodes[0]&&node.childNodes[0].hasChildNodes()){text=node.childNodes[0].innerHTML}else{text=node.innerHTML}}}else{if(typeof(config.textExtraction)=="function"){text=config.textExtraction(node)}else{text=$(node).text()}}return text}function appendToTable(table,cache){if(table.config.debug){var appendTime=new Date()}var c=cache,r=c.row,n=c.normalized,totalRows=n.length,checkCell=(n[0].length-1),tableBody=$(table.tBodies[0]),rows=[];for(var i=0;i<totalRows;i++){var pos=n[i][checkCell];rows.push(r[pos]);if(!table.config.appender){var l=r[pos].length;for(var j=0;j<l;j++){tableBody[0].appendChild(r[pos][j])}}}if(table.config.appender){table.config.appender(table,rows)}rows=null;if(table.config.debug){benchmark("Rebuilt table:",appendTime)}applyWidget(table);setTimeout(function(){$(table).trigger("sortEnd")},0)}function buildHeaders(table){if(table.config.debug){var time=new Date()}var meta=($.metadata)?true:false;var header_index=computeTableHeaderCellIndexes(table);$tableHeaders=$(table.config.selectorHeaders,table).each(function(index){this.column=header_index[this.parentNode.rowIndex+"-"+this.cellIndex];this.order=formatSortingOrder(table.config.sortInitialOrder);this.count=this.order;if(checkHeaderMetadata(this)||checkHeaderOptions(table,index)){this.sortDisabled=true}if(checkHeaderOptionsSortingLocked(table,index)){this.order=this.lockedOrder=checkHeaderOptionsSortingLocked(table,index)}if(!this.sortDisabled){var $th=$(this).addClass(table.config.cssHeader);if(table.config.onRenderHeader){table.config.onRenderHeader.apply($th)}}table.config.headerList[index]=this});if(table.config.debug){benchmark("Built headers:",time);log($tableHeaders)}return $tableHeaders}function computeTableHeaderCellIndexes(t){var matrix=[];var lookup={};var thead=t.getElementsByTagName("THEAD")[0];var trs=thead.getElementsByTagName("TR");for(var i=0;i<trs.length;i++){var cells=trs[i].cells;for(var j=0;j<cells.length;j++){var c=cells[j];var rowIndex=c.parentNode.rowIndex;var cellId=rowIndex+"-"+c.cellIndex;var rowSpan=c.rowSpan||1;var colSpan=c.colSpan||1;var firstAvailCol;if(typeof(matrix[rowIndex])=="undefined"){matrix[rowIndex]=[]}for(var k=0;k<matrix[rowIndex].length+1;k++){if(typeof(matrix[rowIndex][k])=="undefined"){firstAvailCol=k;break}}lookup[cellId]=firstAvailCol;for(var k=rowIndex;k<rowIndex+rowSpan;k++){if(typeof(matrix[k])=="undefined"){matrix[k]=[]}var matrixrow=matrix[k];for(var l=firstAvailCol;l<firstAvailCol+colSpan;l++){matrixrow[l]="x"}}}}return lookup}function checkCellColSpan(table,rows,row){var arr=[],r=table.tHead.rows,c=r[row].cells;for(var i=0;i<c.length;i++){var cell=c[i];if(cell.colSpan>1){arr=arr.concat(checkCellColSpan(table,headerArr,row++))}else{if(table.tHead.length==1||(cell.rowSpan>1||!r[row+1])){arr.push(cell)}}}return arr}function checkHeaderMetadata(cell){if(($.metadata)&&($(cell).metadata().sorter===false)){return true}return false}function checkHeaderOptions(table,i){if((table.config.headers[i])&&(table.config.headers[i].sorter===false)){return true}return false}function checkHeaderOptionsSortingLocked(table,i){if((table.config.headers[i])&&(table.config.headers[i].lockedOrder)){return table.config.headers[i].lockedOrder}return false}function applyWidget(table){var c=table.config.widgets;var l=c.length;for(var i=0;i<l;i++){getWidgetById(c[i]).format(table)}}function getWidgetById(name){var l=widgets.length;for(var i=0;i<l;i++){if(widgets[i].id.toLowerCase()==name.toLowerCase()){return widgets[i]}}}function formatSortingOrder(v){if(typeof(v)!="Number"){return(v.toLowerCase()=="desc")?1:0}else{return(v==1)?1:0}}function isValueInArray(v,a){var l=a.length;for(var i=0;i<l;i++){if(a[i][0]==v){return true}}return false}function setHeadersCss(table,$headers,list,css){$headers.removeClass(css[0]).removeClass(css[1]);var h=[];$headers.each(function(offset){if(!this.sortDisabled){h[this.column]=$(this)}});var l=list.length;for(var i=0;i<l;i++){h[list[i][0]].addClass(css[list[i][1]])}}function fixColumnWidth(table,$headers){var c=table.config;if(c.widthFixed){var colgroup=$("<colgroup>");$("tr:first td",table.tBodies[0]).each(function(){colgroup.append($("<col>").css("width",$(this).width()))});$(table).prepend(colgroup)}}function updateHeaderSortCount(table,sortList){var c=table.config,l=sortList.length;for(var i=0;i<l;i++){var s=sortList[i],o=c.headerList[s[0]];o.count=s[1];o.count++}}function multisort(table,sortList,cache){if(table.config.debug){var sortTime=new Date()}var dynamicExp="var sortWrapper = function(a,b) {",l=sortList.length;for(var i=0;i<l;i++){var c=sortList[i][0];var order=sortList[i][1];var s=(table.config.parsers[c].type=="text")?((order==0)?makeSortFunction("text","asc",c):makeSortFunction("text","desc",c)):((order==0)?makeSortFunction("numeric","asc",c):makeSortFunction("numeric","desc",c));var e="e"+i;dynamicExp+="var "+e+" = "+s;dynamicExp+="if("+e+") { return "+e+"; } ";dynamicExp+="else { "}var orgOrderCol=cache.normalized[0].length-1;dynamicExp+="return a["+orgOrderCol+"]-b["+orgOrderCol+"];";for(var i=0;i<l;i++){dynamicExp+="}; "}dynamicExp+="return 0; ";dynamicExp+="}; ";if(table.config.debug){benchmark("Evaling expression:"+dynamicExp,new Date())}eval(dynamicExp);cache.normalized.sort(sortWrapper);if(table.config.debug){benchmark("Sorting on "+sortList.toString()+" and dir "+order+" time:",sortTime)}return cache}function makeSortFunction(type,direction,index){var a="a["+index+"]",b="b["+index+"]";if(type=="text"&&direction=="asc"){return"("+a+" == "+b+" ? 0 : ("+a+" === null ? Number.POSITIVE_INFINITY : ("+b+" === null ? Number.NEGATIVE_INFINITY : ("+a+" < "+b+") ? -1 : 1 )));"}else{if(type=="text"&&direction=="desc"){return"("+a+" == "+b+" ? 0 : ("+a+" === null ? Number.POSITIVE_INFINITY : ("+b+" === null ? Number.NEGATIVE_INFINITY : ("+b+" < "+a+") ? -1 : 1 )));"}else{if(type=="numeric"&&direction=="asc"){return"("+a+" === null && "+b+" === null) ? 0 :("+a+" === null ? Number.POSITIVE_INFINITY : ("+b+" === null ? Number.NEGATIVE_INFINITY : "+a+" - "+b+"));"}else{if(type=="numeric"&&direction=="desc"){return"("+a+" === null && "+b+" === null) ? 0 :("+a+" === null ? Number.POSITIVE_INFINITY : ("+b+" === null ? Number.NEGATIVE_INFINITY : "+b+" - "+a+"));"}}}}}function makeSortText(i){return"((a["+i+"] < b["+i+"]) ? -1 : ((a["+i+"] > b["+i+"]) ? 1 : 0));"}function makeSortTextDesc(i){return"((b["+i+"] < a["+i+"]) ? -1 : ((b["+i+"] > a["+i+"]) ? 1 : 0));"}function makeSortNumeric(i){return"a["+i+"]-b["+i+"];"}function makeSortNumericDesc(i){return"b["+i+"]-a["+i+"];"}function sortText(a,b){if(table.config.sortLocaleCompare){return a.localeCompare(b)}return((a<b)?-1:((a>b)?1:0))}function sortTextDesc(a,b){if(table.config.sortLocaleCompare){return b.localeCompare(a)}return((b<a)?-1:((b>a)?1:0))}function sortNumeric(a,b){return a-b}function sortNumericDesc(a,b){return b-a}function getCachedSortType(parsers,i){return parsers[i].type}this.construct=function(settings){return this.each(function(){if(!this.tHead||!this.tBodies){return}var $this,$document,$headers,cache,config,shiftDown=0,sortOrder;this.config={};config=$.extend(this.config,$.tablesorter.defaults,settings);$this=$(this);$.data(this,"tablesorter",config);$headers=buildHeaders(this);this.config.parsers=buildParserCache(this,$headers);cache=buildCache(this);var sortCSS=[config.cssDesc,config.cssAsc];fixColumnWidth(this);$headers.click(function(e){var totalRows=($this[0].tBodies[0]&&$this[0].tBodies[0].rows.length)||0;if(!this.sortDisabled&&totalRows>0){$this.trigger("sortStart");var $cell=$(this);var i=this.column;this.order=this.count++%2;if(this.lockedOrder){this.order=this.lockedOrder}if(!e[config.sortMultiSortKey]){config.sortList=[];if(config.sortForce!=null){var a=config.sortForce;for(var j=0;j<a.length;j++){if(a[j][0]!=i){config.sortList.push(a[j])}}}config.sortList.push([i,this.order])}else{if(isValueInArray(i,config.sortList)){for(var j=0;j<config.sortList.length;j++){var s=config.sortList[j],o=config.headerList[s[0]];if(s[0]==i){o.count=s[1];o.count++;s[1]=o.count%2}}}else{config.sortList.push([i,this.order])}}setTimeout(function(){setHeadersCss($this[0],$headers,config.sortList,sortCSS);appendToTable($this[0],multisort($this[0],config.sortList,cache))},1);return false}}).mousedown(function(){if(config.cancelSelection){this.onselectstart=function(){return false};return false}});$this.bind("update",function(){var me=this;setTimeout(function(){me.config.parsers=buildParserCache(me,$headers);cache=buildCache(me)},1)}).bind("updateCell",function(e,cell){var config=this.config;var pos=[(cell.parentNode.rowIndex-1),cell.cellIndex];cache.normalized[pos[0]][pos[1]]=config.parsers[pos[1]].format(getElementText(config,cell),cell)}).bind("sorton",function(e,list){$(this).trigger("sortStart");config.sortList=list;var sortList=config.sortList;updateHeaderSortCount(this,sortList);setHeadersCss(this,$headers,sortList,sortCSS);appendToTable(this,multisort(this,sortList,cache))}).bind("appendCache",function(){appendToTable(this,cache)}).bind("applyWidgetId",function(e,id){getWidgetById(id).format(this)}).bind("applyWidgets",function(){applyWidget(this)});if($.metadata&&($(this).metadata()&&$(this).metadata().sortlist)){config.sortList=$(this).metadata().sortlist}if(config.sortList.length>0){$this.trigger("sorton",[config.sortList])}applyWidget(this)})};this.addParser=function(parser){var l=parsers.length,a=true;for(var i=0;i<l;i++){if(parsers[i].id.toLowerCase()==parser.id.toLowerCase()){a=false}}if(a){parsers.push(parser)}};this.addWidget=function(widget){widgets.push(widget)};this.formatFloat=function(s){var i=parseFloat(s);return(isNaN(i))?0:i};this.formatInt=function(s){var i=parseInt(s);return(isNaN(i))?0:i};this.isDigit=function(s,config){return/^[-+]?\d*$/.test($.trim(s.replace(/[,.']/g,"")))};this.clearTableBody=function(table){if($.browser.msie){function empty(){while(this.firstChild){this.removeChild(this.firstChild)}}empty.apply(table.tBodies[0])}else{table.tBodies[0].innerHTML=""}}}});$.fn.extend({tablesorter:$.tablesorter.construct});var ts=$.tablesorter;ts.addParser({id:"text",is:function(s){return true},format:function(s){return $.trim(s.toLocaleLowerCase())},type:"text"});ts.addParser({id:"digit",is:function(s,table){var c=table.config;return $.tablesorter.isDigit(s,c)},format:function(s){return $.tablesorter.formatFloat(s)},type:"numeric"});ts.addParser({id:"currency",is:function(s){return/^[Â£$â‚¬?.]/.test(s)},format:function(s){return $.tablesorter.formatFloat(s.replace(new RegExp(/[Â£$â‚¬]/g),""))},type:"numeric"});ts.addParser({id:"ipAddress",is:function(s){return/^\d{2,3}[\.]\d{2,3}[\.]\d{2,3}[\.]\d{2,3}$/.test(s)},format:function(s){var a=s.split("."),r="",l=a.length;for(var i=0;i<l;i++){var item=a[i];if(item.length==2){r+="0"+item}else{r+=item}}return $.tablesorter.formatFloat(r)},type:"numeric"});ts.addParser({id:"url",is:function(s){return/^(https?|ftp|file):\/\/$/.test(s)},format:function(s){return jQuery.trim(s.replace(new RegExp(/(https?|ftp|file):\/\//),""))},type:"text"});ts.addParser({id:"isoDate",is:function(s){return/^\d{4}[\/-]\d{1,2}[\/-]\d{1,2}$/.test(s)},format:function(s){return $.tablesorter.formatFloat((s!="")?new Date(s.replace(new RegExp(/-/g),"/")).getTime():"0")},type:"numeric"});ts.addParser({id:"percent",is:function(s){return/\%$/.test($.trim(s))},format:function(s){return $.tablesorter.formatFloat(s.replace(new RegExp(/%/g),""))},type:"numeric"});ts.addParser({id:"usLongDate",is:function(s){return s.match(new RegExp(/^[A-Za-z]{3,10}\.? [0-9]{1,2}, ([0-9]{4}|'?[0-9]{2}) (([0-2]?[0-9]:[0-5][0-9])|([0-1]?[0-9]:[0-5][0-9]\s(AM|PM)))$/))},format:function(s){return $.tablesorter.formatFloat(new Date(s).getTime())},type:"numeric"});ts.addParser({id:"shortDate",is:function(s){return/\d{1,2}[\/\-]\d{1,2}[\/\-]\d{2,4}/.test(s)},format:function(s,table){var c=table.config;s=s.replace(/\-/g,"/");if(c.dateFormat=="us"){s=s.replace(/(\d{1,2})[\/\-](\d{1,2})[\/\-](\d{4})/,"$3/$1/$2")}else{if(c.dateFormat=="uk"){s=s.replace(/(\d{1,2})[\/\-](\d{1,2})[\/\-](\d{4})/,"$3/$2/$1")}else{if(c.dateFormat=="dd/mm/yy"||c.dateFormat=="dd-mm-yy"){s=s.replace(/(\d{1,2})[\/\-](\d{1,2})[\/\-](\d{2})/,"$1/$2/$3")}}}return $.tablesorter.formatFloat(new Date(s).getTime())},type:"numeric"});ts.addParser({id:"time",is:function(s){return/^(([0-2]?[0-9]:[0-5][0-9])|([0-1]?[0-9]:[0-5][0-9]\s(am|pm)))$/.test(s)},format:function(s){return $.tablesorter.formatFloat(new Date("2000/01/01 "+s).getTime())},type:"numeric"});ts.addParser({id:"metadata",is:function(s){return false},format:function(s,table,cell){var c=table.config,p=(!c.parserMetadataName)?"sortValue":c.parserMetadataName;return $(cell).metadata()[p]},type:"numeric"});ts.addWidget({id:"zebra",format:function(table){if(table.config.debug){var time=new Date()}var $tr,row=-1,odd;$("tr:visible",table.tBodies[0]).each(function(i){$tr=$(this);if(!$tr.hasClass(table.config.cssChildRow)){row++}odd=(row%2==0);$tr.removeClass(table.config.widgetZebra.css[odd?0:1]).addClass(table.config.widgetZebra.css[odd?1:0])});if(table.config.debug){$.tablesorter.benchmark("Applying Zebra widget",time)}}})})(jQuery);(function($){$.extend({tablesorter:new function(){var parsers=[],widgets=[];this.defaults={cssHeader:"header",cssAsc:"headerSortUp",cssDesc:"headerSortDown",cssChildRow:"expand-child",cssGroupHeader:"group-header",sortInitialOrder:"asc",sortMultiSortKey:"shiftKey",sortForce:null,sortAppend:null,sortLocaleCompare:true,textExtraction:"simple",parsers:{},widgets:[],widgetZebra:{css:["even","odd"]},headers:{},widthFixed:false,cancelSelection:true,sortList:[],headerList:[],dateFormat:"us",decimal:"/.|,/g",onRenderHeader:null,selectorHeaders:"thead th",debug:false};function benchmark(s,d){log(s+","+(new Date().getTime()-d.getTime())+"ms")}this.benchmark=benchmark;function log(s){if(typeof console!="undefined"&&typeof console.debug!="undefined"){console.log(s)}else{alert(s)}}function buildParserCache(table,$headers){if(table.config.debug){var parsersDebug=""}if(table.tBodies.length==0){return}var tbody=table.tBodies[0];if($(tbody).hasClass(table.config.cssGroupHeader)){tbody=table.tBodies[1]}var rows=tbody.rows;if(rows[0]){var list=[],cells=rows[0].cells,l=cells.length;for(var i=0;i<l;i++){var p=false;if($.metadata&&($($headers[i]).metadata()&&$($headers[i]).metadata().sorter)){p=getParserById($($headers[i]).metadata().sorter)}else{if((table.config.headers[i]&&table.config.headers[i].sorter)){p=getParserById(table.config.headers[i].sorter)}}if(!p){p=detectParserForColumn(table,rows,-1,i)}if(table.config.debug){parsersDebug+="column:"+i+" parser:"+p.id+"\n"}list.push(p)}}if(table.config.debug){log(parsersDebug)}return list}function detectParserForColumn(table,rows,rowIndex,cellIndex){var l=parsers.length,node=false,nodeValue=false,keepLooking=true;while(nodeValue==""&&keepLooking){rowIndex++;if(rows[rowIndex]){node=getNodeFromRowAndCellIndex(rows,rowIndex,cellIndex);nodeValue=trimAndGetNodeText(table.config,node);if(table.config.debug){log("Checking if value was empty on row:"+rowIndex)}}else{keepLooking=false}}for(var i=1;i<l;i++){if(parsers[i].is(nodeValue,table,node)){return parsers[i]}}return parsers[0]}function getNodeFromRowAndCellIndex(rows,rowIndex,cellIndex){return rows[rowIndex].cells[cellIndex]}function trimAndGetNodeText(config,node){return $.trim(getElementText(config,node))}function getParserById(name){var l=parsers.length;for(var i=0;i<l;i++){if(parsers[i].id.toLowerCase()==name.toLowerCase()){return parsers[i]}}return false}function buildCache(table){if(table.config.debug){var cacheTime=new Date()}var parsers=table.config.parsers,cache={row:[],normalized:[]};for(var j=0,k=table.tBodies.length;j<k;j++){var totalRows=(table.tBodies[j]&&table.tBodies[j].rows.length)||0,totalCells=(table.tBodies[j].rows[0]&&table.tBodies[j].rows[0].cells.length)||0;tbodyRow=[],tbodyNormalized=[];if($(table.tBodies[j]).hasClass(table.config.cssGroupHeader)){continue}for(var i=0;i<totalRows;++i){var c=$(table.tBodies[j].rows[i]);if(c.hasClass(table.config.cssChildRow)){tbodyRow[tbodyRow.length-1]=tbodyRow[tbodyRow.length-1].add(c);continue}var cols=[];for(var m=0;m<totalCells;m++){cols.push(parsers[m].format(getElementText(table.config,c[0].cells[m]),table,c[0].cells[m]))}cols.push(tbodyNormalized.length);tbodyRow.push(c);tbodyNormalized.push(cols);cols=null}cache.row.push(tbodyRow);cache.normalized.push(tbodyNormalized)}if(table.config.debug){benchmark("Building cache for "+totalRows+" rows:",cacheTime)}return cache}function getElementText(config,node){var text="";if(!node){return""}if(!config.supportsTextContent){config.supportsTextContent=node.textContent||false}if(config.textExtraction=="simple"){if(config.supportsTextContent){text=node.textContent}else{if(node.childNodes[0]&&node.childNodes[0].hasChildNodes()){text=node.childNodes[0].innerHTML}else{text=node.innerHTML}}}else{if(typeof(config.textExtraction)=="function"){text=config.textExtraction(node)}else{text=$(node).text()}}return text}function appendToTable(table,cache){if(table.config.debug){var appendTime=new Date()}var r=cache.row,n=cache.normalized;var c=0;for(var j=0,k=table.tBodies.length;j<k;j++){var totalRows=n[c].length,tableBody=$(table.tBodies[j]),rows=[];if($(tableBody).hasClass(table.config.cssGroupHeader)){continue}for(var i=0;i<totalRows;i++){var checkCell=(n[c][0].length-1);var pos=n[c][i][checkCell];rows.push(r[pos]);if(!table.config.appender){tableBody[0].appendChild(r[c][pos][0])}}c++}if(table.config.appender){table.config.appender(table,rows)}rows=null;if(table.config.debug){benchmark("Rebuilt table:",appendTime)}applyWidget(table);setTimeout(function(){$(table).trigger("sortEnd")},0)}function buildHeaders(table){if(table.config.debug){var time=new Date()}var meta=($.metadata)?true:false;var header_index=computeTableHeaderCellIndexes(table);$tableHeaders=$(table.config.selectorHeaders,table).each(function(index){this.column=header_index[this.parentNode.rowIndex+"-"+this.cellIndex];this.order=formatSortingOrder(table.config.sortInitialOrder);this.count=this.order;if(checkHeaderMetadata(this)||checkHeaderOptions(table,index)){this.sortDisabled=true}if(checkHeaderOptionsSortingLocked(table,index)){this.order=this.lockedOrder=checkHeaderOptionsSortingLocked(table,index)}if(!this.sortDisabled){var $th=$(this).addClass(table.config.cssHeader);if(table.config.onRenderHeader){table.config.onRenderHeader.apply($th)}}table.config.headerList[index]=this});if(table.config.debug){benchmark("Built headers:",time);log($tableHeaders)}return $tableHeaders}function computeTableHeaderCellIndexes(t){var matrix=[];var lookup={};var thead=t.getElementsByTagName("THEAD")[0];var trs=thead.getElementsByTagName("TR");for(var i=0;i<trs.length;i++){var cells=trs[i].cells;for(var j=0;j<cells.length;j++){var c=cells[j];var rowIndex=c.parentNode.rowIndex;var cellId=rowIndex+"-"+c.cellIndex;var rowSpan=c.rowSpan||1;var colSpan=c.colSpan||1;var firstAvailCol;if(typeof(matrix[rowIndex])=="undefined"){matrix[rowIndex]=[]}for(var k=0;k<matrix[rowIndex].length+1;k++){if(typeof(matrix[rowIndex][k])=="undefined"){firstAvailCol=k;break}}lookup[cellId]=firstAvailCol;for(var k=rowIndex;k<rowIndex+rowSpan;k++){if(typeof(matrix[k])=="undefined"){matrix[k]=[]}var matrixrow=matrix[k];for(var l=firstAvailCol;l<firstAvailCol+colSpan;l++){matrixrow[l]="x"}}}}return lookup}function checkCellColSpan(table,rows,row){var arr=[],r=table.tHead.rows,c=r[row].cells;for(var i=0;i<c.length;i++){var cell=c[i];if(cell.colSpan>1){arr=arr.concat(checkCellColSpan(table,headerArr,row++))}else{if(table.tHead.length==1||(cell.rowSpan>1||!r[row+1])){arr.push(cell)}}}return arr}function checkHeaderMetadata(cell){if(($.metadata)&&($(cell).metadata().sorter===false)){return true}return false}function checkHeaderOptions(table,i){if((table.config.headers[i])&&(table.config.headers[i].sorter===false)){return true}return false}function checkHeaderOptionsSortingLocked(table,i){if((table.config.headers[i])&&(table.config.headers[i].lockedOrder)){return table.config.headers[i].lockedOrder}return false}function applyWidget(table){var c=table.config.widgets;var l=c.length;for(var i=0;i<l;i++){getWidgetById(c[i]).format(table)}}function getWidgetById(name){var l=widgets.length;for(var i=0;i<l;i++){if(widgets[i].id.toLowerCase()==name.toLowerCase()){return widgets[i]}}}function formatSortingOrder(v){if(typeof(v)!="Number"){return(v.toLowerCase()=="desc")?1:0}else{return(v==1)?1:0}}function isValueInArray(v,a){var l=a.length;for(var i=0;i<l;i++){if(a[i][0]==v){return true}}return false}function setHeadersCss(table,$headers,list,css){$headers.removeClass(css[0]).removeClass(css[1]);var h=[];$headers.each(function(offset){if(!this.sortDisabled){h[this.column]=$(this)}});var l=list.length;for(var i=0;i<l;i++){h[list[i][0]].addClass(css[list[i][1]])}}function fixColumnWidth(table,$headers){var c=table.config;if(c.widthFixed){var colgroup=$("<colgroup>");$("tr:first td",table.tBodies[0]).each(function(){colgroup.append($("<col>").css("width",$(this).width()))});$(table).prepend(colgroup)}}function updateHeaderSortCount(table,sortList){var c=table.config,l=sortList.length;for(var i=0;i<l;i++){var s=sortList[i],o=c.headerList[s[0]];o.count=s[1];o.count++}}function multisort(table,sortList,cache){if(table.config.debug){var sortTime=new Date()}var dynamicExp="var sortWrapper = function(a,b) {",l=sortList.length;for(var i=0;i<l;i++){var c=sortList[i][0];var order=sortList[i][1];var s=(table.config.parsers[c].type=="text")?((order==0)?makeSortFunction("text","asc",c):makeSortFunction("text","desc",c)):((order==0)?makeSortFunction("numeric","asc",c):makeSortFunction("numeric","desc",c));var e="e"+i;dynamicExp+="var "+e+" = "+s;dynamicExp+="if("+e+") { return "+e+"; } ";dynamicExp+="else { "}for(var j=0,k=cache.normalized.length;j<k;j++){var orgOrderCol=cache.normalized[j][0].length-1;dynamicExpEach=dynamicExp+"return a["+orgOrderCol+"]-b["+orgOrderCol+"];";for(var i=0;i<l;i++){dynamicExpEach+="}; "}dynamicExpEach+="return 0; ";dynamicExpEach+="}; ";if(table.config.debug){benchmark("Evaling expression:"+dynamicExpEach,new Date())}eval(dynamicExpEach);cache.normalized[j].sort(sortWrapper);if(table.config.debug){benchmark("Sorting on "+sortList.toString()+" and dir "+order+" time:",sortTime)}}return cache}function makeSortFunction(type,direction,index){var a="a["+index+"]",b="b["+index+"]";if(type=="text"&&direction=="asc"){return"("+a+" == "+b+" ? 0 : ("+a+" === null ? Number.POSITIVE_INFINITY : ("+b+" === null ? Number.NEGATIVE_INFINITY : ("+a+" < "+b+") ? -1 : 1 )));"}else{if(type=="text"&&direction=="desc"){return"("+a+" == "+b+" ? 0 : ("+a+" === null ? Number.POSITIVE_INFINITY : ("+b+" === null ? Number.NEGATIVE_INFINITY : ("+b+" < "+a+") ? -1 : 1 )));"}else{if(type=="numeric"&&direction=="asc"){return"("+a+" === null && "+b+" === null) ? 0 :("+a+" === null ? Number.POSITIVE_INFINITY : ("+b+" === null ? Number.NEGATIVE_INFINITY : "+a+" - "+b+"));"}else{if(type=="numeric"&&direction=="desc"){return"("+a+" === null && "+b+" === null) ? 0 :("+a+" === null ? Number.POSITIVE_INFINITY : ("+b+" === null ? Number.NEGATIVE_INFINITY : "+b+" - "+a+"));"}}}}}function makeSortText(i){return"((a["+i+"] < b["+i+"]) ? -1 : ((a["+i+"] > b["+i+"]) ? 1 : 0));"}function makeSortTextDesc(i){return"((b["+i+"] < a["+i+"]) ? -1 : ((b["+i+"] > a["+i+"]) ? 1 : 0));"}function makeSortNumeric(i){return"a["+i+"]-b["+i+"];"}function makeSortNumericDesc(i){return"b["+i+"]-a["+i+"];"}function sortText(a,b){if(table.config.sortLocaleCompare){return a.localeCompare(b)}return((a<b)?-1:((a>b)?1:0))}function sortTextDesc(a,b){if(table.config.sortLocaleCompare){return b.localeCompare(a)}return((b<a)?-1:((b>a)?1:0))}function sortNumeric(a,b){return a-b}function sortNumericDesc(a,b){return b-a}function getCachedSortType(parsers,i){return parsers[i].type}this.construct=function(settings){return this.each(function(){if(!this.tHead||!this.tBodies){return}var $this,$document,$headers,cache,config,shiftDown=0,sortOrder;this.config={};config=$.extend(this.config,$.tablesorter.defaults,settings);$this=$(this);$.data(this,"tablesorter",config);$headers=buildHeaders(this);this.config.parsers=buildParserCache(this,$headers);cache=buildCache(this);var sortCSS=[config.cssDesc,config.cssAsc];fixColumnWidth(this);$headers.click(function(e){var totalRows=($this[0].tBodies[0]&&$this[0].tBodies[0].rows.length)||0;if(!this.sortDisabled&&totalRows>0){$this.trigger("sortStart");var $cell=$(this);var i=this.column;this.order=this.count++%2;if(this.lockedOrder){this.order=this.lockedOrder}if(!e[config.sortMultiSortKey]){config.sortList=[];if(config.sortForce!=null){var a=config.sortForce;for(var j=0;j<a.length;j++){if(a[j][0]!=i){config.sortList.push(a[j])}}}config.sortList.push([i,this.order])}else{if(isValueInArray(i,config.sortList)){for(var j=0;j<config.sortList.length;j++){var s=config.sortList[j],o=config.headerList[s[0]];if(s[0]==i){o.count=s[1];o.count++;s[1]=o.count%2}}}else{config.sortList.push([i,this.order])}}setTimeout(function(){setHeadersCss($this[0],$headers,config.sortList,sortCSS);appendToTable($this[0],multisort($this[0],config.sortList,cache))},1);return false}}).mousedown(function(){if(config.cancelSelection){this.onselectstart=function(){return false};return false}});$this.bind("update",function(){var me=this;setTimeout(function(){me.config.parsers=buildParserCache(me,$headers);cache=buildCache(me)},1)}).bind("updateCell",function(e,cell){var config=this.config;var pos=[(cell.parentNode.rowIndex-1),cell.cellIndex];cache.normalized[pos[0]][pos[1]]=config.parsers[pos[1]].format(getElementText(config,cell),cell)}).bind("sorton",function(e,list){$(this).trigger("sortStart");config.sortList=list;var sortList=config.sortList;updateHeaderSortCount(this,sortList);setHeadersCss(this,$headers,sortList,sortCSS);appendToTable(this,multisort(this,sortList,cache))}).bind("appendCache",function(){appendToTable(this,cache)}).bind("applyWidgetId",function(e,id){getWidgetById(id).format(this)}).bind("applyWidgets",function(){applyWidget(this)});if($.metadata&&($(this).metadata()&&$(this).metadata().sortlist)){config.sortList=$(this).metadata().sortlist}if(config.sortList.length>0){$this.trigger("sorton",[config.sortList])}applyWidget(this)})};this.addParser=function(parser){var l=parsers.length,a=true;for(var i=0;i<l;i++){if(parsers[i].id.toLowerCase()==parser.id.toLowerCase()){a=false}}if(a){parsers.push(parser)}};this.addWidget=function(widget){widgets.push(widget)};this.formatFloat=function(s){var i=parseFloat(s);return(isNaN(i))?0:i};this.formatInt=function(s){var i=parseInt(s);return(isNaN(i))?0:i};this.isDigit=function(s,config){return/^[-+]?\d*$/.test($.trim(s.replace(/[,.']/g,"")))};this.clearTableBody=function(table){if($.browser.msie){function empty(){while(this.firstChild){this.removeChild(this.firstChild)}}empty.apply(table.tBodies[0])}else{table.tBodies[0].innerHTML=""}}}});$.fn.extend({tablesorter:$.tablesorter.construct});var ts=$.tablesorter;ts.addParser({id:"text",is:function(s){return true},format:function(s){return $.trim(s.toLocaleLowerCase())},type:"text"});ts.addParser({id:"digit",is:function(s,table){var c=table.config;return $.tablesorter.isDigit(s,c)},format:function(s){return $.tablesorter.formatFloat(s)},type:"numeric"});ts.addParser({id:"currency",is:function(s){return/^[£$€?.]/.test(s)},format:function(s){return $.tablesorter.formatFloat(s.replace(new RegExp(/[£$€]/g),""))},type:"numeric"});ts.addParser({id:"ipAddress",is:function(s){return/^\d{2,3}[\.]\d{2,3}[\.]\d{2,3}[\.]\d{2,3}$/.test(s)},format:function(s){var a=s.split("."),r="",l=a.length;for(var i=0;i<l;i++){var item=a[i];if(item.length==2){r+="0"+item}else{r+=item}}return $.tablesorter.formatFloat(r)},type:"numeric"});ts.addParser({id:"url",is:function(s){return/^(https?|ftp|file):\/\/$/.test(s)},format:function(s){return jQuery.trim(s.replace(new RegExp(/(https?|ftp|file):\/\//),""))},type:"text"});ts.addParser({id:"isoDate",is:function(s){return/^\d{4}[\/-]\d{1,2}[\/-]\d{1,2}$/.test(s)},format:function(s){return $.tablesorter.formatFloat((s!="")?new Date(s.replace(new RegExp(/-/g),"/")).getTime():"0")},type:"numeric"});ts.addParser({id:"percent",is:function(s){return/\%$/.test($.trim(s))},format:function(s){return $.tablesorter.formatFloat(s.replace(new RegExp(/%/g),""))},type:"numeric"});ts.addParser({id:"usLongDate",is:function(s){return s.match(new RegExp(/^[A-Za-z]{3,10}\.? [0-9]{1,2}, ([0-9]{4}|'?[0-9]{2}) (([0-2]?[0-9]:[0-5][0-9])|([0-1]?[0-9]:[0-5][0-9]\s(AM|PM)))$/))},format:function(s){return $.tablesorter.formatFloat(new Date(s).getTime())},type:"numeric"});ts.addParser({id:"shortDate",is:function(s){return/\d{1,2}[\/\-]\d{1,2}[\/\-]\d{2,4}/.test(s)},format:function(s,table){var c=table.config;s=s.replace(/\-/g,"/");if(c.dateFormat=="us"){s=s.replace(/(\d{1,2})[\/\-](\d{1,2})[\/\-](\d{4})/,"$3/$1/$2")}else{if(c.dateFormat=="uk"){s=s.replace(/(\d{1,2})[\/\-](\d{1,2})[\/\-](\d{4})/,"$3/$2/$1")}else{if(c.dateFormat=="dd/mm/yy"||c.dateFormat=="dd-mm-yy"){s=s.replace(/(\d{1,2})[\/\-](\d{1,2})[\/\-](\d{2})/,"$1/$2/$3")}}}return $.tablesorter.formatFloat(new Date(s).getTime())},type:"numeric"});ts.addParser({id:"time",is:function(s){return/^(([0-2]?[0-9]:[0-5][0-9])|([0-1]?[0-9]:[0-5][0-9]\s(am|pm)))$/.test(s)},format:function(s){return $.tablesorter.formatFloat(new Date("2000/01/01 "+s).getTime())},type:"numeric"});ts.addParser({id:"metadata",is:function(s){return false},format:function(s,table,cell){var c=table.config,p=(!c.parserMetadataName)?"sortValue":c.parserMetadataName;return $(cell).metadata()[p]},type:"numeric"});ts.addWidget({id:"zebra",format:function(table){if(table.config.debug){var time=new Date()}var $tr,row=-1,odd;$("tr:visible",table.tBodies).each(function(i){$tr=$(this);if($tr.parent().hasClass(table.config.cssGroupHeader)){row=-1;return}if(!$tr.hasClass(table.config.cssChildRow)){row++}odd=(row%2==0);$tr.removeClass(table.config.widgetZebra.css[odd?0:1]).addClass(table.config.widgetZebra.css[odd?1:0])});if(table.config.debug){$.tablesorter.benchmark("Applying Zebra widget",time)}}})})(jQuery);(function(h){var e=document.documentElement.style,g=("textOverflow" in e||"OTextOverflow" in e),f=function(j,a){var b=0,k=[],c=function(n){var i=0,m;if(b>a){return}for(i=0;i<n.length;i+=1){if(n[i].nodeType===1){m=n[i].cloneNode(false);k[k.length-1].appendChild(m);k.push(m);c(n[i].childNodes);k.pop()}else{if(n[i].nodeType===3){if(b+n[i].length<a){k[k.length-1].appendChild(n[i].cloneNode(false))}else{m=n[i].cloneNode(false);m.textContent=h.trim(m.textContent.substring(0,a-b));k[k.length-1].appendChild(m)}b+=n[i].length}else{k.appendChild(n[i].cloneNode(false))}}}};k.push(j.cloneNode(false));c(j.childNodes);return h(k.pop().childNodes)};h.extend(h.fn,{textOverflow:function(a,c){var b=a||"&#x2026;";if(!g){return this.each(function(){var u=h(this),t=u.clone(),q=u.clone(),v=u.text(),y=u.width(),s=0,r=0,w=v.length,x=function(){if(y!==u.width()){u.replaceWith(q);u=q;q=u.clone();u.textOverflow(a,false);y=u.width()}};u.after(t.hide().css({position:"absolute",width:"auto",overflow:"visible","max-width":"inherit"}));if(t.width()>y){while(s<w){r=Math.floor(s+((w-s)/2));t.empty().append(f(q.get(0),r)).append(b);if(t.width()<y){s=r+1}else{w=r}}if(s<v.length){u.empty().append(f(q.get(0),s-1)).append(b)}}t.remove();if(c){setInterval(x,200)}})}else{return this}}})})(jQuery);(function(a){a.extend(a.fn,{validate:function(b){if(!this.length){b&&b.debug&&window.console&&console.warn("nothing selected, can't validate, returning nothing");return}var c=a.data(this[0],"validator");if(c){return c}c=new a.validator(b,this[0]);a.data(this[0],"validator",c);if(c.settings.onsubmit){this.find("input, button").filter(".cancel").click(function(){c.cancelSubmit=true});if(c.settings.submitHandler){this.find("input, button").filter(":submit").click(function(){c.submitButton=this})}this.submit(function(e){if(c.settings.debug){e.preventDefault()}function f(){if(c.settings.submitHandler){if(c.submitButton){var g=a("<input type='hidden'/>").attr("name",c.submitButton.name).val(c.submitButton.value).appendTo(c.currentForm)}c.settings.submitHandler.call(c,c.currentForm);if(c.submitButton){g.remove()}return false}return true}if(c.cancelSubmit){c.cancelSubmit=false;return f()}if(c.form()){if(c.pendingRequest){c.formSubmitted=true;return false}return f()}else{c.focusInvalid();return false}})}return c},valid:function(){if(a(this[0]).is("form")){return this.validate().form()}else{var c=true;var b=a(this[0].form).validate();this.each(function(){c&=b.element(this)});return c}},removeAttrs:function(e){var b={},c=this;a.each(e.split(/\s/),function(f,g){b[g]=c.attr(g);c.removeAttr(g)});return b},rules:function(f,b){var h=this[0];if(f){var e=a.data(h.form,"validator").settings;var j=e.rules;var k=a.validator.staticRules(h);switch(f){case"add":a.extend(k,a.validator.normalizeRule(b));j[h.name]=k;if(b.messages){e.messages[h.name]=a.extend(e.messages[h.name],b.messages)}break;case"remove":if(!b){delete j[h.name];return k}var i={};a.each(b.split(/\s/),function(l,m){i[m]=k[m];delete k[m]});return i}}var g=a.validator.normalizeRules(a.extend({},a.validator.metadataRules(h),a.validator.classRules(h),a.validator.attributeRules(h),a.validator.staticRules(h)),h);if(g.required){var c=g.required;delete g.required;g=a.extend({required:c},g)}return g}});a.extend(a.expr[":"],{blank:function(b){return !a.trim(""+b.value)},filled:function(b){return !!a.trim(""+b.value)},unchecked:function(b){return !b.checked}});a.validator=function(b,c){this.settings=a.extend(true,{},a.validator.defaults,b);this.currentForm=c;this.init()};a.validator.format=function(b,c){if(arguments.length==1){return function(){var e=a.makeArray(arguments);e.unshift(b);return a.validator.format.apply(this,e)}}if(arguments.length>2&&c.constructor!=Array){c=a.makeArray(arguments).slice(1)}if(c.constructor!=Array){c=[c]}a.each(c,function(e,f){b=b.replace(new RegExp("\\{"+e+"\\}","g"),f)});return b};a.extend(a.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"label",focusInvalid:true,errorContainer:a([]),errorLabelContainer:a([]),onsubmit:true,ignore:[],ignoreTitle:false,onfocusin:function(b){this.lastActive=b;if(this.settings.focusCleanup&&!this.blockFocusCleanup){this.settings.unhighlight&&this.settings.unhighlight.call(this,b,this.settings.errorClass,this.settings.validClass);this.errorsFor(b).hide()}},onfocusout:function(b){if(!this.checkable(b)&&(b.name in this.submitted||!this.optional(b))){this.element(b)}},onkeyup:function(b){if(b.name in this.submitted||b==this.lastElement){this.element(b)}},onclick:function(b){if(b.name in this.submitted){this.element(b)}else{if(b.parentNode.name in this.submitted){this.element(b.parentNode)}}},highlight:function(e,b,c){a(e).addClass(b).removeClass(c)},unhighlight:function(e,b,c){a(e).removeClass(b).addClass(c)}},setDefaults:function(b){a.extend(a.validator.defaults,b)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",accept:"Please enter a value with a valid extension.",maxlength:a.validator.format("Please enter no more than {0} characters."),minlength:a.validator.format("Please enter at least {0} characters."),rangelength:a.validator.format("Please enter a value between {0} and {1} characters long."),range:a.validator.format("Please enter a value between {0} and {1}."),max:a.validator.format("Please enter a value less than or equal to {0}."),min:a.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:false,prototype:{init:function(){this.labelContainer=a(this.settings.errorLabelContainer);this.errorContext=this.labelContainer.length&&this.labelContainer||a(this.currentForm);this.containers=a(this.settings.errorContainer).add(this.settings.errorLabelContainer);this.submitted={};this.valueCache={};this.pendingRequest=0;this.pending={};this.invalid={};this.reset();var b=(this.groups={});a.each(this.settings.groups,function(f,g){a.each(g.split(/\s/),function(i,h){b[h]=f})});var e=this.settings.rules;a.each(e,function(f,g){e[f]=a.validator.normalizeRule(g)});function c(h){var g=a.data(this[0].form,"validator"),f="on"+h.type.replace(/^validate/,"");g.settings[f]&&g.settings[f].call(g,this[0])}a(this.currentForm).validateDelegate(":text, :password, :file, select, textarea","focusin focusout keyup",c).validateDelegate(":radio, :checkbox, select, option","click",c);if(this.settings.invalidHandler){a(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler)}},form:function(){this.checkForm();a.extend(this.submitted,this.errorMap);this.invalid=a.extend({},this.errorMap);if(!this.valid()){a(this.currentForm).triggerHandler("invalid-form",[this])}this.showErrors();return this.valid()},checkForm:function(){this.prepareForm();for(var b=0,c=(this.currentElements=this.elements());c[b];b++){this.check(c[b])}return this.valid()},element:function(c){c=this.clean(c);this.lastElement=c;this.prepareElement(c);this.currentElements=a(c);var b=this.check(c);if(b){delete this.invalid[c.name]}else{this.invalid[c.name]=true}if(!this.numberOfInvalids()){this.toHide=this.toHide.add(this.containers)}this.showErrors();return b},showErrors:function(c){if(c){a.extend(this.errorMap,c);this.errorList=[];for(var b in c){this.errorList.push({message:c[b],element:this.findByName(b)[0]})}this.successList=a.grep(this.successList,function(e){return !(e.name in c)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){if(a.fn.resetForm){a(this.currentForm).resetForm()}this.submitted={};this.prepareForm();this.hideErrors();this.elements().removeClass(this.settings.errorClass)},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(e){var c=0;for(var b in e){c++}return c},hideErrors:function(){this.addWrapper(this.toHide).hide()},valid:function(){return this.size()==0},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid){try{a(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(b){}}},findLastActive:function(){var b=this.lastActive;return b&&a.grep(this.errorList,function(c){return c.element.name==b.name}).length==1&&b},elements:function(){var c=this,b={};return a([]).add(this.currentForm.elements).filter(":input").not(":submit, :reset, :image, [disabled]").not(this.settings.ignore).filter(function(){!this.name&&c.settings.debug&&window.console&&console.error("%o has no name assigned",this);if(this.name in b||!c.objectLength(a(this).rules())){return false}b[this.name]=true;return true})},clean:function(b){return a(b)[0]},errors:function(){return a(this.settings.errorElement+"."+this.settings.errorClass,this.errorContext)},reset:function(){this.successList=[];this.errorList=[];this.errorMap={};this.toShow=a([]);this.toHide=a([]);this.currentElements=a([])},prepareForm:function(){this.reset();this.toHide=this.errors().add(this.containers)},prepareElement:function(b){this.reset();this.toHide=this.errorsFor(b)},check:function(c){c=this.clean(c);if(this.checkable(c)){c=this.findByName(c.name)[0]}var i=a(c).rules();var f=false;for(method in i){var h={method:method,parameters:i[method]};try{var b=a.validator.methods[method].call(this,c.value.replace(/\r/g,""),c,h.parameters);if(b=="dependency-mismatch"){f=true;continue}f=false;if(b=="pending"){this.toHide=this.toHide.not(this.errorsFor(c));return}if(!b){this.formatAndAdd(c,h);return false}}catch(g){this.settings.debug&&window.console&&console.log("exception occured when checking element "+c.id+", check the '"+h.method+"' method",g);throw g}}if(f){return}if(this.objectLength(i)){this.successList.push(c)}return true},customMetaMessage:function(b,e){if(!a.metadata){return}var c=this.settings.meta?a(b).metadata()[this.settings.meta]:a(b).metadata();return c&&c.messages&&c.messages[e]},customMessage:function(c,e){var b=this.settings.messages[c];return b&&(b.constructor==String?b:b[e])},findDefined:function(){for(var b=0;b<arguments.length;b++){if(arguments[b]!==undefined){return arguments[b]}}return undefined},defaultMessage:function(b,c){return this.findDefined(this.customMessage(b.name,c),this.customMetaMessage(b,c),!this.settings.ignoreTitle&&b.title||undefined,a.validator.messages[c],"<strong>Warning: No message defined for "+b.name+"</strong>")},formatAndAdd:function(c,f){var e=this.defaultMessage(c,f.method),b=/\$?\{(\d+)\}/g;if(typeof e=="function"){e=e.call(this,f.parameters,c)}else{if(b.test(e)){e=jQuery.format(e.replace(b,"{$1}"),f.parameters)}}this.errorList.push({message:e,element:c});this.errorMap[c.name]=e;this.submitted[c.name]=e},addWrapper:function(b){if(this.settings.wrapper){b=b.add(b.parent(this.settings.wrapper))}return b},defaultShowErrors:function(){for(var c=0;this.errorList[c];c++){var b=this.errorList[c];this.settings.highlight&&this.settings.highlight.call(this,b.element,this.settings.errorClass,this.settings.validClass);this.showLabel(b.element,b.message)}if(this.errorList.length){this.toShow=this.toShow.add(this.containers)}if(this.settings.success){for(var c=0;this.successList[c];c++){this.showLabel(this.successList[c])}}if(this.settings.unhighlight){for(var c=0,e=this.validElements();e[c];c++){this.settings.unhighlight.call(this,e[c],this.settings.errorClass,this.settings.validClass)}}this.toHide=this.toHide.not(this.toShow);this.hideErrors();this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return a(this.errorList).map(function(){return this.element})},showLabel:function(c,e){var b=this.errorsFor(c);if(b.length){b.removeClass().addClass(this.settings.errorClass);b.attr("generated")&&b.html(e)}else{b=a("<"+this.settings.errorElement+"/>").attr({"for":this.idOrName(c),generated:true}).addClass(this.settings.errorClass).html(e||"");if(this.settings.wrapper){b=b.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()}if(!this.labelContainer.append(b).length){this.settings.errorPlacement?this.settings.errorPlacement(b,a(c)):b.insertAfter(c)}}if(!e&&this.settings.success){b.text("");typeof this.settings.success=="string"?b.addClass(this.settings.success):this.settings.success(b)}this.toShow=this.toShow.add(b)},errorsFor:function(c){var b=this.idOrName(c);return this.errors().filter(function(){return a(this).attr("for")==b})},idOrName:function(b){return this.groups[b.name]||(this.checkable(b)?b.name:b.id||b.name)},checkable:function(b){return/radio|checkbox/i.test(b.type)},findByName:function(b){var c=this.currentForm;return a(document.getElementsByName(b)).map(function(e,f){return f.form==c&&f.name==b&&f||null})},getLength:function(c,b){switch(b.nodeName.toLowerCase()){case"select":return a("option:selected",b).length;case"input":if(this.checkable(b)){return this.findByName(b.name).filter(":checked").length}}return c.length},depend:function(c,b){return this.dependTypes[typeof c]?this.dependTypes[typeof c](c,b):true},dependTypes:{"boolean":function(c,b){return c},string:function(c,b){return !!a(c,b.form).length},"function":function(c,b){return c(b)}},optional:function(b){return !a.validator.methods.required.call(this,a.trim(b.value),b)&&"dependency-mismatch"},startRequest:function(b){if(!this.pending[b.name]){this.pendingRequest++;this.pending[b.name]=true}},stopRequest:function(b,c){this.pendingRequest--;if(this.pendingRequest<0){this.pendingRequest=0}delete this.pending[b.name];if(c&&this.pendingRequest==0&&this.formSubmitted&&this.form()){a(this.currentForm).submit();this.formSubmitted=false}else{if(!c&&this.pendingRequest==0&&this.formSubmitted){a(this.currentForm).triggerHandler("invalid-form",[this]);this.formSubmitted=false}}},previousValue:function(b){return a.data(b,"previousValue")||a.data(b,"previousValue",{old:null,valid:true,message:this.defaultMessage(b,"remote")})}},classRuleSettings:{required:{required:true},email:{email:true},url:{url:true},date:{date:true},dateISO:{dateISO:true},dateDE:{dateDE:true},number:{number:true},numberDE:{numberDE:true},digits:{digits:true},creditcard:{creditcard:true}},addClassRules:function(b,c){b.constructor==String?this.classRuleSettings[b]=c:a.extend(this.classRuleSettings,b)},classRules:function(c){var e={};var b=a(c).attr("class");b&&a.each(b.split(" "),function(){if(this in a.validator.classRuleSettings){a.extend(e,a.validator.classRuleSettings[this])}});return e},attributeRules:function(c){var f={};var b=a(c);for(method in a.validator.methods){var e=b.attr(method);if(e){f[method]=e}}if(f.maxlength&&/-1|2147483647|524288/.test(f.maxlength)){delete f.maxlength}return f},metadataRules:function(b){if(!a.metadata){return{}}var c=a.data(b.form,"validator").settings.meta;return c?a(b).metadata()[c]:a(b).metadata()},staticRules:function(c){var e={};var b=a.data(c.form,"validator");if(b.settings.rules){e=a.validator.normalizeRule(b.settings.rules[c.name])||{}}return e},normalizeRules:function(c,b){a.each(c,function(g,f){if(f===false){delete c[g];return}if(f.param||f.depends){var e=true;switch(typeof f.depends){case"string":e=!!a(f.depends,b.form).length;break;case"function":e=f.depends.call(b,b);break}if(e){c[g]=f.param!==undefined?f.param:true}else{delete c[g]}}});a.each(c,function(e,f){c[e]=a.isFunction(f)?f(b):f});a.each(["minlength","maxlength","min","max"],function(){if(c[this]){c[this]=Number(c[this])}});a.each(["rangelength","range"],function(){if(c[this]){c[this]=[Number(c[this][0]),Number(c[this][1])]}});if(a.validator.autoCreateRanges){if(c.min&&c.max){c.range=[c.min,c.max];delete c.min;delete c.max}if(c.minlength&&c.maxlength){c.rangelength=[c.minlength,c.maxlength];delete c.minlength;delete c.maxlength}}if(c.messages){delete c.messages}return c},normalizeRule:function(c){if(typeof c=="string"){var b={};a.each(c.split(/\s/),function(){b[this]=true});c=b}return c},addMethod:function(b,e,c){a.validator.methods[b]=e;a.validator.messages[b]=c!=undefined?c:a.validator.messages[b];if(e.length<3){a.validator.addClassRules(b,a.validator.normalizeRule(b))}},methods:{required:function(c,b,f){if(!this.depend(f,b)){return"dependency-mismatch"}switch(b.nodeName.toLowerCase()){case"select":var e=a(b).val();return e&&e.length>0;case"input":if(this.checkable(b)){return this.getLength(c,b)>0}default:return a.trim(c).length>0}},remote:function(g,c,h){if(this.optional(c)){return"dependency-mismatch"}var e=this.previousValue(c);if(!this.settings.messages[c.name]){this.settings.messages[c.name]={}}e.originalMessage=this.settings.messages[c.name].remote;this.settings.messages[c.name].remote=e.message;h=typeof h=="string"&&{url:h}||h;if(e.old!==g){e.old=g;var b=this;this.startRequest(c);var f={};f[c.name]=g;a.ajax(a.extend(true,{url:h,mode:"abort",port:"validate"+c.name,dataType:"json",data:f,success:function(j){b.settings.messages[c.name].remote=e.originalMessage;var l=j===true;if(l){var i=b.formSubmitted;b.prepareElement(c);b.formSubmitted=i;b.successList.push(c);b.showErrors()}else{var m={};var k=(e.message=j||b.defaultMessage(c,"remote"));m[c.name]=a.isFunction(k)?k(g):k;b.showErrors(m)}e.valid=l;b.stopRequest(c,l)}},h));return"pending"}else{if(this.pending[c.name]){return"pending"}}return e.valid},minlength:function(c,b,e){return this.optional(b)||this.getLength(a.trim(c),b)>=e},maxlength:function(c,b,e){return this.optional(b)||this.getLength(a.trim(c),b)<=e},rangelength:function(e,b,f){var c=this.getLength(a.trim(e),b);return this.optional(b)||(c>=f[0]&&c<=f[1])},min:function(c,b,e){return this.optional(b)||c>=e},max:function(c,b,e){return this.optional(b)||c<=e},range:function(c,b,e){return this.optional(b)||(c>=e[0]&&c<=e[1])},email:function(c,b){return this.optional(b)||/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i.test(c)},url:function(c,b){return this.optional(b)||/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(c)},date:function(c,b){return this.optional(b)||!/Invalid|NaN/.test(new Date(c))},dateISO:function(c,b){return this.optional(b)||/^\d{4}[\/-]\d{1,2}[\/-]\d{1,2}$/.test(c)},number:function(c,b){return this.optional(b)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)(?:\.\d+)?$/.test(c)},digits:function(c,b){return this.optional(b)||/^\d+$/.test(c)},creditcard:function(g,c){if(this.optional(c)){return"dependency-mismatch"}if(/[^0-9-]+/.test(g)){return false}var h=0,f=0,b=false;g=g.replace(/\D/g,"");for(var i=g.length-1;i>=0;i--){var e=g.charAt(i);var f=parseInt(e,10);if(b){if((f*=2)>9){f-=9}}h+=f;b=!b}return(h%10)==0},accept:function(c,b,e){e=typeof e=="string"?e.replace(/,/g,"|"):"png|jpe?g|gif";return this.optional(b)||c.match(new RegExp(".("+e+")$","i"))},equalTo:function(c,b,f){var e=a(f).unbind(".validate-equalTo").bind("blur.validate-equalTo",function(){a(b).valid()});return c==e.val()}}});a.format=a.validator.format})(jQuery);(function(c){var b=c.ajax;var a={};c.ajax=function(f){f=c.extend(f,c.extend({},c.ajaxSettings,f));var e=f.port;if(f.mode=="abort"){if(a[e]){a[e].abort()}return(a[e]=b.apply(this,arguments))}return b.apply(this,arguments)}})(jQuery);(function(a){if(!jQuery.event.special.focusin&&!jQuery.event.special.focusout&&document.addEventListener){a.each({focus:"focusin",blur:"focusout"},function(c,b){a.event.special[b]={setup:function(){this.addEventListener(c,e,true)},teardown:function(){this.removeEventListener(c,e,true)},handler:function(f){arguments[0]=a.event.fix(f);arguments[0].type=b;return a.event.handle.apply(this,arguments)}};function e(f){f=a.event.fix(f);f.type=b;return a.event.handle.call(this,f)}})}a.extend(a.fn,{validateDelegate:function(e,c,b){return this.bind(c,function(f){var g=a(f.target);if(g.is(e)){return b.apply(g,arguments)}})}})})(jQuery);window.Modernizr=function(X,aa,B){function I(f,e){return(""+f).indexOf(e)!==-1}function J(f,e){for(var h in f){if(W[f[h]]!==B&&(!e||e(f[h],C))){return true}}}function U(f,e){var h=f.charAt(0).toUpperCase()+f.substr(1);h=(f+" "+A.join(h+" ")+h).split(" ");return !!J(h,e)}function a(){Z.input=function(f){for(var e=0,h=f.length;e<h;e++){r[f[e]]=!!(f[e] in Y)}return r}("autocomplete autofocus list placeholder max min multiple pattern required step".split(" "));Z.inputtypes=function(f){for(var e=0,i,h=f.length;e<h;e++){Y.setAttribute("type",f[e]);if(i=Y.type!=="text"){Y.value=p;if(/^range$/.test(Y.type)&&Y.style.WebkitAppearance!==B){V.appendChild(Y);i=aa.defaultView;i=i.getComputedStyle&&i.getComputedStyle(Y,null).WebkitAppearance!=="textfield"&&Y.offsetHeight!==0;V.removeChild(Y)}else{/^(search|tel)$/.test(Y.type)||(i=/^(url|email)$/.test(Y.type)?Y.checkValidity&&Y.checkValidity()===false:Y.value!=p)}}m[f[e]]=!!i}return m}("search tel url email datetime date month week time datetime-local number range color".split(" "))}var Z={},V=aa.documentElement,C=aa.createElement("modernizr"),W=C.style,Y=aa.createElement("input"),p=":)",k=Object.prototype.toString,K=" -webkit- -moz- -o- -ms- -khtml- ".split(" "),A="Webkit Moz O ms Khtml".split(" "),z={svg:"http://www.w3.org/2000/svg"},ab={},m={},r={},g=[],x,c=function(f){var e=document.createElement("style"),h=aa.createElement("div");e.textContent=f+"{#modernizr{height:3px}}";(aa.head||aa.getElementsByTagName("head")[0]).appendChild(e);h.id="modernizr";V.appendChild(h);f=h.offsetHeight===3;e.parentNode.removeChild(e);h.parentNode.removeChild(h);return !!f},T=function(){var e={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return function(f,i){i=i||document.createElement(e[f]||"div");f="on"+f;var h=f in i;if(!h){i.setAttribute||(i=document.createElement("div"));if(i.setAttribute&&i.removeAttribute){i.setAttribute(f,"");h=typeof i[f]=="function";if(typeof i[f]!="undefined"){i[f]=B}i.removeAttribute(f)}}return h}}(),y={}.hasOwnProperty,b;b=typeof y!=="undefined"&&typeof y.call!=="undefined"?function(f,e){return y.call(f,e)}:function(f,e){return e in f&&typeof f.constructor.prototype[e]==="undefined"};ab.flexbox=function(){var f=aa.createElement("div"),e=aa.createElement("div");(function(j,n,l,i){n+=":";j.style.cssText=(n+K.join(l+";"+n)).slice(0,-n.length)+(i||"")})(f,"display","box","width:42px;padding:0;");e.style.cssText=K.join("box-flex:1;")+"width:10px;";f.appendChild(e);V.appendChild(f);var h=e.offsetWidth===42;f.removeChild(e);V.removeChild(f);return h};ab.canvas=function(){var e=aa.createElement("canvas");return !!(e.getContext&&e.getContext("2d"))};ab.canvastext=function(){return !!(Z.canvas&&typeof aa.createElement("canvas").getContext("2d").fillText=="function")};ab.webgl=function(){var f=aa.createElement("canvas");try{if(f.getContext("webgl")){return true}}catch(e){}try{if(f.getContext("experimental-webgl")){return true}}catch(h){}return false};ab.touch=function(){return"ontouchstart" in X||c("@media ("+K.join("touch-enabled),(")+"modernizr)")};ab.geolocation=function(){return !!navigator.geolocation};ab.postmessage=function(){return !!X.postMessage};ab.websqldatabase=function(){return !!X.openDatabase};ab.indexedDB=function(){for(var f=-1,e=A.length;++f<e;){var h=A[f].toLowerCase();if(X[h+"_indexedDB"]||X[h+"IndexedDB"]){return true}}return false};ab.hashchange=function(){return T("hashchange",X)&&(document.documentMode===B||document.documentMode>7)};ab.history=function(){return !!(X.history&&history.pushState)};ab.draganddrop=function(){return T("drag")&&T("dragstart")&&T("dragenter")&&T("dragover")&&T("dragleave")&&T("dragend")&&T("drop")};ab.websockets=function(){return"WebSocket" in X};ab.rgba=function(){W.cssText="background-color:rgba(150,255,150,.5)";return I(W.backgroundColor,"rgba")};ab.hsla=function(){W.cssText="background-color:hsla(120,40%,100%,.5)";return I(W.backgroundColor,"rgba")||I(W.backgroundColor,"hsla")};ab.multiplebgs=function(){W.cssText="background:url(//:),url(//:),red url(//:)";return/(url\s*\(.*?){3}/.test(W.background)};ab.backgroundsize=function(){return U("backgroundSize")};ab.borderimage=function(){return U("borderImage")};ab.borderradius=function(){return U("borderRadius","",function(e){return I(e,"orderRadius")})};ab.boxshadow=function(){return U("boxShadow")};ab.textshadow=function(){return aa.createElement("div").style.textShadow===""};ab.opacity=function(){var e=K.join("opacity:.5;")+"";W.cssText=e;return I(W.opacity,"0.5")};ab.cssanimations=function(){return U("animationName")};ab.csscolumns=function(){return U("columnCount")};ab.cssgradients=function(){var e=("background-image:"+K.join("gradient(linear,left top,right bottom,from(#9f9),to(white));background-image:")+K.join("linear-gradient(left top,#9f9, white);background-image:")).slice(0,-17);W.cssText=e;return I(W.backgroundImage,"gradient")};ab.cssreflections=function(){return U("boxReflect")};ab.csstransforms=function(){return !!J(["transformProperty","WebkitTransform","MozTransform","OTransform","msTransform"])};ab.csstransforms3d=function(){var e=!!J(["perspectiveProperty","WebkitPerspective","MozPerspective","OPerspective","msPerspective"]);if(e){e=c("@media ("+K.join("transform-3d),(")+"modernizr)")}return e};ab.csstransitions=function(){return U("transitionProperty")};ab.fontface=function(){var f,e=aa.head||aa.getElementsByTagName("head")[0]||V,i=aa.createElement("style"),h=aa.implementation||{hasFeature:function(){return false}};i.type="text/css";e.insertBefore(i,e.firstChild);f=i.sheet||i.styleSheet;e=h.hasFeature("CSS2","")?function(n){if(!(f&&n)){return false}var l=false;try{f.insertRule(n,0);l=!/unknown/i.test(f.cssRules[0].cssText);f.deleteRule(f.cssRules.length-1)}catch(j){}return l}:function(j){if(!(f&&j)){return false}f.cssText=j;return f.cssText.length!==0&&!/unknown/i.test(f.cssText)&&f.cssText.replace(/\r+|\n+/g,"").indexOf(j.split(" ")[0])===0};Z._fontfaceready=function(j){j(Z.fontface)};return e('@font-face { font-family: "font"; src: "font.ttf"; }')};ab.video=function(){var f=aa.createElement("video"),e=!!f.canPlayType;if(e){e=new Boolean(e);e.ogg=f.canPlayType('video/ogg; codecs="theora"');e.h264=f.canPlayType('video/mp4; codecs="avc1.42E01E"')||f.canPlayType('video/mp4; codecs="avc1.42E01E, mp4a.40.2"');e.webm=f.canPlayType('video/webm; codecs="vp8, vorbis"')}return e};ab.audio=function(){var f=aa.createElement("audio"),e=!!f.canPlayType;if(e){e=new Boolean(e);e.ogg=f.canPlayType('audio/ogg; codecs="vorbis"');e.mp3=f.canPlayType("audio/mpeg;");e.wav=f.canPlayType('audio/wav; codecs="1"');e.m4a=f.canPlayType("audio/x-m4a;")||f.canPlayType("audio/aac;")}return e};ab.localstorage=function(){try{return"localStorage" in X&&X.localStorage!==null}catch(e){return false}};ab.sessionstorage=function(){try{return"sessionStorage" in X&&X.sessionStorage!==null}catch(e){return false}};ab.webWorkers=function(){return !!X.Worker};ab.applicationcache=function(){return !!X.applicationCache};ab.svg=function(){return !!aa.createElementNS&&!!aa.createElementNS(z.svg,"svg").createSVGRect};ab.inlinesvg=function(){var e=document.createElement("div");e.innerHTML="<svg/>";return(e.firstChild&&e.firstChild.namespaceURI)==z.svg};ab.smil=function(){return !!aa.createElementNS&&/SVG/.test(k.call(aa.createElementNS(z.svg,"animate")))};ab.svgclippaths=function(){return !!aa.createElementNS&&/SVG/.test(k.call(aa.createElementNS(z.svg,"clipPath")))};for(var t in ab){if(b(ab,t)){x=t.toLowerCase();Z[x]=ab[t]();g.push((Z[x]?"":"no-")+x)}}Z.input||a();Z.crosswindowmessaging=Z.postmessage;Z.historymanagement=Z.history;Z.addTest=function(f,e){f=f.toLowerCase();if(!Z[f]){e=!!e();V.className+=" "+(e?"":"no-")+f;Z[f]=e;return Z}};W.cssText="";C=Y=null;X.attachEvent&&function(){var e=aa.createElement("div");e.innerHTML="<elem></elem>";return e.childNodes.length!==1}()&&function(v,u){function q(E){for(var D=-1;++D<e;){E.createElement(n[D])}}function l(H,D){for(var F=H.length,G=-1,L,E=[];++G<F;){L=H[G];D=L.media||D;E.push(l(L.imports,D));E.push(L.cssText)}return E.join("")}var n="abbr|article|aside|audio|canvas|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video".split("|"),e=n.length,w=RegExp("<(/*)(abbr|article|aside|audio|canvas|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video)","gi"),j=RegExp("\\b(abbr|article|aside|audio|canvas|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video)\\b(?!.*[;}])","gi"),o=u.createDocumentFragment(),i=u.documentElement,s=i.firstChild,h=u.createElement("style"),f=u.createElement("body");h.media="all";q(u);q(o);v.attachEvent("onbeforeprint",function(){for(var G=-1;++G<e;){for(var D=u.getElementsByTagName(n[G]),E=D.length,F=-1;++F<E;){if(D[F].className.indexOf("iepp_")<0){D[F].className+=" iepp_"+n[G]}}}s.insertBefore(h,s.firstChild);h.styleSheet.cssText=l(u.styleSheets,"all").replace(j,".iepp_$1");o.appendChild(u.body);i.appendChild(f);f.innerHTML=o.firstChild.innerHTML.replace(w,"<$1bdo")});v.attachEvent("onafterprint",function(){f.innerHTML="";i.removeChild(f);s.removeChild(h);i.appendChild(o.firstChild)})}(this,document);Z._enableHTML5=true;Z._version="1.6";V.className=V.className.replace(/\bno-js\b/,"")+" js";V.className+=" "+g.join(" ");return Z}(this,this.document);(function(c,j){var G,F=Math.round,r={},v=(typeof module!=="undefined"),I="months|monthsShort|monthsParse|weekdays|weekdaysShort|longDateFormat|calendar|relativeTime|ordinal|meridiem".split("|"),B,y=/^\/?Date\((\-?\d+)/i,g=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|dddd?|do?|w[o|w]?|YYYY|YY|a|A|hh?|HH?|mm?|ss?|zz?|ZZ?|LT|LL?L?L?)/g,n=/[^A-Z]/g,x=/\([A-Za-z ]+\)|:[0-9]{2} [A-Z]{3} /g,o=/(\\)?(MM?M?M?|dd?d?d|DD?D?D?|YYYY|YY|a|A|hh?|HH?|mm?|ss?|ZZ?|T)/g,H=/(\\)?([0-9]+|([a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+|([\+\-]\d\d:?\d\d))/gi,a=/\d{4}.\d\d.\d\d(T(\d\d(.\d\d(.\d\d)?)?)?([\+\-]\d\d:?\d\d)?)?/,u="YYYY-MM-DDTHH:mm:ssZ",k=[["HH:mm:ss",/T\d\d:\d\d:\d\d/],["HH:mm",/T\d\d:\d\d/],["HH",/T\d\d/]],z=/([\+\-]|\d\d)/gi,C="1.5.0",w="Month|Date|Hours|Minutes|Seconds|Milliseconds".split("|");function D(J,i){this._d=J;this._isUTC=!!i}function q(K,J){var i=K+"";while(i.length<J){i="0"+i}return i}function e(O,S,J,N){var L=(typeof S==="string"),R=L?{}:S,i,Q,P,K;if(L&&N){R[S]=+N}i=(R.ms||R.milliseconds||0)+(R.s||R.seconds||0)*1000+(R.m||R.minutes||0)*60000+(R.h||R.hours||0)*3600000;Q=(R.d||R.days||0)+(R.w||R.weeks||0)*7;P=(R.M||R.months||0)+(R.y||R.years||0)*12;if(i){O.setTime(+O+i*J)}if(Q){O.setDate(O.getDate()+Q*J)}if(P){K=O.getDate();O.setDate(1);O.setMonth(O.getMonth()+P*J);O.setDate(Math.min(new c(O.getFullYear(),O.getMonth()+1,0).getDate(),K))}return O}function s(i){return Object.prototype.toString.call(i)==="[object Array]"}function m(i){return new c(i[0],i[1]||0,i[2]||1,i[3]||0,i[4]||0,i[5]||0,i[6]||0)}function h(K,R){var Q=K.month(),i=K.date(),N=K.year(),P=K.day(),T=K.hours(),L=K.minutes(),J=K.seconds(),M=-K.zone(),O=G.ordinal,U=G.meridiem;function S(X){var W,V;switch(X){case"M":return Q+1;case"Mo":return(Q+1)+O(Q+1);case"MM":return q(Q+1,2);case"MMM":return G.monthsShort[Q];case"MMMM":return G.months[Q];case"D":return i;case"Do":return i+O(i);case"DD":return q(i,2);case"DDD":W=new c(N,Q,i);V=new c(N,0,1);return ~~(((W-V)/86400000)+1.5);case"DDDo":W=S("DDD");return W+O(W);case"DDDD":return q(S("DDD"),3);case"d":return P;case"do":return P+O(P);case"ddd":return G.weekdaysShort[P];case"dddd":return G.weekdays[P];case"w":W=new c(N,Q,i-P+5);V=new c(W.getFullYear(),0,4);return ~~((W-V)/86400000/7+1.5);case"wo":W=S("w");return W+O(W);case"ww":return q(S("w"),2);case"YY":return q(N%100,2);case"YYYY":return N;case"a":return T>11?U.pm:U.am;case"A":return T>11?U.PM:U.AM;case"H":return T;case"HH":return q(T,2);case"h":return T%12||12;case"hh":return q(T%12||12,2);case"m":return L;case"mm":return q(L,2);case"s":return J;case"ss":return q(J,2);case"zz":case"z":return(K._d.toString().match(x)||[""])[0].replace(n,"");case"Z":return(M<0?"-":"+")+q(~~(Math.abs(M)/60),2)+":"+q(~~(Math.abs(M)%60),2);case"ZZ":return(M<0?"-":"+")+q(~~(10*Math.abs(M)/6),4);case"L":case"LL":case"LLL":case"LLLL":case"LT":return h(K,G.longDateFormat[X]);default:return X.replace(/(^\[)|(\\)|\]$/g,"")}}return R.replace(g,S)}function t(O,Q){var T=[0,0,1,0,0,0,0],M=0,S=0,K=false,R=O.match(H),U=Q.match(o),P=Math.min(R.length,U.length),N,J;function L(W,V){var i;switch(W){case"M":case"MM":T[1]=~~V-1;break;case"MMM":case"MMMM":for(i=0;i<12;i++){if(G.monthsParse[i].test(V)){T[1]=i;break}}break;case"D":case"DD":case"DDD":case"DDDD":T[2]=~~V;break;case"YY":V=~~V;T[0]=V+(V>70?1900:2000);break;case"YYYY":T[0]=~~Math.abs(V);break;case"a":case"A":J=(V.toLowerCase()==="pm");break;case"H":case"HH":case"h":case"hh":T[3]=~~V;break;case"m":case"mm":T[4]=~~V;break;case"s":case"ss":T[5]=~~V;break;case"Z":case"ZZ":K=true;i=(V||"").match(z);if(i&&i[1]){M=~~i[1]}if(i&&i[2]){S=~~i[2]}if(i&&i[0]==="+"){M=-M;S=-S}break}}for(N=0;N<P;N++){L(U[N],R[N])}if(J&&T[3]<12){T[3]+=12}if(J===false&&T[3]===12){T[3]=0}T[3]+=M;T[4]+=S;return K?new c(c.UTC.apply({},T)):m(T)}function p(N,M){var J=Math.min(N.length,M.length),K=Math.abs(N.length-M.length),O=0,L;for(L=0;L<J;L++){if(~~N[L]!==~~M[L]){O++}}return O+K}function f(N,O){var J,Q=N.match(H),L=[],R=99,M,K,P;for(M=0;M<O.length;M++){K=t(N,O[M]);P=p(Q,h(new D(K),O[M]).match(H));if(P<R){R=P;J=K}}return J}function A(J){var L="YYYY-MM-DDT",K;if(a.exec(J)){for(K=0;K<3;K++){if(k[K][1].exec(J)){L+=k[K][0];break}}return t(J,L+"Z")}return new c(J)}function b(J,L,K){var i=G.relativeTime[J];return(typeof i==="function")?i(L||1,!!K,J):i.replace(/%d/i,L||1)}function E(K,N){var O=F(Math.abs(K)/1000),M=F(O/60),i=F(M/60),P=F(i/24),L=F(P/365),J=O<45&&["s",O]||M===1&&["m"]||M<45&&["mm",M]||i===1&&["h"]||i<22&&["hh",i]||P===1&&["d"]||P<=25&&["dd",P]||P<=45&&["M"]||P<345&&["MM",F(P/30)]||L===1&&["y"]||["yy",L];J[2]=N;return b.apply({},J)}G=function(J,L){if(J===null||J===""){return null}var K,i;if(J&&J._d instanceof c){K=new c(+J._d)}else{if(L){if(s(L)){K=f(J,L)}else{K=t(J,L)}}else{i=y.exec(J);K=J===j?new c():i?new c(+i[1]):J instanceof c?J:s(J)?m(J):typeof J==="string"?A(J):new c(J)}}return new D(K)};G.utc=function(i,J){if(s(i)){return new D(new c(c.UTC.apply({},i)),true)}return(J&&i)?G(i+" 0",J+" Z").utc():G(i).utc()};G.humanizeDuration=function(K,L,M){var N=+K,i=G.relativeTime,J;switch(L){case"seconds":N*=1000;break;case"minutes":N*=60000;break;case"hours":N*=3600000;break;case"days":N*=86400000;break;case"weeks":N*=604800000;break;case"months":N*=2592000000;break;case"years":N*=31536000000;break;default:M=!!L;break}J=E(N,!M);return M?(N<=0?i.past:i.future).replace(/%s/i,J):J};G.version=C;G.defaultFormat=u;G.lang=function(L,J){var K,O,M,N=[];if(J){for(K=0;K<12;K++){N[K]=new RegExp("^"+J.months[K]+"|^"+J.monthsShort[K].replace(".",""),"i")}J.monthsParse=J.monthsParse||N;r[L]=J}if(r[L]){for(K=0;K<I.length;K++){O=I[K];G[O]=r[L][O]||G[O]}}else{if(v){M=require("./lang/"+L);G.lang(L,M)}}};G.lang("en",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},meridiem:{AM:"AM",am:"am",PM:"PM",pm:"pm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},ordinal:function(J){var i=J%10;return(~~(J%100/10)===1)?"th":(i===1)?"st":(i===2)?"nd":(i===3)?"rd":"th"}});G.isMoment=function(i){return i instanceof D};G.fn=D.prototype={clone:function(){return G(this)},valueOf:function(){return +this._d},"native":function(){return this._d},toString:function(){return this._d.toString()},toDate:function(){return this._d},utc:function(){this._isUTC=true;return this},local:function(){this._isUTC=false;return this},format:function(i){return h(this,i?i:G.defaultFormat)},add:function(i,J){this._d=e(this._d,i,1,J);return this},subtract:function(i,J){this._d=e(this._d,i,-1,J);return this},diff:function(P,K,R){var i=G(P),M=(this.zone()-i.zone())*60000,Q=this._d-i._d-M,O=this.year()-i.year(),N=this.month()-i.month(),L=this.date()-i.date(),J;if(K==="months"){J=O*12+N+L/30}else{if(K==="years"){J=O+N/12}else{J=K==="seconds"?Q/1000:K==="minutes"?Q/60000:K==="hours"?Q/3600000:K==="days"?Q/86400000:K==="weeks"?Q/604800000:Q}}return R?J:F(J)},from:function(J,i){return G.humanizeDuration(this.diff(J),!i)},fromNow:function(i){return this.from(G(),i)},calendar:function(){var L=this.diff(G().sod(),"days",true),K=G.calendar,J=K.sameElse,i=L<-6?J:L<-1?K.lastWeek:L<0?K.lastDay:L<1?K.sameDay:L<2?K.nextDay:L<7?K.nextWeek:J;return this.format(typeof i==="function"?i.apply(this):i)},isLeapYear:function(){var i=this.year();return(i%4===0&&i%100!==0)||i%400===0},isDST:function(){return(this.zone()<G([this.year()]).zone()||this.zone()<G([this.year(),5]).zone())},day:function(J){var i=this._d.getDay();return J==null?i:this.add({d:J-i})},sod:function(){return this.clone().hours(0).minutes(0).seconds(0).milliseconds(0)},eod:function(){return this.sod().add({d:1,ms:-1})},zone:function(){return this._isUTC?0:this._d.getTimezoneOffset()},daysInMonth:function(){return this.clone().month(this.month()+1).date(0).date()}};function l(i,J){G.fn[i]=function(K){var L=this._isUTC?"UTC":"";if(K!=null){this._d["set"+L+J](K);return this}else{return this._d["get"+L+J]()}}}for(B=0;B<w.length;B++){l(w[B].toLowerCase(),w[B])}l("year","FullYear");if(v){module.exports=G}if(typeof window!=="undefined"){window.moment=G}if(typeof define==="function"&&define.amd){define("moment",[],function(){return G})}})(Date);(function(an,am){function O(e,c){this._d=e,this._isUTC=!!c}function M(f,e){var g=f+"";while(g.length<e){g="0"+g}return g}function K(t,s,r,q){var p=typeof s=="string",o=p?{}:s,n,m,l,a;return p&&q&&(o[s]=+q),n=(o.ms||o.milliseconds||0)+(o.s||o.seconds||0)*1000+(o.m||o.minutes||0)*60000+(o.h||o.hours||0)*3600000,m=(o.d||o.days||0)+(o.w||o.weeks||0)*7,l=(o.M||o.months||0)+(o.y||o.years||0)*12,n&&t.setTime(+t+n*r),m&&t.setDate(t.getDate()+m*r),l&&(a=t.getDate(),t.setDate(1),t.setMonth(t.getMonth()+l*r),t.setDate(Math.min((new an(t.getFullYear(),t.getMonth()+1,0)).getDate(),a))),t}function J(b){return Object.prototype.toString.call(b)==="[object Array]"}function I(a){return new an(a[0],a[1]||0,a[2]||1,a[3]||0,a[4]||0,a[5]||0,a[6]||0)}function H(z,y){function a(f){var b,e;switch(f){case"M":return x+1;case"Mo":return x+1+j(x+1);case"MM":return M(x+1,2);case"MMM":return al.monthsShort[x];case"MMMM":return al.months[x];case"D":return w;case"Do":return w+j(w);case"DD":return M(w,2);case"DDD":return b=new an(v,x,w),e=new an(v,0,1),~~((b-e)/86400000+1.5);case"DDDo":return b=a("DDD"),b+j(b);case"DDDD":return M(a("DDD"),3);case"d":return u;case"do":return u+j(u);case"ddd":return al.weekdaysShort[u];case"dddd":return al.weekdays[u];case"w":return b=new an(v,x,w-u+5),e=new an(b.getFullYear(),0,4),~~((b-e)/86400000/7+1.5);case"wo":return b=a("w"),b+j(b);case"ww":return M(a("w"),2);case"YY":return M(v%100,2);case"YYYY":return v;case"a":return t>11?c.pm:c.am;case"A":return t>11?c.PM:c.AM;case"H":return t;case"HH":return M(t,2);case"h":return t%12||12;case"hh":return M(t%12||12,2);case"m":return s;case"mm":return M(s,2);case"s":return l;case"ss":return M(l,2);case"zz":case"z":return(z._d.toString().match(ac)||[""])[0].replace(ad,"");case"Z":return(k<0?"-":"+")+M(~~(Math.abs(k)/60),2)+":"+M(~~(Math.abs(k)%60),2);case"ZZ":return(k<0?"-":"+")+M(~~(10*Math.abs(k)/6),4);case"L":case"LL":case"LLL":case"LLLL":case"LT":return H(z,al.longDateFormat[f]);default:return f.replace(/(^\[)|(\\)|\]$/g,"")}}var x=z.month(),w=z.date(),v=z.year(),u=z.day(),t=z.hours(),s=z.minutes(),l=z.seconds(),k=-z.zone(),j=al.ordinal,c=al.meridiem;return y.replace(ae,a)}function Y(x,w){function a(f,e){var g;switch(f){case"M":case"MM":v[1]=~~e-1;break;case"MMM":case"MMMM":for(g=0;g<12;g++){if(al.monthsParse[g].test(e)){v[1]=g;break}}break;case"D":case"DD":case"DDD":case"DDDD":v[2]=~~e;break;case"YY":e=~~e,v[0]=e+(e>70?1900:2000);break;case"YYYY":v[0]=~~Math.abs(e);break;case"a":case"A":c=e.toLowerCase()==="pm";break;case"H":case"HH":case"h":case"hh":v[3]=~~e;break;case"m":case"mm":v[4]=~~e;break;case"s":case"ss":v[5]=~~e;break;case"Z":case"ZZ":s=!0,g=(e||"").match(T),g&&g[1]&&(u=~~g[1]),g&&g[2]&&(t=~~g[2]),g&&g[0]==="+"&&(u=-u,t=-t)}}var v=[0,0,1,0,0,0,0],u=0,t=0,s=!1,r=x.match(aa),q=w.match(ab),n=Math.min(r.length,q.length),m,c;for(m=0;m<n;m++){a(q[m],r[m])}return c&&v[3]<12&&(v[3]+=12),c===!1&&v[3]===12&&(v[3]=0),v[3]+=u,v[4]+=t,s?new an(an.UTC.apply({},v)):I(v)}function W(h,g){var l=Math.min(h.length,g.length),k=Math.abs(h.length-g.length),j=0,i;for(i=0;i<l;i++){~~h[i]!==~~g[i]&&j++}return j+k}function U(r,q){var p,o=r.match(aa),n=[],m=99,l,k,j;for(l=0;l<q.length;l++){k=Y(r,q[l]),j=W(o,H(new O(k),q[l]).match(aa)),j<m&&(m=j,p=k)}return p}function S(a){var f="YYYY-MM-DDT",e;if(Z.exec(a)){for(e=0;e<3;e++){if(V[e][1].exec(a)){f+=V[e][0];break}}return Y(a,f+"Z")}return new an(a)}function Q(f,c,h){var g=al.relativeTime[f];return typeof g=="function"?g(c||1,!!h,f):g.replace(/%d/i,c||1)}function N(k,j){var q=ak(Math.abs(k)/1000),p=ak(q/60),o=ak(p/60),n=ak(o/24),m=ak(n/365),l=q<45&&["s",q]||p===1&&["m"]||p<45&&["mm",p]||o===1&&["h"]||o<22&&["hh",o]||n===1&&["d"]||n<=25&&["dd",n]||n<=45&&["M"]||n<345&&["MM",ak(n/30)]||m===1&&["y"]||["yy",m];return l[2]=j,Q.apply({},l)}function L(e,c){al.fn[e]=function(b){var f=this._isUTC?"UTC":"";return b!=null?(this._d["set"+f+c](b),this):this._d["get"+f+c]()}}var al,ak=Math.round,aj={},ai=typeof module!="undefined",ah="months|monthsShort|monthsParse|weekdays|weekdaysShort|longDateFormat|calendar|relativeTime|ordinal|meridiem".split("|"),ag,af=/^\/?Date\((\-?\d+)/i,ae=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|dddd?|do?|w[o|w]?|YYYY|YY|a|A|hh?|HH?|mm?|ss?|zz?|ZZ?|LT|LL?L?L?)/g,ad=/[^A-Z]/g,ac=/\([A-Za-z ]+\)|:[0-9]{2} [A-Z]{3} /g,ab=/(\\)?(MM?M?M?|dd?d?d|DD?D?D?|YYYY|YY|a|A|hh?|HH?|mm?|ss?|ZZ?|T)/g,aa=/(\\)?([0-9]+|([a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+|([\+\-]\d\d:?\d\d))/gi,Z=/\d{4}.\d\d.\d\d(T(\d\d(.\d\d(.\d\d)?)?)?([\+\-]\d\d:?\d\d)?)?/,X="YYYY-MM-DDTHH:mm:ssZ",V=[["HH:mm:ss",/T\d\d:\d\d:\d\d/],["HH:mm",/T\d\d:\d\d/],["HH",/T\d\d/]],T=/([\+\-]|\d\d)/gi,R="1.5.0",P="Month|Date|Hours|Minutes|Seconds|Milliseconds".split("|");al=function(h,g){if(h===null||h===""){return null}var b,a;return h&&h._d instanceof an?b=new an(+h._d):g?J(g)?b=U(h,g):b=Y(h,g):(a=af.exec(h),b=h===am?new an:a?new an(+a[1]):h instanceof an?h:J(h)?I(h):typeof h=="string"?S(h):new an(h)),new O(b)},al.utc=function(a,c){return J(a)?new O(new an(an.UTC.apply({},a)),!0):c&&a?al(a+" 0",c+" Z").utc():al(a).utc()},al.humanizeDuration=function(h,c,l){var k=+h,j=al.relativeTime,i;switch(c){case"seconds":k*=1000;break;case"minutes":k*=60000;break;case"hours":k*=3600000;break;case"days":k*=86400000;break;case"weeks":k*=604800000;break;case"months":k*=2592000000;break;case"years":k*=31536000000;break;default:l=!!c}return i=N(k,!l),l?(k<=0?j.past:j.future).replace(/%s/i,i):i},al.version=R,al.defaultFormat=X,al.lang=function(e,c){var l,k,g,f=[];if(c){for(l=0;l<12;l++){f[l]=new RegExp("^"+c.months[l]+"|^"+c.monthsShort[l].replace(".",""),"i")}c.monthsParse=c.monthsParse||f,aj[e]=c}if(aj[e]){for(l=0;l<ah.length;l++){k=ah[l],al[k]=aj[e][k]||al[k]}}else{ai&&(g=require("./lang/"+e),al.lang(e,g))}},al.lang("en",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},meridiem:{AM:"AM",am:"am",PM:"PM",pm:"pm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},ordinal:function(e){var c=e%10;return ~~(e%100/10)===1?"th":c===1?"st":c===2?"nd":c===3?"rd":"th"}}),al.isMoment=function(b){return b instanceof O},al.fn=O.prototype={clone:function(){return al(this)},valueOf:function(){return +this._d},"native":function(){return this._d},toString:function(){return this._d.toString()},toDate:function(){return this._d},utc:function(){return this._isUTC=!0,this},local:function(){return this._isUTC=!1,this},format:function(b){return H(this,b?b:al.defaultFormat)},add:function(e,c){return this._d=K(this._d,e,1,c),this},subtract:function(e,c){return this._d=K(this._d,e,-1,c),this},diff:function(u,t,s){var r=al(u),q=(this.zone()-r.zone())*60000,p=this._d-r._d-q,o=this.year()-r.year(),n=this.month()-r.month(),m=this.date()-r.date(),c;return t==="months"?c=o*12+n+m/30:t==="years"?c=o+n/12:c=t==="seconds"?p/1000:t==="minutes"?p/60000:t==="hours"?p/3600000:t==="days"?p/86400000:t==="weeks"?p/604800000:p,s?c:ak(c)},from:function(e,c){return al.humanizeDuration(this.diff(e),!c)},fromNow:function(b){return this.from(al(),b)},calendar:function(){var f=this.diff(al().sod(),"days",!0),c=al.calendar,h=c.sameElse,g=f<-6?h:f<-1?c.lastWeek:f<0?c.lastDay:f<1?c.sameDay:f<2?c.nextDay:f<7?c.nextWeek:h;return this.format(typeof g=="function"?g.apply(this):g)},isLeapYear:function(){var b=this.year();return b%4===0&&b%100!==0||b%400===0},isDST:function(){return this.zone()<al([this.year()]).zone()||this.zone()<al([this.year(),5]).zone()},day:function(e){var c=this._d.getDay();return e==null?c:this.add({d:e-c})},sod:function(){return this.clone().hours(0).minutes(0).seconds(0).milliseconds(0)},eod:function(){return this.sod().add({d:1,ms:-1})},zone:function(){return this._isUTC?0:this._d.getTimezoneOffset()},daysInMonth:function(){return this.clone().month(this.month()+1).date(0).date()}};for(ag=0;ag<P.length;ag++){L(P[ag].toLowerCase(),P[ag])}L("year","FullYear"),ai&&(module.exports=al),typeof window!="undefined"&&(window.moment=al),typeof define=="function"&&define.amd&&define("moment",[],function(){return al})})(Date);var Mustache=function(){var a={};var b=function(){};b.prototype={otag:"{{",ctag:"}}",pragmas:{},buffer:[],pragmas_implemented:{"IMPLICIT-ITERATOR":true},context:{},render:function(g,f,e,h){if(!h){this.context=f;this.buffer=[]}if(!this.includes("",g)){if(h){return g}else{this.send(g);return}}g=this.render_pragmas(g);var c=this.render_section(g,f,e);if(c===false){c=this.render_tags(g,f,e,h)}if(h){return c}else{this.sendLines(c)}},send:function(c){if(c!==""){this.buffer.push(c)}},sendLines:function(f){if(f){var c=f.split("\n");for(var e=0;e<c.length;e++){this.send(c[e])}}},render_pragmas:function(c){if(!this.includes("%",c)){return c}var f=this;var e=this.getCachedRegex("render_pragmas",function(h,g){return new RegExp(h+"%([\\w-]+) ?([\\w]+=[\\w]+)?"+g,"g")});return c.replace(e,function(i,g,h){if(!f.pragmas_implemented[g]){throw ({message:"This implementation of mustache doesn't understand the '"+g+"' pragma"})}f.pragmas[g]={};if(h){var j=h.split("=");f.pragmas[g][j[0]]=j[1]}return""})},render_partial:function(c,f,e){c=this.trim(c);if(!e||e[c]===undefined){throw ({message:"unknown_partial '"+c+"'"})}if(typeof(f[c])!="object"){return this.render(e[c],f,e,true)}return this.render(e[c],f[c],e,true)},render_section:function(f,e,c){if(!this.includes("#",f)&&!this.includes("^",f)){return false}var h=this;var g=this.getCachedRegex("render_section",function(j,i){return new RegExp("^([\\s\\S]*?)"+j+"(\\^|\\#)\\s*(.+)\\s*"+i+"\n*([\\s\\S]*?)"+j+"\\/\\s*\\3\\s*"+i+"\\s*([\\s\\S]*)$","g")});return f.replace(g,function(l,p,o,k,m,j){var r=p?h.render_tags(p,e,c,true):"",n=j?h.render(j,e,c,true):"",i,q=h.find(k,e);if(o==="^"){if(!q||h.is_array(q)&&q.length===0){i=h.render(m,e,c,true)}else{i=""}}else{if(o==="#"){if(h.is_array(q)){i=h.map(q,function(s){return h.render(m,h.create_context(s),c,true)}).join("")}else{if(h.is_object(q)){i=h.render(m,h.create_context(q),c,true)}else{if(typeof q==="function"){i=q.call(e,m,function(s){return h.render(s,e,c,true)})}else{if(q){i=h.render(m,e,c,true)}else{i=""}}}}}}return r+i+n})},render_tags:function(m,c,f,h){var g=this;var l=function(){return g.getCachedRegex("render_tags",function(o,i){return new RegExp(o+"(=|!|>|\\{|%)?([^\\/#\\^]+?)\\1?"+i+"+","g")})};var j=l();var k=function(p,i,o){switch(i){case"!":return"";case"=":g.set_delimiters(o);j=l();return"";case">":return g.render_partial(o,c,f);case"{":return g.find(o,c);default:return g.escape(g.find(o,c))}};var n=m.split("\n");for(var e=0;e<n.length;e++){n[e]=n[e].replace(j,k,this);if(!h){this.send(n[e])}}if(h){return n.join("\n")}},set_delimiters:function(e){var c=e.split(" ");this.otag=this.escape_regex(c[0]);this.ctag=this.escape_regex(c[1])},escape_regex:function(e){if(!arguments.callee.sRE){var c=["/",".","*","+","?","|","(",")","[","]","{","}","\\"];arguments.callee.sRE=new RegExp("(\\"+c.join("|\\")+")","g")}return e.replace(arguments.callee.sRE,"\\$1")},find:function(f,g){f=this.trim(f);function e(i){return i===false||i===0||i}var h;if(f.match(/([a-z_]+)\./ig)){var c=this.walk_context(f,g);if(e(c)){h=c}}else{if(e(g[f])){h=g[f]}else{if(e(this.context[f])){h=this.context[f]}}}if(typeof h==="function"){return h.apply(g)}if(h!==undefined){return h}return""},walk_context:function(c,e){var h=c.split(".");var g=(e[h[0]]!=undefined)?e:this.context;var f=g[h.shift()];while(f!=undefined&&h.length>0){g=f;f=f[h.shift()]}if(typeof f==="function"){return f.apply(g)}return f},includes:function(e,c){return c.indexOf(this.otag+e)!=-1},escape:function(c){c=String(c===null?"":c);return c.replace(/&(?!\w+;)|["'<>\\]/g,function(e){switch(e){case"&":return"&amp;";case'"':return"&quot;";case"'":return"&#39;";case"<":return"&lt;";case">":return"&gt;";default:return e}})},create_context:function(e){if(this.is_object(e)){return e}else{var f=".";if(this.pragmas["IMPLICIT-ITERATOR"]){f=this.pragmas["IMPLICIT-ITERATOR"].iterator}var c={};c[f]=e;return c}},is_object:function(c){return c&&typeof c=="object"},is_array:function(c){return Object.prototype.toString.call(c)==="[object Array]"},trim:function(c){return c.replace(/^\s*|\s*$/g,"")},map:function(h,f){if(typeof h.map=="function"){return h.map(f)}else{var g=[];var c=h.length;for(var e=0;e<c;e++){g.push(f(h[e]))}return g}},getCachedRegex:function(e,h){var g=a[this.otag];if(!g){g=a[this.otag]={}}var c=g[this.ctag];if(!c){c=g[this.ctag]={}}var f=c[e];if(!f){f=c[e]=h(this.otag,this.ctag)}return f}};return({name:"mustache.js",version:"0.4.0-dev",to_html:function(f,c,e,h){var g=new b();if(h){g.send=h}g.render(f,c||{},e);if(!h){return g.buffer.join("\n")}}})}();Rickshaw={namespace:function(e,h){var g=e.split(".");var a=typeof global!="undefined"?global:window;var c=a.Rickshaw;for(var b=1,f=g.length;b<f;b++){currentPart=g[b];c[currentPart]=c[currentPart]||{};c=c[currentPart]}return c},keys:function(c){var b=[];for(var a in c){b.push(a)}return b}};(function(w){var t=Object.prototype.toString,s="Null",j="Undefined",o="Boolean",c="Number",m="String",u="Object",n="[object Function]";function a(x){return t.call(x)===n}function r(x,z){for(var y in z){if(z.hasOwnProperty(y)){x[y]=z[y]}}return x}function l(x){if(i(x)!==u){throw new TypeError()}var y=[];for(var z in x){if(x.hasOwnProperty(z)){y.push(z)}}return y}function i(y){switch(y){case null:return s;case (void 0):return j}var x=typeof y;switch(x){case"boolean":return o;case"number":return c;case"string":return m}return u}function b(x){return typeof x==="undefined"}var p=Array.prototype.slice;function f(x){var y=x.toString().match(/^[\s\(]*function[^(]*\(([^)]*)\)/)[1].replace(/\/\/.*?[\r\n]|\/\*(?:.|[\r\n])*?\*\//g,"").replace(/\s+/g,"").split(",");return y.length==1&&!y[0]?[]:y}function h(y,z){var x=y;return function(){var A=g([v(x,this)],arguments);return z.apply(this,A)}}function g(A,x){var z=A.length,y=x.length;while(y--){A[z+y]=x[y]}return A}function e(y,x){y=p.call(y,0);return g(y,x)}function v(A,z){if(arguments.length<2&&b(arguments[0])){return this}var x=A,y=p.call(arguments,2);return function(){var B=e(y,arguments);return x.apply(z,B)}}var k=function(){};var q=(function(){var A=(function(){for(var B in {toString:1}){if(B==="toString"){return false}}return true})();function x(){}function y(){var E=null,D=[].slice.apply(arguments);if(a(D[0])){E=D.shift()}function B(){this.initialize.apply(this,arguments)}r(B,q.Methods);B.superclass=E;B.subclasses=[];if(E){x.prototype=E.prototype;B.prototype=new x;try{E.subclasses.push(B)}catch(G){}}for(var C=0,F=D.length;C<F;C++){B.addMethods(D[C])}if(!B.prototype.initialize){B.prototype.initialize=k}B.prototype.constructor=B;return B}function z(H){var D=this.superclass&&this.superclass.prototype,C=l(H);if(A){if(H.toString!=Object.prototype.toString){C.push("toString")}if(H.valueOf!=Object.prototype.valueOf){C.push("valueOf")}}for(var B=0,E=C.length;B<E;B++){var G=C[B],F=H[G];if(D&&a(F)&&f(F)[0]=="$super"){var I=F;F=h((function(J){return function(){return D[J].apply(this,arguments)}})(G),I);F.valueOf=v(I.valueOf,I);F.toString=v(I.toString,I)}this.prototype[G]=F}return this}return{create:y,Methods:{addMethods:z}}})();if(w.exports){w.exports.Class=q}else{w.Class=q}})(Rickshaw);Rickshaw.namespace("Rickshaw.Compat.ClassList");Rickshaw.Compat.ClassList=function(){if(typeof document!=="undefined"&&!("classList" in document.createElement("a"))){(function(k){var a="classList",g="prototype",n=(k.HTMLElement||k.Element)[g],b=Object,l=String[g].trim||function(){return this.replace(/^\s+|\s+$/g,"")},c=Array[g].indexOf||function(r){var q=0,p=this.length;for(;q<p;q++){if(q in this&&this[q]===r){return q}}return -1},o=function(p,q){this.name=p;this.code=DOMException[p];this.message=q},h=function(q,p){if(p===""){throw new o("SYNTAX_ERR","An invalid or illegal string was specified")}if(/\s/.test(p)){throw new o("INVALID_CHARACTER_ERR","String contains an invalid character")}return c.call(q,p)},e=function(t){var s=l.call(t.className),r=s?s.split(/\s+/):[],q=0,p=r.length;for(;q<p;q++){this.push(r[q])}this._updateClassName=function(){t.className=this.toString()}},f=e[g]=[],j=function(){return new e(this)};o[g]=Error[g];f.item=function(p){return this[p]||null};f.contains=function(p){p+="";return h(this,p)!==-1};f.add=function(p){p+="";if(h(this,p)===-1){this.push(p);this._updateClassName()}};f.remove=function(q){q+="";var p=h(this,q);if(p!==-1){this.splice(p,1);this._updateClassName()}};f.toggle=function(p){p+="";if(h(this,p)===-1){this.add(p)}else{this.remove(p)}};f.toString=function(){return this.join(" ")};if(b.defineProperty){var m={get:j,enumerable:true,configurable:true};try{b.defineProperty(n,a,m)}catch(i){if(i.number===-2146823252){m.enumerable=false;b.defineProperty(n,a,m)}}}else{if(b[g].__defineGetter__){n.__defineGetter__(a,j)}}}(self))}};if((typeof RICKSHAW_NO_COMPAT!=="undefined"&&!RICKSHAW_NO_COMPAT)||typeof RICKSHAW_NO_COMPAT==="undefined"){new Rickshaw.Compat.ClassList()}Rickshaw.namespace("Rickshaw.Graph");Rickshaw.Graph=function(b){this.element=b.element;this.interpolation=b.interpolation||"cardinal";this.series=b.series;this.offset="zero";this.stroke=b.stroke||false;var e=window.getComputedStyle(this.element,null);var f=parseInt(e.getPropertyValue("width"));var c=parseInt(e.getPropertyValue("height"));this.width=b.width||f||400;this.height=b.height||c||250;this.min=b.min;this.max=b.max;this.window={};this.updateCallbacks=[];var a=this;this.initialize=function(h){this.validateSeries(h.series);this.series.active=function(){return a.series.filter(function(i){return !i.disabled})};this.element.classList.add("rickshaw_graph");this.vis=d3.select(this.element).append("svg:svg").attr("width",this.width).attr("height",this.height);var g=[Rickshaw.Graph.Renderer.Stack,Rickshaw.Graph.Renderer.Line,Rickshaw.Graph.Renderer.Bar,Rickshaw.Graph.Renderer.Area,Rickshaw.Graph.Renderer.ScatterPlot];g.forEach(function(i){if(!i){return}a.registerRenderer(new i({graph:a}))});this.setRenderer(h.renderer||"stack");this.discoverRange()};this.validateSeries=function(h){if(!(h instanceof Array)&&!(h instanceof Rickshaw.Series)){var g=Object.prototype.toString.apply(h);throw"series is not an array: "+g}var i;h.forEach(function(j){if(!(j instanceof Object)){throw"series element is not an object: "+j}if(!(j.data)){throw"series has no data: "+JSON.stringify(j)}if(!(j.data instanceof Array)){throw"series data is not an array: "+JSON.stringify(j.data)}i=i||j.data.length;if(i&&j.data.length!=i){throw"series cannot have differing numbers of points: "+i+" vs "+j.data.length+"; see Rickshaw.Series.zeroFill()"}var l=typeof j.data[0].x;var k=typeof j.data[0].y;if(l!="number"||k!="number"){throw"x and y properties of points should be numbers instead of "+l+" and "+k}})};this.dataDomain=function(){var g=this.series[0].data;return[g[0].x,g.slice(-1).shift().x]};this.discoverRange=function(){var g=this.renderer.domain();this.x=d3.scale.linear().domain(g.x).range([0,this.width]);this.y=d3.scale.linear().domain(g.y).range([this.height,0]);this.y.magnitude=d3.scale.linear().domain(g.y).range([0,this.height])};this.render=function(){var g=this.stackData();this.discoverRange();this.renderer.render();this.updateCallbacks.forEach(function(h){h()})};this.update=this.render;this.stackData=function(){var k=this.series.active().map(function(i){return i.data}).map(function(i){return i.filter(function(l){return this._slice(l)},this)},this);this.stackData.hooks.data.forEach(function(i){k=i.f.apply(a,[k])});var j=d3.layout.stack();j.offset(a.offset);var h=j(k);this.stackData.hooks.after.forEach(function(i){h=i.f.apply(a,[k])});var g=0;this.series.forEach(function(i){if(i.disabled){return}i.stack=h[g++]});this.stackedData=h;return h};this.stackData.hooks={data:[],after:[]};this._slice=function(h){if(this.window.xMin||this.window.xMax){var g=true;if(this.window.xMin&&h.x<this.window.xMin){g=false}if(this.window.xMax&&h.x>this.window.xMax){g=false}return g}return true};this.onUpdate=function(g){this.updateCallbacks.push(g)};this.registerRenderer=function(g){this._renderers=this._renderers||{};this._renderers[g.name]=g};this.setRenderer=function(g){if(!this._renderers[g]){throw"couldn't find renderer "+g}this.renderer=this._renderers[g]};this.initialize(b)};Rickshaw.namespace("Rickshaw.Fixtures.Color");Rickshaw.Fixtures.Color=function(){this.schemes={};this.schemes.spectrum14=["#ecb796","#dc8f70","#b2a470","#92875a","#716c49","#d2ed82","#bbe468","#a1d05d","#e7cbe6","#d8aad6","#a888c2","#9dc2d3","#649eb9","#387aa3"].reverse();this.schemes.spectrum2000=["#57306f","#514c76","#646583","#738394","#6b9c7d","#84b665","#a7ca50","#bfe746","#e2f528","#fff726","#ecdd00","#d4b11d","#de8800","#de4800","#c91515","#9a0000","#7b0429","#580839","#31082b"];this.schemes.spectrum2001=["#2f243f","#3c2c55","#4a3768","#565270","#6b6b7c","#72957f","#86ad6e","#a1bc5e","#b8d954","#d3e04e","#ccad2a","#cc8412","#c1521d","#ad3821","#8a1010","#681717","#531e1e","#3d1818","#320a1b"];this.schemes.classic9=["#423d4f","#4a6860","#848f39","#a2b73c","#ddcb53","#c5a32f","#7d5836","#963b20","#7c2626","#491d37","#2f254a"].reverse();this.schemes.httpStatus={503:"#ea5029",502:"#d23f14",500:"#bf3613",410:"#efacea",409:"#e291dc",403:"#f457e8",408:"#e121d2",401:"#b92dae",405:"#f47ceb",404:"#a82a9f",400:"#b263c6",301:"#6fa024",302:"#87c32b",307:"#a0d84c",304:"#28b55c",200:"#1a4f74",206:"#27839f",201:"#52adc9",202:"#7c979f",203:"#a5b8bd",204:"#c1cdd1"};this.schemes.colorwheel=["#b5b6a9","#858772","#785f43","#96557e","#4682b4","#65b9ac","#73c03a","#cb513a"].reverse();this.schemes.cool=["#5e9d2f","#73c03a","#4682b4","#7bc3b8","#a9884e","#c1b266","#a47493","#c09fb5"];this.schemes.munin=["#00cc00","#0066b3","#ff8000","#ffcc00","#330099","#990099","#ccff00","#ff0000","#808080","#008f00","#00487d","#b35a00","#b38f00","#6b006b","#8fb300","#b30000","#bebebe","#80ff80","#80c9ff","#ffc080","#ffe680","#aa80ff","#ee00cc","#ff8080","#666600","#ffbfff","#00ffcc","#cc6699","#999900"]};Rickshaw.namespace("Rickshaw.Fixtures.RandomData");Rickshaw.Fixtures.RandomData=function(b){var e;b=b||1;var a=200;var c=Math.floor(new Date().getTime()/1000);this.addData=function(i){var h=Math.random()*100+15+a;var g=i[0].length;var f=1;i.forEach(function(k){var l=Math.random()*20;var j=h/25+f+++(Math.cos((g*f*11)/960)+2)*15+(Math.cos(g/7)+2)*7+(Math.cos(g/17)+2)*1;k.push({x:(g*b)+c,y:j+l})});a=h*0.85}};Rickshaw.namespace("Rickshaw.Fixtures.Time");Rickshaw.Fixtures.Time=function(){var a=new Date().getTimezoneOffset()*60;var b=this;this.months=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];this.units=[{name:"decade",seconds:86400*365.25*10,formatter:function(c){return(parseInt(c.getUTCFullYear()/10)*10)}},{name:"year",seconds:86400*365.25,formatter:function(c){return c.getUTCFullYear()}},{name:"month",seconds:86400*30.5,formatter:function(c){return b.months[c.getUTCMonth()]}},{name:"week",seconds:86400*7,formatter:function(c){return b.formatDate(c)}},{name:"day",seconds:86400,formatter:function(c){return c.getUTCDate()}},{name:"6 hour",seconds:3600*6,formatter:function(c){return b.formatTime(c)}},{name:"hour",seconds:3600,formatter:function(c){return b.formatTime(c)}},{name:"15 minute",seconds:60*15,formatter:function(c){return b.formatTime(c)}},{name:"minute",seconds:60,formatter:function(c){return c.getUTCMinutes()}},{name:"15 second",seconds:15,formatter:function(c){return c.getUTCSeconds()+"s"}},{name:"second",seconds:1,formatter:function(c){return c.getUTCSeconds()+"s"}}];this.unit=function(c){return this.units.filter(function(e){return c==e.name}).shift()};this.formatDate=function(c){return c.toUTCString().match(/, (\w+ \w+ \w+)/)[1]};this.formatTime=function(c){return c.toUTCString().match(/(\d+:\d+):/)[1]};this.ceil=function(f,c){if(c.name=="month"){var e=new Date((f+c.seconds-1)*1000);return new Date(e.getUTCFullYear(),e.getUTCMonth()+1,1,0,0,0,0).getTime()/1000}if(c.name=="year"){var e=new Date((f+c.seconds-1)*1000);return new Date(e.getUTCFullYear(),1,1,0,0,0,0).getTime()/1000}return Math.ceil(f/c.seconds)*c.seconds}};Rickshaw.namespace("Rickshaw.Fixtures.Number");Rickshaw.Fixtures.Number.formatKMBT=function(a){if(a>=1000000000000){return a/1000000000000+"T"}else{if(a>=1000000000){return a/1000000000+"B"}else{if(a>=1000000){return a/1000000+"M"}else{if(a>=1000){return a/1000+"K"}else{if(a<1&&a>0){return a.toFixed(2)}else{if(a==0){return""}else{return a}}}}}}};Rickshaw.Fixtures.Number.formatBase1024KMGTP=function(a){if(a>=1125899906842624){return a/1125899906842624+"P"}else{if(a>=1099511627776){return a/1099511627776+"T"}else{if(a>=1073741824){return a/1073741824+"G"}else{if(a>=1048576){return a/1048576+"M"}else{if(a>=1024){return a/1024+"K"}else{if(a<1&&a>0){return a.toFixed(2)}else{if(a==0){return""}else{return a}}}}}}}};Rickshaw.namespace("Rickshaw.Color.Palette");Rickshaw.Color.Palette=function(b){var a=new Rickshaw.Fixtures.Color();b=b||{};this.schemes={};this.scheme=a.schemes[b.scheme]||b.scheme||a.schemes.colorwheel;this.runningIndex=0;this.color=function(c){return this.scheme[c]||this.scheme[this.runningIndex++]||"#808080"}};Rickshaw.namespace("Graph.Ajax");Rickshaw.Graph.Ajax=function(b){var a=this;this.dataURL=b.dataURL;$.ajax({url:this.dataURL,complete:function(e,c){if(c==="error"){console.log("error loading dataURL: "+this.dataURL)}var g=JSON.parse(e.responseText);if(typeof b.onData==="function"){var f=b.onData(g);g=f}if(b.series){b.series.forEach(function(i){var h=i.key||i.name;if(!h){throw"series needs a key or a name"}g.forEach(function(l){var k=l.key||l.name;if(!k){throw"data needs a key or a name"}if(h==k){var j=["color","name","data"];j.forEach(function(m){i[m]=i[m]||l[m]})}})})}else{b.series=g}a.graph=new Rickshaw.Graph(b);a.graph.render();if(typeof b.onComplete=="function"){b.onComplete(a)}}})};Rickshaw.namespace("Rickshaw.Graph.Annotate");Rickshaw.Graph.Annotate=function(b){var c=this.graph=b.graph;this.elements={timeline:b.element};var a=this;this.data={};this.elements.timeline.classList.add("rickshaw_annotation_timeline");this.add=function(f,e){a.data[f]=a.data[f]||{boxes:[]};a.data[f].boxes.push({content:e})};this.update=function(){Rickshaw.keys(a.data).forEach(function(h){var e=a.data[h];var g=a.graph.x(h);if(g>a.graph.x.range()[1]){if(e.element){e.element.style.display="none"}return}if(!e.element){var f=e.element=document.createElement("div");f.classList.add("annotation");this.elements.timeline.appendChild(f);f.addEventListener("click",function(i){f.classList.toggle("active");e.line.classList.toggle("active")},false)}e.element.style.left=g+"px";e.element.style.display="block";e.boxes.forEach(function(j){var i=j.element;if(!i){i=j.element=document.createElement("div");i.classList.add("content");i.innerHTML=j.content;e.element.appendChild(i);e.line=document.createElement("div");e.line.classList.add("annotation_line");a.graph.element.appendChild(e.line)}e.line.style.left=g+"px"})},this)};this.graph.onUpdate(function(){a.update()})};Rickshaw.namespace("Rickshaw.Graph.Axis.Time");Rickshaw.Graph.Axis.Time=function(b){var a=this;this.graph=b.graph;this.elements=[];this.ticksTreatment=b.ticksTreatment||"plain";this.fixedTimeUnit=b.timeUnit;var c=new Rickshaw.Fixtures.Time();this.appropriateTimeUnit=function(){var g;var f=c.units;var h=this.graph.x.domain();var e=h[1]-h[0];f.forEach(function(i){if(Math.floor(e/i.seconds)>=2){g=g||i}});return(g||c.units[c.units.length-1])};this.tickOffsets=function(){var k=this.graph.x.domain();var j=this.fixedTimeUnit||this.appropriateTimeUnit();var h=Math.ceil((k[1]-k[0])/j.seconds);var e=k[0];var g=[];for(var f=0;f<h;f++){tickValue=c.ceil(e,j);e=tickValue+j.seconds/2;g.push({value:tickValue,unit:j})}return g};this.render=function(){this.elements.forEach(function(f){f.parentNode.removeChild(f)});this.elements=[];var e=this.tickOffsets();e.forEach(function(h){if(a.graph.x(h.value)>a.graph.x.range()[1]){return}var f=document.createElement("div");f.style.left=a.graph.x(h.value)+"px";f.classList.add("x_tick");f.classList.add(a.ticksTreatment);var g=document.createElement("div");g.classList.add("title");g.innerHTML=h.unit.formatter(new Date(h.value*1000));f.appendChild(g);a.graph.element.appendChild(f);a.elements.push(f)})};this.graph.onUpdate(function(){a.render()})};Rickshaw.namespace("Rickshaw.Graph.Axis.Y");Rickshaw.Graph.Axis.Y=function(c){var b=this;this.graph=c.graph;this.orientation=c.orientation||"right";var i=75;this.ticks=c.ticks||Math.floor(this.graph.height/i);this.tickSize=c.tickSize||4;this.ticksTreatment=c.ticksTreatment||"plain";if(c.element){var e=0.1;if(!c.width||!c.height){var g=window.getComputedStyle(c.element,null);var h=parseInt(g.getPropertyValue("width"));var f=parseInt(g.getPropertyValue("height"))}this.width=c.width||h||this.graph.width*e;this.height=c.height||f||this.graph.height;this.vis=d3.select(c.element).append("svg:svg").attr("class","rickshaw_graph y_axis").attr("width",this.width).attr("height",this.height*(1+e));this.element=this.vis[0][0];this.element.style.position="relative";var a=this.height*e;this.element.style.top=-1*a+"px";this.element.style.paddingTop=a+"px"}else{this.vis=this.graph.vis}this.render=function(){var l=d3.svg.axis().scale(this.graph.y).orient(this.orientation);l.tickFormat(c.tickFormat||function(m){return m});if(this.orientation=="left"){var k="translate("+this.width+", 0)"}if(this.element){this.vis.selectAll("*").remove()}this.vis.append("svg:g").attr("class",["y_ticks",this.ticksTreatment].join(" ")).attr("transform",k).call(l.ticks(this.ticks).tickSubdivide(0).tickSize(this.tickSize));var j=(this.orientation=="right"?1:-1)*this.graph.width;this.graph.vis.append("svg:g").attr("class","y_grid").call(l.ticks(this.ticks).tickSubdivide(0).tickSize(j))};this.graph.onUpdate(function(){b.render()})};Rickshaw.namespace("Rickshaw.Graph.Behavior.Series.Highlight");Rickshaw.Graph.Behavior.Series.Highlight=function(b){this.graph=b.graph;this.legend=b.legend;var a=this;var c={};this.addHighlightEvents=function(e){e.element.addEventListener("mouseover",function(f){a.legend.lines.forEach(function(g){if(e===g){return}c[g.series.name]=c[g.series.name]||g.series.color;g.series.color=d3.interpolateRgb(g.series.color,d3.rgb("#d8d8d8"))(0.8).toString()});a.graph.update()},false);e.element.addEventListener("mouseout",function(f){a.legend.lines.forEach(function(g){if(c[g.series.name]){g.series.color=c[g.series.name]}});a.graph.update()},false)};if(this.legend){this.legend.lines.forEach(function(e){a.addHighlightEvents(e)})}};Rickshaw.namespace("Rickshaw.Graph.Behavior.Series.Order");Rickshaw.Graph.Behavior.Series.Order=function(b){this.graph=b.graph;this.legend=b.legend;var a=this;$(function(){$(a.legend.list).sortable({containment:"parent",tolerance:"pointer",update:function(f,g){var e=[];$(a.legend.list).find("li").each(function(h,i){if(!i.series){return}e.push(i.series)});for(var c=a.graph.series.length-1;c>=0;c--){a.graph.series[c]=e.shift()}a.graph.update()}});$(a.legend.list).disableSelection()});this.graph.onUpdate(function(){var c=window.getComputedStyle(a.legend.element).height;a.legend.element.style.height=c})};Rickshaw.namespace("Rickshaw.Graph.Behavior.Series.Toggle");Rickshaw.Graph.Behavior.Series.Toggle=function(b){this.graph=b.graph;this.legend=b.legend;var a=this;this.addAnchor=function(c){var f=document.createElement("a");f.innerHTML="&#10004;";f.classList.add("action");c.element.insertBefore(f,c.element.firstChild);f.onclick=function(g){if(c.series.disabled){c.series.enable();c.element.classList.remove("disabled")}else{c.series.disable();c.element.classList.add("disabled")}};var e=c.element.getElementsByTagName("span")[0];e.onclick=function(k){var j=c.series.disabled;if(!j){for(var h=0;h<a.legend.lines.length;h++){var g=a.legend.lines[h];if(c.series===g.series){}else{if(g.series.disabled){}else{j=true;break}}}}if(j){c.series.enable();c.element.classList.remove("disabled");a.legend.lines.forEach(function(i){if(c.series===i.series){}else{i.series.disable();i.element.classList.add("disabled")}})}else{a.legend.lines.forEach(function(i){i.series.enable();i.element.classList.remove("disabled")})}}};if(this.legend){$(this.legend.list).sortable({start:function(c,e){e.item.bind("no.onclick",function(f){f.preventDefault()})},stop:function(c,e){setTimeout(function(){e.item.unbind("no.onclick")},250)}});this.legend.lines.forEach(function(c){a.addAnchor(c)})}this._addBehavior=function(){this.graph.series.forEach(function(c){c.disable=function(){if(a.graph.series.length<=1){throw ("only one series left")}c.disabled=true;a.graph.update()};c.enable=function(){c.disabled=false;a.graph.update()}})};this._addBehavior();this.updateBehaviour=function(){this._addBehavior()}};Rickshaw.namespace("Rickshaw.Graph.HoverDetail");Rickshaw.Graph.HoverDetail=function(c){var g=this.graph=c.graph;var b=c.xFormatter||function(h){return new Date(h*1000).toUTCString()};var f=c.yFormatter||function(h){return h.toFixed(2)};var e=this.element=document.createElement("div");e.className="detail";this.visible=true;g.element.appendChild(e);var a=this;this.lastEvent=null;this.update=function(p){p=p||this.lastEvent;if(!p){return}this.lastEvent=p;if(p.target.nodeName!="path"&&p.target.nodeName!="svg"){return}var j=p.offsetX||p.layerX;var h=p.offsetY||p.layerY;var k=g.x.invert(j);var s=g.stackedData;var l=s.slice(-1).shift();var n=d3.scale.linear().domain([l[0].x,l.slice(-1).shift().x]).range([0,l.length]);var r=Math.floor(n(k));var q=r||0;for(var m=r;m<s[0].length-1;){if(s[0][m].x<=k&&s[0][m+1].x>k){q=m;break}if(s[0][m+1]<k){m++}else{m--}}k=s[0][q].x;var o=g.series.active().map(function(i){return{name:i.name,value:i.stack[q]}});if(this.visible){a.render.call(a,k,o,j,h)}};this.graph.element.addEventListener("mousemove",function(h){a.visible=true;a.update(h)},false);this.graph.onUpdate(function(){a.update()});this.graph.element.addEventListener("mouseout",function(h){if(h.relatedTarget&&!(h.relatedTarget.compareDocumentPosition(a.graph.element)&Node.DOCUMENT_POSITION_CONTAINS)){a.hide()}},false);this.hide=function(){this.visible=false;this.element.classList.add("inactive")};this.show=function(){this.visible=true;this.element.classList.remove("inactive")};this.render=function(l,k,j,i){this.element.innerHTML="";this.element.style.left=g.x(l)+"px";var h=document.createElement("div");h.className="x_label";h.innerHTML=b(l);this.element.appendChild(h);var n=null;var m=function(p,o){return(p.value.y0+p.value.y)-(o.value.y0+o.value.y)};k.sort(m).forEach(function(r){var q=(f.constructor==Array)?f[k.indexOf(r)](r.value.y):f(r.value.y);var p=document.createElement("div");p.className="item";p.innerHTML=r.name+":&nbsp;"+q;p.style.top=g.y(r.value.y0+r.value.y)+"px";var s=g.y.magnitude.invert(g.element.offsetHeight-i);this.element.appendChild(p);var o=document.createElement("div");o.className="dot";o.style.top=p.style.top;this.element.appendChild(o);if(s>r.value.y0&&s<r.value.y0+r.value.y&&!n){n=p;p.className="item active";o.className="dot active"}},this);this.show()}};Rickshaw.namespace("Rickshaw.Graph.JSONP");Rickshaw.Graph.JSONP=function(b){var a=this;this.dataURL=b.dataURL;$.ajax({url:this.dataURL,dataType:"jsonp",success:function(g,c,e){if(c==="error"){console.log("error loading dataURL: "+this.dataURL)}if(typeof b.onData==="function"){var f=b.onData(g);g=f}if(b.series){b.series.forEach(function(i){var h=i.key||i.name;if(!h){throw"series needs a key or a name"}g.forEach(function(l){var k=l.key||l.name;if(!k){throw"data needs a key or a name"}if(h==k){var j=["color","name","data"];j.forEach(function(m){i[m]=i[m]||l[m]})}})})}else{b.series=g}a.graph=new Rickshaw.Graph(b);a.graph.render();if(typeof b.onComplete=="function"){b.onComplete(a)}}})};Rickshaw.namespace("Rickshaw.Graph.Legend");Rickshaw.Graph.Legend=function(b){var e=this.element=b.element;var g=this.graph=b.graph;var a=this;e.classList.add("rickshaw_legend");var f=this.list=document.createElement("ul");e.appendChild(f);var c=g.series.map(function(h){return h}).reverse();this.lines=[];this.addLine=function(j){var h=document.createElement("li");h.className="line";var k=document.createElement("div");k.className="swatch";k.style.backgroundColor=j.color;h.appendChild(k);var i=document.createElement("span");i.className="label";i.innerHTML=j.name;h.appendChild(i);f.appendChild(h);h.series=j;if(j.noLegend){h.style.display="none"}var l={element:h,series:j};if(a.shelving){a.shelving.addAnchor(l);a.shelving.updateBehaviour()}if(a.highlighter){a.highlighter.addHighlightEvents(l)}a.lines.push(l)};c.forEach(function(h){a.addLine(h)});g.onUpdate(function(){})};Rickshaw.namespace("Rickshaw.Graph.RangeSlider");Rickshaw.Graph.RangeSlider=function(a){var b=this.element=a.element;var c=this.graph=a.graph;$(function(){$(b).slider({range:true,min:c.dataDomain()[0],max:c.dataDomain()[1],values:[c.dataDomain()[0],c.dataDomain()[1],],slide:function(e,f){c.window.xMin=f.values[0];c.window.xMax=f.values[1];c.update();if(c.dataDomain()[0]==f.values[0]){c.window.xMin=undefined}if(c.dataDomain()[1]==f.values[1]){c.window.xMax=undefined}}})});b[0].style.width=c.width+"px";c.onUpdate(function(){var e=$(b).slider("option","values");$(b).slider("option","min",c.dataDomain()[0]);$(b).slider("option","max",c.dataDomain()[1]);if(c.window.xMin==undefined){e[0]=c.dataDomain()[0]}if(c.window.xMax==undefined){e[1]=c.dataDomain()[1]}$(b).slider("option","values",e)})};Rickshaw.namespace("Rickshaw.Graph.Renderer");Rickshaw.Graph.Renderer=Rickshaw.Class.create({name:undefined,tension:0.8,strokeWidth:2,unstack:true,padding:{top:0.025,right:0,bottom:0,left:0},stroke:false,fill:false,initialize:function(a){this.graph=a.graph;this.tension=a.tension||this.tension;this.graph.unstacker=this.graph.unstacker||new Rickshaw.Graph.Unstacker({graph:this.graph})},seriesPathFactory:function(){},seriesStrokeFactory:function(){},domain:function(){var b=[];var f=this.graph.stackedData||this.graph.stackData();var e=this.unstack?f:[f.slice(-1).shift()];e.forEach(function(i){i.forEach(function(j){b.push(j.y+j.y0)})});var c=f[0][0].x;var h=f[0][f[0].length-1].x;c-=(h-c)*(this.padding.left);h+=(h-c)*(this.padding.right);var a=(this.graph.min==="auto"?d3.min(b):this.graph.min||0);var g=this.graph.max||d3.max(b)*(1+this.padding.top);return{x:[c,h],y:[a,g]}},render:function(){var c=this.graph;c.vis.selectAll("*").remove();var a=c.vis.selectAll("path").data(this.graph.stackedData).enter().append("svg:path").attr("d",this.seriesPathFactory());var b=0;c.series.forEach(function(e){if(e.disabled){return}e.path=a[0][b++];this._styleSeries(e)},this)},_styleSeries:function(a){var c=this.fill?a.color:"none";var b=this.stroke?a.color:"none";a.path.setAttribute("fill",c);a.path.setAttribute("stroke",b);a.path.setAttribute("stroke-width",this.strokeWidth);a.path.setAttribute("class",a.className)},setStrokeWidth:function(a){if(a!==undefined){this.strokeWidth=a}},setTension:function(a){if(a!==undefined){this.tension=a}}});Rickshaw.namespace("Rickshaw.Graph.Renderer.Line");Rickshaw.Graph.Renderer.Line=Rickshaw.Class.create(Rickshaw.Graph.Renderer,{name:"line",unstack:true,fill:false,stroke:true,seriesPathFactory:function(){var a=this.graph;return d3.svg.line().x(function(b){return a.x(b.x)}).y(function(b){return a.y(b.y)}).interpolate(this.graph.interpolation).tension(this.tension)}});Rickshaw.namespace("Rickshaw.Graph.Renderer.Stack");Rickshaw.Graph.Renderer.Stack=Rickshaw.Class.create(Rickshaw.Graph.Renderer,{name:"stack",fill:true,stroke:false,unstack:false,seriesPathFactory:function(){var a=this.graph;return d3.svg.area().x(function(b){return a.x(b.x)}).y0(function(b){return a.y(b.y0)}).y1(function(b){return a.y(b.y+b.y0)}).interpolate(this.graph.interpolation).tension(this.tension)}});Rickshaw.namespace("Rickshaw.Graph.Renderer.Bar");Rickshaw.Graph.Renderer.Bar=Rickshaw.Class.create(Rickshaw.Graph.Renderer,{name:"bar",gapSize:0.05,unstack:false,initialize:function($super,a){a=a||{};this.gapSize=a.gapSize||this.gapSize;$super(a)},domain:function($super){var b=$super();var a=this._frequentInterval();b.x[1]+=parseInt(a.magnitude);return b},barWidth:function(){var b=this.graph.stackedData||this.graph.stackData();var e=b.slice(-1).shift();var a=this._frequentInterval();var c=this.graph.x(e[0].x+a.magnitude*(1-this.gapSize));return c},render:function(){var e=this.graph;e.vis.selectAll("*").remove();var b=this.barWidth();var c=0;var f=e.series.filter(function(g){return !g.disabled}).length;var a=this.unstack?b/f:b;e.series.forEach(function(h){if(h.disabled){return}var g=e.vis.selectAll("path").data(h.stack).enter().append("svg:rect").attr("x",function(i){return e.x(i.x)+c}).attr("y",function(i){return e.y(i.y0+i.y)}).attr("width",a).attr("height",function(i){return e.y.magnitude(i.y)});Array.prototype.forEach.call(g[0],function(i){i.setAttribute("fill",h.color)});if(this.unstack){c+=a}},this)},_frequentInterval:function(){var e=this.graph.stackedData||this.graph.stackData();var g=e.slice(-1).shift();var f={};for(var c=0;c<g.length-1;c++){var a=g[c+1].x-g[c].x;f[a]=f[a]||0;f[a]++}var b={count:0};Rickshaw.keys(f).forEach(function(h){if(b.count<f[h]){b={count:f[h],magnitude:h}}});this._frequentInterval=function(){return b};return b}});Rickshaw.namespace("Rickshaw.Graph.Renderer.Area");Rickshaw.Graph.Renderer.Area=Rickshaw.Class.create(Rickshaw.Graph.Renderer,{name:"area",unstack:false,seriesPathFactory:function(){var a=this.graph;return d3.svg.area().x(function(b){return a.x(b.x)}).y0(function(b){return a.y(b.y0)}).y1(function(b){return a.y(b.y+b.y0)}).interpolate(a.interpolation).tension(this.tension)},seriesStrokeFactory:function(){var a=this.graph;return d3.svg.line().x(function(b){return a.x(b.x)}).y(function(b){return a.y(b.y+b.y0)}).interpolate(a.interpolation).tension(this.tension)},render:function(){var c=this.graph;c.vis.selectAll("*").remove();var a=c.vis.selectAll("path").data(this.graph.stackedData).enter().insert("svg:g","g");a.append("svg:path").attr("d",this.seriesPathFactory()).attr("class","area");if(this.graph.stroke){a.append("svg:path").attr("d",this.seriesStrokeFactory()).attr("class","line")}var b=0;c.series.forEach(function(e){if(e.disabled){return}e.path=a[0][b++];this._styleSeries(e)},this)},_styleSeries:function(a){if(!a.path){return}d3.select(a.path).select(".area").attr("fill",a.color);if(this.graph.stroke){d3.select(a.path).select(".line").attr("fill","none").attr("stroke",a.stroke||d3.interpolateRgb(a.color,"black")(0.125)).attr("stroke-width",this.strokeWidth)}if(a.className){a.path.setAttribute("class",a.className)}}});Rickshaw.namespace("Rickshaw.Graph.Renderer.ScatterPlot");Rickshaw.Graph.Renderer.ScatterPlot=Rickshaw.Class.create(Rickshaw.Graph.Renderer,{name:"scatterplot",unstack:true,fill:true,stroke:false,padding:{top:0.025,right:0.025,bottom:0,left:0.025},initialize:function($super,a){$super(a);this.dotSize=a.dotSize||4},render:function(){var a=this.graph;a.vis.selectAll("*").remove();a.series.forEach(function(c){if(c.disabled){return}var b=a.vis.selectAll("path").data(c.stack).enter().append("svg:circle").attr("cx",function(e){return a.x(e.x)}).attr("cy",function(e){return a.y(e.y)}).attr("r",this.dotSize);Array.prototype.forEach.call(b[0],function(e){e.setAttribute("fill",c.color)})},this)}});Rickshaw.namespace("Rickshaw.Graph.Smoother");Rickshaw.Graph.Smoother=function(b){this.graph=b.graph;this.element=b.element;var a=this;this.aggregationScale=1;if(this.element){$(function(){$(a.element).slider({min:1,max:100,slide:function(c,e){a.setScale(e.value);a.graph.update()}})})}a.graph.stackData.hooks.data.push({name:"smoother",orderPosition:50,f:function(e){var c=[];e.forEach(function(i){var f=[];while(i.length){var h=0,g=0;var j=i.splice(0,a.aggregationScale);j.forEach(function(k){h+=k.x/j.length;g+=k.y/j.length});f.push({x:h,y:g})}c.push(f)});return c}});this.setScale=function(c){if(c<1){throw"scale out of range: "+c}this.aggregationScale=c;this.graph.update()}};Rickshaw.namespace("Rickshaw.Graph.Unstacker");Rickshaw.Graph.Unstacker=function(b){this.graph=b.graph;var a=this;this.graph.stackData.hooks.after.push({name:"unstacker",f:function(c){if(!a.graph.renderer.unstack){return c}c.forEach(function(e){e.forEach(function(f){f.y0=0})});return c}})};Rickshaw.namespace("Rickshaw.Series");Rickshaw.Series=Rickshaw.Class.create(Array,{initialize:function(c,a,b){b=b||{};this.palette=new Rickshaw.Color.Palette(a);this.timeBase=typeof(b.timeBase)==="undefined"?Math.floor(new Date().getTime()/1000):b.timeBase;if(c&&(typeof(c)=="object")&&(c instanceof Array)){c.forEach(function(e){this.addItem(e)},this)}},addItem:function(a){if(typeof(a.name)==="undefined"){throw ("addItem() needs a name")}a.color=(a.color||this.palette.color(a.name));a.data=(a.data||[]);if((a.data.length==0)&&this.length&&(this.getIndex()>0)){this[0].data.forEach(function(b){a.data.push({x:b.x,y:0})})}else{if(a.data.length==0){a.data.push({x:this.timeBase-(this.timeInterval||0),y:0})}}this.push(a);if(this.legend){this.legend.addLine(this.itemByName(a.name))}},addData:function(b){var a=this.getIndex();Rickshaw.keys(b).forEach(function(c){if(!this.itemByName(c)){this.addItem({name:c})}},this);this.forEach(function(c){c.data.push({x:(a*this.timeInterval||1)+this.timeBase,y:(b[c.name]||0)})},this)},getIndex:function(){return(this[0]&&this[0].data&&this[0].data.length)?this[0].data.length:0},itemByName:function(a){for(var b=0;b<this.length;b++){if(this[b].name==a){return this[b]}}},setTimeInterval:function(a){this.timeInterval=a/1000},setTimeBase:function(a){this.timeBase=a},dump:function(){var a={timeBase:this.timeBase,timeInterval:this.timeInterval,items:[],};this.forEach(function(c){var b={color:c.color,name:c.name,data:[]};c.data.forEach(function(e){b.data.push({x:e.x,y:e.y})});a.items.push(b)});return a},load:function(a){if(a.timeInterval){this.timeInterval=a.timeInterval}if(a.timeBase){this.timeBase=a.timeBase}if(a.items){a.items.forEach(function(b){this.push(b);if(this.legend){this.legend.addLine(this.itemByName(b.name))}},this)}}});Rickshaw.Series.zeroFill=function(c){var a;var b=0;var e=c.map(function(f){return f.data});while(b<Math.max.apply(null,e.map(function(f){return f.length}))){a=Math.min.apply(null,e.filter(function(f){return f[b]}).map(function(f){return f[b].x}));e.forEach(function(f){if(!f[b]||f[b].x!=a){f.splice(b,0,{x:a,y:0})}});b++}};Rickshaw.namespace("Rickshaw.Series.FixedDuration");Rickshaw.Series.FixedDuration=Rickshaw.Class.create(Rickshaw.Series,{initialize:function(e,a,b){var b=b||{};if(typeof(b.timeInterval)==="undefined"){throw new Error("FixedDuration series requires timeInterval")}if(typeof(b.maxDataPoints)==="undefined"){throw new Error("FixedDuration series requires maxDataPoints")}this.palette=new Rickshaw.Color.Palette(a);this.timeBase=typeof(b.timeBase)==="undefined"?Math.floor(new Date().getTime()/1000):b.timeBase;this.setTimeInterval(b.timeInterval);if(this[0]&&this[0].data&&this[0].data.length){this.currentSize=this[0].data.length;this.currentIndex=this[0].data.length}else{this.currentSize=0;this.currentIndex=0}this.maxDataPoints=b.maxDataPoints;if(e&&(typeof(e)=="object")&&(e instanceof Array)){e.forEach(function(f){this.addItem(f)},this);this.currentSize+=1;this.currentIndex+=1}this.timeBase-=(this.maxDataPoints-this.currentSize)*this.timeInterval;if((typeof(this.maxDataPoints)!=="undefined")&&(this.currentSize<this.maxDataPoints)){for(var c=this.maxDataPoints-this.currentSize-1;c>0;c--){this.currentSize+=1;this.currentIndex+=1;this.forEach(function(f){f.data.unshift({x:((c-1)*this.timeInterval||1)+this.timeBase,y:0,i:c})},this)}}},addData:function($super,a){$super(a);this.currentSize+=1;this.currentIndex+=1;if(this.maxDataPoints!==undefined){while(this.currentSize>this.maxDataPoints){this.dropData()}}},dropData:function(){this.forEach(function(a){a.data.splice(0,1)});this.currentSize-=1},getIndex:function(){return this.currentIndex}});Rickshaw.namespace("Rickshaw.Graph.Axis.X");Rickshaw.Graph.Axis.X=function(b){var a=this;this.graph=b.graph;this.elements=[];this.ticksTreatment=b.ticksTreatment||"plain";this.fixedTimeUnit=b.timeUnit;this.labels=b.labels;this.render=function(){this.elements.forEach(function(f){f.parentNode.removeChild(f)});this.elements=[];var c=this.labels;c.forEach(function(f,e){if(a.graph.x(e)>a.graph.x.range()[1]){return}var g=document.createElement("div");g.style.left=a.graph.x(e)+"px";g.classList.add("x_tick");g.classList.add(a.ticksTreatment);var h=document.createElement("div");if((e+1)!==c.length){h.classList.add("title");h.innerHTML=f;g.appendChild(h)}a.graph.element.appendChild(g);a.elements.push(g)})};this.graph.onUpdate(function(){a.render()})};Rickshaw.namespace("Rickshaw.Graph.MoPubHoverDetail");Rickshaw.Graph.MoPubHoverDetail=function(c){var g=this.graph=c.graph;var b=c.xFormatter||function(h){return new Date(h*1000).toUTCString()};var f=c.yFormatter||function(h){return h.toFixed(2)};var e=this.element=document.createElement("div");e.className="detail";this.visible=true;g.element.appendChild(e);var a=this;this.lastEvent=null;this.update=function(p){p=p||this.lastEvent;if(!p){return}this.lastEvent=p;if(p.target.nodeName!="path"&&p.target.nodeName!="svg"){return}var j=p.offsetX||p.layerX;var h=p.offsetY||p.layerY;var k=g.x.invert(j);var s=g.stackedData;var l=s.slice(-1).shift();var n=d3.scale.linear().domain([l[0].x,l.slice(-1).shift().x]).range([0,l.length]);var r=Math.floor(n(k));var q=r||0;for(var m=r;m<s[0].length-1;){if(s[0][m].x<=k&&s[0][m+1].x>k){q=m;break}if(s[0][m+1]<k){m++}else{m--}}k=s[0][q].x;var o=g.series.active().map(function(i){return{name:i.name,value:i.stack[q]}});if(this.visible){a.render.call(a,k,o,j,h)}};this.graph.element.addEventListener("mousemove",function(h){a.visible=true;a.update(h)},false);this.graph.onUpdate(function(){a.update()});this.graph.element.addEventListener("mouseout",function(h){if(h.relatedTarget&&!(h.relatedTarget.compareDocumentPosition(a.graph.element)&Node.DOCUMENT_POSITION_CONTAINS)){a.hide()}},false);this.hide=function(){this.visible=false;this.element.classList.add("inactive")};this.show=function(){this.visible=true;this.element.classList.remove("inactive")};this.render=function(l,k,j,i){this.element.innerHTML="";this.element.style.left=g.x(l)+"px";var h=document.createElement("div");h.className="x_label";h.innerHTML=b(l);if(g.x(l)>0){h.style.left="-"+(g.x(l)-20)+"px"}else{h.style.left="20px"}h.style.top="-6px";this.element.appendChild(h);var n=null;var m=function(p,o){return(p.value.y0+p.value.y)-(o.value.y0+o.value.y)};k.sort(m).forEach(function(r){var q=(f.constructor==Array)?f[k.indexOf(r)](r.value.y):f(r.value.y);var p=document.createElement("div");p.className="item";p.innerHTML=r.name+":&nbsp;"+q;p.style.top=g.y(r.value.y0+r.value.y)+"px";var s=g.y.magnitude.invert(g.element.offsetHeight-i);var o=document.createElement("div");o.className="dot";o.style.top=p.style.top;this.element.appendChild(o);if(s>r.value.y0&&s<r.value.y0+r.value.y&&!n){n=p;p.className="item active";o.className="dot active"}},this);this.show()}};Rickshaw.namespace("Rickshaw.Graph.MultiGraphLegend");Rickshaw.Graph.Legend=function(c){var f=this.element=c.element;var b=this.graphs=c.graphs;var a=this;f.classList.add("rickshaw_legend");var g=this.list=document.createElement("ul");f.appendChild(g);var e=graph.series.map(function(h){return h}).reverse();this.lines=[];this.addLine=function(j){var h=document.createElement("li");h.className="line";var k=document.createElement("div");k.className="swatch";k.style.backgroundColor=j.color;h.appendChild(k);var i=document.createElement("span");i.className="label";i.innerHTML=j.name;h.appendChild(i);g.appendChild(h);h.series=j;if(j.noLegend){h.style.display="none"}var l={element:h,series:j};if(a.shelving){a.shelving.addAnchor(l);a.shelving.updateBehaviour()}if(a.highlighter){a.highlighter.addHighlightEvents(l)}a.lines.push(l)};e.forEach(function(h){a.addLine(h)});graph.onUpdate(function(){})};(function(a){a.fn.tokenInput=function(c,b){var e=a.extend({url:c,hintText:"Type in a search term",noResultsText:"No results",searchingText:"Searching...",searchDelay:300,minChars:1,tokenLimit:null,jsonContainer:null,method:"GET",contentType:"json",queryParam:"q",onResult:null,onAdd:null,onDelete:null,doImmediate:true,country:"US",featureClass:null,featureCode:null,maxRows:10},b);e.classes=a.extend({tokenList:"token-input-list",token:"token-input-token",tokenDelete:"token-input-delete-token",selectedToken:"token-input-selected-token",highlightedToken:"token-input-highlighted-token",dropdown:"token-input-dropdown",dropdownItem:"token-input-dropdown-item",dropdownItem2:"token-input-dropdown-item2",selectedDropdownItem:"token-input-selected-dropdown-item",inputToken:"token-input-input-token"},b.classes);return this.each(function(){var f=new a.TokenList(this,e)})};a.TokenData=function(f,g){var i=f;var b;var h;var c;var e;function k(){var l=i.lat+","+i.lng+":"+i.adminCode1+":"+i.name+":"+i.countryCode;return a('<input type="hidden" class="'+i.countryCode+'" name="cities" id="'+i.name.replace(/ /gi,"_")+'" value="'+l+'" />')}function j(){return a('<input type="hidden" name="geo_predicates" id="'+e+'" value="'+e+'" />')}if(g=="city"){b=i.name+", "+i.adminCode1;h=k;c=i.name}else{if(g=="country"){e=(i.data===undefined)?i.code:i.data.code;b=(i.data===undefined)?i.name:i.data.name;h=j;c=e}}return{name:b,input:h,raw:f,type:g,id:c}};a.TokenList=function(c,H){var w={BEFORE:0,AFTER:1,END:2};var E={BACKSPACE:8,TAB:9,RETURN:13,ESC:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,COMMA:188};var t=[];var n=0;var z=0;var k=new a.TokenList.Cache(H);var D;var o=a('<input class="token-input-field" type="text"  autocomplete="off">').css({outline:"none"}).focus(function(){if(H.tokenLimit===null||H.tokenLimit!=n){g()}a(this).addClass("focused");if(!j.hasClass("focused")){j.addClass("focused")}if(a(this).val()){setTimeout(function(){p(H.doImmediate)},5)}}).blur(function(){a(this).removeClass("focused");j.removeClass("focused");u()}).keydown(function(N){var P;var M;switch(N.keyCode){case E.LEFT:case E.RIGHT:case E.UP:case E.DOWN:if(!a(this).val()){P=h.prev();M=h.next();if((P.length&&P.get(0)===q)||(M.length&&M.get(0)===q)){if(N.keyCode==E.LEFT||N.keyCode==E.UP){v(a(q),w.BEFORE)}else{v(a(q),w.AFTER)}}else{if((N.keyCode==E.LEFT||N.keyCode==E.UP)&&P.length){I(a(P.get(0)))}else{if((N.keyCode==E.RIGHT||N.keyCode==E.DOWN)&&M.length){I(a(M.get(0)))}}}}else{var O=null;if(N.keyCode==E.DOWN||N.keyCode==E.RIGHT){O=a(B).next()}else{O=a(B).prev()}if(O.length){L(O)}return false}break;case E.BACKSPACE:P=h.prev();if(!a(this).val().length){if(q){f(a(q))}else{if(P.length){I(a(P.get(0)))}}return false}else{if(a(this).val().length==1){u()}else{setTimeout(function(){p(H.doImmediate)},5)}}break;case E.TAB:case E.RETURN:case E.COMMA:if(B){x(a(B));return false}break;case E.ESC:u();return true;default:if(F(N.keyCode)){setTimeout(function(){p(H.doImmediate)},5)}break}});var s=a(c).hide().focus(function(){o.focus()}).blur(function(){o.blur()});var q=null;var B=null;var j=a("<ul />").addClass(H.classes.tokenList).insertBefore(s).click(function(N){a(this).addClass("focused");var M=y(N,"li");if(M&&M.get(0)!=h.get(0)){K(M);return false}else{o.focus();if(q){v(a(q),w.END)}}}).mouseover(function(N){var M=y(N,"li");if(M&&q!==this){M.addClass(H.classes.highlightedToken)}}).mouseout(function(N){var M=y(N,"li");if(M&&q!==this){M.removeClass(H.classes.highlightedToken)}}).mousedown(function(N){var M=y(N,"li");if(M){return false}});var J=a("<div>").addClass(H.classes.dropdown).insertAfter(j).hide();var h=a("<li />").addClass(H.classes.inputToken).appendTo(j).append(o);function C(){var M=a(".token-input-country").length;if(M>1){a(".token-input-city").each(function(O){f(a(this))});a(".token-input-state").each(function(O){f(a(this))});a('input[name="region_targeting"]').each(function(O){if(a(this).val()!="all"){a(this).attr("disabled",true)}else{a(this).click()}})}else{a('input[name="region_targeting"]').each(function(O){a(this).attr("disabled",false)})}var N=a("#geo_pred_ta").children().length;a(".countryNumDependent").hide();a(".countryNumDependent."+N).show()}function G(){var P=H.prePopulate.data;if(P&&P.length){for(var M in P){var N=new a.TokenData(P[M],H.prePopulate.type);var O=a("<li><p>"+N.name+"</p> </li>").addClass(H.classes.token);if(N.type=="city"){O.addClass("token-input-city").addClass(N.raw.countryCode)}else{if(N.type=="country"){O.addClass("token-input-country")}}O.insertBefore(h);a("<span>&times;</span>").addClass(H.classes.tokenDelete).appendTo(O).click(function(){f(a(this).parent());return false});a.data(O.get(0),"tokeninput",N);o.val("").focus();u();N.input().appendTo(s)}}o.blur()}G();C();function F(M){if((M>=48&&M<=90)||(M>=96&&M<=111)||(M>=186&&M<=192)||(M>=219&&M<=222)){return true}else{return false}}function y(M,N){return a(M.target).closest(N)}function e(M){var O=M.name;var N;var P=a("<li><p>"+O+"</p> </li>");if(M.type=="city"){P.addClass("token-input-city").addClass(M.raw.countryCode)}else{if(M.type=="country"){P.addClass("token-input-country")}}P.addClass(H.classes.token).insertBefore(h);a("<span>x</span>").addClass(H.classes.tokenDelete).appendTo(P).click(function(){f(a(this).parent());return false});a.data(P.get(0),"tokeninput",M);return P}function x(M){C();var P=a.data(M.get(0),"tokeninput");var O=e(P);var N=H.onAdd;o.val("").focus();u();P.input().appendTo(s);n++;z++;if(H.tokenLimit!==null&&n>=H.tokenLimit){o.hide();u()}if(a.isFunction(N)){N(P.id)}C()}function I(M){M.addClass(H.classes.selectedToken);q=M.get(0);o.val("");u()}function v(N,M){N.removeClass(H.classes.selectedToken);q=null;if(M==w.BEFORE){h.insertBefore(N)}else{if(M==w.AFTER){h.insertAfter(N)}else{h.appendTo(j)}}o.focus()}function K(M){if(q==M.get(0)){v(M,w.END)}else{if(q){v(a(q),w.END)}I(M)}}function f(N){var O=a.data(N.get(0),"tokeninput");var Q=H.onDelete;N.remove();q=null;o.focus();if(O===undefined){return}var M=O.id.replace(/ /gi,"_");var P=O.name.replace(/ /gi,"_");a("#"+M).remove();a("#"+P).remove();if(O.type=="country"){a("li."+O.id+".token-input-city").each(function(R){f(a(this))})}n--;if(a(".token-input-country").length===0){a("#advertiser-LocationSpec-all").click()}if(H.tokenLimit!==null){o.show().val("").focus()}if(a.isFunction(Q)){Q(O.id)}C()}function u(){J.hide().empty();B=null}function i(){J.html("<p>"+H.searchingText+"</p>").show()}function g(){J.html("<p>"+H.hintText+"</p>").show()}function m(O,M){var N=O.replace(new RegExp("(?![^&;]+;)(?!<[^<>]*)("+M+")(?![^<>]*>)(?![^&;]+;)","gi"),"<b>$1</b>");return N}var r=false;function A(T,Q){var U=Q.type;Q=Q.data;if(Q&&Q.length){var M=J.clone();M.empty();var O=a("<ul>").appendTo(M).mouseover(function(V){L(y(V,"li"))}).mousedown(function(V){x(y(V,"li"));return false});if(!r){O.hide()}var N;for(var R in Q){if(Q.hasOwnProperty(R)){var S=new a.TokenData(Q[R],U);var P=a("<li>"+m(S.name,T)+"</li>").appendTo(O);if(R%2){P.addClass(H.classes.dropdownItem)}else{P.addClass(H.classes.dropdownItem2)}if(R==0){L(P)}a.data(P.get(0),"tokeninput",S)}}J.replaceWith(M);J=M;J.show();if(!r){r=true;O.slideDown("fast")}}else{r=false;J.html("<p>"+H.noResultsText+"</p>").show()}}function L(M){if(M){if(B){b(a(B))}M.addClass(H.classes.selectedDropdownItem);B=M.get(0)}}function b(M){M.removeClass(H.classes.selectedDropdownItem);B=null}function p(M){var N=o.val().toLowerCase();if(N&&N.length){if(q){v(a(q),w.AFTER)}if(N.length>=H.minChars){i();if(M){l(N)}else{clearTimeout(D);D=setTimeout(function(){l(N)},H.searchDelay)}}else{if(N.length>0){g()}else{u()}}}}function l(P){P=o.val().toLowerCase();var N=k.get(P);if(N){var O={type:"country",data:N};A(P,O)}else{var R=H.url.indexOf("?")<0?"?":"&";var Q=function(T){if(a.isFunction(H.onResult)){T=H.onResult.call(this,T)}k.add(P,H.jsonContainer?T[H.jsonContainer]:T);var S={type:H.type,data:T.geonames};A(P,S)};if(H.method=="POST"){a.post(H.url+R+H.queryParam+"="+encodeURIComponent(P),{},Q,H.contentType)}else{var M=H.url+R+H.queryParam+"="+encodeURIComponent(P);if(H.featureClass!==null){M+="&featureClass="+encodeURIComponent(H.featureClass)}if(H.featureCode!==null){M+="&featureCode="+encodeURIComponent(H.featureCode)}M+="&country=";if(a('input[name="geo_predicates"]').val()!==undefined){M+=encodeURIComponent(a('input[name="geo_predicates"]').val())}else{M+=encodeURIComponent(H.country)}M+="&maxRows="+H.maxRows;a.get(M,{},Q,H.contentType)}}}};a.TokenList.Cache=function(m){var e=a.extend({max_size:50,matchContains:true},m);function h(p,o){if(!m.matchCase){p=p.toLowerCase()}var n=p.indexOf(o);if(n==-1){return false}return n===0||m.matchContains}var f={};var l=0;var j=function(){f={};l=0};function i(n){function o(q,p){return b(n,q.value)-b(n,p.value)}return o}function b(o,n){return n.length-o.length}function c(r){if(!m.cacheLength||!l){return null}if(!m.url&&e.matchContains){var p=[];for(var n in f){if(n.length>0){var s=f[n];a.each(s,function(u,t){if(h(t.value,r)){var w=true;for(var q in p){var v=p[q];if(t.result==v.result){w=false;break}}if(w){p.push(t)}}})}}return p.sort(i(r))}else{if(f[r]){return f[r]}else{if(e.matchSubset){for(var o=r.length-1;o>=1;o--){var s=f[r.substr(0,o)];if(s){var p=[];a.each(s,function(t,q){if(h(q.value,r)){p[p.length]=q}});return p}}}}}return null}function g(){if(!m.data){return false}var s={},o=0;if(!m.url){m.cacheLength=1}s[""]=[];for(var q=0,r=m.data.length;q<r;q++){var n=m.data[q];n=(typeof n=="string")?[n]:n;var v=m.formatMatch(n,q+1,m.data.length);for(var p=0;p<v.length;p++){var t=v[p];if(t===false){continue}var u=t.charAt(0).toLowerCase();if(!s[u]){s[u]=[]}var w={value:t,data:n,result:m.formatResult&&m.formatResult(n)||t};s[u].push(w);if(o++<m.max){s[""].push(w)}}}a.each(s,function(x,y){m.cacheLength++;k(x,y)})}setTimeout(g,25);function k(o,n){if(l>e.max_size){j()}if(!f[o]){l++}f[o]=n}return{flush:j,get:c,populate:g,add:k}}})(jQuery);(function(a,b){var c={plurals:[],singulars:[],uncountables:[],gsub:function(h,g,e){var f=new RegExp(g.source||g,"gi");return f.test(h)?h.replace(f,e):null},plural:function(f,e){this.plurals.unshift([f,e])},pluralize:function(h,g,f){var e;if(g!==b){e=(g===1)?this.singularize(h):this.pluralize(h);e=(f)?[g,e].join(" "):e}else{if(a(this.uncountables).include(h)){return h}e=h;a(this.plurals).detect(function(j){var i=this.gsub(h,j[0],j[1]);return i?(e=i):false},this)}return e},singular:function(f,e){this.singulars.unshift([f,e])},singularize:function(f){if(a(this.uncountables).include(f)){return f}var e=f;a(this.singulars).detect(function(h){var g=this.gsub(f,h[0],h[1]);return g?(e=g):false},this);return e},irregular:function(f,e){this.plural(f,e);this.singular(e,f)},uncountable:function(e){this.uncountables.unshift(e)},resetInflections:function(){this.plurals=[];this.singulars=[];this.uncountables=[];this.plural(/$/,"s");this.plural(/s$/,"s");this.plural(/(ax|test)is$/,"$1es");this.plural(/(octop|vir)us$/,"$1i");this.plural(/(octop|vir)i$/,"$1i");this.plural(/(alias|status)$/,"$1es");this.plural(/(bu)s$/,"$1ses");this.plural(/(buffal|tomat)o$/,"$1oes");this.plural(/([ti])um$/,"$1a");this.plural(/([ti])a$/,"$1a");this.plural(/sis$/,"ses");this.plural(/(?:([^f])fe|([lr])f)$/,"$1$2ves");this.plural(/(hive)$/,"$1s");this.plural(/([^aeiouy]|qu)y$/,"$1ies");this.plural(/(x|ch|ss|sh)$/,"$1es");this.plural(/(matr|vert|ind)(?:ix|ex)$/,"$1ices");this.plural(/([m|l])ouse$/,"$1ice");this.plural(/([m|l])ice$/,"$1ice");this.plural(/^(ox)$/,"$1en");this.plural(/^(oxen)$/,"$1");this.plural(/(quiz)$/,"$1zes");this.singular(/s$/,"");this.singular(/(n)ews$/,"$1ews");this.singular(/([ti])a$/,"$1um");this.singular(/((a)naly|(b)a|(d)iagno|(p)arenthe|(p)rogno|(s)ynop|(t)he)ses$/,"$1$2sis");this.singular(/(^analy)ses$/,"$1sis");this.singular(/([^f])ves$/,"$1fe");this.singular(/(hive)s$/,"$1");this.singular(/(tive)s$/,"$1");this.singular(/([lr])ves$/,"$1f");this.singular(/([^aeiouy]|qu)ies$/,"$1y");this.singular(/(s)eries$/,"$1eries");this.singular(/(m)ovies$/,"$1ovie");this.singular(/(x|ch|ss|sh)es$/,"$1");this.singular(/([m|l])ice$/,"$1ouse");this.singular(/(bus)es$/,"$1");this.singular(/(o)es$/,"$1");this.singular(/(shoe)s$/,"$1");this.singular(/(cris|ax|test)es$/,"$1is");this.singular(/(octop|vir)i$/,"$1us");this.singular(/(alias|status)es$/,"$1");this.singular(/^(ox)en/,"$1");this.singular(/(vert|ind)ices$/,"$1ex");this.singular(/(matr)ices$/,"$1ix");this.singular(/(quiz)zes$/,"$1");this.singular(/(database)s$/,"$1");this.irregular("person","people");this.irregular("man","men");this.irregular("child","children");this.irregular("sex","sexes");this.irregular("move","moves");this.irregular("cow","kine");a("equipment information rice money species series fish sheep jeans".split(/\s+/)).each(function(e){this.uncountable(e)},this);return this}};a.mixin(c.resetInflections())})(_);