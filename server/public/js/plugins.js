(function(){function ah(b,o,n){if(b===o){return 0!==b||1/b==1/o}if(null==b||null==o){return b===o}b._chain&&(b=b._wrapped);o._chain&&(o=o._wrapped);if(b.isEqual&&au.isFunction(b.isEqual)){return b.isEqual(o)}if(o.isEqual&&au.isFunction(o.isEqual)){return o.isEqual(b)}var m=ap.call(b);if(m!=ap.call(o)){return !1}switch(m){case"[object String]":return b==""+o;case"[object Number]":return b!=+b?o!=+o:0==b?1/b==1/o:b==+o;case"[object Date]":case"[object Boolean]":return +b==+o;case"[object RegExp]":return b.source==o.source&&b.global==o.global&&b.multiline==o.multiline&&b.ignoreCase==o.ignoreCase}if("object"!=typeof b||"object"!=typeof o){return !1}for(var l=n.length;l--;){if(n[l]==b){return !0}}n.push(b);var l=0,k=!0;if("[object Array]"==m){if(l=b.length,k=l==o.length){for(;l--&&(k=l in b==l in o&&ah(b[l],o[l],n));){}}}else{if("constructor" in b!="constructor" in o||b.constructor!=o.constructor){return !1}for(var j in b){if(au.has(b,j)&&(l++,!(k=au.has(o,j)&&ah(b[j],o[j],n)))){break}}if(k){for(j in o){if(au.has(o,j)&&!l--){break}}k=!l}}n.pop();return k}var ae=this,V=ae._,am={},aq=Array.prototype,al=Object.prototype,at=aq.slice,S=aq.unshift,ap=al.toString,Q=al.hasOwnProperty,T=aq.forEach,R=aq.map,ak=aq.reduce,aj=aq.reduceRight,ag=aq.filter,af=aq.every,ad=aq.some,ai=aq.indexOf,ab=aq.lastIndexOf,al=Array.isArray,h=Object.keys,ac=Function.prototype.bind,au=function(b){return new ao(b)};"undefined"!==typeof exports?("undefined"!==typeof module&&module.exports&&(exports=module.exports=au),exports._=au):ae._=au;au.VERSION="1.3.3";var ar=au.each=au.forEach=function(b,m,l){if(b!=null){if(T&&b.forEach===T){b.forEach(m,l)}else{if(b.length===+b.length){for(var k=0,j=b.length;k<j;k++){if(k in b&&m.call(l,b[k],k,b)===am){break}}}else{for(k in b){if(au.has(b,k)&&m.call(l,b[k],k,b)===am){break}}}}}};au.map=au.collect=function(k,m,j){var l=[];if(k==null){return l}if(R&&k.map===R){return k.map(m,j)}ar(k,function(b,o,n){l[l.length]=m.call(j,b,o,n)});if(k.length===+k.length){l.length=k.length}return l};au.reduce=au.foldl=au.inject=function(b,m,l,k){var j=arguments.length>2;b==null&&(b=[]);if(ak&&b.reduce===ak){k&&(m=au.bind(m,k));return j?b.reduce(m,l):b.reduce(m)}ar(b,function(o,n,p){if(j){l=m.call(k,l,o,n,p)}else{l=o;j=true}});if(!j){throw new TypeError("Reduce of empty array with no initial value")}return l};au.reduceRight=au.foldr=function(b,n,m,l){var k=arguments.length>2;b==null&&(b=[]);if(aj&&b.reduceRight===aj){l&&(n=au.bind(n,l));return k?b.reduceRight(n,m):b.reduceRight(n)}var j=au.toArray(b).reverse();l&&!k&&(n=au.bind(n,l));return k?au.reduce(j,n,m,l):au.reduce(j,n)};au.find=au.detect=function(k,m,j){var l;Z(k,function(b,o,n){if(m.call(j,b,o,n)){l=b;return true}});return l};au.filter=au.select=function(k,m,j){var l=[];if(k==null){return l}if(ag&&k.filter===ag){return k.filter(m,j)}ar(k,function(b,o,n){m.call(j,b,o,n)&&(l[l.length]=b)});return l};au.reject=function(k,m,j){var l=[];if(k==null){return l}ar(k,function(b,o,n){m.call(j,b,o,n)||(l[l.length]=b)});return l};au.every=au.all=function(k,m,j){var l=true;if(k==null){return l}if(af&&k.every===af){return k.every(m,j)}ar(k,function(b,o,n){if(!(l=l&&m.call(j,b,o,n))){return am}});return !!l};var Z=au.some=au.any=function(b,l,k){l||(l=au.identity);var j=false;if(b==null){return j}if(ad&&b.some===ad){return b.some(l,k)}ar(b,function(n,m,o){if(j||(j=l.call(k,n,m,o))){return am}});return !!j};au.include=au.contains=function(k,l){var j=false;if(k==null){return j}if(ai&&k.indexOf===ai){return k.indexOf(l)!=-1}return j=Z(k,function(b){return b===l})};au.invoke=function(b,k){var j=at.call(arguments,2);return au.map(b,function(l){return(au.isFunction(k)?k||l:l[k]).apply(l,j)})};au.pluck=function(b,j){return au.map(b,function(k){return k[j]})};au.max=function(b,l,k){if(!l&&au.isArray(b)&&b[0]===+b[0]){return Math.max.apply(Math,b)}if(!l&&au.isEmpty(b)){return -Infinity}var j={computed:-Infinity};ar(b,function(n,m,o){m=l?l.call(k,n,m,o):n;m>=j.computed&&(j={value:n,computed:m})});return j.value};au.min=function(b,l,k){if(!l&&au.isArray(b)&&b[0]===+b[0]){return Math.min.apply(Math,b)}if(!l&&au.isEmpty(b)){return Infinity}var j={computed:Infinity};ar(b,function(n,m,o){m=l?l.call(k,n,m,o):n;m<j.computed&&(j={value:n,computed:m})});return j.value};au.shuffle=function(k){var j=[],l;ar(k,function(b,m){l=Math.floor(Math.random()*(m+1));j[m]=j[l];j[l]=b});return j};au.sortBy=function(b,l,k){var j=au.isFunction(l)?l:function(m){return m[l]};return au.pluck(au.map(b,function(n,m,o){return{value:n,criteria:j.call(k,n,m,o)}}).sort(function(n,m){var p=n.criteria,o=m.criteria;return p===void 0?1:o===void 0?-1:p<o?-1:p>o?1:0}),"value")};au.groupBy=function(b,l){var k={},j=au.isFunction(l)?l:function(m){return m[l]};ar(b,function(n,m){var o=j(n,m);(k[o]||(k[o]=[])).push(n)});return k};au.sortedIndex=function(b,n,m){m||(m=au.identity);for(var l=0,k=b.length;l<k;){var j=l+k>>1;m(b[j])<m(n)?l=j+1:k=j}return l};au.toArray=function(b){return !b?[]:au.isArray(b)||au.isArguments(b)?at.call(b):b.toArray&&au.isFunction(b.toArray)?b.toArray():au.values(b)};au.size=function(b){return au.isArray(b)?b.length:au.keys(b).length};au.first=au.head=au.take=function(k,j,l){return j!=null&&!l?at.call(k,0,j):k[0]};au.initial=function(k,j,l){return at.call(k,0,k.length-(j==null||l?1:j))};au.last=function(k,j,l){return j!=null&&!l?at.call(k,Math.max(k.length-j,0)):k[k.length-1]};au.rest=au.tail=function(k,j,l){return at.call(k,j==null||l?1:j)};au.compact=function(b){return au.filter(b,function(j){return !!j})};au.flatten=function(b,j){return au.reduce(b,function(k,l){if(au.isArray(l)){return k.concat(j?l:au.flatten(l))}k[k.length]=l;return k},[])};au.without=function(b){return au.difference(b,at.call(arguments,1))};au.uniq=au.unique=function(b,l,k){var k=k?au.map(b,k):b,j=[];b.length<3&&(l=true);au.reduce(k,function(o,n,m){if(l?au.last(o)!==n||!o.length:!au.include(o,n)){o.push(n);j.push(b[m])}return o},[]);return j};au.union=function(){return au.uniq(au.flatten(arguments,true))};au.intersection=au.intersect=function(b){var j=at.call(arguments,1);return au.filter(au.uniq(b),function(k){return au.every(j,function(l){return au.indexOf(l,k)>=0})})};au.difference=function(b){var j=au.flatten(at.call(arguments,1),true);return au.filter(b,function(k){return !au.include(j,k)})};au.zip=function(){for(var b=at.call(arguments),l=au.max(au.pluck(b,"length")),k=Array(l),j=0;j<l;j++){k[j]=au.pluck(b,""+j)}return k};au.indexOf=function(b,l,k){if(b==null){return -1}var j;if(k){k=au.sortedIndex(b,l);return b[k]===l?k:-1}if(ai&&b.indexOf===ai){return b.indexOf(l)}k=0;for(j=b.length;k<j;k++){if(k in b&&b[k]===l){return k}}return -1};au.lastIndexOf=function(k,j){if(k==null){return -1}if(ab&&k.lastIndexOf===ab){return k.lastIndexOf(j)}for(var l=k.length;l--;){if(l in k&&k[l]===j){return l}}return -1};au.range=function(k,j,o){if(arguments.length<=1){j=k||0;k=0}for(var o=arguments[2]||1,n=Math.max(Math.ceil((j-k)/o),0),m=0,l=Array(n);m<n;){l[m++]=k;k=k+o}return l};var X=function(){};au.bind=function(b,l){var k,j;if(b.bind===ac&&ac){return ac.apply(b,at.call(arguments,1))}if(!au.isFunction(b)){throw new TypeError}j=at.call(arguments,2);return k=function(){if(!(this instanceof k)){return b.apply(l,j.concat(at.call(arguments)))}X.prototype=b.prototype;var m=new X,n=b.apply(m,j.concat(at.call(arguments)));return Object(n)===n?n:m}};au.bindAll=function(b){var j=at.call(arguments,1);j.length==0&&(j=au.functions(b));ar(j,function(k){b[k]=au.bind(b[k],b)});return b};au.memoize=function(b,k){var j={};k||(k=au.identity);return function(){var l=k.apply(this,arguments);return au.has(j,l)?j[l]:j[l]=b.apply(this,arguments)}};au.delay=function(k,j){var l=at.call(arguments,2);return setTimeout(function(){return k.apply(null,l)},j)};au.defer=function(b){return au.delay.apply(au,[b,1].concat(at.call(arguments,1)))};au.throttle=function(r,q){var p,o,n,m,l,k,b=au.debounce(function(){l=m=false},q);return function(){p=this;o=arguments;n||(n=setTimeout(function(){n=null;l&&r.apply(p,o);b()},q));m?l=true:k=r.apply(p,o);b();m=true;return k}};au.debounce=function(k,j,m){var l;return function(){var n=this,b=arguments;m&&!l&&k.apply(n,b);clearTimeout(l);l=setTimeout(function(){l=null;m||k.apply(n,b)},j)}};au.once=function(k){var j=false,l;return function(){if(j){return l}j=true;return l=k.apply(this,arguments)}};au.wrap=function(k,j){return function(){var b=[k].concat(at.call(arguments,0));return j.apply(this,b)}};au.compose=function(){var b=arguments;return function(){for(var j=arguments,k=b.length-1;k>=0;k--){j=[b[k].apply(this,j)]}return j[0]}};au.after=function(k,j){return k<=0?j():function(){if(--k<1){return j.apply(this,arguments)}}};au.keys=h||function(b){if(b!==Object(b)){throw new TypeError("Invalid object")}var k=[],j;for(j in b){au.has(b,j)&&(k[k.length]=j)}return k};au.values=function(b){return au.map(b,au.identity)};au.functions=au.methods=function(b){var k=[],j;for(j in b){au.isFunction(b[j])&&k.push(j)}return k.sort()};au.extend=function(b){ar(at.call(arguments,1),function(j){for(var k in j){b[k]=j[k]}});return b};au.pick=function(b){var j={};ar(au.flatten(at.call(arguments,1)),function(k){k in b&&(j[k]=b[k])});return j};au.defaults=function(b){ar(at.call(arguments,1),function(j){for(var k in j){b[k]==null&&(b[k]=j[k])}});return b};au.clone=function(b){return !au.isObject(b)?b:au.isArray(b)?b.slice():au.extend({},b)};au.tap=function(k,j){j(k);return k};au.isEqual=function(k,j){return ah(k,j,[])};au.isEmpty=function(b){if(b==null){return true}if(au.isArray(b)||au.isString(b)){return b.length===0}for(var j in b){if(au.has(b,j)){return false}}return true};au.isElement=function(b){return !!(b&&b.nodeType==1)};au.isArray=al||function(b){return ap.call(b)=="[object Array]"};au.isObject=function(b){return b===Object(b)};au.isArguments=function(b){return ap.call(b)=="[object Arguments]"};au.isArguments(arguments)||(au.isArguments=function(b){return !(!b||!au.has(b,"callee"))});au.isFunction=function(b){return ap.call(b)=="[object Function]"};au.isString=function(b){return ap.call(b)=="[object String]"};au.isNumber=function(b){return ap.call(b)=="[object Number]"};au.isFinite=function(b){return au.isNumber(b)&&isFinite(b)};au.isNaN=function(b){return b!==b};au.isBoolean=function(b){return b===true||b===false||ap.call(b)=="[object Boolean]"};au.isDate=function(b){return ap.call(b)=="[object Date]"};au.isRegExp=function(b){return ap.call(b)=="[object RegExp]"};au.isNull=function(b){return b===null};au.isUndefined=function(b){return b===void 0};au.has=function(k,j){return Q.call(k,j)};au.noConflict=function(){ae._=V;return this};au.identity=function(b){return b};au.times=function(k,j,m){for(var l=0;l<k;l++){j.call(m,l)}};au.escape=function(b){return(""+b).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")};au.result=function(b,k){if(b==null){return null}var j=b[k];return au.isFunction(j)?j.call(b):j};au.mixin=function(b){ar(au.functions(b),function(j){g(j,au[j]=b[j])})};var f=0;au.uniqueId=function(k){var j=f++;return k?k+j:j};au.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var aa=/.^/,an={"\\":"\\","'":"'",r:"\r",n:"\n",t:"\t",u2028:"\u2028",u2029:"\u2029"},Y;for(Y in an){an[an[Y]]=Y}var e=/\\|'|\r|\n|\t|\u2028|\u2029/g,a=/\\(\\|'|r|n|t|u2028|u2029)/g,W=function(b){return b.replace(a,function(k,j){return an[j]})};au.template=function(b,l,k){k=au.defaults(k||{},au.templateSettings);b="__p+='"+b.replace(e,function(m){return"\\"+an[m]}).replace(k.escape||aa,function(n,m){return"'+\n_.escape("+W(m)+")+\n'"}).replace(k.interpolate||aa,function(n,m){return"'+\n("+W(m)+")+\n'"}).replace(k.evaluate||aa,function(n,m){return"';\n"+W(m)+"\n;__p+='"})+"';\n";k.variable||(b="with(obj||{}){\n"+b+"}\n");var b="var __p='';var print=function(){__p+=Array.prototype.join.call(arguments, '')};\n"+b+"return __p;\n",j=new Function(k.variable||"obj","_",b);if(l){return j(l,au)}l=function(m){return j.call(this,m,au)};l.source="function("+(k.variable||"obj")+"){\n"+b+"}";return l};au.chain=function(b){return au(b).chain()};var ao=function(b){this._wrapped=b};au.prototype=ao.prototype;var U=function(b,j){return j?au(b).chain():b},g=function(b,j){ao.prototype[b]=function(){var k=at.call(arguments);S.call(k,this._wrapped);return U(j.apply(au,k),this._chain)}};au.mixin(au);ar("pop,push,reverse,shift,sort,splice,unshift".split(","),function(k){var j=aq[k];ao.prototype[k]=function(){var l=this._wrapped;j.apply(l,arguments);var b=l.length;(k=="shift"||k=="splice")&&b===0&&delete l[0];return U(l,this._chain)}});ar(["concat","join","slice"],function(k){var j=aq[k];ao.prototype[k]=function(){return U(j.apply(this._wrapped,arguments),this._chain)}});ao.prototype.chain=function(){this._chain=true;return this};ao.prototype.value=function(){return this._wrapped}}).call(this);var JSON;if(!JSON){JSON={}}(function(){function f(n){return n<10?"0"+n:n}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(key){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(key){return this.valueOf()}}var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;function quote(string){escapable.lastIndex=0;return escapable.test(string)?'"'+string.replace(escapable,function(a){var c=meta[a];return typeof c==="string"?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+string+'"'}function str(key,holder){var i,k,v,length,mind=gap,partial,value=holder[key];if(value&&typeof value==="object"&&typeof value.toJSON==="function"){value=value.toJSON(key)}if(typeof rep==="function"){value=rep.call(holder,key,value)}switch(typeof value){case"string":return quote(value);case"number":return isFinite(value)?String(value):"null";case"boolean":case"null":return String(value);case"object":if(!value){return"null"}gap+=indent;partial=[];if(Object.prototype.toString.apply(value)==="[object Array]"){length=value.length;for(i=0;i<length;i+=1){partial[i]=str(i,value)||"null"}v=partial.length===0?"[]":gap?"[\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"]":"["+partial.join(",")+"]";gap=mind;return v}if(rep&&typeof rep==="object"){length=rep.length;for(i=0;i<length;i+=1){if(typeof rep[i]==="string"){k=rep[i];v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}else{for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}v=partial.length===0?"{}":gap?"{\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"}":"{"+partial.join(",")+"}";gap=mind;return v}}if(typeof JSON.stringify!=="function"){JSON.stringify=function(value,replacer,space){var i;gap="";indent="";if(typeof space==="number"){for(i=0;i<space;i+=1){indent+=" "}}else{if(typeof space==="string"){indent=space}}rep=replacer;if(replacer&&typeof replacer!=="function"&&(typeof replacer!=="object"||typeof replacer.length!=="number")){throw new Error("JSON.stringify")}return str("",{"":value})}}if(typeof JSON.parse!=="function"){JSON.parse=function(text,reviver){var j;function walk(holder,key){var k,v,value=holder[key];if(value&&typeof value==="object"){for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=walk(value,k);if(v!==undefined){value[k]=v}else{delete value[k]}}}}return reviver.call(holder,key,value)}text=String(text);cx.lastIndex=0;if(cx.test(text)){text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})}if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){j=eval("("+text+")");return typeof reviver==="function"?walk({"":j},""):j}throw new SyntaxError("JSON.parse")}}}());(function(){var K=this,C=K.Backbone,N;N=typeof exports!=="undefined"?exports:K.Backbone={};N.VERSION="0.5.3";var M=K._;if(!M&&typeof require!=="undefined"){M=require("underscore")._}var L=K.jQuery||K.Zepto;N.noConflict=function(){K.Backbone=C;return this};N.emulateHTTP=!1;N.emulateJSON=!1;N.Events={bind:function(f,e,h){var g=this._callbacks||(this._callbacks={});(g[f]||(g[f]=[])).push([e,h]);return this},unbind:function(g,f){var k;if(g){if(k=this._callbacks){if(f){k=k[g];if(!k){return this}for(var j=0,h=k.length;j<h;j++){if(k[j]&&f===k[j][0]){k[j]=null;break}}}else{k[g]=[]}}}else{this._callbacks={}}return this},trigger:function(k){var j,q,p,o,n=2;if(!(q=this._callbacks)){return this}for(;n--;){if(j=n?k:"all",j=q[j]){for(var m=0,l=j.length;m<l;m++){(p=j[m])?(o=n?Array.prototype.slice.call(arguments,1):arguments,p[0].apply(p[1]||this,o)):(j.splice(m,1),m--,l--)}}}return this}};N.Model=function(f,e){var g;f||(f={});if(g=this.defaults){M.isFunction(g)&&(g=g.call(this)),f=M.extend({},g,f)}this.attributes={};this._escapedAttributes={};this.cid=M.uniqueId("c");this.set(f,{silent:!0});this._changed=!1;this._previousAttributes=M.clone(this.attributes);if(e&&e.collection){this.collection=e.collection}this.initialize(f,e)};M.extend(N.Model.prototype,N.Events,{_previousAttributes:null,_changed:!1,idAttribute:"id",initialize:function(){},toJSON:function(){return M.clone(this.attributes)},get:function(e){return this.attributes[e]},escape:function(f){var e;if(e=this._escapedAttributes[f]){return e}e=this.attributes[f];return this._escapedAttributes[f]=(e==null?"":""+e).replace(/&(?!\w+;|#\d+;|#x[\da-f]+;)/gi,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")},has:function(e){return this.attributes[e]!=null},set:function(j,f){f||(f={});if(!j){return this}if(j.attributes){j=j.attributes}var o=this.attributes,n=this._escapedAttributes;if(!f.silent&&this.validate&&!this._performValidation(j,f)){return !1}if(this.idAttribute in j){this.id=j[this.idAttribute]}var m=this._changing;this._changing=!0;for(var l in j){var k=j[l];if(!M.isEqual(o[l],k)){o[l]=k,delete n[l],this._changed=!0,f.silent||this.trigger("change:"+l,this,k,f)}}!m&&!f.silent&&this._changed&&this.change(f);this._changing=!1;return this},unset:function(f,e){if(!(f in this.attributes)){return this}e||(e={});var g={};g[f]=void 0;if(!e.silent&&this.validate&&!this._performValidation(g,e)){return !1}delete this.attributes[f];delete this._escapedAttributes[f];f==this.idAttribute&&delete this.id;this._changed=!0;e.silent||(this.trigger("change:"+f,this,void 0,e),this.change(e));return this},clear:function(f){f||(f={});var e,h=this.attributes,g={};for(e in h){g[e]=void 0}if(!f.silent&&this.validate&&!this._performValidation(g,f)){return !1}this.attributes={};this._escapedAttributes={};this._changed=!0;if(!f.silent){for(e in h){this.trigger("change:"+e,this,void 0,f)}this.change(f)}return this},fetch:function(f){f||(f={});var e=this,g=f.success;f.success=function(k,j,h){if(!e.set(e.parse(k,h),f)){return !1}g&&g(e,k)};f.error=J(f.error,e,f);return(this.sync||N.sync).call(this,"read",this,f)},save:function(g,e){e||(e={});if(g&&!this.set(g,e)){return !1}var k=this,j=e.success;e.success=function(l,n,m){if(!k.set(k.parse(l,m),e)){return !1}j&&j(k,l,m)};e.error=J(e.error,k,e);var h=this.isNew()?"create":"update";return(this.sync||N.sync).call(this,h,this,e)},destroy:function(f){f||(f={});if(this.isNew()){return this.trigger("destroy",this,this.collection,f)}var e=this,g=f.success;f.success=function(h){e.trigger("destroy",e,e.collection,f);g&&g(e,h)};f.error=J(f.error,e,f);return(this.sync||N.sync).call(this,"delete",this,f)},url:function(){var e=H(this.collection)||this.urlRoot||G();if(this.isNew()){return e}return e+(e.charAt(e.length-1)=="/"?"":"/")+encodeURIComponent(this.id)},parse:function(e){return e},clone:function(){return new this.constructor(this)},isNew:function(){return this.id==null},change:function(e){this.trigger("change",this,e);this._previousAttributes=M.clone(this.attributes);this._changed=!1},hasChanged:function(e){if(e){return this._previousAttributes[e]!=this.attributes[e]}return this._changed},changedAttributes:function(f){f||(f=this.attributes);var e=this._previousAttributes,h=!1,g;for(g in f){M.isEqual(e[g],f[g])||(h=h||{},h[g]=f[g])}return h},previous:function(e){if(!e||!this._previousAttributes){return null}return this._previousAttributes[e]},previousAttributes:function(){return M.clone(this._previousAttributes)},_performValidation:function(f,e){var g=this.validate(f);if(g){return e.error?e.error(this,g,e):this.trigger("error",this,g,e),!1}return !0}});N.Collection=function(f,e){e||(e={});if(e.comparator){this.comparator=e.comparator}M.bindAll(this,"_onModelEvent","_removeReference");this._reset();f&&this.reset(f,{silent:!0});this.initialize.apply(this,arguments)};M.extend(N.Collection.prototype,N.Events,{model:N.Model,initialize:function(){},toJSON:function(){return this.map(function(e){return e.toJSON()})},add:function(f,e){if(M.isArray(f)){for(var h=0,g=f.length;h<g;h++){this._add(f[h],e)}}else{this._add(f,e)}return this},remove:function(f,e){if(M.isArray(f)){for(var h=0,g=f.length;h<g;h++){this._remove(f[h],e)}}else{this._remove(f,e)}return this},get:function(e){if(e==null){return null}return this._byId[e.id!=null?e.id:e]},getByCid:function(e){return e&&this._byCid[e.cid||e]},at:function(e){return this.models[e]},sort:function(e){e||(e={});if(!this.comparator){throw Error("Cannot sort a set without a comparator")}this.models=this.sortBy(this.comparator);e.silent||this.trigger("reset",this,e);return this},pluck:function(e){return M.map(this.models,function(f){return f.get(e)})},reset:function(f,e){f||(f=[]);e||(e={});this.each(this._removeReference);this._reset();this.add(f,{silent:!0});e.silent||this.trigger("reset",this,e);return this},fetch:function(f){f||(f={});var e=this,g=f.success;f.success=function(k,h,j){e[f.add?"add":"reset"](e.parse(k,j),f);g&&g(e,k)};f.error=J(f.error,e,f);return(this.sync||N.sync).call(this,"read",this,f)},create:function(f,e){var h=this;e||(e={});f=this._prepareModel(f,e);if(!f){return !1}var g=e.success;e.success=function(j,l,k){h.add(j,e);g&&g(j,l,k)};f.save(null,e);return f},parse:function(e){return e},chain:function(){return M(this.models).chain()},_reset:function(){this.length=0;this.models=[];this._byId={};this._byCid={}},_prepareModel:function(f,e){if(f instanceof N.Model){if(!f.collection){f.collection=this}}else{var g=f;f=new this.model(g,{collection:this});f.validate&&!f._performValidation(g,e)&&(f=!1)}return f},_add:function(f,e){e||(e={});f=this._prepareModel(f,e);if(!f){return !1}var g=this.getByCid(f);if(g){throw Error(["Can't add the same model to a set twice",g.id])}this._byId[f.id]=f;this._byCid[f.cid]=f;this.models.splice(e.at!=null?e.at:this.comparator?this.sortedIndex(f,this.comparator):this.length,0,f);f.bind("all",this._onModelEvent);this.length++;e.silent||f.trigger("add",f,this,e);return f},_remove:function(f,e){e||(e={});f=this.getByCid(f)||this.get(f);if(!f){return null}delete this._byId[f.id];delete this._byCid[f.cid];this.models.splice(this.indexOf(f),1);this.length--;e.silent||f.trigger("remove",f,this,e);this._removeReference(f);return f},_removeReference:function(e){this==e.collection&&delete e.collection;e.unbind("all",this._onModelEvent)},_onModelEvent:function(f,e,h,g){(f=="add"||f=="remove")&&h!=this||(f=="destroy"&&this._remove(e,g),e&&f==="change:"+e.idAttribute&&(delete this._byId[e.previous(e.idAttribute)],this._byId[e.id]=e),this.trigger.apply(this,arguments))}});M.each(["forEach","each","map","reduce","reduceRight","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","sortBy","sortedIndex","toArray","size","first","rest","last","without","indexOf","lastIndexOf","isEmpty","groupBy"],function(e){N.Collection.prototype[e]=function(){return M[e].apply(M,[this.models].concat(M.toArray(arguments)))}});N.Router=function(e){e||(e={});if(e.routes){this.routes=e.routes}this._bindRoutes();this.initialize.apply(this,arguments)};var B=/:([\w\d]+)/g,A=/\*([\w\d]+)/g,z=/[-[\]{}()+?.,\\^$|#\s]/g;M.extend(N.Router.prototype,N.Events,{initialize:function(){},route:function(f,e,g){N.history||(N.history=new N.History);M.isRegExp(f)||(f=this._routeToRegExp(f));N.history.route(f,M.bind(function(h){h=this._extractParameters(f,h);g.apply(this,h);this.trigger.apply(this,["route:"+e].concat(h))},this))},navigate:function(f,e){N.history.navigate(f,e)},_bindRoutes:function(){if(this.routes){var f=[],e;for(e in this.routes){f.unshift([e,this.routes[e]])}e=0;for(var g=f.length;e<g;e++){this.route(f[e][0],f[e][1],this[f[e][1]])}}},_routeToRegExp:function(e){e=e.replace(z,"\\$&").replace(B,"([^/]*)").replace(A,"(.*?)");return RegExp("^"+e+"$")},_extractParameters:function(f,e){return f.exec(e).slice(1)}});N.History=function(){this.handlers=[];M.bindAll(this,"checkUrl")};var I=/^#*/,y=/msie [\w.]+/,F=!1;M.extend(N.History.prototype,{interval:50,getFragment:function(f,e){if(f==null){if(this._hasPushState||e){f=window.location.pathname;var g=window.location.search;g&&(f+=g);f.indexOf(this.options.root)==0&&(f=f.substr(this.options.root.length))}else{f=window.location.hash}}return decodeURIComponent(f.replace(I,""))},start:function(f){if(F){throw Error("Backbone.history has already been started")}this.options=M.extend({},{root:"/"},this.options,f);this._wantsPushState=!!this.options.pushState;this._hasPushState=!(!this.options.pushState||!window.history||!window.history.pushState);f=this.getFragment();var e=document.documentMode;if(e=y.exec(navigator.userAgent.toLowerCase())&&(!e||e<=7)){this.iframe=L('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,this.navigate(f)}this._hasPushState?L(window).bind("popstate",this.checkUrl):"onhashchange" in window&&!e?L(window).bind("hashchange",this.checkUrl):setInterval(this.checkUrl,this.interval);this.fragment=f;F=!0;f=window.location;e=f.pathname==this.options.root;if(this._wantsPushState&&!this._hasPushState&&!e){return this.fragment=this.getFragment(null,!0),window.location.replace(this.options.root+"#"+this.fragment),!0}else{if(this._wantsPushState&&this._hasPushState&&e&&f.hash){this.fragment=f.hash.replace(I,""),window.history.replaceState({},document.title,f.protocol+"//"+f.host+this.options.root+this.fragment)}}if(!this.options.silent){return this.loadUrl()}},route:function(f,e){this.handlers.unshift({route:f,callback:e})},checkUrl:function(){var e=this.getFragment();e==this.fragment&&this.iframe&&(e=this.getFragment(this.iframe.location.hash));if(e==this.fragment||e==decodeURIComponent(this.fragment)){return !1}this.iframe&&this.navigate(e);this.loadUrl()||this.loadUrl(window.location.hash)},loadUrl:function(f){var e=this.fragment=this.getFragment(f);return M.any(this.handlers,function(g){if(g.route.test(e)){return g.callback(e),!0}})},navigate:function(f,e){var h=(f||"").replace(I,"");if(!(this.fragment==h||this.fragment==decodeURIComponent(h))){if(this._hasPushState){var g=window.location;h.indexOf(this.options.root)!=0&&(h=this.options.root+h);this.fragment=h;window.history.pushState({},document.title,g.protocol+"//"+g.host+h)}else{if(window.location.hash=this.fragment=h,this.iframe&&h!=this.getFragment(this.iframe.location.hash)){this.iframe.document.open().close(),this.iframe.location.hash=h}}e&&this.loadUrl(f)}}});N.View=function(e){this.cid=M.uniqueId("view");this._configure(e||{});this._ensureElement();this.delegateEvents();this.initialize.apply(this,arguments)};var x=/^(\S+)\s*(.*)$/,E=["model","collection","el","id","attributes","className","tagName"];M.extend(N.View.prototype,N.Events,{tagName:"div",$:function(e){return L(e,this.el)},initialize:function(){},render:function(){return this},remove:function(){L(this.el).remove();return this},make:function(f,e,g){f=document.createElement(f);e&&L(f).attr(e);g&&L(f).html(g);return f},delegateEvents:function(g){if(g||(g=this.events)){for(var f in M.isFunction(g)&&(g=g.call(this)),L(this.el).unbind(".delegateEvents"+this.cid),g){var k=this[g[f]];if(!k){throw Error('Event "'+g[f]+'" does not exist')}var j=f.match(x),h=j[1];j=j[2];k=M.bind(k,this);h+=".delegateEvents"+this.cid;j===""?L(this.el).bind(h,k):L(this.el).delegate(j,h,k)}}},_configure:function(f){this.options&&(f=M.extend({},this.options,f));for(var e=0,h=E.length;e<h;e++){var g=E[e];f[g]&&(this[g]=f[g])}this.options=f},_ensureElement:function(){if(this.el){if(M.isString(this.el)){this.el=L(this.el).get(0)}}else{var e=this.attributes||{};if(this.id){e.id=this.id}if(this.className){e["class"]=this.className}this.el=this.make(this.tagName,e)}}});N.Model.extend=N.Collection.extend=N.Router.extend=N.View.extend=function(f,e){var g=b(this,f,e);g.extend=this.extend;return g};var a={create:"POST",update:"PUT","delete":"DELETE",read:"GET"};N.sync=function(f,e,h){var g=a[f];h=M.extend({type:g,dataType:"json"},h);if(!h.url){h.url=H(e)||G()}if(!h.data&&e&&(f=="create"||f=="update")){h.contentType="application/json",h.data=JSON.stringify(e.toJSON())}if(N.emulateJSON){h.contentType="application/x-www-form-urlencoded",h.data=h.data?{model:h.data}:{}}if(N.emulateHTTP&&(g==="PUT"||g==="DELETE")){if(N.emulateJSON){h.data._method=g}h.type="POST";h.beforeSend=function(j){j.setRequestHeader("X-HTTP-Method-Override",g)}}if(h.type!=="GET"&&!N.emulateJSON){h.processData=!1}return L.ajax(h)};var D=function(){},b=function(f,e,h){var g;g=e&&e.hasOwnProperty("constructor")?e.constructor:function(){return f.apply(this,arguments)};M.extend(g,f);D.prototype=f.prototype;g.prototype=new D;e&&M.extend(g.prototype,e);h&&M.extend(g,h);g.prototype.constructor=g;g.__super__=f.prototype;return g},H=function(e){if(!e||!e.url){return null}return M.isFunction(e.url)?e.url():e.url},G=function(){throw Error('A "url" property or function must be specified')},J=function(f,e,g){return function(h){f?f(e,h,g):e.trigger("error",e,h,g)}}}).call(this);!function(e){e.fn.xdatepicker=e.fn.datepicker;e.xdatepicker=e.datepicker;var a=function(g,f){this.element=e(g);this.format=b.parseFormat(f.format||this.element.data("date-format")||"mm/dd/yyyy");this.picker=e(b.template).appendTo("body").on({click:e.proxy(this.click,this),mousedown:e.proxy(this.mousedown,this)});this.isInput=this.element.is("input");this.component=this.element.is(".date")?this.element.find(".add-on"):false;if(this.isInput){this.element.on({focus:e.proxy(this.show,this),blur:e.proxy(this.hide,this),keyup:e.proxy(this.update,this)})}else{if(this.component){this.component.on("click",e.proxy(this.show,this))}else{this.element.on("click",e.proxy(this.show,this))}}this.viewMode=0;this.weekStart=f.weekStart||this.element.data("date-weekstart")||0;this.weekEnd=this.weekStart==0?6:this.weekStart-1;this.fillDow();this.fillMonths();this.update();this.showMode()};a.prototype={constructor:a,show:function(f){this.picker.show();this.height=this.component?this.component.outerHeight():this.element.outerHeight();this.place();e(window).on("resize",e.proxy(this.place,this));if(f){f.stopPropagation();f.preventDefault()}if(!this.isInput){e(document).on("mousedown",e.proxy(this.hide,this))}this.element.trigger({type:"show",date:this.date})},hide:function(){this.picker.hide();e(window).off("resize",this.place);this.viewMode=0;this.showMode();if(!this.isInput){e(document).off("mousedown",this.hide)}this.setValue();this.element.trigger({type:"hide",date:this.date})},setValue:function(){var f=b.formatDate(this.date,this.format);if(!this.isInput){if(this.component){this.element.find("input").prop("value",f)}this.element.data("date",f)}else{this.element.prop("value",f)}},place:function(){var f=this.component?this.component.offset():this.element.offset();this.picker.css({top:f.top+this.height,left:f.left})},update:function(){this.date=b.parseDate(this.isInput?this.element.prop("value"):this.element.data("date"),this.format);this.viewDate=new Date(this.date);this.fill()},fillDow:function(){var f=this.weekStart;var g="<tr>";while(f<this.weekStart+7){g+='<th class="dow">'+b.dates.daysMin[(f++)%7]+"</th>"}g+="</tr>";this.picker.find(".datepicker-days thead").append(g)},fillMonths:function(){var g="";var f=0;while(f<12){g+='<span class="month">'+b.dates.monthsShort[f++]+"</span>"}this.picker.find(".datepicker-months td").append(g)},fill:function(){var p=new Date(this.viewDate),q=p.getFullYear(),o=p.getMonth(),g=this.date.valueOf();this.picker.find(".datepicker-days th:eq(1)").text(b.dates.months[o]+" "+q);var k=new Date(q,o-1,28,0,0,0,0),r=b.getDaysInMonth(k.getFullYear(),k.getMonth());k.setDate(r);k.setDate(r-(k.getDay()-this.weekStart+7)%7);var m=new Date(k);m.setDate(m.getDate()+42);m=m.valueOf();html=[];var j;while(k.valueOf()<m){if(k.getDay()==this.weekStart){html.push("<tr>")}j="";if(k.getMonth()<o){j+=" old"}else{if(k.getMonth()>o){j+=" new"}}if(k.valueOf()==g){j+=" active"}html.push('<td class="day'+j+'">'+k.getDate()+"</td>");if(k.getDay()==this.weekEnd){html.push("</tr>")}k.setDate(k.getDate()+1)}this.picker.find(".datepicker-days tbody").empty().append(html.join(""));var n=this.date.getFullYear();var f=this.picker.find(".datepicker-months").find("th:eq(1)").text(q).end().find("span").removeClass("active");if(n==q){f.eq(this.date.getMonth()).addClass("active")}html="";q=parseInt(q/10,10)*10;var h=this.picker.find(".datepicker-years").find("th:eq(1)").text(q+"-"+(q+9)).end().find("td");q-=1;for(var l=-1;l<11;l++){html+='<span class="year'+(l==-1||l==10?" old":"")+(n==q?" active":"")+'">'+q+"</span>";q+=1}h.html(html)},click:function(k){k.stopPropagation();k.preventDefault();var j=e(k.target).closest("span, td, th");if(j.length==1){switch(j[0].nodeName.toLowerCase()){case"th":switch(j[0].className){case"switch":this.showMode(1);break;case"prev":case"next":this.viewDate["set"+b.modes[this.viewMode].navFnc].call(this.viewDate,this.viewDate["get"+b.modes[this.viewMode].navFnc].call(this.viewDate)+b.modes[this.viewMode].navStep*(j[0].className=="prev"?-1:1));this.fill();break}break;case"span":if(j.is(".month")){var h=j.parent().find("span").index(j);this.viewDate.setMonth(h)}else{var g=parseInt(j.text(),10)||0;this.viewDate.setFullYear(g)}this.showMode(-1);this.fill();break;case"td":if(j.is(".day")){var f=parseInt(j.text(),10)||1;var h=this.viewDate.getMonth();if(j.is(".old")){h-=1}else{if(j.is(".new")){h+=1}}var g=this.viewDate.getFullYear();this.date=new Date(g,h,f,0,0,0,0);this.viewDate=new Date(g,h,f,0,0,0,0);this.fill();this.setValue();this.element.trigger({type:"changeDate",date:this.date})}break}}},mousedown:function(f){f.stopPropagation();f.preventDefault()},showMode:function(f){if(f){this.viewMode=Math.max(0,Math.min(2,this.viewMode+f))}this.picker.find(">div").hide().filter(".datepicker-"+b.modes[this.viewMode].clsName).show()}};e.fn.datepicker=function(f){return this.each(function(){var j=e(this),h=j.data("datepicker"),g=typeof f=="object"&&f;if(!h){j.data("datepicker",(h=new a(this,e.extend({},e.fn.datepicker.defaults,g))))}if(typeof f=="string"){h[f]()}})};e.fn.datepicker.defaults={};e.fn.datepicker.Constructor=a;var b={modes:[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}],dates:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},isLeapYear:function(f){return(((f%4===0)&&(f%100!==0))||(f%400===0))},getDaysInMonth:function(f,g){return[31,(b.isLeapYear(f)?29:28),31,30,31,30,31,31,30,31,30,31][g]},parseFormat:function(h){var g=h.match(/[.\/-].*?/),f=h.split(/\W+/);if(!g||!f||f.length==0){throw new Error("Invalid date format.")}return{separator:g,parts:f}},parseDate:function(f,k){var j=f.split(k.separator),f=new Date(1970,1,1,0,0,0),l;if(j.length==k.parts.length){for(var h=0,g=k.parts.length;h<g;h++){l=parseInt(j[h],10)||1;switch(k.parts[h]){case"dd":case"d":f.setDate(l);break;case"mm":case"m":f.setMonth(l-1);break;case"yy":f.setFullYear(2000+l);break;case"yyyy":f.setFullYear(l);break}}}return f},formatDate:function(f,j){var k={d:f.getDate(),m:f.getMonth()+1,yy:f.getFullYear().toString().substring(2),yyyy:f.getFullYear()};k.dd=(k.d<10?"0":"")+k.d;k.mm=(k.m<10?"0":"")+k.m;var f=[];for(var h=0,g=j.parts.length;h<g;h++){f.push(k[j.parts[h]])}return f.join(j.separator)},headTemplate:'<thead><tr><th class="prev"><i class="icon-arrow-left"/></th><th colspan="5" class="switch"></th><th class="next"><i class="icon-arrow-right"/></th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>'};b.template='<div class="datepicker dropdown-menu"><div class="datepicker-days"><table class=" table-condensed">'+b.headTemplate+'<tbody></tbody></table></div><div class="datepicker-months"><table class="table-condensed">'+b.headTemplate+b.contTemplate+'</table></div><div class="datepicker-years"><table class="table-condensed">'+b.headTemplate+b.contTemplate+"</table></div></div>"}(window.jQuery);!function(b){var a=function(f,e){this.init("tooltip",f,e)};a.prototype={constructor:a,init:function(h,g,f){var j,e;this.type=h;this.$element=b(g);this.options=this.getOptions(f);this.enabled=true;if(this.options.trigger!="manual"){j=this.options.trigger=="hover"?"mouseenter":"focus";e=this.options.trigger=="hover"?"mouseleave":"blur";this.$element.on(j,this.options.selector,b.proxy(this.enter,this));this.$element.on(e,this.options.selector,b.proxy(this.leave,this))}this.options.selector?(this._options=b.extend({},this.options,{trigger:"manual",selector:""})):this.fixTitle()},getOptions:function(e){e=b.extend({},b.fn[this.type].defaults,e,this.$element.data());if(e.delay&&typeof e.delay=="number"){e.delay={show:e.delay,hide:e.delay}}return e},enter:function(g){var f=b(g.currentTarget)[this.type](this._options).data(this.type);if(!f.options.delay||!f.options.delay.show){f.show()}else{f.hoverState="in";setTimeout(function(){if(f.hoverState=="in"){f.show()}},f.options.delay.show)}},leave:function(g){var f=b(g.currentTarget)[this.type](this._options).data(this.type);if(!f.options.delay||!f.options.delay.hide){f.hide()}else{f.hoverState="out";setTimeout(function(){if(f.hoverState=="out"){f.hide()}},f.options.delay.hide)}},show:function(){var j,e,l,g,k,f,h;if(this.hasContent()&&this.enabled){j=this.tip();this.setContent();if(this.options.animation){j.addClass("fade")}f=typeof this.options.placement=="function"?this.options.placement.call(this,j[0],this.$element[0]):this.options.placement;e=/in/.test(f);j.remove().css({top:0,left:0,display:"block"}).appendTo(e?this.$element:document.body);l=this.getPosition(e);g=j[0].offsetWidth;k=j[0].offsetHeight;switch(e?f.split(" ")[1]:f){case"bottom":h={top:l.top+l.height,left:l.left+l.width/2-g/2};break;case"top":h={top:l.top-k,left:l.left+l.width/2-g/2};break;case"left":h={top:l.top+l.height/2-k/2,left:l.left-g};break;case"right":h={top:l.top+l.height/2-k/2,left:l.left+l.width};break}j.css(h).addClass(f).addClass("in")}},setContent:function(){var e=this.tip();e.find(".tooltip-inner").html(this.getTitle());e.removeClass("fade in top bottom left right")},hide:function(){var e=this,f=this.tip();f.removeClass("in");function g(){var h=setTimeout(function(){f.off(b.support.transition.end).remove()},500);f.one(b.support.transition.end,function(){clearTimeout(h);f.remove()})}b.support.transition&&this.$tip.hasClass("fade")?g():f.remove()},fixTitle:function(){var e=this.$element;if(e.attr("title")||typeof(e.attr("data-original-title"))!="string"){e.attr("data-original-title",e.attr("title")||"").removeAttr("title")}},hasContent:function(){return this.getTitle()},getPosition:function(e){return b.extend({},(e?{top:0,left:0}:this.$element.offset()),{width:this.$element[0].offsetWidth,height:this.$element[0].offsetHeight})},getTitle:function(){var g,e=this.$element,f=this.options;g=e.attr("data-original-title")||(typeof f.title=="function"?f.title.call(e[0]):f.title);g=(g||"").toString().replace(/(^\s*|\s*$)/,"");return g},tip:function(){return this.$tip=this.$tip||b(this.options.template)},validate:function(){if(!this.$element[0].parentNode){this.hide();this.$element=null;this.options=null}},enable:function(){this.enabled=true},disable:function(){this.enabled=false},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(){this[this.tip().hasClass("in")?"hide":"show"]()}};b.fn.tooltip=function(e){return this.each(function(){var h=b(this),g=h.data("tooltip"),f=typeof e=="object"&&e;if(!g){h.data("tooltip",(g=new a(this,f)))}if(typeof e=="string"){g[e]()}})};b.fn.tooltip.Constructor=a;b.fn.tooltip.defaults={animation:true,delay:0,selector:false,placement:"top",trigger:"hover",title:"",template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>'}}(window.jQuery);!function(a){a(function(){a.support.transition=(function(){var b=(function(){var g=document.createElement("bootstrap"),f={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd",transition:"transitionend"},e;for(e in f){if(g.style[e]!==undefined){return f[e]}}}());return b&&{end:b}})()})}(window.jQuery);!function(e){var b='[data-dismiss="alert"]',a=function(f){e(f).on("click",b,this.close)};a.prototype.close=function(k){var j=e(this),g=j.attr("data-target"),h;if(!g){g=j.attr("href");g=g&&g.replace(/.*(?=#[^\s]*$)/,"")}h=e(g);k&&k.preventDefault();h.length||(h=j.hasClass("alert")?j:j.parent());h.trigger(k=e.Event("close"));if(k.isDefaultPrevented()){return}h.removeClass("in");function f(){h.trigger("closed").remove()}e.support.transition&&h.hasClass("fade")?h.on(e.support.transition.end,f):f()};e.fn.alert=function(f){return this.each(function(){var h=e(this),g=h.data("alert");if(!g){h.data("alert",(g=new a(this)))}if(typeof f=="string"){g[f].call(h)}})};e.fn.alert.Constructor=a;e(function(){e("body").on("click.alert.data-api",b,a.prototype.close)})}(window.jQuery);!function(a){var b=function(f,e){this.$element=a(f);this.options=e;this.options.slide&&this.slide(this.options.slide);this.options.pause=="hover"&&this.$element.on("mouseenter",a.proxy(this.pause,this)).on("mouseleave",a.proxy(this.cycle,this))};b.prototype={cycle:function(f){if(!f){this.paused=false}this.options.interval&&!this.paused&&(this.interval=setInterval(a.proxy(this.next,this),this.options.interval));return this},to:function(j){var e=this.$element.find(".active"),f=e.parent().children(),g=f.index(e),h=this;if(j>(f.length-1)||j<0){return}if(this.sliding){return this.$element.one("slid",function(){h.to(j)})}if(g==j){return this.pause().cycle()}return this.slide(j>g?"next":"prev",a(f[j]))},pause:function(f){if(!f){this.paused=true}clearInterval(this.interval);this.interval=null;return this},next:function(){if(this.sliding){return}return this.slide("next")},prev:function(){if(this.sliding){return}return this.slide("prev")},slide:function(m,g){var o=this.$element.find(".active"),f=g||o[m](),l=this.interval,n=m=="next"?"left":"right",h=m=="next"?"first":"last",j=this,k=a.Event("slide");this.sliding=true;l&&this.pause();f=f.length?f:this.$element.find(".item")[h]();if(f.hasClass("active")){return}if(a.support.transition&&this.$element.hasClass("slide")){this.$element.trigger(k);if(k.isDefaultPrevented()){return}f.addClass(m);f[0].offsetWidth;o.addClass(n);f.addClass(n);this.$element.one(a.support.transition.end,function(){f.removeClass([m,n].join(" ")).addClass("active");o.removeClass(["active",n].join(" "));j.sliding=false;setTimeout(function(){j.$element.trigger("slid")},0)})}else{this.$element.trigger(k);if(k.isDefaultPrevented()){return}o.removeClass("active");f.addClass("active");this.sliding=false;this.$element.trigger("slid")}l&&this.cycle();return this}};a.fn.carousel=function(e){return this.each(function(){var h=a(this),g=h.data("carousel"),f=a.extend({},a.fn.carousel.defaults,typeof e=="object"&&e);if(!g){h.data("carousel",(g=new b(this,f)))}if(typeof e=="number"){g.to(e)}else{if(typeof e=="string"||(e=f.slide)){g[e]()}else{if(f.interval){g.cycle()}}}})};a.fn.carousel.defaults={interval:5000,pause:"hover"};a.fn.carousel.Constructor=b;a(function(){a("body").on("click.carousel.data-api","[data-slide]",function(k){var j=a(this),g,f=a(j.attr("data-target")||(g=j.attr("href"))&&g.replace(/.*(?=#[^\s]+$)/,"")),h=!f.data("modal")&&a.extend({},f.data(),j.data());f.carousel(h);k.preventDefault()})})}(window.jQuery);!function(a){var b=function(f,e){this.$element=a(f);this.options=a.extend({},a.fn.collapse.defaults,e);if(this.options.parent){this.$parent=a(this.options.parent)}this.options.toggle&&this.toggle()};b.prototype={constructor:b,dimension:function(){var e=this.$element.hasClass("width");return e?"width":"height"},show:function(){var h,e,g,f;if(this.transitioning){return}h=this.dimension();e=a.camelCase(["scroll",h].join("-"));g=this.$parent&&this.$parent.find("> .accordion-group > .in");if(g&&g.length){f=g.data("collapse");if(f&&f.transitioning){return}g.collapse("hide");f||g.data("collapse",null)}this.$element[h](0);this.transition("addClass",a.Event("show"),"shown");this.$element[h](this.$element[0][e])},hide:function(){var e;if(this.transitioning){return}e=this.dimension();this.reset(this.$element[e]());this.transition("removeClass",a.Event("hide"),"hidden");this.$element[e](0)},reset:function(e){var f=this.dimension();this.$element.removeClass("collapse")[f](e||"auto")[0].offsetWidth;this.$element[e!==null?"addClass":"removeClass"]("collapse");return this},transition:function(j,f,g){var h=this,e=function(){if(f=="show"){h.reset()}h.transitioning=0;h.$element.trigger(g)};this.$element.trigger(f);if(f.isDefaultPrevented()){return}this.transitioning=1;this.$element[j]("in");a.support.transition&&this.$element.hasClass("collapse")?this.$element.one(a.support.transition.end,e):e()},toggle:function(){this[this.$element.hasClass("in")?"hide":"show"]()}};a.fn.collapse=function(e){return this.each(function(){var h=a(this),g=h.data("collapse"),f=typeof e=="object"&&e;if(!g){h.data("collapse",(g=new b(this,f)))}if(typeof e=="string"){g[e]()}})};a.fn.collapse.defaults={toggle:true};a.fn.collapse.Constructor=b;a(function(){a("body").on("click.collapse.data-api","[data-toggle=collapse]",function(k){var j=a(this),f,h=j.attr("data-target")||k.preventDefault()||(f=j.attr("href"))&&f.replace(/.*(?=#[^\s]+$)/,""),g=a(h).data("collapse")?"toggle":j.data();a(h).collapse(g)})})}(window.jQuery);!function(f){var b='[data-toggle="dropdown"]',a=function(h){var g=f(h).on("click.dropdown.data-api",this.toggle);f("html").on("click.dropdown.data-api",function(){g.parent().removeClass("open")})};a.prototype={constructor:a,toggle:function(l){var k=f(this),j,g,h;if(k.is(".disabled, :disabled")){return}g=k.attr("data-target");if(!g){g=k.attr("href");g=g&&g.replace(/.*(?=#[^\s]*$)/,"")}j=f(g);j.length||(j=k.parent());h=j.hasClass("open");e();if(!h){j.toggleClass("open")}return false}};function e(){f(b).parent().removeClass("open")}f.fn.dropdown=function(g){return this.each(function(){var j=f(this),h=j.data("dropdown");if(!h){j.data("dropdown",(h=new a(this)))}if(typeof g=="string"){h[g].call(j)}})};f.fn.dropdown.Constructor=a;f(function(){f("html").on("click.dropdown.data-api",e);f("body").on("click.dropdown",".dropdown form",function(g){g.stopPropagation()}).on("click.dropdown.data-api",b,a.prototype.toggle)})}(window.jQuery);!function(g){var a=function(l,k){this.options=k;this.$element=g(l).delegate('[data-dismiss="modal"]',"click.dismiss.modal",g.proxy(this.hide,this))};a.prototype={constructor:a,toggle:function(){return this[!this.isShown?"show":"hide"]()},show:function(){var k=this,l=g.Event("show");this.$element.trigger(l);if(this.isShown||l.isDefaultPrevented()){return}g("body").addClass("modal-open");this.isShown=true;f.call(this);e.call(this,function(){var m=g.support.transition&&k.$element.hasClass("fade");if(!k.$element.parent().length){k.$element.appendTo(document.body)}k.$element.show();if(m){k.$element[0].offsetWidth}k.$element.addClass("in");m?k.$element.one(g.support.transition.end,function(){k.$element.trigger("shown")}):k.$element.trigger("shown")})},hide:function(l){l&&l.preventDefault();var k=this;l=g.Event("hide");this.$element.trigger(l);if(!this.isShown||l.isDefaultPrevented()){return}this.isShown=false;g("body").removeClass("modal-open");f.call(this);this.$element.removeClass("in");g.support.transition&&this.$element.hasClass("fade")?j.call(this):h.call(this)}};function j(){var k=this,l=setTimeout(function(){k.$element.off(g.support.transition.end);h.call(k)},500);this.$element.one(g.support.transition.end,function(){clearTimeout(l);h.call(k)})}function h(k){this.$element.hide().trigger("hidden");e.call(this)}function e(n){var m=this,l=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var k=g.support.transition&&l;this.$backdrop=g('<div class="modal-backdrop '+l+'" />').appendTo(document.body);if(this.options.backdrop!="static"){this.$backdrop.click(g.proxy(this.hide,this))}if(k){this.$backdrop[0].offsetWidth}this.$backdrop.addClass("in");k?this.$backdrop.one(g.support.transition.end,n):n()}else{if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");g.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(g.support.transition.end,g.proxy(b,this)):b.call(this)}else{if(n){n()}}}}function b(){this.$backdrop.remove();this.$backdrop=null}function f(){var k=this;if(this.isShown&&this.options.keyboard){g(document).on("keyup.dismiss.modal",function(l){l.which==27&&k.hide()})}else{if(!this.isShown){g(document).off("keyup.dismiss.modal")}}}g.fn.modal=function(k){return this.each(function(){var n=g(this),m=n.data("modal"),l=g.extend({},g.fn.modal.defaults,n.data(),typeof k=="object"&&k);if(!m){n.data("modal",(m=new a(this,l)))}if(typeof k=="string"){m[k]()}else{if(l.show){m.show()}}})};g.fn.modal.defaults={backdrop:true,keyboard:true,show:true};g.fn.modal.Constructor=a;g(function(){g("body").on("click.modal.data-api",'[data-toggle="modal"]',function(o){var n=g(this),l,k=g(n.attr("data-target")||(l=n.attr("href"))&&l.replace(/.*(?=#[^\s]+$)/,"")),m=k.data("modal")?"toggle":g.extend({},k.data(),n.data());o.preventDefault();k.modal(m)})})}(window.jQuery);!function(b){var a=function(f,e){this.init("tooltip",f,e)};a.prototype={constructor:a,init:function(h,g,f){var j,e;this.type=h;this.$element=b(g);this.options=this.getOptions(f);this.enabled=true;if(this.options.trigger!="manual"){j=this.options.trigger=="hover"?"mouseenter":"focus";e=this.options.trigger=="hover"?"mouseleave":"blur";this.$element.on(j,this.options.selector,b.proxy(this.enter,this));this.$element.on(e,this.options.selector,b.proxy(this.leave,this))}this.options.selector?(this._options=b.extend({},this.options,{trigger:"manual",selector:""})):this.fixTitle()},getOptions:function(e){e=b.extend({},b.fn[this.type].defaults,e,this.$element.data());if(e.delay&&typeof e.delay=="number"){e.delay={show:e.delay,hide:e.delay}}return e},enter:function(g){var f=b(g.currentTarget)[this.type](this._options).data(this.type);if(!f.options.delay||!f.options.delay.show){return f.show()}clearTimeout(this.timeout);f.hoverState="in";this.timeout=setTimeout(function(){if(f.hoverState=="in"){f.show()}},f.options.delay.show)},leave:function(g){var f=b(g.currentTarget)[this.type](this._options).data(this.type);if(!f.options.delay||!f.options.delay.hide){return f.hide()}clearTimeout(this.timeout);f.hoverState="out";this.timeout=setTimeout(function(){if(f.hoverState=="out"){f.hide()}},f.options.delay.hide)},show:function(){var j,e,l,g,k,f,h;if(this.hasContent()&&this.enabled){j=this.tip();this.setContent();if(this.options.animation){j.addClass("fade")}f=typeof this.options.placement=="function"?this.options.placement.call(this,j[0],this.$element[0]):this.options.placement;e=/in/.test(f);j.remove().css({top:0,left:0,display:"block"}).appendTo(e?this.$element:document.body);l=this.getPosition(e);g=j[0].offsetWidth;k=j[0].offsetHeight;switch(e?f.split(" ")[1]:f){case"bottom":h={top:l.top+l.height,left:l.left+l.width/2-g/2};break;case"top":h={top:l.top-k,left:l.left+l.width/2-g/2};break;case"left":h={top:l.top+l.height/2-k/2,left:l.left-g};break;case"right":h={top:l.top+l.height/2-k/2,left:l.left+l.width};break}j.css(h).addClass(f).addClass("in")}},isHTML:function(e){return typeof e!="string"||(e.charAt(0)==="<"&&e.charAt(e.length-1)===">"&&e.length>=3)||/^(?:[^<]*<[\w\W]+>[^>]*$)/.exec(e)},setContent:function(){var f=this.tip(),e=this.getTitle();f.find(".tooltip-inner")[this.isHTML(e)?"html":"text"](e);f.removeClass("fade in top bottom left right")},hide:function(){var e=this,f=this.tip();f.removeClass("in");function g(){var h=setTimeout(function(){f.off(b.support.transition.end).remove()},500);f.one(b.support.transition.end,function(){clearTimeout(h);f.remove()})}b.support.transition&&this.$tip.hasClass("fade")?g():f.remove()},fixTitle:function(){var e=this.$element;if(e.attr("title")||typeof(e.attr("data-original-title"))!="string"){e.attr("data-original-title",e.attr("title")||"").removeAttr("title")}},hasContent:function(){return this.getTitle()},getPosition:function(e){return b.extend({},(e?{top:0,left:0}:this.$element.offset()),{width:this.$element[0].offsetWidth,height:this.$element[0].offsetHeight})},getTitle:function(){var g,e=this.$element,f=this.options;g=e.attr("data-original-title")||(typeof f.title=="function"?f.title.call(e[0]):f.title);return g},tip:function(){return this.$tip=this.$tip||b(this.options.template)},validate:function(){if(!this.$element[0].parentNode){this.hide();this.$element=null;this.options=null}},enable:function(){this.enabled=true},disable:function(){this.enabled=false},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(){this[this.tip().hasClass("in")?"hide":"show"]()}};b.fn.tooltip=function(e){return this.each(function(){var h=b(this),g=h.data("tooltip"),f=typeof e=="object"&&e;if(!g){h.data("tooltip",(g=new a(this,f)))}if(typeof e=="string"){g[e]()}})};b.fn.tooltip.Constructor=a;b.fn.tooltip.defaults={animation:true,placement:"top",selector:false,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover",title:"",delay:0}}(window.jQuery);!function(b){var a=function(f,e){this.init("popover",f,e)};a.prototype=b.extend({},b.fn.tooltip.Constructor.prototype,{constructor:a,setContent:function(){var g=this.tip(),f=this.getTitle(),e=this.getContent();g.find(".popover-title")[this.isHTML(f)?"html":"text"](f);g.find(".popover-content > *")[this.isHTML(e)?"html":"text"](e);g.removeClass("fade top bottom left right in")},hasContent:function(){return this.getTitle()||this.getContent()},getContent:function(){var f,e=this.$element,g=this.options;f=e.attr("data-content")||(typeof g.content=="function"?g.content.call(e[0]):g.content);return f},tip:function(){if(!this.$tip){this.$tip=b(this.options.template)}return this.$tip}});b.fn.popover=function(e){return this.each(function(){var h=b(this),g=h.data("popover"),f=typeof e=="object"&&e;if(!g){h.data("popover",(g=new a(this,f)))}if(typeof e=="string"){g[e]()}})};b.fn.popover.Constructor=a;b.fn.popover.defaults=b.extend({},b.fn.tooltip.defaults,{placement:"right",content:"",template:'<div class="popover"><div class="arrow"></div><div class="popover-inner"><h3 class="popover-title"></h3><div class="popover-content"><p></p></div></div></div>'})}(window.jQuery);!function(b){function a(h,g){var j=b.proxy(this.process,this),e=b(h).is("body")?b(window):b(h),f;this.options=b.extend({},b.fn.scrollspy.defaults,g);this.$scrollElement=e.on("scroll.scroll.data-api",j);this.selector=(this.options.target||((f=b(h).attr("href"))&&f.replace(/.*(?=#[^\s]+$)/,""))||"")+" .nav li > a";this.$body=b("body").on("click.scroll.data-api",this.selector,j);this.refresh();this.process()}a.prototype={constructor:a,refresh:function(){var e=this,f;this.offsets=b([]);this.targets=b([]);f=this.$body.find(this.selector).map(function(){var h=b(this),g=h.data("target")||h.attr("href"),j=/^#\w/.test(g)&&b(g);return(j&&g.length&&[[j.position().top,g]])||null}).sort(function(h,g){return h[0]-g[0]}).each(function(){e.offsets.push(this[0]);e.targets.push(this[1])})},process:function(){var k=this.$scrollElement.scrollTop()+this.options.offset,g=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight,j=g-this.$scrollElement.height(),h=this.offsets,e=this.targets,l=this.activeTarget,f;if(k>=j){return l!=(f=e.last()[0])&&this.activate(f)}for(f=h.length;f--;){l!=e[f]&&k>=h[f]&&(!h[f+1]||k<=h[f+1])&&this.activate(e[f])}},activate:function(g){var f,e;this.activeTarget=g;b(this.selector).parent(".active").removeClass("active");e=this.selector+'[data-target="'+g+'"],'+this.selector+'[href="'+g+'"]';f=b(e).parent("li").addClass("active");if(f.parent(".dropdown-menu")){f=f.closest("li.dropdown").addClass("active")}f.trigger("activate")}};b.fn.scrollspy=function(e){return this.each(function(){var h=b(this),g=h.data("scrollspy"),f=typeof e=="object"&&e;if(!g){h.data("scrollspy",(g=new a(this,f)))}if(typeof e=="string"){g[e]()}})};b.fn.scrollspy.Constructor=a;b.fn.scrollspy.defaults={offset:10};b(function(){b('[data-spy="scroll"]').each(function(){var e=b(this);e.scrollspy(e.data())})})}(window.jQuery);!function(b){var a=function(e){this.element=b(e)};a.prototype={constructor:a,show:function(){var l=this.element,h=l.closest("ul:not(.dropdown-menu)"),g=l.attr("data-target"),j,f,k;if(!g){g=l.attr("href");g=g&&g.replace(/.*(?=#[^\s]*$)/,"")}if(l.parent("li").hasClass("active")){return}j=h.find(".active a").last()[0];k=b.Event("show",{relatedTarget:j});l.trigger(k);if(k.isDefaultPrevented()){return}f=b(g);this.activate(l.parent("li"),h);this.activate(f,f.parent(),function(){l.trigger({type:"shown",relatedTarget:j})})},activate:function(g,f,k){var e=f.find("> .active"),j=k&&b.support.transition&&e.hasClass("fade");function h(){e.removeClass("active").find("> .dropdown-menu > .active").removeClass("active");g.addClass("active");if(j){g[0].offsetWidth;g.addClass("in")}else{g.removeClass("fade")}if(g.parent(".dropdown-menu")){g.closest("li.dropdown").addClass("active")}k&&k()}j?e.one(b.support.transition.end,h):h();e.removeClass("in")}};b.fn.tab=function(e){return this.each(function(){var g=b(this),f=g.data("tab");if(!f){g.data("tab",(f=new a(this)))}if(typeof e=="string"){f[e]()}})};b.fn.tab.Constructor=a;b(function(){b("body").on("click.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(f){f.preventDefault();b(this).tab("show")})})}(window.jQuery);!function(a){var b=function(f,e){this.$element=a(f);this.options=a.extend({},a.fn.typeahead.defaults,e);this.matcher=this.options.matcher||this.matcher;this.sorter=this.options.sorter||this.sorter;this.highlighter=this.options.highlighter||this.highlighter;this.updater=this.options.updater||this.updater;this.$menu=a(this.options.menu).appendTo("body");this.source=this.options.source;this.shown=false;this.listen()};b.prototype={constructor:b,select:function(){var e=this.$menu.find(".active").attr("data-value");this.$element.val(this.updater(e)).change();return this.hide()},updater:function(e){return e},show:function(){var e=a.extend({},this.$element.position(),{height:this.$element[0].offsetHeight});this.$menu.css({top:e.top+e.height,left:e.left});this.$menu.show();this.shown=true;return this},hide:function(){this.$menu.hide();this.shown=false;return this},lookup:function(g){var f=this,e,h;this.query=this.$element.val();if(!this.query){return this.shown?this.hide():this}e=a.grep(this.source,function(j){return f.matcher(j)});e=this.sorter(e);if(!e.length){return this.shown?this.hide():this}return this.render(e.slice(0,this.options.items)).show()},matcher:function(e){return ~e.toLowerCase().indexOf(this.query.toLowerCase())},sorter:function(g){var h=[],f=[],e=[],j;while(j=g.shift()){if(!j.toLowerCase().indexOf(this.query.toLowerCase())){h.push(j)}else{if(~j.indexOf(this.query)){f.push(j)}else{e.push(j)}}}return h.concat(f,e)},highlighter:function(e){var f=this.query.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");return e.replace(new RegExp("("+f+")","ig"),function(g,h){return"<strong>"+h+"</strong>"})},render:function(e){var f=this;e=a(e).map(function(g,h){g=a(f.options.item).attr("data-value",h);g.find("a").html(f.highlighter(h));return g[0]});e.first().addClass("active");this.$menu.html(e);return this},next:function(f){var g=this.$menu.find(".active").removeClass("active"),e=g.next();if(!e.length){e=a(this.$menu.find("li")[0])}e.addClass("active")},prev:function(f){var g=this.$menu.find(".active").removeClass("active"),e=g.prev();if(!e.length){e=this.$menu.find("li").last()}e.addClass("active")},listen:function(){this.$element.on("blur",a.proxy(this.blur,this)).on("keypress",a.proxy(this.keypress,this)).on("keyup",a.proxy(this.keyup,this));if(a.browser.webkit||a.browser.msie){this.$element.on("keydown",a.proxy(this.keypress,this))}this.$menu.on("click",a.proxy(this.click,this)).on("mouseenter","li",a.proxy(this.mouseenter,this))},keyup:function(f){switch(f.keyCode){case 40:case 38:break;case 9:case 13:if(!this.shown){return}this.select();break;case 27:if(!this.shown){return}this.hide();break;default:this.lookup()}f.stopPropagation();f.preventDefault()},keypress:function(f){if(!this.shown){return}switch(f.keyCode){case 9:case 13:case 27:f.preventDefault();break;case 38:if(f.type!="keydown"){break}f.preventDefault();this.prev();break;case 40:if(f.type!="keydown"){break}f.preventDefault();this.next();break}f.stopPropagation()},blur:function(g){var f=this;setTimeout(function(){f.hide()},150)},click:function(f){f.stopPropagation();f.preventDefault();this.select()},mouseenter:function(f){this.$menu.find(".active").removeClass("active");a(f.currentTarget).addClass("active")}};a.fn.typeahead=function(e){return this.each(function(){var h=a(this),g=h.data("typeahead"),f=typeof e=="object"&&e;if(!g){h.data("typeahead",(g=new b(this,f)))}if(typeof e=="string"){g[e]()}})};a.fn.typeahead.defaults={source:[],items:8,menu:'<ul class="typeahead dropdown-menu"></ul>',item:'<li><a href="#"></a></li>'};a.fn.typeahead.Constructor=b;a(function(){a("body").on("focus.typeahead.data-api",'[data-provide="typeahead"]',function(g){var f=a(this);if(f.data("typeahead")){return}g.preventDefault();f.typeahead(f.data())})})}(window.jQuery);var countries=[{code:"AD",name:"Andorra"},{code:"AE",name:"United Arab Emirates"},{code:"AF",name:"Afghanistan"},{code:"AG",name:"Antigua and Barbuda"},{code:"AI",name:"Anguilla"},{code:"AL",name:"Albania"},{code:"AM",name:"Armenia"},{code:"AN",name:"Netherlands Antilles"},{code:"AO",name:"Angola"},{code:"AQ",name:"Antarctica"},{code:"AR",name:"Argentina"},{code:"AS",name:"American Samoa"},{code:"AT",name:"Austria"},{code:"AU",name:"Australia"},{code:"AW",name:"Aruba"},{code:"AX",name:"Aland Islands"},{code:"AZ",name:"Azerbaijan"},{code:"BA",name:"Bosnia and Herzegovina"},{code:"BB",name:"Barbados"},{code:"BD",name:"Bangladesh"},{code:"BE",name:"Belgium"},{code:"BF",name:"Burkina Faso"},{code:"BG",name:"Bulgaria"},{code:"BH",name:"Bahrain"},{code:"BI",name:"Burundi"},{code:"BJ",name:"Benin"},{code:"BM",name:"Bermuda"},{code:"BN",name:"Brunei Darussalam"},{code:"BO",name:"Bolivia"},{code:"BR",name:"Brazil"},{code:"BS",name:"Bahamas"},{code:"BT",name:"Bhutan"},{code:"BV",name:"Bouvet Island"},{code:"BW",name:"Botswana"},{code:"BY",name:"Belarus"},{code:"BZ",name:"Belize"},{code:"CA",name:"Canada"},{code:"CC",name:"Cocos (Keeling) Islands"},{code:"CD",name:"Democratic Republic of the Congo"},{code:"CF",name:"Central African Republic"},{code:"CG",name:"Congo"},{code:"CH",name:"Switzerland"},{code:"CI",name:"Cote D'Ivoire (Ivory Coast)"},{code:"CK",name:"Cook Islands"},{code:"CL",name:"Chile"},{code:"CM",name:"Cameroon"},{code:"CN",name:"China"},{code:"CO",name:"Colombia"},{code:"CR",name:"Costa Rica"},{code:"CS",name:"Serbia and Montenegro"},{code:"CU",name:"Cuba"},{code:"CV",name:"Cape Verde"},{code:"CX",name:"Christmas Island"},{code:"CY",name:"Cyprus"},{code:"CZ",name:"Czech Republic"},{code:"DE",name:"Germany"},{code:"DJ",name:"Djibouti"},{code:"DK",name:"Denmark"},{code:"DM",name:"Dominica"},{code:"DO",name:"Dominican Republic"},{code:"DZ",name:"Algeria"},{code:"EC",name:"Ecuador"},{code:"EE",name:"Estonia"},{code:"EG",name:"Egypt"},{code:"EH",name:"Western Sahara"},{code:"ER",name:"Eritrea"},{code:"ES",name:"Spain"},{code:"ET",name:"Ethiopia"},{code:"FI",name:"Finland"},{code:"FJ",name:"Fiji"},{code:"FK",name:"Falkland Islands (Malvinas)"},{code:"FM",name:"Federated States of Micronesia"},{code:"FO",name:"Faroe Islands"},{code:"FR",name:"France"},{code:"GA",name:"Gabon"},{code:"GB",name:"Great Britain (UK)"},{code:"GD",name:"Grenada"},{code:"GE",name:"Georgia"},{code:"GF",name:"French Guiana"},{code:"GH",name:"Ghana"},{code:"GI",name:"Gibraltar"},{code:"GL",name:"Greenland"},{code:"GM",name:"Gambia"},{code:"GN",name:"Guinea"},{code:"GP",name:"Guadeloupe"},{code:"GQ",name:"Equatorial Guinea"},{code:"GR",name:"Greece"},{code:"GS",name:"S. Georgia and S. Sandwich Islands"},{code:"GT",name:"Guatemala"},{code:"GU",name:"Guam"},{code:"GW",name:"Guinea-Bissau"},{code:"GY",name:"Guyana"},{code:"HK",name:"Hong Kong"},{code:"HM",name:"Heard Island and McDonald Islands"},{code:"HN",name:"Honduras"},{code:"HR",name:"Croatia (Hrvatska)"},{code:"HT",name:"Haiti"},{code:"HU",name:"Hungary"},{code:"ID",name:"Indonesia"},{code:"IE",name:"Ireland"},{code:"IL",name:"Israel"},{code:"IN",name:"India"},{code:"IO",name:"British Indian Ocean Territory"},{code:"IQ",name:"Iraq"},{code:"IR",name:"Iran"},{code:"IS",name:"Iceland"},{code:"IT",name:"Italy"},{code:"JM",name:"Jamaica"},{code:"JO",name:"Jordan"},{code:"JP",name:"Japan"},{code:"KE",name:"Kenya"},{code:"KG",name:"Kyrgyzstan"},{code:"KH",name:"Cambodia"},{code:"KI",name:"Kiribati"},{code:"KM",name:"Comoros"},{code:"KN",name:"Saint Kitts and Nevis"},{code:"KP",name:"Korea (North)"},{code:"KR",name:"Korea (South)"},{code:"KW",name:"Kuwait"},{code:"KY",name:"Cayman Islands"},{code:"KZ",name:"Kazakhstan"},{code:"LA",name:"Laos"},{code:"LB",name:"Lebanon"},{code:"LC",name:"Saint Lucia"},{code:"LI",name:"Liechtenstein"},{code:"LK",name:"Sri Lanka"},{code:"LR",name:"Liberia"},{code:"LS",name:"Lesotho"},{code:"LT",name:"Lithuania"},{code:"LU",name:"Luxembourg"},{code:"LV",name:"Latvia"},{code:"LY",name:"Libya"},{code:"MA",name:"Morocco"},{code:"MC",name:"Monaco"},{code:"MD",name:"Moldova"},{code:"MG",name:"Madagascar"},{code:"MH",name:"Marshall Islands"},{code:"MK",name:"Macedonia"},{code:"ML",name:"Mali"},{code:"MM",name:"Myanmar"},{code:"MN",name:"Mongolia"},{code:"MO",name:"Macao"},{code:"MP",name:"Northern Mariana Islands"},{code:"MQ",name:"Martinique"},{code:"MR",name:"Mauritania"},{code:"MS",name:"Montserrat"},{code:"MT",name:"Malta"},{code:"MU",name:"Mauritius"},{code:"MV",name:"Maldives"},{code:"MW",name:"Malawi"},{code:"MX",name:"Mexico"},{code:"MY",name:"Malaysia"},{code:"MZ",name:"Mozambique"},{code:"NA",name:"Namibia"},{code:"NC",name:"New Caledonia"},{code:"NE",name:"Niger"},{code:"NF",name:"Norfolk Island"},{code:"NG",name:"Nigeria"},{code:"NI",name:"Nicaragua"},{code:"NL",name:"Netherlands"},{code:"NO",name:"Norway"},{code:"NP",name:"Nepal"},{code:"NR",name:"Nauru"},{code:"NU",name:"Niue"},{code:"NZ",name:"New Zealand (Aotearoa)"},{code:"OM",name:"Oman"},{code:"PA",name:"Panama"},{code:"PE",name:"Peru"},{code:"PF",name:"French Polynesia"},{code:"PG",name:"Papua New Guinea"},{code:"PH",name:"Philippines"},{code:"PK",name:"Pakistan"},{code:"PL",name:"Poland"},{code:"PM",name:"Saint Pierre and Miquelon"},{code:"PN",name:"Pitcairn"},{code:"PR",name:"Puerto Rico"},{code:"PS",name:"Palestinian Territory"},{code:"PT",name:"Portugal"},{code:"PW",name:"Palau"},{code:"PY",name:"Paraguay"},{code:"QA",name:"Qatar"},{code:"RE",name:"Reunion"},{code:"RO",name:"Romania"},{code:"RU",name:"Russian Federation"},{code:"RW",name:"Rwanda"},{code:"SA",name:"Saudi Arabia"},{code:"SB",name:"Solomon Islands"},{code:"SC",name:"Seychelles"},{code:"SD",name:"Sudan"},{code:"SE",name:"Sweden"},{code:"SG",name:"Singapore"},{code:"SH",name:"Saint Helena"},{code:"SI",name:"Slovenia"},{code:"SJ",name:"Svalbard and Jan Mayen"},{code:"SK",name:"Slovakia"},{code:"SL",name:"Sierra Leone"},{code:"SM",name:"San Marino"},{code:"SN",name:"Senegal"},{code:"SO",name:"Somalia"},{code:"SR",name:"Suriname"},{code:"ST",name:"Sao Tome and Principe"},{code:"SV",name:"El Salvador"},{code:"SY",name:"Syria"},{code:"SZ",name:"Swaziland"},{code:"TC",name:"Turks and Caicos Islands"},{code:"TD",name:"Chad"},{code:"TF",name:"French Southern Territories"},{code:"TG",name:"Togo"},{code:"TH",name:"Thailand"},{code:"TJ",name:"Tajikistan"},{code:"TK",name:"Tokelau"},{code:"TL",name:"Timor-Leste"},{code:"TM",name:"Turkmenistan"},{code:"TN",name:"Tunisia"},{code:"TO",name:"Tonga"},{code:"TP",name:"East Timor"},{code:"TR",name:"Turkey"},{code:"TT",name:"Trinidad and Tobago"},{code:"TV",name:"Tuvalu"},{code:"TW",name:"Taiwan"},{code:"TZ",name:"Tanzania"},{code:"UA",name:"Ukraine"},{code:"UG",name:"Uganda"},{code:"UK",name:"United Kingdom"},{code:"UM",name:"United States Minor Outlying Islands"},{code:"US",name:"United States"},{code:"UY",name:"Uruguay"},{code:"UZ",name:"Uzbekistan"},{code:"VA",name:"Vatican City State (Holy See)"},{code:"VC",name:"Saint Vincent and the Grenadines"},{code:"VE",name:"Venezuela"},{code:"VG",name:"Virgin Islands (British)"},{code:"VI",name:"Virgin Islands (U.S.)"},{code:"VN",name:"Viet Nam"},{code:"VU",name:"Vanuatu"},{code:"WF",name:"Wallis and Futuna"},{code:"WS",name:"Samoa"},{code:"YE",name:"Yemen"},{code:"YT",name:"Mayotte"},{code:"YU",name:"Yugoslavia (former)"},{code:"ZA",name:"South Africa"},{code:"ZM",name:"Zambia"},{code:"ZR",name:"Zaire (former)"},{code:"ZW",name:"Zimbabwe"}];(function(){function h4(f,e){try{for(var h in e){Object.defineProperty(f.prototype,h,{value:e[h],enumerable:!1})}}catch(g){f.prototype=e}}function hX(f){var e=-1,h=f.length,g=[];while(++e<h){g.push(f[e])}return g}function hU(b){return Array.prototype.slice.call(b)}function hM(){}function hC(){return this}function hz(f,e,g){return function(){var a=g.apply(e,arguments);return arguments.length?f:a}}function hw(b){return b!=null&&!isNaN(b)}function ht(b){return b.length}function hn(b){return b==null}function hl(b){return b.replace(/(^\s+)|(\s+$)/g,"").replace(/\s+/g," ")}function hh(f){var e=1;while(f*e%1){e*=10}return e}function g9(){}function g6(f){function g(){var k=e,j=-1,b=k.length,a;while(++j<b){(a=k[j].on)&&a.apply(this,arguments)}return f}var e=[],h=new hM;return g.on=function(k,j){var b=h.get(k),a;return arguments.length<2?b&&b.on:(b&&(b.on=null,e=e.slice(0,a=e.indexOf(b)).concat(e.slice(a+1)),h.remove(k)),j&&e.push(h.set(k,{on:j})),f)},g}function jA(f,e){return e-(f?1+Math.floor(Math.log(f+Math.pow(10,1+Math.floor(Math.log(f)/Math.LN10)-e))/Math.LN10):1)}function jx(b){return b+""}function ju(f){var e=f.lastIndexOf("."),h=e>=0?f.substring(e):(e=f.length,""),g=[];while(e>0){g.push(f.substring(e-=3,e+3))}return g.reverse().join(",")+h}function jn(f,e){return{scale:Math.pow(10,(8-e)*3),symbol:f}}function i5(b){return function(a){return a<=0?0:a>=1?1:b(a)}}function i2(b){return function(a){return 1-b(1-a)}}function i0(b){return function(a){return 0.5*(a<0.5?b(2*a):2-b(2-2*a))}}function iX(b){return b}function iT(b){return function(a){return Math.pow(a,b)}}function iQ(b){return 1-Math.cos(b*Math.PI/2)}function iN(b){return Math.pow(2,10*(b-1))}function iK(b){return 1-Math.sqrt(1-b*b)}function iH(f,e){var g;return arguments.length<2&&(e=0.45),arguments.length<1?(f=1,g=e/4):g=e/(2*Math.PI)*Math.asin(1/f),function(a){return 1+f*Math.pow(2,10*-a)*Math.sin((a-g)*2*Math.PI/e)}}function iE(b){return b||(b=1.70158),function(a){return a*a*((b+1)*a-b)}}function iB(b){return b<1/2.75?7.5625*b*b:b<2/2.75?7.5625*(b-=1.5/2.75)*b+0.75:b<2.5/2.75?7.5625*(b-=2.25/2.75)*b+0.9375:7.5625*(b-=2.625/2.75)*b+0.984375}function iy(){d3.event.stopPropagation(),d3.event.preventDefault()}function iv(){var f=d3.event,e;while(e=f.sourceEvent){f=e}return f}function ir(f){var e=new g9,h=0,g=arguments.length;while(++h<g){e[arguments[h]]=g6(e)}return e.of=function(b,a){return function(k){try{var j=k.sourceEvent=d3.event;k.target=f,d3.event=k,e[k.type].apply(b,a)}finally{d3.event=j}}},e}function j3(b){return b=="transform"?d3.interpolateTransform:d3.interpolate}function ij(f,e){return e=e-(f=+f)?1/(e-f):0,function(a){return(a-f)*e}}function jz(f,e){return e=e-(f=+f)?1/(e-f):0,function(a){return Math.max(0,Math.min(1,(a-f)*e))}}function jw(f,e,g){return new js(f,e,g)}function js(f,e,g){this.r=f,this.g=e,this.b=g}function jp(b){return b<16?"0"+Math.max(0,b).toString(16):Math.min(255,b).toString(16)}function jm(r,q,p){var o=0,n=0,m=0,l,k,j;l=/([a-z]+)\((.*)\)/i.exec(r);if(l){k=l[2].split(",");switch(l[1]){case"hsl":return p(parseFloat(k[0]),parseFloat(k[1])/100,parseFloat(k[2])/100);case"rgb":return q(jg(k[0]),jg(k[1]),jg(k[2]))}}return(j=jd.get(r))?q(j.r,j.g,j.b):(r!=null&&r.charAt(0)==="#"&&(r.length===4?(o=r.charAt(1),o+=o,n=r.charAt(2),n+=n,m=r.charAt(3),m+=m):r.length===7&&(o=r.substring(1,3),n=r.substring(3,5),m=r.substring(5,7)),o=parseInt(o,16),n=parseInt(n,16),m=parseInt(m,16)),q(o,n,m))}function jj(r,q,p){var o=Math.min(r/=255,q/=255,p/=255),n=Math.max(r,q,p),m=n-o,l,k,j=(n+o)/2;return m?(k=j<0.5?m/(n+o):m/(2-n-o),r==n?l=(q-p)/m+(q<p?6:0):q==n?l=(p-r)/m+2:l=(r-q)/m+4,l*=60):k=l=0,ja(l,k,j)}function jg(f){var e=parseFloat(f);return f.charAt(f.length-1)==="%"?Math.round(e*2.55):e}function ja(f,e,g){return new i7(f,e,g)}function i7(f,e,g){this.h=f,this.s=e,this.l=g}function i4(j,h,o){function l(b){return b>360?b-=360:b<0&&(b+=360),b<60?n+(m-n)*b/60:b<180?m:b<240?n+(m-n)*(240-b)/60:n}function k(b){return Math.round(l(b)*255)}var n,m;return j%=360,j<0&&(j+=360),h=h<0?0:h>1?1:h,o=o<0?0:o>1?1:o,m=o<=0.5?o*(1+h):o+h-o*h,n=2*o-m,jw(k(j+120),k(j),k(j-120))}function i1(b){return hO(b,iJ),b}function iG(b){return function(){return iY(b,this)}}function iD(b){return function(){return iV(b,this)}}function ix(k,j){function n(){if(a=this.classList){return a.add(k)}var a=this.className,g=a.baseVal!=null,f=g?a.baseVal:a;q.lastIndex=0,q.test(f)||(f=hl(f+" "+k),g?a.baseVal=f:this.className=f)}function m(){if(a=this.classList){return a.remove(k)}var a=this.className,g=a.baseVal!=null,f=g?a.baseVal:a;f=hl(f.replace(q," ")),g?a.baseVal=f:this.className=f}function l(){(j.apply(this,arguments)?n:m).call(this)}var q=new RegExp("(^|\\s+)"+d3.requote(k)+"(\\s+|$)","g");if(arguments.length<2){var p=this.node();if(o=p.classList){return o.contains(k)}var o=p.className;return q.lastIndex=0,q.test(o.baseVal!=null?o.baseVal:o)}return this.each(typeof j=="function"?l:j?n:m)}function iu(b){return{__data__:b}}function iq(b){return function(){return iM(this,b)}}function im(b){return arguments.length||(b=d3.ascending),function(a,e){return b(a&&a.__data__,e&&e.__data__)}}function j5(b){return hO(b,j4),b}function j2(h,g,m){hO(h,jX);var l=new hM,k=d3.dispatch("start","end"),j=jP;return h.id=g,h.time=m,h.tween=function(a,e){return arguments.length<2?l.get(a):(e==null?l.remove(a):l.set(a,e),h)},h.ease=function(a){return arguments.length?(j=typeof a=="function"?a:d3.ease.apply(d3,arguments),h):j},h.each=function(a,e){return arguments.length<2?jO.call(h,a):(k.on(a,e),h)},d3.timer(function(a){return h.each(function(z,y,x){function f(n){return s.active>g?b():(s.active=g,l.forEach(function(p,o){(tween=o.call(v,z,y))&&w.push(tween)}),k.start.call(v,z,y),e(n)||d3.timer(e,0,m),1)}function e(n){if(s.active!==g){return b()}var q=(n-u)/t,p=j(q),o=w.length;while(o>0){w[--o].call(v,p)}if(q>=1){return b(),jV=g,k.end.call(v,z,y),jV=0,1}}function b(){return --s.count||delete v.__transition__,1}var w=[],v=this,u=h[x][y].delay,t=h[x][y].duration,s=v.__transition__||(v.__transition__={active:0,count:0});++s.count,u<=a?f(a):d3.timer(f,u,m)}),1},0,m),h}function jZ(f,e,g){return g!=""&&j0}function jY(g,f){function j(b,n,m){var l=f.call(this,b,n);return l==null?m!=""&&j0:m!=l&&k(m,l)}function h(b,m,l){return l!=f&&k(l,f)}var k=j3(g);return typeof f=="function"?j:f==null?jZ:(f+="",h)}function jO(v){var u=jV,t=jP,s=jR,r=jQ;jV=this.id,jP=this.ease();for(var q=0,p=this.length;q<p;q++){for(var o=this[q],n=0,m=o.length;n<m;n++){var l=o[n];l&&(jR=this[q][n].delay,jQ=this[q][n].duration,v.call(l=l.node,l.__data__,n,q))}}return jV=u,jP=t,jR=s,jQ=r,this}function jK(){var f,e=Date.now(),h=jN;while(h){f=e-h.then,f>=h.delay&&(h.flush=h.callback(f)),h=h.next}var g=jJ()-e;g>24?(isFinite(g)&&(clearTimeout(jL),jL=setTimeout(jK,g)),jM=0):(jM=1,jI(jK))}function jJ(){var f=null,e=jN,g=Infinity;while(e){e.flush?e=f?f.next=e.next:jN=e.next:(g=Math.min(g,e.then+e.delay),e=(f=e).next)}return g}function jH(h){var g=[h.a,h.b],m=[h.c,h.d],l=jF(g),k=jG(g,m),j=jF(jE(m,g,-k))||0;g[0]*m[1]<m[0]*g[1]&&(g[0]*=-1,g[1]*=-1,l*=-1,k*=-1),this.rotate=(l?Math.atan2(g[1],g[0]):Math.atan2(-m[0],m[1]))*j6,this.translate=[h.e,h.f],this.scale=[l,j],this.skew=j?Math.atan2(k,j)*j6:0}function jG(f,e){return f[0]*e[0]+f[1]*e[1]}function jF(f){var e=Math.sqrt(jG(f,f));return e&&(f[0]/=e,f[1]/=e),e}function jE(f,e,g){return f[0]+=g*e[0],f[1]+=g*e[1],f}function ie(h,g){var m=h.ownerSVGElement||h;if(m.createSVGPoint){var l=m.createSVGPoint();if(jD<0&&(window.scrollX||window.scrollY)){m=d3.select(document.body).append("svg").style("position","absolute").style("top",0).style("left",0);var k=m[0][0].getScreenCTM();jD=!k.f&&!k.e,m.remove()}return jD?(l.x=g.pageX,l.y=g.pageY):(l.x=g.clientX,l.y=g.clientY),l=l.matrixTransform(h.getScreenCTM().inverse()),[l.x,l.y]}var j=h.getBoundingClientRect();return[g.clientX-j.left-h.clientLeft,g.clientY-j.top-h.clientTop]}function ia(){}function h7(f){var e=f[0],g=f[f.length-1];return e<g?[e,g]:[g,e]}function h5(b){return b.rangeExtent?b.rangeExtent():h7(b.range())}function h2(j,h){var o=0,n=j.length-1,m=j[o],l=j[n],k;l<m&&(k=o,o=n,n=k,k=m,m=l,l=k);if(k=l-m){h=h(k),j[o]=h.floor(m),j[n]=h.ceil(l)}return j}function hZ(){return Math}function hW(k,j,q,p){function m(){var b=Math.min(k.length,j.length)>2?hB:hE,a=p?jz:ij;return o=b(k,j,a,q),n=b(j,k,a,d3.interpolate),l}function l(b){return o(b)}var o,n;return l.invert=function(b){return n(b)},l.domain=function(a){return arguments.length?(k=a.map(Number),m()):k},l.range=function(b){return arguments.length?(j=b,m()):j},l.rangeRound=function(b){return l.range(b).interpolate(d3.interpolateRound)},l.clamp=function(b){return arguments.length?(p=b,m()):p},l.interpolate=function(b){return arguments.length?(q=b,m()):q},l.ticks=function(a){return hK(k,a)},l.tickFormat=function(a){return hH(k,a)},l.nice=function(){return h2(k,hQ),m()},l.copy=function(){return hW(k,j,q,p)},m()}function hT(f,e){return d3.rebind(f,e,"range","rangeRound","interpolate","clamp")}function hQ(b){return b=Math.pow(10,Math.round(Math.log(b)/Math.LN10)-1),{floor:function(a){return Math.floor(a/b)*b},ceil:function(a){return Math.ceil(a/b)*b}}}function hN(h,g){var m=h7(h),l=m[1]-m[0],k=Math.pow(10,Math.floor(Math.log(l/g)/Math.LN10)),j=g/l*k;return j<=0.15?k*=10:j<=0.35?k*=5:j<=0.75&&(k*=2),m[0]=Math.ceil(m[0]/k)*k,m[1]=Math.floor(m[1]/k)*k+k*0.5,m[2]=k,m}function hK(f,e){return d3.range.apply(d3,hN(f,e))}function hH(f,e){return d3.format(",."+Math.max(0,-Math.floor(Math.log(hN(f,e)[2])/Math.LN10+0.01))+"f")}function hE(h,g,m,l){var k=m(h[0],h[1]),j=l(g[0],g[1]);return function(b){return j(k(b))}}function hB(k,j,q,p){var o=[],n=[],m=0,l=Math.min(k.length,j.length)-1;k[l]<k[0]&&(k=k.slice().reverse(),j=j.slice().reverse());while(++m<=l){o.push(q(k[m-1],k[m])),n.push(p(j[m-1],j[m]))}return function(a){var e=d3.bisect(k,a,1,l)-1;return n[e](o[e](a))}}function hy(f,e){function g(a){return f(e(a))}var h=e.pow;return g.invert=function(a){return h(f.invert(a))},g.domain=function(a){return arguments.length?(e=a[0]<0?hp:hs,h=e.pow,f.domain(a.map(e)),g):f.domain().map(h)},g.nice=function(){return f.domain(h2(f.domain(),hZ)),g},g.ticks=function(){var o=h7(f.domain()),n=[];if(o.every(isFinite)){var m=Math.floor(o[0]),l=Math.ceil(o[1]),k=h(o[0]),b=h(o[1]);if(e===hp){n.push(h(m));for(;m++<l;){for(var a=9;a>0;a--){n.push(h(m)*a)}}}else{for(;m<l;m++){for(var a=1;a<10;a++){n.push(h(m)*a)}}n.push(h(m))}for(m=0;n[m]<k;m++){}for(l=n.length;n[l-1]>b;l--){}n=n.slice(m,l)}return n},g.tickFormat=function(b,m){arguments.length<2&&(m=hv);if(arguments.length<1){return m}var l=b/g.ticks().length,k=e===hp?(j=-1e-12,Math.floor):(j=1e-12,Math.ceil),j;return function(n){return n/h(k(e(n)+j))<l?m(n):""}},g.copy=function(){return hy(f.copy(),e)},hT(g,f)}function hs(b){return Math.log(b<0?0:b)/Math.LN10}function hp(b){return -Math.log(b>0?0:-b)/Math.LN10}function hm(g,f){function h(a){return g(k(a))}var k=hj(f),j=hj(1/f);return h.invert=function(a){return j(g.invert(a))},h.domain=function(a){return arguments.length?(g.domain(a.map(k)),h):g.domain().map(j)},h.ticks=function(b){return hK(h.domain(),b)},h.tickFormat=function(b){return hH(h.domain(),b)},h.nice=function(){return h.domain(h2(h.domain(),hQ))},h.exponent=function(b){if(!arguments.length){return f}var e=h.domain();return k=hj(f=b),j=hj(1/f),h.domain(e)},h.copy=function(){return hm(g.copy(),f)},hT(h,g)}function hj(b){return function(a){return a<0?-Math.pow(-a,b):Math.pow(a,b)}}function hg(j,h){function l(a){return n[((o.get(a)||o.set(a,j.push(a)))-1)%n.length]}function k(a,e){return d3.range(j.length).map(function(b){return a+e*b})}var o,n,m;return l.domain=function(p){if(!arguments.length){return j}j=[],o=new hM;var f=-1,b=p.length,a;while(++f<b){o.has(a=p[f])||o.set(a,j.push(a))}return l[h.t](h.x,h.p)},l.range=function(b){return arguments.length?(n=b,m=0,h={t:"range",x:b},l):n},l.rangePoints=function(g,f){arguments.length<2&&(f=0);var e=g[0],b=g[1],a=(b-e)/(j.length-1+f);return n=k(j.length<2?(e+b)/2:e+a*f/2,a),m=0,h={t:"rangePoints",x:g,p:f},l},l.rangeBands=function(p,g){arguments.length<2&&(g=0);var f=p[1]<p[0],e=p[f-0],b=p[1-f],a=(b-e)/(j.length+g);return n=k(e+a*g,a),f&&n.reverse(),m=a*(1-g),h={t:"rangeBands",x:p,p:g},l},l.rangeRoundBands=function(q,p){arguments.length<2&&(p=0);var g=q[1]<q[0],f=q[g-0],e=q[1-g],b=Math.floor((e-f)/(j.length+p)),a=e-f-(j.length-p)*b;return n=k(f+Math.round(a/2),b),g&&n.reverse(),m=Math.round(b*(1-p)),h={t:"rangeRoundBands",x:q,p:p},l},l.rangeBand=function(){return m},l.rangeExtent=function(){return h7(h.x)},l.copy=function(){return hg(j,h)},l.domain(j)}function g1(g,f){function j(){var e=0,b=g.length,a=f.length;k=[];while(++e<a){k[e-1]=d3.quantile(g,e/a)}return h}function h(b){return isNaN(b=+b)?NaN:f[d3.bisect(k,b)]}var k;return h.domain=function(a){return arguments.length?(g=a.filter(function(b){return !isNaN(b)}).sort(d3.ascending),j()):g},h.range=function(b){return arguments.length?(f=b,j()):f},h.quantiles=function(){return k},h.copy=function(){return g1(g,f)},j()}function jB(j,h,o){function l(a){return o[Math.max(0,Math.min(m,Math.floor(n*(a-j))))]}function k(){return n=o.length/(h-j),m=o.length-1,l}var n,m;return l.domain=function(a){return arguments.length?(j=+a[0],h=+a[a.length-1],k()):[j,h]},l.range=function(b){return arguments.length?(o=b,k()):o},l.copy=function(){return jB(j,h,o)},k()}function jy(f){function e(b){return +b}return e.invert=e,e.domain=e.range=function(a){return arguments.length?(f=a.map(e),e):f},e.ticks=function(a){return hK(f,a)},e.tickFormat=function(a){return hH(f,a)},e.copy=function(){return jy(f)},e}function jo(b){return b.innerRadius}function jl(b){return b.outerRadius}function ji(b){return b.startAngle}function jf(b){return b.endAngle}function jc(j){function k(a){return a.length<1?null:"M"+m(j(i9(this,a,h,o)),l)}var h=i6,o=i3,n=iZ,m=iW.get(n),l=0.7;return k.x=function(b){return arguments.length?(h=b,k):h},k.y=function(b){return arguments.length?(o=b,k):o},k.interpolate=function(b){return arguments.length?(iW.has(b+="")||(b=iZ),m=iW.get(n=b),k):n},k.tension=function(b){return arguments.length?(l=b,k):l},k}function i9(t,s,r,q){var p=[],o=-1,n=s.length,m=typeof r=="function",l=typeof q=="function",k;if(m&&l){while(++o<n){p.push([r.call(t,k=s[o],o),q.call(t,k,o)])}}else{if(m){while(++o<n){p.push([r.call(t,s[o],o),q])}}else{if(l){while(++o<n){p.push([r,q.call(t,s[o],o)])}}else{while(++o<n){p.push([r,q])}}}}return p}function i6(b){return b[0]}function i3(b){return b[1]}function iU(g){var f=0,k=g.length,j=g[0],h=[j[0],",",j[1]];while(++f<k){h.push("L",(j=g[f])[0],",",j[1])}return h.join("")}function iR(g){var f=0,k=g.length,j=g[0],h=[j[0],",",j[1]];while(++f<k){h.push("V",(j=g[f])[1],"H",j[0])}return h.join("")}function iO(g){var f=0,k=g.length,j=g[0],h=[j[0],",",j[1]];while(++f<k){h.push("H",(j=g[f])[0],"V",j[1])}return h.join("")}function iL(f,e){return f.length<4?iU(f):f[1]+iC(f.slice(1,f.length-1),iz(f,e))}function iI(f,e){return f.length<3?iU(f):f[0]+iC((f.push(f[0]),f),iz([f[f.length-2]].concat(f,[f[1]]),e))}function iF(f,e,g){return f.length<3?iU(f):f[0]+iC(f,iz(f,e))}function iC(v,u){if(u.length<1||v.length!=u.length&&v.length!=u.length+2){return iU(v)}var t=v.length!=u.length,s="",r=v[0],q=v[1],p=u[0],o=p,n=1;t&&(s+="Q"+(q[0]-p[0]*2/3)+","+(q[1]-p[1]*2/3)+","+q[0]+","+q[1],r=v[1],n=2);if(u.length>1){o=u[1],q=v[n],n++,s+="C"+(r[0]+p[0])+","+(r[1]+p[1])+","+(q[0]-o[0])+","+(q[1]-o[1])+","+q[0]+","+q[1];for(var m=2;m<u.length;m++,n++){q=v[n],o=u[m],s+="S"+(q[0]-o[0])+","+(q[1]-o[1])+","+q[0]+","+q[1]}}if(t){var l=v[n];s+="Q"+(q[0]+o[0]*2/3)+","+(q[1]+o[1]*2/3)+","+l[0]+","+l[1]}return s}function iz(r,q){var p=[],o=(1-q)/2,n,m=r[0],l=r[1],k=1,j=r.length;while(++k<j){n=m,m=l,l=r[k],p.push([o*(l[0]-n[0]),o*(l[1]-n[1])])}return p}function iw(r){if(r.length<3){return iU(r)}var q=1,p=r.length,o=r[0],n=o[0],m=o[1],l=[n,n,n,(o=r[1])[0]],k=[m,m,m,o[1]],j=[n,",",m];gS(j,l,k);while(++q<p){o=r[q],l.shift(),l.push(o[0]),k.shift(),k.push(o[1]),gS(j,l,k)}q=-1;while(++q<2){l.shift(),l.push(o[0]),k.shift(),k.push(o[1]),gS(j,l,k)}return j.join("")}function it(j){if(j.length<4){return iU(j)}var h=[],o=-1,n=j.length,m,l=[0],k=[0];while(++o<3){m=j[o],l.push(m[0]),k.push(m[1])}h.push(j1(gU,l)+","+j1(gU,k)),--o;while(++o<n){m=j[o],l.shift(),l.push(m[0]),k.shift(),k.push(m[1]),gS(h,l,k)}return h.join("")}function ip(k){var j,q=-1,p=k.length,o=p+4,n,m=[],l=[];while(++q<4){n=k[q%p],m.push(n[0]),l.push(n[1])}j=[j1(gU,m),",",j1(gU,l)],--q;while(++q<o){n=k[q%p],m.shift(),m.push(n[0]),l.shift(),l.push(n[1]),gS(j,m,l)}return j.join("")}function il(t,s){var r=t.length-1,q=t[0][0],p=t[0][1],o=t[r][0]-q,n=t[r][1]-p,m=-1,l,k;while(++m<=r){l=t[m],k=m/r,l[0]=s*l[0]+(1-s)*(q+k*o),l[1]=s*l[1]+(1-s)*(p+k*n)}return iw(t)}function j1(f,e){return f[0]*e[0]+f[1]*e[1]+f[2]*e[2]+f[3]*e[3]}function gS(f,e,g){f.push("C",j1(ii,e),",",j1(ii,g),",",j1(gX,e),",",j1(gX,g),",",j1(gU,e),",",j1(gU,g))}function gQ(f,e){return(e[1]-f[1])/(e[0]-f[0])}function gO(j){var h=0,o=j.length-1,n=[],m=j[0],l=j[1],k=n[0]=gQ(m,l);while(++h<o){n[h]=k+(k=gQ(m=l,l=j[h+1]))}return n[h]=k,n}function gM(r){var q=[],p,o,n,m,l=gO(r),k=-1,j=r.length-1;while(++k<j){p=gQ(r[k],r[k+1]),Math.abs(p)<0.000001?l[k]=l[k+1]=0:(o=l[k]/p,n=l[k+1]/p,m=o*o+n*n,m>9&&(m=p*3/Math.sqrt(m),l[k]=m*o,l[k+1]=m*n))}k=-1;while(++k<=j){m=(r[Math.min(j,k+1)][0]-r[Math.max(0,k-1)][0])/(6*(1+l[k]*l[k])),q.push([m||0,l[k]*m||0])}return q}function gK(b){return b.length<3?iU(b):b[0]+iC(b,gM(b))}function gI(h){var g,m=-1,l=h.length,k,j;while(++m<l){g=h[m],k=g[0],j=g[1]+jt,g[0]=k*Math.cos(j),g[1]=k*Math.sin(j)}return h}function gG(t){function k(e){if(e.length<1){return null}var b=i9(this,e,s,q),a=i9(this,e,s===r?gE(b):r,q===p?gC(b):p);return"M"+n(t(a),l)+"L"+m(t(b.reverse()),l)+"Z"}var s=i6,r=i6,q=0,p=i3,o,n,m,l=0.7;return k.x=function(b){return arguments.length?(s=r=b,k):r},k.x0=function(b){return arguments.length?(s=b,k):s},k.x1=function(b){return arguments.length?(r=b,k):r},k.y=function(b){return arguments.length?(q=p=b,k):p},k.y0=function(b){return arguments.length?(q=b,k):q},k.y1=function(b){return arguments.length?(p=b,k):p},k.interpolate=function(b){return arguments.length?(iW.has(b+="")||(b=iZ),n=iW.get(o=b),m=n.reverse||n,k):o},k.tension=function(b){return arguments.length?(l=b,k):l},k.interpolate("linear")}function gE(b){return function(a,e){return b[e][0]}}function gC(b){return function(a,e){return b[e][1]}}function gA(b){return b.source}function gy(b){return b.target}function gx(b){return b.radius}function gt(b){return b.startAngle}function gr(b){return b.endAngle}function gq(b){return[b.x,b.y]}function f8(b){return function(){var a=b.apply(this,arguments),f=a[0],e=a[1]+jt;return[f*Math.cos(e),f*Math.sin(e)]}}function f6(){return 64}function f4(){return"circle"}function f2(f){var e=Math.sqrt(f/Math.PI);return"M0,"+e+"A"+e+","+e+" 0 1,1 0,"+-e+"A"+e+","+e+" 0 1,1 0,"+e+"Z"}function e5(f,e){f.attr("transform",function(b){return"translate("+e(b)+",0)"})}function ih(f,e){f.attr("transform",function(b){return"translate(0,"+e(b)+")"})}function id(t,s,r){p=[];if(r&&s.length>1){var q=h7(t.domain()),p,o=-1,n=s.length,m=(s[1]-s[0])/++r,l,k;while(++o<n){for(l=r;--l>0;){(k=+s[o]-l*m)>=q[0]&&p.push(k)}}for(--o,l=0;++l<r&&(k=+s[o]+l*m)<q[1];){p.push(k)}}return p}function hY(){h3||(h3=d3.select("body").append("div").style("visibility","hidden").style("top",0).style("height",0).style("width",0).style("overflow-y","scroll").append("div").style("height","2000px").node().parentNode);var f=d3.event,e;try{h3.scrollTop=1000,h3.dispatchEvent(f),e=1000-h3.scrollTop}catch(g){e=f.wheelDelta||-f.detail*5}return e}function hV(h){var g=h.source,m=h.target,l=hP(g,m),k=[g];while(g!==l){g=g.parent,k.push(g)}var j=k.length;while(m!==l){k.splice(j,0,m),m=m.parent}return k}function hS(f){var e=[],g=f.parent;while(g!=null){e.push(f),f=g,g=g.parent}return e.push(f),e}function hP(j,h){if(j===h){return j}var o=hS(j),n=hS(h),m=o.pop(),l=n.pop(),k=null;while(m===l){k=m,m=o.pop(),l=n.pop()}return k}function hG(b){b.fixed|=2}function hD(b){b!==hI&&(b.fixed&=1)}function hA(){hI.fixed&=1,hL=hI=null}function hx(){hI.px=d3.event.x,hI.py=d3.event.y,hL.resume()}function hu(t,s,r){var q=0,p=0;t.charge=0;if(!t.leaf){var o=t.nodes,n=o.length,m=-1,l;while(++m<n){l=o[m];if(l==null){continue}hu(l,s,r),t.charge+=l.charge,q+=l.charge*l.cx,p+=l.charge*l.cy}}if(t.point){t.leaf||(t.point.x+=Math.random()-0.5,t.point.y+=Math.random()-0.5);var k=s*r[t.point.index];t.charge+=t.pointCharge=k,q+=k*t.point.x,p+=k*t.point.y}t.cx=q/t.charge,t.cy=p/t.charge}function hr(b){return 20}function ho(b){return 1}function hi(b){return b.x}function hf(b){return b.y}function hc(f,e,g){f.y0=e,f.y=g}function g3(b){return d3.range(b.length)}function jv(f){var e=-1,h=f[0].length,g=[];while(++e<h){g[e]=0}return g}function g0(h){var g=1,m=0,l=h[0][1],k,j=h.length;for(;g<j;++g){(k=h[g][1])>l&&(m=g,l=k)}return m}function e1(b){return b.reduce(e0,0)}function e0(f,e){return f+e[1]}function d7(f,e){return d6(f,Math.ceil(Math.log(e.length)/Math.LN2+1))}function d6(h,g){var m=-1,l=+h[0],k=(h[1]-l)/g,j=[];while(++m<=g){j[m]=k*m+l}return j}function d4(b){return[d3.min(b),d3.max(b)]}function d1(f,e){return d3.rebind(f,e,"sort","children","value"),f.links=c2,f.nodes=function(a){return c0=!0,(f.nodes=f)(a)},f}function c8(b){return b.children}function c6(b){return b.value}function c4(f,e){return e.value-f.value}function c2(b){return d3.merge(b.map(function(e){return(e.children||[]).map(function(a){return{source:e,target:a}})}))}function b8(f,e){return f.value-e.value}function b6(f,e){var g=f._pack_next;f._pack_next=e,e._pack_prev=f,e._pack_next=g,g._pack_prev=e}function b4(f,e){f._pack_next=e,e._pack_prev=f}function b2(g,f){var k=f.x-g.x,j=f.y-g.y,h=g.r+f.r;return h*h-k*k-j*j>0.001}function b0(N){function C(b){M=Math.min(b.x-b.r,M),L=Math.max(b.x+b.r,L),K=Math.min(b.y-b.r,K),J=Math.max(b.y+b.r,J)}var M=Infinity,L=-Infinity,K=Infinity,J=-Infinity,I=N.length,H,G,F,E,D;N.forEach(a8),H=N[0],H.x=-H.r,H.y=0,C(H);if(I>1){G=N[1],G.x=G.r,G.y=0,C(G);if(I>2){F=N[2],a1(H,G,F),C(F),b6(H,F),H._pack_prev=F,b6(F,G),G=H._pack_next;for(var B=3;B<I;B++){a1(H,G,F=N[B]);var A=0,z=1,y=1;for(E=G._pack_next;E!==G;E=E._pack_next,z++){if(b2(E,F)){A=1;break}}if(A==1){for(D=H._pack_prev;D!==E._pack_prev;D=D._pack_prev,y++){if(b2(D,F)){break}}}A?(z<y||z==y&&G.r<H.r?b4(H,G=E):b4(H=D,G),B--):(b6(H,F),G=F,C(F))}}}var x=(M+L)/2,w=(K+J)/2,v=0;for(var B=0;B<I;B++){var u=N[B];u.x-=x,u.y-=w,v=Math.max(v,u.r+Math.sqrt(u.x*u.x+u.y*u.y))}return N.forEach(a6),v}function a8(b){b._pack_next=b._pack_prev=b}function a6(b){delete b._pack_next,delete b._pack_prev}function a5(f){var e=f.children;e&&e.length?(e.forEach(a5),f.r=b0(e)):f.r=Math.sqrt(f.value)}function a2(j,h,o,n){var m=j.children;j.x=h+=n*j.x,j.y=o+=n*j.y,j.r*=n;if(m){var l=-1,k=m.length;while(++l<k){a2(m[l],h,o,n)}}}function a1(x,w,v){var u=x.r+v.r,t=w.x-x.x,s=w.y-x.y;if(u&&(t||s)){var r=w.r+v.r,q=Math.sqrt(t*t+s*s),p=Math.max(-1,Math.min(1,(u*u+q*q-r*r)/(2*u*q))),o=Math.acos(p),n=p*(u/=q),m=Math.sin(o)*u;v.x=x.x+n*t+m*s,v.y=x.y+n*s-m*t}else{v.x=x.x+u,v.y=x.y}}function aY(b){return 1+d3.max(b,function(e){return e.y})}function aX(b){return b.reduce(function(f,e){return f+e.x},0)/b.length}function aU(f){var e=f.children;return e&&e.length?aU(e[0]):f}function aS(f){var e=f.children,g;return e&&(g=e.length)?aS(e[g-1]):f}function aR(f,e){return f.parent==e.parent?1:2}function gZ(f){var e=f.children;return e&&e.length?e[0]:f._tree.thread}function gY(f){var e=f.children,g;return e&&(g=e.length)?e[g-1]:f._tree.thread}function gV(h,g){var m=h.children;if(m&&(k=m.length)){var l,k,j=-1;while(++j<k){g(l=gV(m[j],g),h)>0&&(h=l)}}return h}function gT(f,e){return f.x-e.x}function gR(f,e){return e.x-f.x}function gP(f,e){return f.depth-e.depth}function gN(f,e){function g(b,o){var n=b.children;if(n&&(j=n.length)){var m,l=null,k=-1,j;while(++k<j){m=n[k],g(m,l),l=m}}e(b,o)}g(f,null)}function gL(h){var g=0,m=0,l=h.children,k=l.length,j;while(--k>=0){j=l[k]._tree,j.prelim+=g,j.mod+=g,g+=j.shift+(m+=j.change)}}function gJ(f,e,h){f=f._tree,e=e._tree;var g=h/(e.number-f.number);f.change+=g,e.change-=g,e.shift+=h,e.prelim+=h,e.mod+=h}function gH(f,e,g){return f._tree.ancestor.parent==e.parent?f._tree.ancestor:g}function gF(b){return{x:b.x,y:b.y,dx:b.dx,dy:b.dy}}function gD(h,g){var m=h.x+g[3],l=h.y+g[0],k=h.dx-g[1]-g[3],j=h.dy-g[0]-g[2];return k<0&&(m+=k/2,k=0),j<0&&(l+=j/2,j=0),{x:m,y:l,dx:k,dy:j}}function gB(b){return b.map(gz).join(",")}function gz(b){return/[",\n]/.test(b)?'"'+b.replace(/\"/g,'""')+'"':b}function gv(f,e){return function(a){return a&&f.hasOwnProperty(a.type)?f[a.type](a):e}}function gu(b){return"m0,"+b+"a"+b+","+b+" 0 1,1 0,"+-2*b+"a"+b+","+b+" 0 1,1 0,"+2*b+"z"}function gs(f,e){gp.hasOwnProperty(f.type)&&gp[f.type](f,e)}function f9(f,e){gs(f.geometry,e)}function f7(g,f){for(var k=g.features,j=0,h=k.length;j<h;j++){gs(k[j].geometry,f)}}function f5(g,f){for(var k=g.geometries,j=0,h=k.length;j<h;j++){gs(k[j],f)}}function f3(g,f){for(var k=g.coordinates,j=0,h=k.length;j<h;j++){f.apply(null,k[j])}}function f1(k,j){for(var q=k.coordinates,p=0,o=q.length;p<o;p++){for(var n=q[p],m=0,l=n.length;m<l;m++){j.apply(null,n[m])}}}function e9(k,j){for(var q=k.coordinates,p=0,o=q.length;p<o;p++){for(var n=q[p][0],m=0,l=n.length;m<l;m++){j.apply(null,n[m])}}}function e7(f,e){e.apply(null,f.coordinates)}function ib(g,f){for(var k=g.coordinates[0],j=0,h=k.length;j<h;j++){f.apply(null,k[j])}}function e4(b){return b.source}function aP(b){return b.target}function aO(H,G){function r(h){var e=Math.sin(t-(h*=t))/s,m=Math.sin(h)/s,k=e*B*E+m*v*y,j=e*B*D+m*v*x,g=e*A+m*u;return[Math.atan2(j,k)/gw,Math.atan2(g,Math.sqrt(k*k+j*j))/gw]}var F=H[0]*gw,E=Math.cos(F),D=Math.sin(F),C=H[1]*gw,B=Math.cos(C),A=Math.sin(C),z=G[0]*gw,y=Math.cos(z),x=Math.sin(z),w=G[1]*gw,v=Math.cos(w),u=Math.sin(w),t=r.d=Math.acos(Math.max(-1,Math.min(1,A*u+B*v*Math.cos(z-F)))),s=Math.sin(t);return r}function aL(f){var e=0,g=0;for(;;){if(f(e,g)){return[e,g]}e===0?(e=g+1,g=0):(e-=1,g+=1)}}function aK(v,u,t,s){var r,q,p,o,n,m,l;return r=s[v],q=r[0],p=r[1],r=s[u],o=r[0],n=r[1],r=s[t],m=r[0],l=r[1],(l-p)*(o-q)-(n-p)*(m-q)>0}function aJ(f,e,g){return(g[0]-e[0])*(f[1]-e[1])<(g[1]-e[1])*(f[0]-e[0])}function aI(L,K,J,I){var H=L[0],G=K[0],F=J[0],E=I[0],D=L[1],C=K[1],B=J[1],A=I[1],z=H-F,y=G-H,x=E-F,w=D-B,v=C-D,u=A-B,t=(x*w-u*z)/(u*y-x*v);return[H+t*y,D+t*v]}function aG(N,M){var L={list:N.map(function(f,e){return{index:e,x:f[0],y:f[1]}}).sort(function(f,e){return f.y<e.y?-1:f.y>e.y?1:f.x<e.x?-1:f.x>e.x?1:0}),bottomSite:null},K={list:[],leftEnd:null,rightEnd:null,init:function(){K.leftEnd=K.createHalfEdge(null,"l"),K.rightEnd=K.createHalfEdge(null,"l"),K.leftEnd.r=K.rightEnd,K.rightEnd.l=K.leftEnd,K.list.unshift(K.leftEnd,K.rightEnd)},createHalfEdge:function(f,e){return{edge:f,side:e,vertex:null,l:null,r:null}},insert:function(f,e){e.l=f,e.r=f.r,f.r.l=e,f.r=e},leftBound:function(f){var e=K.leftEnd;do{e=e.r}while(e!=K.rightEnd&&J.rightOf(e,f));return e=e.l,e},del:function(b){b.l.r=b.r,b.r.l=b.l,b.edge=null},right:function(b){return b.r},left:function(b){return b.l},leftRegion:function(b){return b.edge==null?L.bottomSite:b.edge.region[b.side]},rightRegion:function(b){return b.edge==null?L.bottomSite:b.edge.region[aH[b.side]]}},J={bisect:function(j,h){var o={region:{l:j,r:h},ep:{l:null,r:null}},n=h.x-j.x,m=h.y-j.y,l=n>0?n:-n,k=m>0?m:-m;return o.c=j.x*n+j.y*m+(n*n+m*m)*0.5,l>k?(o.a=1,o.b=m/n,o.c/=n):(o.b=1,o.a=n/m,o.c/=m),o},intersect:function(R,Q){var P=R.edge,O=Q.edge;if(!P||!O||P.region.r==O.region.r){return null}var t=P.a*O.b-P.b*O.a;if(Math.abs(t)<1e-10){return null}var s=(P.c*O.b-O.c*P.b)/t,r=(O.c*P.a-P.c*O.a)/t,q=P.region.r,p=O.region.r,o,n;q.y<p.y||q.y==p.y&&q.x<p.x?(o=R,n=P):(o=Q,n=O);var m=s>=n.region.r.x;return m&&o.side==="l"||!m&&o.side==="r"?null:{x:s,y:r}},rightOf:function(V,U){var T=V.edge,S=T.region.r,R=U.x>S.x;if(R&&V.side==="l"){return 1}if(!R&&V.side==="r"){return 0}if(T.a===1){var Q=U.y-S.y,P=U.x-S.x,O=0,t=0;!R&&T.b<0||R&&T.b>=0?t=O=Q>=T.b*P:(t=U.x+U.y*T.b>T.c,T.b<0&&(t=!t),t||(O=1));if(!O){var s=S.x-T.region.l.x;t=T.b*(P*P-Q*Q)<s*Q*(1+2*P/s+T.b*T.b),T.b<0&&(t=!t)}}else{var r=T.c-T.a*U.x,q=U.y-r,p=U.x-S.x,o=r-S.y;t=q*q>p*p+o*o}return V.side==="l"?t:!t},endPoint:function(b,f,e){b.ep[f]=e;if(!b.ep[aH[f]]){return}M(b)},distance:function(f,e){var h=f.x-e.x,g=f.y-e.y;return Math.sqrt(h*h+g*g)}},I={list:[],insert:function(j,f,o){j.vertex=f,j.ystar=f.y+o;for(var n=0,m=I.list,l=m.length;n<l;n++){var k=m[n];if(j.ystar>k.ystar||j.ystar==k.ystar&&f.x>k.vertex.x){continue}break}m.splice(n,0,j)},del:function(f){for(var e=0,h=I.list,g=h.length;e<g&&h[e]!=f;++e){}h.splice(e,1)},empty:function(){return I.list.length===0},nextEvent:function(f){for(var e=0,h=I.list,g=h.length;e<g;++e){if(h[e]==f){return h[e+1]}}return null},min:function(){var b=I.list[0];return{x:b.vertex.x,y:b.ystar}},extractMin:function(){return I.list.shift()}};K.init(),L.bottomSite=L.list.shift();var H=L.list.shift(),G,F,E,D,C,B,A,z,y,x,w,v,u;for(;;){I.empty()||(G=I.min());if(H&&(I.empty()||H.y<G.y||H.y==G.y&&H.x<G.x)){F=K.leftBound(H),E=K.right(F),A=K.rightRegion(F),v=J.bisect(A,H),B=K.createHalfEdge(v,"l"),K.insert(F,B),x=J.intersect(F,B),x&&(I.del(F),I.insert(F,x,J.distance(x,H))),F=B,B=K.createHalfEdge(v,"r"),K.insert(F,B),x=J.intersect(B,E),x&&I.insert(B,x,J.distance(x,H)),H=L.list.shift()}else{if(!I.empty()){F=I.extractMin(),D=K.left(F),E=K.right(F),C=K.right(E),A=K.leftRegion(F),z=K.rightRegion(E),w=F.vertex,J.endPoint(F.edge,F.side,w),J.endPoint(E.edge,E.side,w),K.del(F),I.del(E),K.del(E),u="l",A.y>z.y&&(y=A,A=z,z=y,u="r"),v=J.bisect(A,z),B=K.createHalfEdge(v,u),K.insert(D,B),J.endPoint(v,aH[u],w),x=J.intersect(D,B),x&&(I.del(D),I.insert(D,x,J.distance(x,A))),x=J.intersect(B,C),x&&I.insert(B,x,J.distance(x,A))}else{break}}}for(F=K.right(K.leftEnd);F!=K.rightEnd;F=K.right(F)){M(F.edge)}}function aF(){return{leaf:!0,nodes:[],point:null}}function aE(r,q,p,o,n,m){if(!r(q,p,o,n,m)){var l=(p+n)*0.5,k=(o+m)*0.5,j=q.nodes;j[0]&&aE(r,j[0],p,o,l,k),j[1]&&aE(r,j[1],l,o,n,k),j[2]&&aE(r,j[2],p,k,l,m),j[3]&&aE(r,j[3],l,k,n,m)}}function aD(b){return{x:b[0],y:b[1]}}function aB(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}function az(r,q,p,o){var n,m,l=0,k=q.length,j=p.length;while(l<k){if(o>=j){return -1}n=q.charCodeAt(l++);if(n==37){m=at[q.charAt(l++)];if(!m||(o=m(r,p,o))<0){return -1}}else{if(n!=p.charCodeAt(o++)){return -1}}}return o}function ar(f,e,g){return ap.test(e.substring(g,g+=3))?g:-1}function aq(f,e,h){e3.lastIndex=0;var g=e3.exec(e.substring(h,h+10));return g?h+=g[0].length:-1}function e2(f,e,h){var g=d9.get(e.substring(h,h+=3).toLowerCase());return g==null?-1:(f.m=g,h)}function d8(f,e,h){d5.lastIndex=0;var g=d5.exec(e.substring(h,h+12));return g?(f.m=d2.get(g[0].toLowerCase()),h+=g[0].length):-1}function c9(f,e,g){return az(f,au.c.toString(),e,g)}function c7(f,e,g){return az(f,au.x.toString(),e,g)}function c5(f,e,g){return az(f,au.X.toString(),e,g)}function c3(f,e,h){a4.lastIndex=0;var g=a4.exec(e.substring(h,h+4));return g?(f.y=+g[0],h+=g[0].length):-1}function c1(f,e,h){a4.lastIndex=0;var g=a4.exec(e.substring(h,h+2));return g?(f.y=b9()+ +g[0],h+=g[0].length):-1}function b9(){return ~~((new Date).getFullYear()/1000)*1000}function b7(f,e,h){a4.lastIndex=0;var g=a4.exec(e.substring(h,h+2));return g?(f.m=g[0]-1,h+=g[0].length):-1}function b5(f,e,h){a4.lastIndex=0;var g=a4.exec(e.substring(h,h+2));return g?(f.d=+g[0],h+=g[0].length):-1}function b3(f,e,h){a4.lastIndex=0;var g=a4.exec(e.substring(h,h+2));return g?(f.H=+g[0],h+=g[0].length):-1}function b1(f,e,h){a4.lastIndex=0;var g=a4.exec(e.substring(h,h+2));return g?(f.M=+g[0],h+=g[0].length):-1}function a9(f,e,h){a4.lastIndex=0;var g=a4.exec(e.substring(h,h+2));return g?(f.S=+g[0],h+=g[0].length):-1}function a7(f,e,h){a4.lastIndex=0;var g=a4.exec(e.substring(h,h+3));return g?(f.L=+g[0],h+=g[0].length):-1}function a3(f,e,h){var g=a0.get(e.substring(h,h+=2).toLowerCase());return g==null?-1:(f.p=g,h)}function aZ(g){var f=g.getTimezoneOffset(),k=f>0?"-":"+",j=~~(Math.abs(f)/60),h=Math.abs(f)%60;return k+ay(j)+ay(h)}function aV(b){return b.toISOString()}function aT(r,q,p){function o(a){var f=r(a),e=m(f,1);return a-f<e-a?f:e}function n(a){return q(a=r(new aC(a-1)),1),a}function m(b,e){return q(b=new aC(+b),e),b}function l(b,u,t){var s=n(b),e=[];if(t>1){while(s<u){p(s)%t||e.push(new Date(+s)),q(s,1)}}else{while(s<u){e.push(new Date(+s)),q(s,1)}}return e}function k(f,e,h){try{aC=aB;var g=new aB;return g._=f,l(g,e,h)}finally{aC=Date}}r.floor=r,r.round=o,r.ceil=n,r.offset=m,r.range=l;var j=r.utc=gW(r);return j.floor=j,j.round=gW(o),j.ceil=gW(n),j.offset=gW(m),j.range=k,r}function gW(b){return function(a,f){try{aC=aB;var e=new aB;return e._=a,b(e,f)._}finally{aC=Date}}}function aQ(f,e,h){function g(a){return f(a)}return g.invert=function(a){return an(f.invert(a))},g.domain=function(a){return arguments.length?(f.domain(a),g):f.domain().map(an)},g.nice=function(k){var j=ao(g.domain());return g.domain([k.floor(j[0]),k.ceil(j[1])])},g.ticks=function(m,l){var k=ao(g.domain());if(typeof m!="function"){var j=k[1]-k[0],b=j/m,a=d3.bisect(aj,b);if(a==aj.length){return e.year(k,m)}if(!a){return f.ticks(m).map(an)}Math.log(b/aj[a-1])<Math.log(aj[a]/b)&&--a,m=e[a],l=m[1],m=m[0].range}return m(k[0],new Date(+k[1]+1),l)},g.tickFormat=function(){return h},g.copy=function(){return aQ(f.copy(),e,h)},d3.rebind(g,f,"range","rangeRound","interpolate","clamp")}function ao(f){var e=f[0],g=f[f.length-1];return e<g?[e,g]:[g,e]}function an(b){return new Date(b)}function am(b){return function(a){var f=b.length-1,e=b[f];while(!e[1](a)){e=b[--f]}return e[0](a)}}function al(f){var e=new Date(f,0,1);return e.setFullYear(f),e}function ak(f){var e=f.getFullYear(),h=al(e),g=al(e+1);return e+(f-h)/(g-h)}function ab(f){var e=new Date(Date.UTC(f,0,1));return e.setUTCFullYear(f),e}function aa(f){var e=f.getUTCFullYear(),h=ab(e),g=ab(e+1);return e+(f-h)/(g-h)}Date.now||(Date.now=function(){return +(new Date)});try{document.createElement("div").style.setProperty("opacity",0,"")}catch(ig){var ic=CSSStyleDeclaration.prototype,h9=ic.setProperty;ic.setProperty=function(f,e,g){h9.call(this,f,e+"",g)}}d3={version:"2.8.1"};var h1=hU;try{h1(document.documentElement.childNodes)[0].nodeType}catch(hR){h1=hX}var hO=[].__proto__?function(f,e){f.__proto__=e}:function(f,e){for(var g in e){f[g]=e[g]}};d3.map=function(f){var e=new hM;for(var g in f){e.set(g,f[g])}return e},h4(hM,{has:function(b){return hJ+b in this},get:function(b){return this[hJ+b]},set:function(f,e){return this[hJ+f]=e},remove:function(b){return b=hJ+b,b in this&&delete this[b]},keys:function(){var b=[];return this.forEach(function(a){b.push(a)}),b},values:function(){var b=[];return this.forEach(function(a,e){b.push(e)}),b},entries:function(){var b=[];return this.forEach(function(a,e){b.push({key:a,value:e})}),b},forEach:function(f){for(var e in this){e.charCodeAt(0)===hF&&f.call(this,e.substring(1),this[e])}}});var hJ="\0",hF=hJ.charCodeAt(0);d3.functor=function(b){return typeof b=="function"?b:function(){return b}},d3.rebind=function(g,f){var k=1,j=arguments.length,h;while(++k<j){g[h=arguments[k]]=hz(g,f,f[h])}return g},d3.ascending=function(f,e){return f<e?-1:f>e?1:f>=e?0:NaN},d3.descending=function(f,e){return e<f?-1:e>f?1:e>=f?0:NaN},d3.mean=function(j,h){var o=j.length,n,m=0,l=-1,k=0;if(arguments.length===1){while(++l<o){hw(n=j[l])&&(m+=(n-m)/++k)}}else{while(++l<o){hw(n=h.call(j,j[l],l))&&(m+=(n-m)/++k)}}return k?m:undefined},d3.median=function(f,e){return arguments.length>1&&(f=f.map(e)),f=f.filter(hw),f.length?d3.quantile(f.sort(d3.ascending),0.5):undefined},d3.min=function(h,g){var m=-1,l=h.length,k,j;if(arguments.length===1){while(++m<l&&((k=h[m])==null||k!=k)){k=undefined}while(++m<l){(j=h[m])!=null&&k>j&&(k=j)}}else{while(++m<l&&((k=g.call(h,h[m],m))==null||k!=k)){k=undefined}while(++m<l){(j=g.call(h,h[m],m))!=null&&k>j&&(k=j)}}return k},d3.max=function(h,g){var m=-1,l=h.length,k,j;if(arguments.length===1){while(++m<l&&((k=h[m])==null||k!=k)){k=undefined}while(++m<l){(j=h[m])!=null&&j>k&&(k=j)}}else{while(++m<l&&((k=g.call(h,h[m],m))==null||k!=k)){k=undefined}while(++m<l){(j=g.call(h,h[m],m))!=null&&j>k&&(k=j)}}return k},d3.extent=function(j,h){var o=-1,n=j.length,m,l,k;if(arguments.length===1){while(++o<n&&((m=k=j[o])==null||m!=m)){m=k=undefined}while(++o<n){(l=j[o])!=null&&(m>l&&(m=l),k<l&&(k=l))}}else{while(++o<n&&((m=k=h.call(j,j[o],o))==null||m!=m)){m=undefined}while(++o<n){(l=h.call(j,j[o],o))!=null&&(m>l&&(m=l),k<l&&(k=l))}}return[m,k]},d3.random={normal:function(f,e){return arguments.length<2&&(e=1),arguments.length<1&&(f=0),function(){var g,b,a;do{g=Math.random()*2-1,b=Math.random()*2-1,a=g*g+b*b}while(!a||a>1);return f+e*g*Math.sqrt(-2*Math.log(a)/a)}}},d3.sum=function(h,g){var m=0,l=h.length,k,j=-1;if(arguments.length===1){while(++j<l){isNaN(k=+h[j])||(m+=k)}}else{while(++j<l){isNaN(k=+g.call(h,h[j],j))||(m+=k)}}return m},d3.quantile=function(h,g){var m=(h.length-1)*g+1,l=Math.floor(m),k=h[l-1],j=m-l;return j?k+j*(h[l]-k):k},d3.transpose=function(b){return d3.zip.apply(d3,b)},d3.zip=function(){if(!(k=arguments.length)){return[]}for(var h=-1,g=d3.min(arguments,ht),m=new Array(g);++h<g;){for(var l=-1,k,j=m[h]=new Array(k);++l<k;){j[l]=arguments[l][h]}}return m},d3.bisector=function(b){return{left:function(a,k,j,h){arguments.length<3&&(j=0),arguments.length<4&&(h=a.length);while(j<h){var g=j+h>>1;b.call(a,a[g],g)<k?j=g+1:h=g}return j},right:function(a,k,j,h){arguments.length<3&&(j=0),arguments.length<4&&(h=a.length);while(j<h){var g=j+h>>1;k<b.call(a,a[g],g)?h=g:j=g+1}return j}}};var hq=d3.bisector(function(b){return b});d3.bisectLeft=hq.left,d3.bisect=d3.bisectRight=hq.right,d3.first=function(h,g){var m=0,l=h.length,k=h[0],j;arguments.length===1&&(g=d3.ascending);while(++m<l){g.call(h,k,j=h[m])>0&&(k=j)}return k},d3.last=function(h,g){var m=0,l=h.length,k=h[0],j;arguments.length===1&&(g=d3.ascending);while(++m<l){g.call(h,k,j=h[m])<=0&&(k=j)}return k},d3.nest=function(){function l(v,u){if(u>=h.length){return m?m.call(j,v):n?v.sort(n):v}var t=-1,s=v.length,r=h[u++],q,f,e=new hM,b,a={};while(++t<s){(b=e.get(q=r(f=v[t])))?b.push(f):e.set(q,[f])}return e.forEach(function(g){a[g]=l(e.get(g),u)}),a}function k(b,r){if(r>=h.length){return b}var q=[],p=o[r++],g;for(g in b){q.push({key:g,values:k(b[g],r)})}return p&&q.sort(function(f,e){return p(f.key,e.key)}),q}var j={},h=[],o=[],n,m;return j.map=function(b){return l(b,0)},j.entries=function(b){return k(l(b,0),0)},j.key=function(a){return h.push(a),j},j.sortKeys=function(a){return o[h.length-1]=a,j},j.sortValues=function(a){return n=a,j},j.rollup=function(a){return m=a,j},j},d3.keys=function(f){var e=[];for(var g in f){e.push(g)}return e},d3.values=function(f){var e=[];for(var g in f){e.push(f[g])}return e},d3.entries=function(f){var e=[];for(var g in f){e.push({key:g,value:f[g]})}return e},d3.permute=function(g,f){var k=[],j=-1,h=f.length;while(++j<h){k[j]=g[f[j]]}return k},d3.merge=function(b){return Array.prototype.concat.apply([],b)},d3.split=function(j,h){var o=[],n=[],m,l=-1,k=j.length;arguments.length<2&&(h=hn);while(++l<k){h.call(n,m=j[l],l)?n=[]:(n.length||o.push(n),n.push(m))}return o},d3.range=function(j,h,o){arguments.length<3&&(o=1,arguments.length<2&&(h=j,j=0));if((h-j)/o===Infinity){throw new Error("infinite range")}var n=[],m=hh(Math.abs(o)),l=-1,k;j*=m,h*=m,o*=m;if(o<0){while((k=j+o*++l)>h){n.push(k/m)}}else{while((k=j+o*++l)<h){n.push(k/m)}}return n},d3.requote=function(b){return b.replace(he,"\\$&")};var he=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;d3.round=function(f,e){return e?Math.round(f*(e=Math.pow(10,e)))/e:Math.round(f)},d3.xhr=function(f,e,h){var g=new XMLHttpRequest;arguments.length<3?(h=e,e=null):e&&g.overrideMimeType&&g.overrideMimeType(e),g.open("GET",f,!0),e&&g.setRequestHeader("Accept",e),g.onreadystatechange=function(){g.readyState===4&&h(g.status<300?g:null)},g.send(null)},d3.text=function(f,e,h){function g(b){h(b&&b.responseText)}arguments.length<3&&(h=e,e=null),d3.xhr(f,e,g)},d3.json=function(f,e){d3.text(f,"application/json",function(b){e(b?JSON.parse(b):null)})},d3.html=function(f,e){d3.text(f,"text/html",function(b){if(b!=null){var g=document.createRange();g.selectNode(document.body),b=g.createContextualFragment(b)}e(b)})},d3.xml=function(f,e,h){function g(b){h(b&&b.responseXML)}arguments.length<3&&(h=e,e=null),d3.xhr(f,e,g)};var hb={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};d3.ns={prefix:hb,qualify:function(f){var e=f.indexOf(":"),g=f;return e>=0&&(g=f.substring(0,e),f=f.substring(e+1)),hb.hasOwnProperty(g)?{space:hb[g],local:f}:f}},d3.dispatch=function(){var f=new g9,e=-1,g=arguments.length;while(++e<g){f[arguments[e]]=g6(f)}return f},g9.prototype.on=function(f,e){var h=f.indexOf("."),g="";return h>0&&(g=f.substring(h+1),f=f.substring(0,h)),arguments.length<2?this[f].on(g):this[f].on(g,e)},d3.format=function(x){var w=g2.exec(x),v=w[1]||" ",u=w[3]||"",t=w[5],s=+w[6],r=w[7],q=w[8],p=w[9],o=1,n="",m=!1;q&&(q=+q.substring(1)),t&&(v="0",r&&(s-=Math.floor((s-1)/4)));switch(p){case"n":r=!0,p="g";break;case"%":o=100,n="%",p="f";break;case"p":o=100,n="%",p="r";break;case"d":m=!0,q=0;break;case"s":o=-1,p="r"}return p=="r"&&!q&&(p="g"),p=jC.get(p)||jx,function(g){if(m&&g%1){return""}var f=g<0&&(g=-g)?"":u;if(o<0){var e=d3.formatPrefix(g,q);g*=e.scale,n=e.symbol}else{g*=o}g=p(g,q);if(t){var h=g.length+f.length;h<s&&(g=(new Array(s-h+1)).join(v)+g),r&&(g=ju(g)),g=f+g}else{r&&(g=ju(g)),g=f+g;var h=g.length;h<s&&(g=(new Array(s-h+1)).join(v)+g)}return g+n}};var g2=/(?:([^{])?([<>=^]))?([+\- ])?(#)?(0)?([0-9]+)?(,)?(\.[0-9]+)?([a-zA-Z%])?/,jC=d3.map({g:function(f,e){return f.toPrecision(e)},e:function(f,e){return f.toExponential(e)},f:function(f,e){return f.toFixed(e)},r:function(f,e){return d3.round(f,e=jA(f,e)).toFixed(Math.max(0,Math.min(20,e)))}}),jr=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"].map(jn);d3.formatPrefix=function(f,e){var g=0;return f&&(f<0&&(f*=-1),e&&(f=d3.round(f,jA(f,e))),g=1+Math.floor(1e-12+Math.log(f)/Math.LN10),g=Math.max(-24,Math.min(24,Math.floor((g<=0?g+1:g-1)/3)*3))),jr[8+g/3]};var jk=iT(2),jh=iT(3),je=function(){return iX},jb=d3.map({linear:je,poly:iT,quad:function(){return jk},cubic:function(){return jh},sin:function(){return iQ},exp:function(){return iN},circle:function(){return iK},elastic:iH,back:iE,bounce:function(){return iB}}),i8=d3.map({"in":iX,out:i2,"in-out":i0,"out-in":function(b){return i0(i2(b))}});d3.ease=function(f){var e=f.indexOf("-"),h=e>=0?f.substring(0,e):f,g=e>=0?f.substring(e+1):"in";return h=jb.get(h)||je,g=i8.get(g)||iX,i5(g(h.apply(null,Array.prototype.slice.call(arguments,1))))},d3.event=null,d3.interpolate=function(f,e){var h=d3.interpolators.length,g;while(--h>=0&&!(g=d3.interpolators[h](f,e))){}return g},d3.interpolateNumber=function(f,e){return e-=f,function(a){return f+e*a}},d3.interpolateRound=function(f,e){return e-=f,function(a){return Math.round(f+e*a)}},d3.interpolateString=function(v,u){var t,s,r,q=0,p=0,o=[],n=[],m,l;io.lastIndex=0;for(s=0;t=io.exec(u);++s){t.index&&o.push(u.substring(q,p=t.index)),n.push({i:o.length,x:t[0]}),o.push(null),q=io.lastIndex}q<u.length&&o.push(u.substring(q));for(s=0,m=n.length;(t=io.exec(v))&&s<m;++s){l=n[s];if(l.x==t[0]){if(l.i){if(o[l.i+1]==null){o[l.i-1]+=l.x,o.splice(l.i,1);for(r=s+1;r<m;++r){n[r].i--}}else{o[l.i-1]+=l.x+o[l.i+1],o.splice(l.i,2);for(r=s+1;r<m;++r){n[r].i-=2}}}else{if(o[l.i+1]==null){o[l.i]=l.x}else{o[l.i]=l.x+o[l.i+1],o.splice(l.i+1,1);for(r=s+1;r<m;++r){n[r].i--}}}n.splice(s,1),m--,s--}else{l.x=d3.interpolateNumber(parseFloat(t[0]),parseFloat(l.x))}}while(s<m){l=n.pop(),o[l.i+1]==null?o[l.i]=l.x:(o[l.i]=l.x+o[l.i+1],o.splice(l.i+1,1)),m--}return o.length===1?o[0]==null?n[0].x:function(){return u}:function(b){for(s=0;s<m;++s){o[(l=n[s]).i]=l.x(b)}return o.join("")}},d3.interpolateTransform=function(D,C){var B=[],A=[],z,y=d3.transform(D),x=d3.transform(C),w=y.translate,v=x.translate,u=y.rotate,t=x.rotate,s=y.skew,r=x.skew,q=y.scale,p=x.scale;return w[0]!=v[0]||w[1]!=v[1]?(B.push("translate(",null,",",null,")"),A.push({i:1,x:d3.interpolateNumber(w[0],v[0])},{i:3,x:d3.interpolateNumber(w[1],v[1])})):v[0]||v[1]?B.push("translate("+v+")"):B.push(""),u!=t?A.push({i:B.push(B.pop()+"rotate(",null,")")-2,x:d3.interpolateNumber(u,t)}):t&&B.push(B.pop()+"rotate("+t+")"),s!=r?A.push({i:B.push(B.pop()+"skewX(",null,")")-2,x:d3.interpolateNumber(s,r)}):r&&B.push(B.pop()+"skewX("+r+")"),q[0]!=p[0]||q[1]!=p[1]?(z=B.push(B.pop()+"scale(",null,",",null,")"),A.push({i:z-4,x:d3.interpolateNumber(q[0],p[0])},{i:z-2,x:d3.interpolateNumber(q[1],p[1])})):(p[0]!=1||p[1]!=1)&&B.push(B.pop()+"scale("+p+")"),z=A.length,function(g){var e=-1,h;while(++e<z){B[(h=A[e]).i]=h.x(g)}return B.join("")}},d3.interpolateRgb=function(k,j){k=d3.rgb(k),j=d3.rgb(j);var q=k.r,p=k.g,o=k.b,n=j.r-q,m=j.g-p,l=j.b-o;return function(b){return"#"+jp(Math.round(q+n*b))+jp(Math.round(p+m*b))+jp(Math.round(o+l*b))}},d3.interpolateHsl=function(k,j){k=d3.hsl(k),j=d3.hsl(j);var q=k.h,p=k.s,o=k.l,n=j.h-q,m=j.s-p,l=j.l-o;return function(b){return i4(q+n*b,p+m*b,o+l*b).toString()}},d3.interpolateArray=function(k,j){var q=[],p=[],o=k.length,n=j.length,m=Math.min(k.length,j.length),l;for(l=0;l<m;++l){q.push(d3.interpolate(k[l],j[l]))}for(;l<o;++l){p[l]=k[l]}for(;l<n;++l){p[l]=j[l]}return function(b){for(l=0;l<m;++l){p[l]=q[l](b)}return p}},d3.interpolateObject=function(g,f){var k={},j={},h;for(h in g){h in f?k[h]=j3(h)(g[h],f[h]):j[h]=g[h]}for(h in f){h in g||(j[h]=f[h])}return function(b){for(h in k){j[h]=k[h](b)}return j}};var io=/[-+]?(?:\d*\.?\d+)(?:[eE][-+]?\d+)?/g;d3.interpolators=[d3.interpolateObject,function(f,e){return e instanceof Array&&d3.interpolateArray(f,e)},function(f,e){return(typeof f=="string"||typeof e=="string")&&d3.interpolateString(f+"",e+"")},function(f,e){return(typeof e=="string"?jd.has(e)||/^(#|rgb\(|hsl\()/.test(e):e instanceof js||e instanceof i7)&&d3.interpolateRgb(f,e)},function(f,e){return !isNaN(f=+f)&&!isNaN(e=+e)&&d3.interpolateNumber(f,e)}],d3.rgb=function(f,e,g){return arguments.length===1?f instanceof js?jw(f.r,f.g,f.b):jm(""+f,jw,i4):jw(~~f,~~e,~~g)},js.prototype.brighter=function(g){g=Math.pow(0.7,arguments.length?g:1);var f=this.r,k=this.g,j=this.b,h=30;return !f&&!k&&!j?jw(h,h,h):(f&&f<h&&(f=h),k&&k<h&&(k=h),j&&j<h&&(j=h),jw(Math.min(255,Math.floor(f/g)),Math.min(255,Math.floor(k/g)),Math.min(255,Math.floor(j/g))))},js.prototype.darker=function(b){return b=Math.pow(0.7,arguments.length?b:1),jw(Math.floor(b*this.r),Math.floor(b*this.g),Math.floor(b*this.b))},js.prototype.hsl=function(){return jj(this.r,this.g,this.b)},js.prototype.toString=function(){return"#"+jp(this.r)+jp(this.g)+jp(this.b)};var jd=d3.map({aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"});jd.forEach(function(f,e){jd.set(f,jm(e,jw,i4))}),d3.hsl=function(f,e,g){return arguments.length===1?f instanceof i7?ja(f.h,f.s,f.l):jm(""+f,jj,ja):ja(+f,+e,+g)},i7.prototype.brighter=function(b){return b=Math.pow(0.7,arguments.length?b:1),ja(this.h,this.s,this.l/b)},i7.prototype.darker=function(b){return b=Math.pow(0.7,arguments.length?b:1),ja(this.h,this.s,b*this.l)},i7.prototype.rgb=function(){return i4(this.h,this.s,this.l)},i7.prototype.toString=function(){return this.rgb().toString()};var iY=function(f,e){return e.querySelector(f)},iV=function(f,e){return e.querySelectorAll(f)},iS=document.documentElement,iP=iS.matchesSelector||iS.webkitMatchesSelector||iS.mozMatchesSelector||iS.msMatchesSelector||iS.oMatchesSelector,iM=function(f,e){return iP.call(f,e)};typeof Sizzle=="function"&&(iY=function(f,e){return Sizzle(f,e)[0]},iV=function(f,e){return Sizzle.uniqueSort(Sizzle(f,e))},iM=Sizzle.matchesSelector);var iJ=[];d3.selection=function(){return ik},d3.selection.prototype=iJ,iJ.select=function(t){var s=[],r,q,p,o;typeof t!="function"&&(t=iG(t));for(var n=-1,m=this.length;++n<m;){s.push(r=[]),r.parentNode=(p=this[n]).parentNode;for(var l=-1,k=p.length;++l<k;){(o=p[l])?(r.push(q=t.call(o,o.__data__,l)),q&&"__data__" in o&&(q.__data__=o.__data__)):r.push(null)}}return i1(s)},iJ.selectAll=function(r){var q=[],p,o;typeof r!="function"&&(r=iD(r));for(var n=-1,m=this.length;++n<m;){for(var l=this[n],k=-1,f=l.length;++k<f;){if(o=l[k]){q.push(p=h1(r.call(o,o.__data__,k))),p.parentNode=o}}}return i1(q)},iJ.attr=function(r,q){function o(){this.removeAttribute(r)}function n(){this.removeAttributeNS(r.space,r.local)}function m(){this.setAttribute(r,q)}function l(){this.setAttributeNS(r.space,r.local,q)}function k(){var a=q.apply(this,arguments);a==null?this.removeAttribute(r):this.setAttribute(r,a)}function j(){var a=q.apply(this,arguments);a==null?this.removeAttributeNS(r.space,r.local):this.setAttributeNS(r.space,r.local,a)}r=d3.ns.qualify(r);if(arguments.length<2){var p=this.node();return r.local?p.getAttributeNS(r.space,r.local):p.getAttribute(r)}return this.each(q==null?r.local?n:o:typeof q=="function"?r.local?j:k:r.local?l:m)},iJ.classed=function(g,f){var k=g.split(iA),j=k.length,h=-1;if(arguments.length>1){while(++h<j){ix.call(this,k[h],f)}return this}while(++h<j){if(!ix.call(this,k[h])){return !1}}return !0};var iA=/\s+/g;iJ.style=function(h,g,m){function l(){this.style.removeProperty(h)}function k(){this.style.setProperty(h,g,m)}function j(){var a=g.apply(this,arguments);a==null?this.style.removeProperty(h):this.style.setProperty(h,a,m)}return arguments.length<3&&(m=""),arguments.length<2?window.getComputedStyle(this.node(),null).getPropertyValue(h):this.each(g==null?l:typeof g=="function"?j:k)},iJ.property=function(g,f){function k(){delete this[g]}function j(){this[g]=f}function h(){var a=f.apply(this,arguments);a==null?delete this[g]:this[g]=a}return arguments.length<2?this.node()[g]:this.each(f==null?k:typeof f=="function"?h:j)},iJ.text=function(b){return arguments.length<1?this.node().textContent:this.each(typeof b=="function"?function(){var a=b.apply(this,arguments);this.textContent=a==null?"":a}:b==null?function(){this.textContent=""}:function(){this.textContent=b})},iJ.html=function(b){return arguments.length<1?this.node().innerHTML:this.each(typeof b=="function"?function(){var a=b.apply(this,arguments);this.innerHTML=a==null?"":a}:b==null?function(){this.innerHTML=""}:function(){this.innerHTML=b})},iJ.append=function(f){function e(){return this.appendChild(document.createElementNS(this.namespaceURI,f))}function g(){return this.appendChild(document.createElementNS(f.space,f.local))}return f=d3.ns.qualify(f),this.select(f.local?g:e)},iJ.insert=function(f,e){function h(){return this.insertBefore(document.createElementNS(this.namespaceURI,f),iY(e,this))}function g(){return this.insertBefore(document.createElementNS(f.space,f.local),iY(e,this))}return f=d3.ns.qualify(f),this.select(f.local?g:h)},iJ.remove=function(){return this.each(function(){var b=this.parentNode;b&&b.removeChild(this)})},iJ.data=function(t,s){function n(E,D){var C,B=E.length,A=D.length,z=Math.min(B,A),y=Math.max(B,A),x=[],w=[],v=[],j,h;if(s){var b=new hM,H=[],G,F=D.length;for(C=-1;++C<B;){G=s.call(j=E[C],j.__data__,C),b.has(G)?v[F++]=j:b.set(G,j),H.push(G)}for(C=-1;++C<A;){G=s.call(D,h=D[C],C),b.has(G)?(x[C]=j=b.get(G),j.__data__=h,w[C]=v[C]=null):(w[C]=iu(h),x[C]=v[C]=null),b.remove(G)}for(C=-1;++C<B;){b.has(H[C])&&(v[C]=E[C])}}else{for(C=-1;++C<z;){j=E[C],h=D[C],j?(j.__data__=h,x[C]=j,w[C]=v[C]=null):(w[C]=iu(h),x[C]=v[C]=null)}for(;C<A;++C){w[C]=iu(D[C]),x[C]=v[C]=null}for(;C<y;++C){v[C]=E[C],w[C]=x[C]=null}}w.update=x,w.parentNode=x.parentNode=v.parentNode=E.parentNode,m.push(w),l.push(x),k.push(v)}var r=-1,q=this.length,p,o;if(!arguments.length){t=new Array(q=(p=this[0]).length);while(++r<q){if(o=p[r]){t[r]=o.__data__}}return t}var m=j5([]),l=i1([]),k=i1([]);if(typeof t=="function"){while(++r<q){n(p=this[r],t.call(p,p.parentNode.__data__,r))}}else{while(++r<q){n(p=this[r],t)}}return l.enter=function(){return m},l.exit=function(){return k},l},iJ.datum=iJ.map=function(b){return arguments.length<1?this.property("__data__"):this.property("__data__",b)},iJ.filter=function(r){var q=[],p,o,n;typeof r!="function"&&(r=iq(r));for(var m=0,l=this.length;m<l;m++){q.push(p=[]),p.parentNode=(o=this[m]).parentNode;for(var k=0,j=o.length;k<j;k++){(n=o[k])&&r.call(n,n.__data__,k)&&p.push(n)}}return i1(q)},iJ.order=function(){for(var h=-1,g=this.length;++h<g;){for(var m=this[h],l=m.length-1,k=m[l],j;--l>=0;){if(j=m[l]){k&&k!==j.nextSibling&&k.parentNode.insertBefore(j,k),k=j}}}return this},iJ.sort=function(f){f=im.apply(this,arguments);for(var e=-1,g=this.length;++e<g;){this[e].sort(f)}return this.order()},iJ.on=function(g,f,k){arguments.length<3&&(k=!1);var j="__on"+g,h=g.indexOf(".");return h>0&&(g=g.substring(0,h)),arguments.length<2?(h=this.node()[j])&&h._:this.each(function(n,m){function a(e){var o=d3.event;d3.event=e;try{f.call(l,l.__data__,m)}finally{d3.event=o}}var l=this,b=l[j];b&&(l.removeEventListener(g,b,b.$),delete l[j]),f&&(l.addEventListener(g,l[j]=a,a.$=k),a._=f)})},iJ.each=function(j){for(var h=-1,o=this.length;++h<o;){for(var n=this[h],m=-1,l=n.length;++m<l;){var k=n[m];k&&j.call(k,k.__data__,m,h)}}return this},iJ.call=function(b){return b.apply(this,(arguments[0]=this,arguments)),this},iJ.empty=function(){return !this.node()},iJ.node=function(j){for(var h=0,o=this.length;h<o;h++){for(var n=this[h],m=0,l=n.length;m<l;m++){var k=n[m];if(k){return k}}}return null},iJ.transition=function(){var k=[],j,q;for(var p=-1,o=this.length;++p<o;){k.push(j=[]);for(var n=this[p],m=-1,l=n.length;++m<l;){j.push((q=n[m])?{node:q,delay:jR,duration:jQ}:null)}}return j2(k,jV||++jW,Date.now())};var ik=i1([[document]]);ik[0].parentNode=iS,d3.select=function(b){return typeof b=="string"?ik.select(b):i1([[b]])},d3.selectAll=function(b){return typeof b=="string"?ik.selectAll(b):i1([h1(b)])};var j4=[];d3.selection.enter=j5,d3.selection.enter.prototype=j4,j4.append=iJ.append,j4.insert=iJ.insert,j4.empty=iJ.empty,j4.node=iJ.node,j4.select=function(v){var u=[],t,s,r,q,p;for(var o=-1,n=this.length;++o<n;){r=(q=this[o]).update,u.push(t=[]),t.parentNode=q.parentNode;for(var m=-1,l=q.length;++m<l;){(p=q[m])?(t.push(r[m]=s=v.call(q.parentNode,p.__data__,m)),s.__data__=p.__data__):t.push(null)}}return i1(u)};var j0={},jX=[],jW=0,jV=0,jU=0,jT=250,jS=d3.ease("cubic-in-out"),jR=jU,jQ=jT,jP=jS;jX.call=iJ.call,d3.transition=function(b){return arguments.length?jV?b.transition():b:ik.transition()},d3.transition.prototype=jX,jX.select=function(t){var s=[],r,q,p;typeof t!="function"&&(t=iG(t));for(var o=-1,n=this.length;++o<n;){s.push(r=[]);for(var m=this[o],l=-1,k=m.length;++l<k;){(p=m[l])&&(q=t.call(p.node,p.node.__data__,l))?("__data__" in p.node&&(q.__data__=p.node.__data__),r.push({node:q,delay:p.delay,duration:p.duration})):r.push(null)}}return j2(s,this.id,this.time).ease(this.ease())},jX.selectAll=function(x){var w=[],v,u,t;typeof x!="function"&&(x=iD(x));for(var s=-1,r=this.length;++s<r;){for(var q=this[s],p=-1,o=q.length;++p<o;){if(t=q[p]){u=x.call(t.node,t.node.__data__,p),w.push(v=[]);for(var n=-1,m=u.length;++n<m;){v.push({node:u[n],delay:t.delay,duration:t.duration})}}}}return j2(w,this.id,this.time).ease(this.ease())},jX.attr=function(f,e){return this.attrTween(f,jY(f,e))},jX.attrTween=function(g,f){function j(b,m){var l=f.call(this,b,m,this.getAttribute(k));return l===j0?(this.removeAttribute(k),null):l&&function(e){this.setAttribute(k,l(e))}}function h(b,m){var l=f.call(this,b,m,this.getAttributeNS(k.space,k.local));return l===j0?(this.removeAttributeNS(k.space,k.local),null):l&&function(e){this.setAttributeNS(k.space,k.local,l(e))}}var k=d3.ns.qualify(g);return this.tween("attr."+g,k.local?h:j)},jX.style=function(f,e,g){return arguments.length<3&&(g=""),this.styleTween(f,jY(f,e),g)},jX.styleTween=function(f,e,g){return arguments.length<3&&(g=""),this.tween("style."+f,function(h,b){var a=e.call(this,h,b,window.getComputedStyle(this,null).getPropertyValue(f));return a===j0?(this.style.removeProperty(f),null):a&&function(j){this.style.setProperty(f,a(j),g)}})},jX.text=function(b){return this.tween("text",function(a,e){this.textContent=typeof b=="function"?b.call(this,a,e):b})},jX.remove=function(){return this.each("end.transition",function(){var b;!this.__transition__&&(b=this.parentNode)&&b.removeChild(this)})},jX.delay=function(f){var e=this;return e.each(typeof f=="function"?function(g,b,a){e[a][b].delay=f.apply(this,arguments)|0}:(f|=0,function(g,b,a){e[a][b].delay=f}))},jX.duration=function(f){var e=this;return e.each(typeof f=="function"?function(g,b,a){e[a][b].duration=Math.max(1,f.apply(this,arguments)|0)}:(f=Math.max(1,f|0),function(g,b,a){e[a][b].duration=f}))},jX.transition=function(){return this.select(hC)};var jN=null,jM,jL;d3.timer=function(h,g,m){var l=!1,k,j=jN;if(arguments.length<3){if(arguments.length<2){g=0}else{if(!isFinite(g)){return}}m=Date.now()}while(j){if(j.callback===h){j.then=m,j.delay=g,l=!0;break}k=j,j=j.next}l||(jN={callback:h,then:m,delay:g,next:jN}),jM||(jL=clearTimeout(jL),jM=1,jI(jK))},d3.timer.flush=function(){var f,e=Date.now(),g=jN;while(g){f=e-g.then,g.delay||(g.flush=g.callback(f)),g=g.next}jJ()};var jI=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(b){setTimeout(b,17)};d3.transform=function(f){var e=document.createElementNS(d3.ns.prefix.svg,"g"),g={a:1,b:0,c:0,d:1,e:0,f:0};return(d3.transform=function(b){e.setAttribute("transform",b);var h=e.transform.baseVal.consolidate();return new jH(h?h.matrix:g)})(f)},jH.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var j6=180/Math.PI;d3.mouse=function(b){return ie(b,iv())};var jD=/WebKit/.test(navigator.userAgent)?-1:0;d3.touches=function(f,e){return arguments.length<2&&(e=iv().touches),e?h1(e).map(function(a){var g=ie(f,a);return g.identifier=a.identifier,g}):[]},d3.scale={},d3.scale.linear=function(){return hW([0,1],[0,1],d3.interpolate,!1)},d3.scale.log=function(){return hy(d3.scale.linear(),hs)};var hv=d3.format(".0e");hs.pow=function(b){return Math.pow(10,b)},hp.pow=function(b){return -Math.pow(10,-b)},d3.scale.pow=function(){return hm(d3.scale.linear(),1)},d3.scale.sqrt=function(){return d3.scale.pow().exponent(0.5)},d3.scale.ordinal=function(){return hg([],{t:"range",x:[]})},d3.scale.category10=function(){return d3.scale.ordinal().range(hd)},d3.scale.category20=function(){return d3.scale.ordinal().range(ha)},d3.scale.category20b=function(){return d3.scale.ordinal().range(g7)},d3.scale.category20c=function(){return d3.scale.ordinal().range(g4)};var hd=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],ha=["#1f77b4","#aec7e8","#ff7f0e","#ffbb78","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5","#8c564b","#c49c94","#e377c2","#f7b6d2","#7f7f7f","#c7c7c7","#bcbd22","#dbdb8d","#17becf","#9edae5"],g7=["#393b79","#5254a3","#6b6ecf","#9c9ede","#637939","#8ca252","#b5cf6b","#cedb9c","#8c6d31","#bd9e39","#e7ba52","#e7cb94","#843c39","#ad494a","#d6616b","#e7969c","#7b4173","#a55194","#ce6dbd","#de9ed6"],g4=["#3182bd","#6baed6","#9ecae1","#c6dbef","#e6550d","#fd8d3c","#fdae6b","#fdd0a2","#31a354","#74c476","#a1d99b","#c7e9c0","#756bb1","#9e9ac8","#bcbddc","#dadaeb","#636363","#969696","#bdbdbd","#d9d9d9"];d3.scale.quantile=function(){return g1([],[])},d3.scale.quantize=function(){return jB(0,1,[0,1])},d3.scale.identity=function(){return jy([0,1])},d3.svg={},d3.svg.arc=function(){function h(){var v=g.apply(this,arguments),u=f.apply(this,arguments),t=k.apply(this,arguments)+jt,s=j.apply(this,arguments)+jt,r=(s<t&&(r=t,t=s,s=r),s-t),q=r<Math.PI?"0":"1",p=Math.cos(t),o=Math.sin(t),b=Math.cos(s),a=Math.sin(s);return r>=jq?v?"M0,"+u+"A"+u+","+u+" 0 1,1 0,"+-u+"A"+u+","+u+" 0 1,1 0,"+u+"M0,"+v+"A"+v+","+v+" 0 1,0 0,"+-v+"A"+v+","+v+" 0 1,0 0,"+v+"Z":"M0,"+u+"A"+u+","+u+" 0 1,1 0,"+-u+"A"+u+","+u+" 0 1,1 0,"+u+"Z":v?"M"+u*p+","+u*o+"A"+u+","+u+" 0 "+q+",1 "+u*b+","+u*a+"L"+v*b+","+v*a+"A"+v+","+v+" 0 "+q+",0 "+v*p+","+v*o+"Z":"M"+u*p+","+u*o+"A"+u+","+u+" 0 "+q+",1 "+u*b+","+u*a+"L0,0Z"}var g=jo,f=jl,k=ji,j=jf;return h.innerRadius=function(a){return arguments.length?(g=d3.functor(a),h):g},h.outerRadius=function(b){return arguments.length?(f=d3.functor(b),h):f},h.startAngle=function(b){return arguments.length?(k=d3.functor(b),h):k},h.endAngle=function(b){return arguments.length?(j=d3.functor(b),h):j},h.centroid=function(){var b=(g.apply(this,arguments)+f.apply(this,arguments))/2,a=(k.apply(this,arguments)+j.apply(this,arguments))/2+jt;return[Math.cos(a)*b,Math.sin(a)*b]},h};var jt=-Math.PI/2,jq=2*Math.PI-0.000001;d3.svg.line=function(){return jc(Object)};var iZ="linear",iW=d3.map({linear:iU,"step-before":iR,"step-after":iO,basis:iw,"basis-open":it,"basis-closed":ip,bundle:il,cardinal:iF,"cardinal-open":iL,"cardinal-closed":iI,monotone:gK}),ii=[0,2/3,1/3,0],gX=[0,1/3,2/3,0],gU=[0,1/6,2/3,1/6];d3.svg.line.radial=function(){var b=jc(gI);return b.radius=b.x,delete b.x,b.angle=b.y,delete b.y,b},iR.reverse=iO,iO.reverse=iR,d3.svg.area=function(){return gG(Object)},d3.svg.area.radial=function(){var b=gG(gI);return b.radius=b.x,delete b.x,b.innerRadius=b.x0,delete b.x0,b.outerRadius=b.x1,delete b.x1,b.angle=b.y,delete b.y,b.startAngle=b.y0,delete b.y0,b.endAngle=b.y1,delete b.y1,b},d3.svg.chord=function(){function o(h,g){var b=n(this,t,h,g),a=n(this,s,h,g);return"M"+b.p0+l(b.r,b.p1,b.a1-b.a0)+(m(b,a)?k(b.r,b.p1,b.r,b.p0):k(b.r,b.p1,a.r,a.p0)+l(a.r,a.p1,a.a1-a.a0)+k(a.r,a.p1,b.r,b.p0))+"Z"}function n(u,e,A,z){var y=e.call(u,A,z),x=r.call(u,y,z),w=q.call(u,y,z)+jt,v=p.call(u,y,z)+jt;return{r:x,a0:w,a1:v,p0:[x*Math.cos(w),x*Math.sin(w)],p1:[x*Math.cos(v),x*Math.sin(v)]}}function m(f,e){return f.a0==e.a0&&f.a1==e.a1}function l(f,e,g){return"A"+f+","+f+" 0 "+ +(g>Math.PI)+",1 "+e}function k(f,e,h,g){return"Q 0,0 "+g}var t=gA,s=gy,r=gx,q=ji,p=jf;return o.radius=function(b){return arguments.length?(r=d3.functor(b),o):r},o.source=function(a){return arguments.length?(t=d3.functor(a),o):t},o.target=function(b){return arguments.length?(s=d3.functor(b),o):s},o.startAngle=function(b){return arguments.length?(q=d3.functor(b),o):q},o.endAngle=function(b){return arguments.length?(p=d3.functor(b),o):p},o},d3.svg.diagonal=function(){function g(m,l){var k=f.call(this,m,l),j=e.call(this,m,l),b=(k.y+j.y)/2,a=[k,{x:k.x,y:b},{x:j.x,y:b},j];return a=a.map(h),"M"+a[0]+"C"+a[1]+" "+a[2]+" "+a[3]}var f=gA,e=gy,h=gq;return g.source=function(a){return arguments.length?(f=d3.functor(a),g):f},g.target=function(b){return arguments.length?(e=d3.functor(b),g):e},g.projection=function(b){return arguments.length?(h=b,g):h},g},d3.svg.diagonal.radial=function(){var f=d3.svg.diagonal(),e=gq,g=f.projection;return f.projection=function(b){return arguments.length?g(f8(e=b)):e},f},d3.svg.mouse=d3.mouse,d3.svg.touches=d3.touches,d3.svg.symbol=function(){function g(b,a){return(f0.get(f.call(this,b,a))||f2)(e.call(this,b,a))}var f=f4,e=f6;return g.type=function(a){return arguments.length?(f=d3.functor(a),g):f},g.size=function(b){return arguments.length?(e=d3.functor(b),g):e},g};var f0=d3.map({circle:f2,cross:function(f){var e=Math.sqrt(f/5)/2;return"M"+-3*e+","+-e+"H"+-e+"V"+-3*e+"H"+e+"V"+-e+"H"+3*e+"V"+e+"H"+e+"V"+3*e+"H"+-e+"V"+e+"H"+-3*e+"Z"},diamond:function(f){var e=Math.sqrt(f/(2*e6)),g=e*e6;return"M0,"+-e+"L"+g+",0 0,"+e+" "+-g+",0Z"},square:function(f){var e=Math.sqrt(f)/2;return"M"+-e+","+-e+"L"+e+","+-e+" "+e+","+e+" "+-e+","+e+"Z"},"triangle-down":function(f){var e=Math.sqrt(f/e8),g=e*e8/2;return"M0,"+g+"L"+e+","+-g+" "+-e+","+-g+"Z"},"triangle-up":function(f){var e=Math.sqrt(f/e8),g=e*e8/2;return"M0,"+-g+"L"+e+","+g+" "+-e+","+g+"Z"}});d3.svg.symbolTypes=f0.keys();var e8=Math.sqrt(3),e6=Math.tan(30*Math.PI/180);d3.svg.axis=function(){function l(a){a.each(function(){var T=d3.select(this),S=o==null?v.ticks?v.ticks.apply(v,p):v.domain():o,R=n==null?v.tickFormat?v.tickFormat.apply(v,p):String:n,Q=id(v,S,m),P=T.selectAll(".minor").data(Q,String),O=P.enter().insert("line","g").attr("class","tick minor").style("opacity",0.000001),M=d3.transition(P.exit()).style("opacity",0.000001).remove(),K=d3.transition(P).style("opacity",1),I=T.selectAll("g").data(S,String),G=I.enter().insert("g","path").style("opacity",0.000001),j=d3.transition(I.exit()).style("opacity",0.000001).remove(),h=d3.transition(I).style("opacity",1),g,f=h5(v),e=T.selectAll(".domain").data([0]),b=e.enter().append("path").attr("class","domain"),N=d3.transition(e),L=v.copy(),J=this.__chart__||L;this.__chart__=L,G.append("line").attr("class","tick"),G.append("text"),h.select("text").text(R);switch(u){case"bottom":g=e5,O.attr("y2",s),K.attr("x2",0).attr("y2",s),G.select("line").attr("y2",t),G.select("text").attr("y",Math.max(t,0)+q),h.select("line").attr("x2",0).attr("y2",t),h.select("text").attr("x",0).attr("y",Math.max(t,0)+q).attr("dy",".71em").attr("text-anchor","middle"),N.attr("d","M"+f[0]+","+r+"V0H"+f[1]+"V"+r);break;case"top":g=e5,O.attr("y2",-s),K.attr("x2",0).attr("y2",-s),G.select("line").attr("y2",-t),G.select("text").attr("y",-(Math.max(t,0)+q)),h.select("line").attr("x2",0).attr("y2",-t),h.select("text").attr("x",0).attr("y",-(Math.max(t,0)+q)).attr("dy","0em").attr("text-anchor","middle"),N.attr("d","M"+f[0]+","+-r+"V0H"+f[1]+"V"+-r);break;case"left":g=ih,O.attr("x2",-s),K.attr("x2",-s).attr("y2",0),G.select("line").attr("x2",-t),G.select("text").attr("x",-(Math.max(t,0)+q)),h.select("line").attr("x2",-t).attr("y2",0),h.select("text").attr("x",-(Math.max(t,0)+q)).attr("y",0).attr("dy",".32em").attr("text-anchor","end"),N.attr("d","M"+-r+","+f[0]+"H0V"+f[1]+"H"+-r);break;case"right":g=ih,O.attr("x2",s),K.attr("x2",s).attr("y2",0),G.select("line").attr("x2",t),G.select("text").attr("x",Math.max(t,0)+q),h.select("line").attr("x2",t).attr("y2",0),h.select("text").attr("x",Math.max(t,0)+q).attr("y",0).attr("dy",".32em").attr("text-anchor","start"),N.attr("d","M"+r+","+f[0]+"H0V"+f[1]+"H"+r)}if(v.ticks){G.call(g,J),h.call(g,L),j.call(g,L),O.call(g,J),K.call(g,L),M.call(g,L)}else{var H=L.rangeBand()/2,F=function(k){return L(k)+H};G.call(g,F),h.call(g,F)}})}var v=d3.scale.linear(),u="bottom",t=6,s=6,r=6,q=3,p=[10],o=null,n,m=0;return l.scale=function(a){return arguments.length?(v=a,l):v},l.orient=function(b){return arguments.length?(u=b,l):u},l.ticks=function(){return arguments.length?(p=arguments,l):p},l.tickValues=function(b){return arguments.length?(o=b,l):o},l.tickFormat=function(b){return arguments.length?(n=b,l):n},l.tickSize=function(h,e,k){if(!arguments.length){return t}var j=arguments.length-1;return t=+h,s=j>1?+e:t,r=j>0?+arguments[j]:t,l},l.tickPadding=function(b){return arguments.length?(q=+b,l):q},l.tickSubdivide=function(b){return arguments.length?(m=+b,l):m},l},d3.svg.brush=function(){function p(b){b.each(function(){var j=d3.select(this),w=j.selectAll(".background").data([0]),k=j.selectAll(".extent").data([0]),h=j.selectAll(".resize").data(s,String),g;j.style("pointer-events","all").on("mousedown.brush",l).on("touchstart.brush",l),w.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),k.enter().append("rect").attr("class","extent").style("cursor","move"),h.enter().append("g").attr("class",function(e){return"resize "+e}).style("cursor",function(e){return h8[e]}).append("rect").attr("x",function(e){return/[ew]$/.test(e)?-3:null}).attr("y",function(e){return/^[ns]/.test(e)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),h.style("display",p.empty()?"none":null),h.exit().remove(),u&&(g=h5(u),w.attr("x",g[0]).attr("width",g[1]-g[0]),n(j)),t&&(g=h5(t),w.attr("y",g[0]).attr("height",g[1]-g[0]),m(j)),o(j)})}function o(b){b.selectAll(".resize").attr("transform",function(e){return"translate("+r[+/e$/.test(e)][0]+","+r[+/^s/.test(e)][1]+")"})}function n(b){b.select(".extent").attr("x",r[0][0]),b.selectAll(".extent,.n>rect,.s>rect").attr("width",r[1][0]-r[0][0])}function m(b){b.select(".extent").attr("y",r[0][1]),b.selectAll(".extent,.e>rect,.w>rect").attr("height",r[1][1]-r[0][1])}function l(){function e(){var k=d3.event.changedTouches;return k?d3.touches(P,k)[0]:d3.mouse(P)}function b(){d3.event.keyCode==32&&(H||(F=null,D[0]-=r[1][0],D[1]-=r[1][1],H=2),iy())}function a(){d3.event.keyCode==32&&H==2&&(D[0]+=r[1][0],D[1]+=r[1][1],H=0,iy())}function I(){var k=e(),w=!1;j&&(k[0]+=j[0],k[1]+=j[1]),H||(d3.event.altKey?(F||(F=[(r[0][0]+r[1][0])/2,(r[0][1]+r[1][1])/2]),D[0]=r[+(k[0]<F[0])][0],D[1]=r[+(k[1]<F[1])][1]):F=null),K&&G(k,u,0)&&(n(M),w=!0),J&&G(k,t,1)&&(m(M),w=!0),w&&(o(M),N({type:"brush",mode:H?"move":"resize"}))}function G(S,R,Q){var C=h5(R),B=C[0],A=C[1],z=D[Q],y=r[1][Q]-r[0][Q],x,w;H&&(B-=z,A-=y+z),x=Math.max(B,Math.min(A,S[Q])),H?w=(x+=z)+y:(F&&(z=Math.max(B,Math.min(A,2*F[Q]-x))),z<x?(w=x,x=z):w=z);if(r[0][Q]!==x||r[1][Q]!==w){return q=null,r[0][Q]=x,r[1][Q]=w,!0}}function E(){I(),M.style("pointer-events","all").selectAll(".resize").style("display",p.empty()?"none":null),d3.select("body").style("cursor",null),h.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),N({type:"brushend"}),iy()}var P=this,O=d3.select(d3.event.target),N=v.of(P,arguments),M=d3.select(P),L=O.datum(),K=!/^(n|s)$/.test(L)&&u,J=!/^(e|w)$/.test(L)&&t,H=O.classed("extent"),F,D=e(),j,h=d3.select(window).on("mousemove.brush",I).on("mouseup.brush",E).on("touchmove.brush",I).on("touchend.brush",E).on("keydown.brush",b).on("keyup.brush",a);if(H){D[0]=r[0][0]-D[0],D[1]=r[0][1]-D[1]}else{if(L){var g=+/w$/.test(L),f=+/^n/.test(L);j=[r[1-g][0]-D[0],r[1-f][1]-D[1]],D[0]=r[g][0],D[1]=r[f][1]}else{d3.event.altKey&&(F=D.slice())}}M.style("pointer-events","none").selectAll(".resize").style("display",null),d3.select("body").style("cursor",O.style("cursor")),N({type:"brushstart"}),I(),iy()}var v=ir(p,"brushstart","brush","brushend"),u=null,t=null,s=h6[0],r=[[0,0],[0,0]],q;return p.x=function(b){return arguments.length?(u=b,s=h6[!u<<1|!t],p):u},p.y=function(b){return arguments.length?(t=b,s=h6[!u<<1|!t],p):t},p.extent=function(b){var x,w,g,f,e;return arguments.length?(q=[[0,0],[0,0]],u&&(x=b[0],w=b[1],t&&(x=x[0],w=w[0]),q[0][0]=x,q[1][0]=w,u.invert&&(x=u(x),w=u(w)),w<x&&(e=x,x=w,w=e),r[0][0]=x|0,r[1][0]=w|0),t&&(g=b[0],f=b[1],u&&(g=g[1],f=f[1]),q[0][1]=g,q[1][1]=f,t.invert&&(g=t(g),f=t(f)),f<g&&(e=g,g=f,f=e),r[0][1]=g|0,r[1][1]=f|0),p):(b=q||r,u&&(x=b[0][0],w=b[1][0],q||(x=r[0][0],w=r[1][0],u.invert&&(x=u.invert(x),w=u.invert(w)),w<x&&(e=x,x=w,w=e))),t&&(g=b[0][1],f=b[1][1],q||(g=r[0][1],f=r[1][1],t.invert&&(g=t.invert(g),f=t.invert(f)),f<g&&(e=g,g=f,f=e))),u&&t?[[x,g],[w,f]]:u?[x,w]:t&&[g,f])},p.clear=function(){return q=null,r[0][0]=r[0][1]=r[1][0]=r[1][1]=0,p},p.empty=function(){return u&&r[0][0]===r[1][0]||t&&r[0][1]===r[1][1]},d3.rebind(p,v,"on")};var h8={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},h6=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]];d3.behavior={},d3.behavior.drag=function(){function h(){this.on("mousedown.drag",g).on("touchstart.drag",g)}function g(){function o(){var k=v.parentNode,j=d3.event.changedTouches;return j?d3.touches(k,j)[0]:d3.mouse(k)}function n(){if(!v.parentNode){return b()}var k=o(),j=k[0]-r[0],l=k[1]-r[1];q|=j|l,r=k,iy(),u({type:"drag",x:k[0]+s[0],y:k[1]+s[1],dx:j,dy:l})}function b(){u({type:"dragend"}),q&&(iy(),d3.event.target===t&&p.on("click.drag",a,!0)),p.on("mousemove.drag",null).on("touchmove.drag",null).on("mouseup.drag",null).on("touchend.drag",null)}function a(){iy(),p.on("click.drag",null)}var v=this,u=f.of(v,arguments),t=d3.event.target,s,r=o(),q=0,p=d3.select(window).on("mousemove.drag",n).on("touchmove.drag",n).on("mouseup.drag",b,!0).on("touchend.drag",b,!0);e?(s=e.apply(v,arguments),s=[s.x-r[0],s.y-r[1]]):s=[0,0],u({type:"dragstart"})}var f=ir(h,"drag","dragstart","dragend"),e=null;return h.origin=function(b){return arguments.length?(e=b,h):e},d3.rebind(h,f,"on")},d3.behavior.zoom=function(){function I(){this.on("mousedown.zoom",C).on("mousewheel.zoom",B).on("mousemove.zoom",A).on("DOMMouseScroll.zoom",B).on("dblclick.zoom",z).on("touchstart.zoom",y).on("touchmove.zoom",x).on("touchend.zoom",y)}function H(a){return[(a[0]-T[0])/R,(a[1]-T[1])/R]}function G(a){return[a[0]*R+T[0],a[1]*R+T[1]]}function F(b){R=Math.max(P[0],Math.min(P[1],b))}function E(a,e){e=G(e),T[0]+=a[0]-e[0],T[1]+=a[1]-e[1]}function D(a){M&&M.domain(N.range().map(function(e){return(e-T[0])/R}).map(N.invert)),K&&K.domain(L.range().map(function(e){return(e-T[1])/R}).map(L.invert)),d3.event.preventDefault(),a({type:"zoom",scale:R,translate:T})}function C(){function l(){o=1,E(d3.mouse(r),m),D(q)}function k(){o&&iy(),n.on("mousemove.zoom",null).on("mouseup.zoom",null),o&&d3.event.target===p&&n.on("click.zoom",f)}function f(){iy(),n.on("click.zoom",null)}var r=this,q=O.of(r,arguments),p=d3.event.target,o=0,n=d3.select(window).on("mousemove.zoom",l).on("mouseup.zoom",k),m=H(d3.mouse(r));window.focus(),iy()}function B(){S||(S=H(d3.mouse(this))),F(Math.pow(2,hY()*0.002)*R),E(d3.mouse(this),S),D(O.of(this,arguments))}function A(){S=null}function z(){var f=d3.mouse(this),e=H(f);F(d3.event.shiftKey?R/2:R*2),E(f,e),D(O.of(this,arguments))}function y(){var b=d3.touches(this),k=Date.now();Q=R,S={},b.forEach(function(e){S[e.identifier]=H(e)}),iy();if(b.length===1&&k-J<500){var j=b[0],f=H(b[0]);F(R*2),E(j,f),D(O.of(this,arguments))}J=k}function x(){var b=d3.touches(this),l=b[0],k=S[l.identifier];if(j=b[1]){var j,f=S[j.identifier];l=[(l[0]+j[0])/2,(l[1]+j[1])/2],k=[(k[0]+f[0])/2,(k[1]+f[1])/2],F(d3.event.scale*Q)}E(l,k),D(O.of(this,arguments))}var T=[0,0],S,R=1,Q,P=h0,O=ir(I,"zoom"),N,M,L,K,J;return I.translate=function(a){return arguments.length?(T=a.map(Number),I):T},I.scale=function(b){return arguments.length?(R=+b,I):R},I.scaleExtent=function(b){return arguments.length?(P=b==null?h0:b.map(Number),I):P},I.x=function(b){return arguments.length?(M=b,N=b.copy(),I):M},I.y=function(b){return arguments.length?(K=b,L=b.copy(),I):K},d3.rebind(I,O,"on")};var h3,h0=[0,Infinity];d3.layout={},d3.layout.bundle=function(){return function(f){var e=[],h=-1,g=f.length;while(++h<g){e.push(hV(f[h]))}return e}},d3.layout.chord=function(){function m(){var D={},A=[],z=d3.range(r),k=[],h,g,f,e,b;u=[],t=[],h=0,e=-1;while(++e<r){g=0,b=-1;while(++b<r){g+=s[e][b]}A.push(g),k.push(d3.range(r)),h+=g}p&&z.sort(function(w,j){return p(A[w],A[j])}),o&&k.forEach(function(w,j){w.sort(function(x,y){return o(s[j][x],s[j][y])})}),h=(2*Math.PI-q*r)/h,g=0,e=-1;while(++e<r){f=g,b=-1;while(++b<r){var I=z[e],H=k[I][b],G=s[I][H],F=g,E=g+=G*h;D[I+"-"+H]={index:I,subindex:H,startAngle:F,endAngle:E,value:G}}t.push({index:I,startAngle:f,endAngle:g,value:(g-f)/h}),g+=q}e=-1;while(++e<r){b=e-1;while(++b<r){var C=D[e+"-"+b],B=D[b+"-"+e];(C.value||B.value)&&u.push(C.value<B.value?{source:B,target:C}:{source:C,target:B})}}n&&l()}function l(){u.sort(function(f,e){return n((f.source.value+f.target.value)/2,(e.source.value+e.target.value)/2)})}var v={},u,t,s,r,q=0,p,o,n;return v.matrix=function(a){return arguments.length?(r=(s=a)&&s.length,u=t=null,v):s},v.padding=function(a){return arguments.length?(q=a,u=t=null,v):q},v.sortGroups=function(a){return arguments.length?(p=a,u=t=null,v):p},v.sortSubgroups=function(a){return arguments.length?(o=a,u=null,v):o},v.sortChords=function(a){return arguments.length?(n=a,u&&l(),v):n},v.chords=function(){return u||m(),u},v.groups=function(){return t||m(),t},v},d3.layout.force=function(){function u(b){return function(r,q,p,o,n){if(r.point!==b){var m=r.cx-b.x,l=r.cy-b.y,k=1/Math.sqrt(m*m+l*l);if((o-q)*k<B){var a=r.charge*k*k;return b.px-=m*a,b.py-=l*a,!0}if(r.point&&isFinite(k)){var a=r.pointCharge*k*k;b.px-=m*a,b.py-=l*a}}return !r.charge}}function t(a){hG(hI=a),hL=L}var L={},K=d3.dispatch("start","tick","end"),J=[1,1],I,H,G=0.9,F=hr,E=ho,D=-30,C=0.1,B=0.8,A,z=[],y=[],x,w,v;return L.tick=function(){if((H*=0.99)<0.005){return K.end({type:"end",alpha:H=0}),!0}var n=z.length,m=y.length,j,f,e,b,M,r,q,p,o;for(f=0;f<m;++f){e=y[f],b=e.source,M=e.target,p=M.x-b.x,o=M.y-b.y;if(r=p*p+o*o){r=H*w[f]*((r=Math.sqrt(r))-x[f])/r,p*=r,o*=r,M.x-=p*(q=b.weight/(M.weight+b.weight)),M.y-=o*q,b.x+=p*(q=1-q),b.y+=o*q}}if(q=H*C){p=J[0]/2,o=J[1]/2,f=-1;if(q){while(++f<n){e=z[f],e.x+=(p-e.x)*q,e.y+=(o-e.y)*q}}}if(D){hu(j=d3.geom.quadtree(z),H,v),f=-1;while(++f<n){(e=z[f]).fixed||j.visit(u(e))}}f=-1;while(++f<n){e=z[f],e.fixed?(e.x=e.px,e.y=e.py):(e.x-=(e.px-(e.px=e.x))*G,e.y-=(e.py-(e.py=e.y))*G)}K.tick({type:"tick",alpha:H})},L.nodes=function(a){return arguments.length?(z=a,L):z},L.links=function(a){return arguments.length?(y=a,L):y},L.size=function(a){return arguments.length?(J=a,L):J},L.linkDistance=function(a){return arguments.length?(F=d3.functor(a),L):F},L.distance=L.linkDistance,L.linkStrength=function(a){return arguments.length?(E=d3.functor(a),L):E},L.friction=function(a){return arguments.length?(G=a,L):G},L.charge=function(a){return arguments.length?(D=typeof a=="function"?a:+a,L):D},L.gravity=function(a){return arguments.length?(C=a,L):C},L.theta=function(a){return arguments.length?(B=a,L):B},L.alpha=function(a){return arguments.length?(H?a>0?H=a:H=0:a>0&&(K.start({type:"start",alpha:H=a}),d3.timer(L.tick)),L):H},L.start=function(){function N(b,s){var r=M(q),l=-1,k=r.length,j;while(++l<k){if(!isNaN(j=r[l][b])){return j}}return Math.random()*s}function M(){if(!g){g=[];for(p=0;p<o;++p){g[p]=[]}for(p=0;p<n;++p){var b=y[p];g[b.source.index].push(b.target),g[b.target.index].push(b.source)}}return g[q]}var q,p,o=z.length,n=y.length,m=J[0],h=J[1],g,a;for(q=0;q<o;++q){(a=z[q]).index=q,a.weight=0}x=[],w=[];for(q=0;q<n;++q){a=y[q],typeof a.source=="number"&&(a.source=z[a.source]),typeof a.target=="number"&&(a.target=z[a.target]),x[q]=F.call(this,a,q),w[q]=E.call(this,a,q),++a.source.weight,++a.target.weight}for(q=0;q<o;++q){a=z[q],isNaN(a.x)&&(a.x=N("x",m)),isNaN(a.y)&&(a.y=N("y",h)),isNaN(a.px)&&(a.px=a.x),isNaN(a.py)&&(a.py=a.y)}v=[];if(typeof D=="function"){for(q=0;q<o;++q){v[q]=+D.call(this,z[q],q)}}else{for(q=0;q<o;++q){v[q]=D}}return L.resume()},L.resume=function(){return L.alpha(0.1)},L.stop=function(){return L.alpha(0)},L.drag=function(){I||(I=d3.behavior.drag().origin(Object).on("dragstart",t).on("drag",hx).on("dragend",hA)),this.on("mouseover.force",hG).on("mouseout.force",hD).call(I)},d3.rebind(L,K,"on")};var hL,hI;d3.layout.partition=function(){function k(t,s,r,q){var p=t.children;t.x=s,t.y=t.depth*q,t.dx=r,t.dy=q;if(p&&(n=p.length)){var o=-1,n,m,l;r=t.value?r/t.value:0;while(++o<n){k(m=p[o],s,l=m.value*r,q),s+=l}}}function j(m){var l=m.children,p=0;if(l&&(n=l.length)){var o=-1,n;while(++o<n){p=Math.max(p,j(l[o]))}}return 1+p}function h(l,b){var a=g.call(this,l,b);return k(a[0],0,f[0],f[1]/j(a[0])),a}var g=d3.layout.hierarchy(),f=[1,1];return h.size=function(b){return arguments.length?(f=b,h):f},d1(h,g)},d3.layout.pie=function(){function j(p,o){var n=p.map(function(m,q){return +h.call(j,m,q)}),f=+(typeof l=="function"?l.apply(this,arguments):l),e=((typeof k=="function"?k.apply(this,arguments):k)-l)/d3.sum(n),b=d3.range(p.length);g!=null&&b.sort(g===hk?function(q,m){return n[m]-n[q]}:function(m,q){return g(p[m],p[q])});var a=[];return b.forEach(function(m){a[m]={data:p[m],value:d=n[m],startAngle:f,endAngle:f+=d*e}}),a}var h=Number,g=hk,l=0,k=2*Math.PI;return j.value=function(a){return arguments.length?(h=a,j):h},j.sort=function(b){return arguments.length?(g=b,j):g},j.startAngle=function(b){return arguments.length?(l=b,j):l},j.endAngle=function(b){return arguments.length?(k=b,j):k},j};var hk={};d3.layout.stack=function(){function k(x,w){var v=x.map(function(p,q){return j.call(k,p,q)}),u=v.map(function(q,p){return q.map(function(y,r){return[m.call(k,y,r),l.call(k,y,r)]})}),t=h.call(k,u,w);v=d3.permute(v,t),u=d3.permute(u,t);var s=o.call(k,u,w),g=v.length,f=v[0].length,e,b,a;for(b=0;b<f;++b){n.call(k,v[0][b],a=s[b],u[0][b][1]);for(e=1;e<g;++e){n.call(k,v[e][b],a+=u[e-1][b][1],u[e][b][1])}}return x}var j=Object,h=g3,o=jv,n=hc,m=hi,l=hf;return k.values=function(a){return arguments.length?(j=a,k):j},k.order=function(b){return arguments.length?(h=typeof b=="function"?b:g8.get(b)||g3,k):h},k.offset=function(b){return arguments.length?(o=typeof b=="function"?b:g5.get(b)||jv,k):o},k.x=function(b){return arguments.length?(m=b,k):m},k.y=function(b){return arguments.length?(l=b,k):l},k.out=function(b){return arguments.length?(n=b,k):n},k};var g8=d3.map({"inside-out":function(v){var u=v.length,t,s,r=v.map(g0),q=v.map(e1),p=d3.range(u).sort(function(f,e){return r[f]-r[e]}),o=0,n=0,m=[],l=[];for(t=0;t<u;++t){s=p[t],o<n?(o+=q[s],m.push(s)):(n+=q[s],l.push(s))}return l.reverse().concat(m)},reverse:function(b){return d3.range(b.length).reverse()},"default":g3}),g5=d3.map({silhouette:function(r){var q=r.length,p=r[0].length,o=[],n=0,m,l,k,j=[];for(l=0;l<p;++l){for(m=0,k=0;m<q;m++){k+=r[m][l][1]}k>n&&(n=k),o.push(k)}for(l=0;l<p;++l){j[l]=(n-o[l])/2}return j},wiggle:function(D){var C=D.length,B=D[0],A=B.length,z=0,y,x,w,v,u,t,s,r,q,p=[];p[0]=r=q=0;for(x=1;x<A;++x){for(y=0,v=0;y<C;++y){v+=D[y][x][1]}for(y=0,u=0,s=B[x][0]-B[x-1][0];y<C;++y){for(w=0,t=(D[y][x][1]-D[y][x-1][1])/(2*s);w<y;++w){t+=(D[w][x][1]-D[w][x-1][1])/s}u+=t*D[y][x][1]}p[x]=r-=v?u/v*s:0,r<q&&(q=r)}for(x=0;x<A;++x){p[x]-=q}return p},expand:function(k){var j=k.length,q=k[0].length,p=1/j,o,n,m,l=[];for(n=0;n<q;++n){for(o=0,m=0;o<j;o++){m+=k[o][n][1]}if(m){for(o=0;o<j;o++){k[o][n][1]/=m}}else{for(o=0;o<j;o++){k[o][n][1]=p}}}for(n=0;n<q;++n){l[n]=0}return l},zero:jv});d3.layout.histogram=function(){function h(x,w){var v=[],u=x.map(f,this),t=k.call(this,u,w),s=j.call(this,t,u,w),r,w=-1,q=u.length,p=s.length-1,b=g?1:1/q,a;while(++w<p){r=v[w]=[],r.dx=s[w+1]-(r.x=s[w]),r.y=0}w=-1;while(++w<q){a=u[w],a>=t[0]&&a<=t[1]&&(r=v[d3.bisect(s,a,1,p)-1],r.y+=b,r.push(x[w]))}return v}var g=!0,f=Number,k=d4,j=d7;return h.value=function(b){return arguments.length?(f=b,h):f},h.range=function(b){return arguments.length?(k=d3.functor(b),h):k},h.bins=function(b){return arguments.length?(j=typeof b=="number"?function(a){return d6(a,b)}:d3.functor(b),h):j},h.frequency=function(a){return arguments.length?(g=!!a,h):g},h},d3.layout.hierarchy=function(){function m(v,u,t){var s=h.call(k,v,u),r=c0?v:{data:v};r.depth=u,t.push(r);if(s&&(g=s.length)){var q=-1,g,e=r.children=[],b=0,a=u+1;while(++q<g){d=m(s[q],a,t),d.parent=r,e.push(d),b+=d.value}j&&e.sort(j),n&&(r.value=b)}else{n&&(r.value=+n.call(k,v,u)||0)}return r}function l(g,f){var s=g.children,r=0;if(s&&(p=s.length)){var q=-1,p,o=f+1;while(++q<p){r+=l(s[q],o)}}else{n&&(r=+n.call(k,c0?g:g.data,f)||0)}return n&&(g.value=r),r}function k(f){var e=[];return m(f,0,e),e}var j=c4,h=c8,n=c6;return k.sort=function(a){return arguments.length?(j=a,k):j},k.children=function(b){return arguments.length?(h=b,k):h},k.value=function(b){return arguments.length?(n=b,k):n},k.revalue=function(b){return l(b,0),b},k};var c0=!1;d3.layout.pack=function(){function g(n,m){var l=f.call(this,n,m),k=l[0];k.x=0,k.y=0,a5(k);var j=e[0],b=e[1],a=1/Math.max(2*k.r/j,2*k.r/b);return a2(k,j/2,b/2,a),l}var f=d3.layout.hierarchy().sort(b8),e=[1,1];return g.size=function(b){return arguments.length?(e=b,g):e},d1(g,f)},d3.layout.cluster=function(){function g(y,x){var w=f.call(this,y,x),v=w[0],u,t=0,s,r;gN(v,function(j){var k=j.children;k&&k.length?(j.x=aX(k),j.y=aY(k)):(j.x=u?t+=e(j,u):0,j.y=0,u=j)});var q=aU(v),p=aS(v),b=q.x-e(q,p)/2,a=p.x+e(p,q)/2;return gN(v,function(j){j.x=(j.x-b)/(a-b)*h[0],j.y=(1-(v.y?j.y/v.y:1))*h[1]}),w}var f=d3.layout.hierarchy().sort(null).value(null),e=aR,h=[1,1];return g.separation=function(b){return arguments.length?(e=b,g):e},g.size=function(b){return arguments.length?(h=b,g):h},d1(g,f)},d3.layout.tree=function(){function g(A,z){function w(I,H){var G=I.children,F=I._tree;if(G&&(E=G.length)){var E,D=G[0],C,B=D,p,o=-1;while(++o<E){p=G[o],w(p,C),B=u(p,C,B),C=p}gL(I);var j=0.5*(D._tree.prelim+p._tree.prelim);H?(F.prelim=H._tree.prelim+e(I,H),F.mod=F.prelim-j):F.prelim=j}else{H&&(F.prelim=H._tree.prelim+e(I,H))}}function v(k,j){k.x=k._tree.prelim+j;var n=k.children;if(n&&(l=n.length)){var m=-1,l;j+=k._tree.mod;while(++m<l){v(n[m],j)}}}function u(J,I,H){if(I){var G=J,F=J,E=I,D=J.parent.children[0],C=G._tree.mod,B=F._tree.mod,p=E._tree.mod,o=D._tree.mod,n;while(E=gY(E),G=gZ(G),E&&G){D=gZ(D),F=gY(F),F._tree.ancestor=J,n=E._tree.prelim+p-G._tree.prelim-C+e(E,G),n>0&&(gJ(gH(E,J,H),J,n),C+=n,B+=n),p+=E._tree.mod,C+=G._tree.mod,o+=D._tree.mod,B+=F._tree.mod}E&&!gY(F)&&(F._tree.thread=E,F._tree.mod+=p-B),G&&!gZ(D)&&(D._tree.thread=G,D._tree.mod+=C-o,H=J)}return H}var y=f.call(this,A,z),x=y[0];gN(x,function(k,j){k._tree={ancestor:k,prelim:0,mod:0,change:0,shift:0,number:j?j._tree.number+1:0}}),w(x),v(x,-x._tree.prelim);var t=gV(x,gR),s=gV(x,gT),r=gV(x,gP),q=t.x-e(t,s)/2,b=s.x+e(s,t)/2,a=r.depth||1;return gN(x,function(j){j.x=(j.x-q)/(b-q)*h[0],j.y=j.depth/a*h[1],delete j._tree}),y}var f=d3.layout.hierarchy().sort(null).value(null),e=aR,h=[1,1];return g.separation=function(b){return arguments.length?(e=b,g):e},g.size=function(b){return arguments.length?(h=b,g):h},d1(g,f)},d3.layout.treemap=function(){function t(h,g){var m=-1,l=h.length,k,j;while(++m<l){j=(k=h[m]).value*(g<0?0:g),k.area=isNaN(j)||j<=0?0:j}}function s(H){var G=H.children;if(G&&G.length){var F=x(H),E=[],D=G.slice(),C,m=Infinity,l,j=Math.min(F.dx,F.dy),e;t(D,F.dx*F.dy/H.value),E.area=0;while((e=D.length)>0){E.push(C=D[e-1]),E.area+=C.area,(l=q(E,j))<=m?(D.pop(),m=l):(E.area-=E.pop().area,p(E,j,F,!1),j=Math.min(F.dx,F.dy),E.length=E.area=0,m=Infinity)}E.length&&(p(E,j,F,!0),E.length=E.area=0),G.forEach(s)}}function r(h){var e=h.children;if(e&&e.length){var m=x(h),l=e.slice(),k,j=[];t(l,m.dx*m.dy/h.value),j.area=0;while(k=l.pop()){j.push(k),j.area+=k.area,k.z!=null&&(p(j,k.z?m.dx:m.dy,m,!l.length),j.length=j.area=0)}e.forEach(r)}}function q(j,h){var D=j.area,C,n=0,m=Infinity,l=-1,k=j.length;while(++l<k){if(!(C=j[l].area)){continue}C<m&&(m=C),C>n&&(n=C)}return D*=D,h*=h,D?Math.max(h*n*u/D,D/(h*m*u)):Infinity}function p(H,G,F,E){var D=-1,C=H.length,n=F.x,m=F.y,l=G?A(H.area/G):0,b;if(G==F.dx){if(E||l>F.dy){l=F.dy}while(++D<C){b=H[D],b.x=n,b.y=m,b.dy=l,n+=b.dx=Math.min(F.x+F.dx-n,l?A(b.area/l):0)}b.z=!0,b.dx+=F.x+F.dx-n,F.y+=l,F.dy-=l}else{if(E||l>F.dx){l=F.dx}while(++D<C){b=H[D],b.x=n,b.y=m,b.dx=l,m+=b.dy=Math.min(F.y+F.dy-m,l?A(b.area/l):0)}b.z=!1,b.dy+=F.y+F.dy-m,F.x+=l,F.dx-=l}}function o(a){var g=v||B(a),f=g[0];return f.x=0,f.y=0,f.dx=z[0],f.dy=z[1],v&&B.revalue(f),t([f],f.dx*f.dy/f.value),(v?r:s)(f),w&&(v=g),g}var B=d3.layout.hierarchy(),A=Math.round,z=[1,1],y=null,x=gF,w=!1,v,u=0.5*(1+Math.sqrt(5));return o.size=function(b){return arguments.length?(z=b,o):z},o.padding=function(g){function e(a){var f=g.call(o,a,a.depth);return f==null?gF(a):gD(a,typeof f=="number"?[f,f,f,f]:f)}function j(a){return gD(a,g)}if(!arguments.length){return y}var h;return x=(y=g)==null?gF:(h=typeof g)==="function"?e:h==="number"?(g=[g,g,g,g],j):j,o},o.round=function(b){return arguments.length?(A=b?Math.round:Number,o):A!=Number},o.sticky=function(b){return arguments.length?(w=b,v=null,o):w},o.ratio=function(b){return arguments.length?(u=b,o):u},d1(o,B)},d3.csv=function(f,e){d3.text(f,"text/csv",function(b){e(b&&d3.csv.parse(b))})},d3.csv.parse=function(f){var e;return d3.csv.parseRows(f,function(b,k){if(k){var j={},h=-1,g=e.length;while(++h<g){j[e[h]]=b[h]}return j}return e=b,null})},d3.csv.parseRows=function(v,u){function m(){if(q.lastIndex>=v.length){return s}if(n){return n=!1,t}var a=q.lastIndex;if(v.charCodeAt(a)===34){var k=a;while(k++<v.length){if(v.charCodeAt(k)===34){if(v.charCodeAt(k+1)!==34){break}k++}}q.lastIndex=k+2;var j=v.charCodeAt(k+1);return j===13?(n=!0,v.charCodeAt(k+2)===10&&q.lastIndex++):j===10&&(n=!0),v.substring(a+1,k).replace(/""/g,'"')}var f=q.exec(v);return f?(n=f[0].charCodeAt(0)!==44,v.substring(a,f.index)):(q.lastIndex=v.length,v.substring(a))}var t={},s={},r=[],q=/\r\n|[,\r\n]/g,p=0,o,n;q.lastIndex=0;while((o=m())!==s){var l=[];while(o!==t&&o!==s){l.push(o),o=m()}if(u&&!(l=u(l,p++))){continue}r.push(l)}return r},d3.csv.format=function(b){return b.map(gB).join("\n")},d3.geo={};var gw=Math.PI/180;d3.geo.azimuthal=function(){function j(z){var y=z[0]*gw-n,x=z[1]*gw,w=Math.cos(y),v=Math.sin(y),u=Math.cos(x),t=Math.sin(x),s=r!=="orthographic"?k*t+l*u*w:null,h,g=r==="stereographic"?1/(1+s):r==="gnomonic"?1/s:r==="equidistant"?(h=Math.acos(s),h?h/Math.sin(h):0):r==="equalarea"?Math.sqrt(2/(1+s)):1,e=g*u*v,a=g*(k*u*w-l*t);return[p*e+o[0],p*a+o[1]]}var r="orthographic",q,p=200,o=[480,250],n,m,l,k;return j.invert=function(e){var u=(e[0]-o[0])/p,t=(e[1]-o[1])/p,s=Math.sqrt(u*u+t*t),h=r==="stereographic"?2*Math.atan(s):r==="gnomonic"?Math.atan(s):r==="equidistant"?s:r==="equalarea"?2*Math.asin(0.5*s):Math.asin(s),g=Math.sin(h),a=Math.cos(h);return[(n+Math.atan2(u*g,s*l*a+t*k*g))/gw,Math.asin(a*k-(s?t*g*l/s:0))/gw]},j.mode=function(a){return arguments.length?(r=a+"",j):r},j.origin=function(b){return arguments.length?(q=b,n=q[0]*gw,m=q[1]*gw,l=Math.cos(m),k=Math.sin(m),j):q},j.scale=function(b){return arguments.length?(p=+b,j):p},j.translate=function(b){return arguments.length?(o=[+b[0],+b[1]],j):o},j.origin([0,0])},d3.geo.albers=function(){function l(f){var e=o*(gw*f[0]-p),g=Math.sqrt(n-2*o*Math.sin(gw*f[1]))/o;return[r*g*Math.sin(e)+q[0],r*(g*Math.cos(e)-m)+q[1]]}function k(){var g=gw*s[0],f=gw*s[1],e=gw*t[1],b=Math.sin(g),a=Math.cos(g);return p=gw*t[0],o=0.5*(b+Math.sin(f)),n=a*a+2*o*b,m=Math.sqrt(n-2*o*Math.sin(e))/o,l}var t=[-98,38],s=[29.5,45.5],r=1000,q=[480,250],p,o,n,m;return l.invert=function(g){var e=(g[0]-q[0])/r,v=(g[1]-q[1])/r,u=m+v,h=Math.atan2(e,u),f=Math.sqrt(e*e+u*u);return[(p+h/o)/gw,Math.asin((n-f*f*o*o)/(2*o))/gw]},l.origin=function(a){return arguments.length?(t=[+a[0],+a[1]],k()):t},l.parallels=function(b){return arguments.length?(s=[+b[0],+b[1]],k()):s},l.scale=function(b){return arguments.length?(r=+b,l):r},l.translate=function(b){return arguments.length?(q=[+b[0],+b[1]],l):q},k()},d3.geo.albersUsa=function(){function h(l){var b=l[0],a=l[1];return(a>50?f:b<-140?k:a<21?j:g)(l)}var g=d3.geo.albers(),f=d3.geo.albers().origin([-160,60]).parallels([55,65]),k=d3.geo.albers().origin([-160,20]).parallels([8,18]),j=d3.geo.albers().origin([-60,10]).parallels([8,18]);return h.scale=function(a){return arguments.length?(g.scale(a),f.scale(a*0.6),k.scale(a),j.scale(a*1.5),h.translate(g.translate())):g.scale()},h.translate=function(l){if(!arguments.length){return g.translate()}var e=g.scale()/1000,b=l[0],a=l[1];return g.translate(l),f.translate([b-400*e,a+170*e]),k.translate([b-190*e,a+200*e]),j.translate([b+580*e,a+430*e]),h},h.scale(g.scale())},d3.geo.bonne=function(){function k(p){var f=p[0]*gw-o,e=p[1]*gw-n;if(m){var b=l+m-e,a=f*Math.cos(e)/b;f=b*Math.sin(a),e=b*Math.cos(a)-l}else{f*=Math.cos(e),e*=-1}return[j*f+h[0],j*e+h[1]]}var j=200,h=[480,250],o,n,m,l;return k.invert=function(p){var f=(p[0]-h[0])/j,e=(p[1]-h[1])/j;if(m){var b=l+e,a=Math.sqrt(f*f+b*b);e=l+m-a,f=o+a*Math.atan2(f,b)/Math.cos(e)}else{e*=-1,f/=Math.cos(e)}return[f/gw,e/gw]},k.parallel=function(b){return arguments.length?(l=1/Math.tan(m=b*gw),k):m/gw},k.origin=function(b){return arguments.length?(o=b[0]*gw,n=b[1]*gw,k):[o/gw,n/gw]},k.scale=function(a){return arguments.length?(j=+a,k):j},k.translate=function(b){return arguments.length?(h=[+b[0],+b[1]],k):h},k.origin([0,0]).parallel(45)},d3.geo.equirectangular=function(){function g(h){var b=h[0]/360,a=-h[1]/360;return[f*b+e[0],f*a+e[1]]}var f=500,e=[480,250];return g.invert=function(h){var b=(h[0]-e[0])/f,a=(h[1]-e[1])/f;return[360*b,-360*a]},g.scale=function(a){return arguments.length?(f=+a,g):f},g.translate=function(b){return arguments.length?(e=[+b[0],+b[1]],g):e},g},d3.geo.mercator=function(){function g(h){var b=h[0]/360,a=-(Math.log(Math.tan(Math.PI/4+h[1]*gw/2))/gw)/360;return[f*b+e[0],f*Math.max(-0.5,Math.min(0.5,a))+e[1]]}var f=500,e=[480,250];return g.invert=function(h){var b=(h[0]-e[0])/f,a=(h[1]-e[1])/f;return[360*b,2*Math.atan(Math.exp(-360*a*gw))/gw-90]},g.scale=function(a){return arguments.length?(f=+a,g):f},g.translate=function(b){return arguments.length?(e=[+b[0],+b[1]],g):e},g},d3.geo.path=function(){function s(b,a){return typeof v=="function"&&(u=gu(v.apply(this,arguments))),q(b)||null}function r(b){return t(b).join(",")}function o(f){var e=l(f[0]),h=0,g=f.length;while(++h<g){e-=l(f[h])}return e}function n(D){var C=d3.geom.polygon(D[0].map(t)),B=C.area(),A=C.centroid(B<0?(B*=-1,1):-1),z=A[0],y=A[1],x=B,w=0,k=D.length;while(++w<k){C=d3.geom.polygon(D[w].map(t)),B=C.area(),A=C.centroid(B<0?(B*=-1,1):-1),z-=A[0],y-=A[1],x-=B}return[z,y,6*x]}function l(b){return Math.abs(d3.geom.polygon(b.map(t)).area())}var v=4.5,u=gu(v),t=d3.geo.albersUsa(),q=gv({FeatureCollection:function(g){var f=[],k=g.features,j=-1,h=k.length;while(++j<h){f.push(q(k[j].geometry))}return f.join("")},Feature:function(b){return q(b.geometry)},Point:function(b){return"M"+r(b.coordinates)+u},MultiPoint:function(b){var k=[],j=b.coordinates,h=-1,e=j.length;while(++h<e){k.push("M",r(j[h]),u)}return k.join("")},LineString:function(g){var e=["M"],k=g.coordinates,j=-1,h=k.length;while(++j<h){e.push(r(k[j]),"L")}return e.pop(),e.join("")},MultiLineString:function(j){var e=[],A=j.coordinates,z=-1,y=A.length,x,w,k;while(++z<y){x=A[z],w=-1,k=x.length,e.push("M");while(++w<k){e.push(r(x[w]),"L")}e.pop()}return e.join("")},Polygon:function(j){var e=[],A=j.coordinates,z=-1,y=A.length,x,w,k;while(++z<y){x=A[z],w=-1;if((k=x.length-1)>0){e.push("M");while(++w<k){e.push(r(x[w]),"L")}e[e.length-1]="Z"}}return e.join("")},MultiPolygon:function(F){var E=[],D=F.coordinates,C=-1,B=D.length,A,z,y,x,w,e;while(++C<B){A=D[C],z=-1,y=A.length;while(++z<y){x=A[z],w=-1;if((e=x.length-1)>0){E.push("M");while(++w<e){E.push(r(x[w]),"L")}E[E.length-1]="Z"}}}return E.join("")},GeometryCollection:function(g){var f=[],k=g.geometries,j=-1,h=k.length;while(++j<h){f.push(q(k[j]))}return f.join("")}}),p=s.area=gv({FeatureCollection:function(g){var f=0,k=g.features,j=-1,h=k.length;while(++j<h){f+=p(k[j])}return f},Feature:function(b){return p(b.geometry)},Polygon:function(b){return o(b.coordinates)},MultiPolygon:function(g){var f=0,k=g.coordinates,j=-1,h=k.length;while(++j<h){f+=o(k[j])}return f},GeometryCollection:function(g){var f=0,k=g.geometries,j=-1,h=k.length;while(++j<h){f+=p(k[j])}return f}},0),m=s.centroid=gv({Feature:function(b){return m(b.geometry)},Polygon:function(f){var e=n(f.coordinates);return[e[0]/e[2],e[1]/e[2]]},MultiPolygon:function(D){var C=0,B=D.coordinates,A,z=0,y=0,x=0,w=-1,k=B.length;while(++w<k){A=n(B[w]),z+=A[0],y+=A[1],x+=A[2]}return[z/x,y/x]}});return s.projection=function(b){return t=b,s},s.pointRadius=function(a){return typeof a=="function"?v=a:(v=+a,u=gu(v)),s},s},d3.geo.bounds=function(g){var f=Infinity,k=Infinity,j=-Infinity,h=-Infinity;return gs(g,function(b,e){b<f&&(f=b),b>j&&(j=b),e<k&&(k=e),e>h&&(h=e)}),[[f,k],[j,h]]};var gp={Feature:f9,FeatureCollection:f7,GeometryCollection:f5,LineString:f3,MultiLineString:f1,MultiPoint:f3,MultiPolygon:e9,Point:e7,Polygon:ib};d3.geo.circle=function(){function n(){}function m(b){return o.distance(b)<p}function k(A){var z=-1,y=A.length,x=[],w,v,u,t,s;while(++z<y){s=o.distance(u=A[z]),s<p?(v&&x.push(aO(v,u)((t-p)/(t-s))),x.push(u),w=v=null):(v=u,!w&&x.length&&(x.push(aO(x[x.length-1],v)((p-t)/(s-t))),w=v)),t=s}return v&&x.length&&(s=o.distance(u=x[0]),x.push(aO(v,u)((t-p)/(t-s)))),j(x)}function j(t){var s=0,z=t.length,y,x,w=z?[t[0]]:t,v,u=o.source();while(++s<z){v=o.source(t[s-1])(t[s]).coordinates;for(y=0,x=v.length;++y<x;){w.push(v[y])}}return o.source(u),w}var r=[0,0],q=89.99,p=q*gw,o=d3.geo.greatArc().target(Object);n.clip=function(a){return o.source(typeof r=="function"?r.apply(this,arguments):r),l(a)};var l=gv({FeatureCollection:function(f){var e=f.features.map(l).filter(Object);return e&&(f=Object.create(f),f.features=e,f)},Feature:function(f){var e=l(f.geometry);return e&&(f=Object.create(f),f.geometry=e,f)},Point:function(b){return m(b.coordinates)&&b},MultiPoint:function(f){var e=f.coordinates.filter(m);return e.length&&{type:f.type,coordinates:e}},LineString:function(f){var e=k(f.coordinates);return e.length&&(f=Object.create(f),f.coordinates=e,f)},MultiLineString:function(f){var e=f.coordinates.map(k).filter(function(b){return b.length});return e.length&&(f=Object.create(f),f.coordinates=e,f)},Polygon:function(f){var e=f.coordinates.map(k);return e[0].length&&(f=Object.create(f),f.coordinates=e,f)},MultiPolygon:function(f){var e=f.coordinates.map(function(b){return b.map(k)}).filter(function(b){return b[0].length});return e.length&&(f=Object.create(f),f.coordinates=e,f)},GeometryCollection:function(f){var e=f.geometries.map(l).filter(Object);return e.length&&(f=Object.create(f),f.geometries=e,f)}});return n.origin=function(a){return arguments.length?(r=a,n):r},n.angle=function(b){return arguments.length?(p=(q=+b)*gw,n):q},n.precision=function(b){return arguments.length?(o.precision(b),n):o.precision()},n},d3.geo.greatArc=function(){function g(){var m=typeof f=="function"?f.apply(this,arguments):f,l=typeof e=="function"?e.apply(this,arguments):e,k=aO(m,l),j=h/k.d,b=0,a=[m];while((b+=j)<1){a.push(k(b))}return a.push(l),{type:"LineString",coordinates:a}}var f=e4,e=aP,h=6*gw;return g.distance=function(){var b=typeof f=="function"?f.apply(this,arguments):f,a=typeof e=="function"?e.apply(this,arguments):e;return aO(b,a).d},g.source=function(a){return arguments.length?(f=a,g):f},g.target=function(b){return arguments.length?(e=b,g):e},g.precision=function(b){return arguments.length?(h=b*gw,g):h/gw},g},d3.geo.greatCircle=d3.geo.circle,d3.geom={},d3.geom.contour=function(v,u){var t=u||aL(v),s=[],r=t[0],q=t[1],p=0,o=0,n=NaN,m=NaN,l=0;do{l=0,v(r-1,q-1)&&(l+=1),v(r,q-1)&&(l+=2),v(r-1,q)&&(l+=4),v(r,q)&&(l+=8),l===6?(p=m===-1?-1:1,o=0):l===9?(p=0,o=n===1?-1:1):(p=aN[l],o=aM[l]),p!=n&&o!=m&&(s.push([r,q]),n=p,m=o),r+=p,q+=o}while(t[0]!=r||t[1]!=q);return s};var aN=[1,0,1,1,-1,0,-1,1,0,0,0,0,-1,0,-1,NaN],aM=[0,-1,0,0,0,-1,0,0,1,-1,1,1,0,-1,0,NaN];d3.geom.hull=function(H){if(H.length<3){return[]}var G=H.length,F=G-1,E=[],D=[],C,B,A=0,z,y,x,w,v,u,t,s;for(C=1;C<G;++C){H[C][1]<H[A][1]?A=C:H[C][1]==H[A][1]&&(A=H[C][0]<H[A][0]?C:A)}for(C=0;C<G;++C){if(C===A){continue}y=H[C][1]-H[A][1],z=H[C][0]-H[A][0],E.push({angle:Math.atan2(y,z),index:C})}E.sort(function(f,e){return f.angle-e.angle}),t=E[0].angle,u=E[0].index,v=0;for(C=1;C<F;++C){B=E[C].index,t==E[C].angle?(z=H[u][0]-H[A][0],y=H[u][1]-H[A][1],x=H[B][0]-H[A][0],w=H[B][1]-H[A][1],z*z+y*y>=x*x+w*w?E[C].index=-1:(E[v].index=-1,t=E[C].angle,v=C,u=B)):(t=E[C].angle,v=C,u=B)}D.push(A);for(C=0,B=0;C<2;++B){E[B].index!==-1&&(D.push(E[B].index),C++)}s=D.length;for(;B<F;++B){if(E[B].index===-1){continue}while(!aK(D[s-2],D[s-1],E[B].index,H)){--s}D[s++]=E[B].index}var r=[];for(C=0;C<s;++C){r.push(H[D[C]])}return r},d3.geom.polygon=function(b){return b.area=function(){var a=0,h=b.length,g=b[h-1][0]*b[0][1],f=b[h-1][1]*b[0][0];while(++a<h){g+=b[a-1][0]*b[a][1],f+=b[a-1][1]*b[a][0]}return(f-g)*0.5},b.centroid=function(a){var p=-1,o=b.length,n=0,m=0,l,k=b[o-1],j;arguments.length||(a=-1/(6*b.area()));while(++p<o){l=k,k=b[p],j=l[0]*k[1]-k[0]*l[1],n+=(l[0]+k[0])*j,m+=(l[1]+k[1])*j}return[n*a,m*a]},b.clip=function(t){var s,r=-1,q=b.length,p,o,n=b[q-1],m,l,a;while(++r<q){s=t.slice(),t.length=0,m=b[r],l=s[(o=s.length)-1],p=-1;while(++p<o){a=s[p],aJ(a,n,m)?(aJ(l,n,m)||t.push(aI(l,a,n,m)),t.push(a)):aJ(l,n,m)&&t.push(aI(l,a,n,m)),l=a}n=m}return t},b},d3.geom.voronoi=function(f){var e=f.map(function(){return[]});return aG(f,function(r){var q,p,o,n,m,l;r.a===1&&r.b>=0?(q=r.ep.r,p=r.ep.l):(q=r.ep.l,p=r.ep.r),r.a===1?(m=q?q.y:-1000000,o=r.c-r.b*m,l=p?p.y:1000000,n=r.c-r.b*l):(o=q?q.x:-1000000,m=r.c-r.a*o,n=p?p.x:1000000,l=r.c-r.a*n);var k=[o,m],b=[n,l];e[r.region.l.index].push(k,b),e[r.region.r.index].push(k,b)}),e.map(function(a,j){var h=f[j][0],g=f[j][1];return a.forEach(function(b){b.angle=Math.atan2(b[0]-h,b[1]-g)}),a.sort(function(l,k){return l.angle-k.angle}).filter(function(b,k){return !k||b.angle-a[k-1].angle>1e-10})})};var aH={l:"r",r:"l"};d3.geom.delaunay=function(f){var e=f.map(function(){return[]}),g=[];return aG(f,function(a){e[a.region.l.index].push(f[a.region.r.index])}),e.forEach(function(a,o){var n=f[o],m=n[0],l=n[1];a.forEach(function(b){b.angle=Math.atan2(b[0]-m,b[1]-l)}),a.sort(function(p,h){return p.angle-h.angle});for(var k=0,j=a.length-1;k<j;k++){g.push([n,a[k],a[k+1]])}}),g},d3.geom.quadtree=function(z,y,x,w,v){function p(j,h,B,A,m,l){if(isNaN(h.x)||isNaN(h.y)){return}if(j.leaf){var k=j.point;k?Math.abs(k.x-h.x)+Math.abs(k.y-h.y)<0.01?o(j,h,B,A,m,l):(j.point=null,o(j,k,B,A,m,l),o(j,h,B,A,m,l)):j.point=h}else{o(j,h,B,A,m,l)}}function o(I,H,G,F,E,D){var C=(G+E)*0.5,B=(F+D)*0.5,A=H.x>=C,m=H.y>=B,k=(m<<1)+A;I.leaf=!1,I=I.nodes[k]||(I.nodes[k]=aF()),A?G=C:E=C,m?F=B:D=B,p(I,H,G,F,E,D)}var u,t=-1,s=z.length;s&&isNaN(z[0].x)&&(z=z.map(aD));if(arguments.length<5){if(arguments.length===3){v=w=x,x=y}else{y=x=Infinity,w=v=-Infinity;while(++t<s){u=z[t],u.x<y&&(y=u.x),u.y<x&&(x=u.y),u.x>w&&(w=u.x),u.y>v&&(v=u.y)}var r=w-y,q=v-x;r>q?v=x+r:w=y+q}}var n=aF();return n.add=function(b){p(n,b,y,x,w,v)},n.visit=function(b){aE(b,n,y,x,w,v)},z.forEach(n.add),n},d3.time={};var aC=Date;aB.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){aA.setUTCDate.apply(this._,arguments)},setDay:function(){aA.setUTCDay.apply(this._,arguments)},setFullYear:function(){aA.setUTCFullYear.apply(this._,arguments)},setHours:function(){aA.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){aA.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){aA.setUTCMinutes.apply(this._,arguments)},setMonth:function(){aA.setUTCMonth.apply(this._,arguments)},setSeconds:function(){aA.setUTCSeconds.apply(this._,arguments)},setTime:function(){aA.setTime.apply(this._,arguments)}};var aA=Date.prototype;d3.time.format=function(f){function g(m){var l=[],k=-1,j=0,b,a;while(++k<e){f.charCodeAt(k)==37&&(l.push(f.substring(j,k),(a=au[b=f.charAt(++k)])?a(m):b),j=k+1)}return l.push(f.substring(j,k)),l.join("")}var e=f.length;return g.parse=function(a){var k={y:1900,m:0,d:1,H:0,M:0,S:0,L:0},j=az(k,f,a,0);if(j!=a.length){return null}"p" in k&&(k.H=k.H%12+k.p*12);var h=new aC;return h.setFullYear(k.y,k.m,k.d),h.setHours(k.H,k.M,k.S,k.L),h},g.toString=function(){return f},g};var ay=d3.format("02d"),ax=d3.format("03d"),aw=d3.format("04d"),av=d3.format("2d"),au={a:function(b){return d3_time_weekdays[b.getDay()].substring(0,3)},A:function(b){return d3_time_weekdays[b.getDay()]},b:function(b){return d0[b.getMonth()].substring(0,3)},B:function(b){return d0[b.getMonth()]},c:d3.time.format("%a %b %e %H:%M:%S %Y"),d:function(b){return ay(b.getDate())},e:function(b){return av(b.getDate())},H:function(b){return ay(b.getHours())},I:function(b){return ay(b.getHours()%12||12)},j:function(b){return ax(1+d3.time.dayOfYear(b))},L:function(b){return ax(b.getMilliseconds())},m:function(b){return ay(b.getMonth()+1)},M:function(b){return ay(b.getMinutes())},p:function(b){return b.getHours()>=12?"PM":"AM"},S:function(b){return ay(b.getSeconds())},U:function(b){return ay(d3.time.sundayOfYear(b))},w:function(b){return b.getDay()},W:function(b){return ay(d3.time.mondayOfYear(b))},x:d3.time.format("%m/%d/%y"),X:d3.time.format("%H:%M:%S"),y:function(b){return ay(b.getFullYear()%100)},Y:function(b){return aw(b.getFullYear()%10000)},Z:aZ,"%":function(b){return"%"}},at={a:ar,A:aq,b:e2,B:d8,c:c9,d:b5,e:b5,H:b3,I:b3,L:a7,m:b7,M:b1,p:a3,S:a9,x:c7,X:c5,y:c1,Y:c3},ap=/^(?:sun|mon|tue|wed|thu|fri|sat)/i,e3=/^(?:Sunday|Monday|Tuesday|Wednesday|Thursday|Friday|Saturday)/i;d3_time_weekdays=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];var d9=d3.map({jan:0,feb:1,mar:2,apr:3,may:4,jun:5,jul:6,aug:7,sep:8,oct:9,nov:10,dec:11}),d5=/^(?:January|February|March|April|May|June|July|August|September|October|November|December)/ig,d2=d3.map({january:0,february:1,march:2,april:3,may:4,june:5,july:6,august:7,september:8,october:9,november:10,december:11}),d0=["January","February","March","April","May","June","July","August","September","October","November","December"],a4=/\s*\d+/,a0=d3.map({am:0,pm:1});d3.time.format.utc=function(f){function g(b){try{aC=aB;var h=new aC;return h._=b,e(h)}finally{aC=Date}}var e=d3.time.format(f);return g.parse=function(b){try{aC=aB;var h=e.parse(b);return h&&h._}finally{aC=Date}},g.toString=e.toString,g};var aW=d3.time.format.utc("%Y-%m-%dT%H:%M:%S.%LZ");d3.time.format.iso=Date.prototype.toISOString?aV:aW,aV.parse=function(b){return new Date(b)},aV.toString=aW.toString,d3.time.second=aT(function(b){return new aC(Math.floor(b/1000)*1000)},function(f,e){f.setTime(f.getTime()+Math.floor(e)*1000)},function(b){return b.getSeconds()}),d3.time.seconds=d3.time.second.range,d3.time.seconds.utc=d3.time.second.utc.range,d3.time.minute=aT(function(b){return new aC(Math.floor(b/60000)*60000)},function(f,e){f.setTime(f.getTime()+Math.floor(e)*60000)},function(b){return b.getMinutes()}),d3.time.minutes=d3.time.minute.range,d3.time.minutes.utc=d3.time.minute.utc.range,d3.time.hour=aT(function(f){var e=f.getTimezoneOffset()/60;return new aC((Math.floor(f/3600000-e)+e)*3600000)},function(f,e){f.setTime(f.getTime()+Math.floor(e)*3600000)},function(b){return b.getHours()}),d3.time.hours=d3.time.hour.range,d3.time.hours.utc=d3.time.hour.utc.range,d3.time.day=aT(function(b){return new aC(b.getFullYear(),b.getMonth(),b.getDate())},function(f,e){f.setDate(f.getDate()+e)},function(b){return b.getDate()-1}),d3.time.days=d3.time.day.range,d3.time.days.utc=d3.time.day.utc.range,d3.time.dayOfYear=function(f){var e=d3.time.year(f);return Math.floor((f-e)/86400000-(f.getTimezoneOffset()-e.getTimezoneOffset())/1440)},d3_time_weekdays.forEach(function(f,e){f=f.toLowerCase(),e=7-e;var g=d3.time[f]=aT(function(b){return(b=d3.time.day(b)).setDate(b.getDate()-(b.getDay()+e)%7),b},function(j,h){j.setDate(j.getDate()+Math.floor(h)*7)},function(b){var h=d3.time.year(b).getDay();return Math.floor((d3.time.dayOfYear(b)+(h+e)%7)/7)-(h!==e)});d3.time[f+"s"]=g.range,d3.time[f+"s"].utc=g.utc.range,d3.time[f+"OfYear"]=function(b){var h=d3.time.year(b).getDay();return Math.floor((d3.time.dayOfYear(b)+(h+e)%7)/7)}}),d3.time.week=d3.time.sunday,d3.time.weeks=d3.time.sunday.range,d3.time.weeks.utc=d3.time.sunday.utc.range,d3.time.weekOfYear=d3.time.sundayOfYear,d3.time.month=aT(function(b){return new aC(b.getFullYear(),b.getMonth(),1)},function(f,e){f.setMonth(f.getMonth()+e)},function(b){return b.getMonth()}),d3.time.months=d3.time.month.range,d3.time.months.utc=d3.time.month.utc.range,d3.time.year=aT(function(b){return new aC(b.getFullYear(),0,1)},function(f,e){f.setFullYear(f.getFullYear()+e)},function(b){return b.getFullYear()}),d3.time.years=d3.time.year.range,d3.time.years.utc=d3.time.year.utc.range;var aj=[1000,5000,15000,30000,60000,300000,900000,1800000,3600000,10800000,21600000,43200000,86400000,172800000,604800000,2592000000,7776000000,31536000000],ai=[[d3.time.second,1],[d3.time.second,5],[d3.time.second,15],[d3.time.second,30],[d3.time.minute,1],[d3.time.minute,5],[d3.time.minute,15],[d3.time.minute,30],[d3.time.hour,1],[d3.time.hour,3],[d3.time.hour,6],[d3.time.hour,12],[d3.time.day,1],[d3.time.day,2],[d3.time.week,1],[d3.time.month,1],[d3.time.month,3],[d3.time.year,1]],ah=[[d3.time.format("%Y"),function(b){return !0}],[d3.time.format("%B"),function(b){return b.getMonth()}],[d3.time.format("%b %d"),function(b){return b.getDate()!=1}],[d3.time.format("%a %d"),function(b){return b.getDay()&&b.getDate()!=1}],[d3.time.format("%I %p"),function(b){return b.getHours()}],[d3.time.format("%I:%M"),function(b){return b.getMinutes()}],[d3.time.format(":%S"),function(b){return b.getSeconds()}],[d3.time.format(".%L"),function(b){return b.getMilliseconds()}]],ag=d3.scale.linear(),af=am(ah);ai.year=function(f,e){return ag.domain(f.map(ak)).ticks(e).map(al)},d3.time.scale=function(){return aQ(d3.scale.linear(),ai,af)};var ae=ai.map(function(b){return[b[0].utc,b[1]]}),ad=[[d3.time.format.utc("%Y"),function(b){return !0}],[d3.time.format.utc("%B"),function(b){return b.getUTCMonth()}],[d3.time.format.utc("%b %d"),function(b){return b.getUTCDate()!=1}],[d3.time.format.utc("%a %d"),function(b){return b.getUTCDay()&&b.getUTCDate()!=1}],[d3.time.format.utc("%I %p"),function(b){return b.getUTCHours()}],[d3.time.format.utc("%I:%M"),function(b){return b.getUTCMinutes()}],[d3.time.format.utc(":%S"),function(b){return b.getUTCSeconds()}],[d3.time.format.utc(".%L"),function(b){return b.getUTCMilliseconds()}]],ac=am(ad);ae.year=function(f,e){return ag.domain(f.map(aa)).ticks(e).map(ab)},d3.time.scale.utc=function(){return aQ(d3.scale.linear(),ae,ac)}})();(function(){function aR(y,t){y||(y={});for(var L in t){y[L]=t[L]}return y}function ac(y,t){return parseInt(y,t||10)}function ax(t){return typeof t=="string"}function aa(t){return typeof t=="object"}function an(t){return typeof t=="number"}function aN(y,t){for(var L=y.length;L--;){if(y[L]==t){y.splice(L,1);break}}}function ao(t){return t!==K&&t!==null}function f(y,t,ab){var V,L;if(ax(t)){if(ao(ab)){y.setAttribute(t,ab)}else{if(y&&y.getAttribute){L=y.getAttribute(t)}}}else{if(ao(t)&&aa(t)){for(V in t){y.setAttribute(V,t[V])}}}return L}function au(t){if(!t||t.constructor!=Array){t=[t]}return t}function O(){var y=arguments,t,V,L=y.length;for(t=0;t<L;t++){V=y[t];if(typeof V!=="undefined"&&V!==null){return V}}}function ai(y){var t="",L;for(L in y){t+=a1(L)+":"+y[L]+";"}return t}function r(y,t){if(a2){if(t&&t.opacity!==K){t.filter="alpha(opacity="+t.opacity*100+")"}}aR(y.style,t)}function k(y,t,ab,V,L){y=aF.createElement(y);t&&aR(y,t);L&&r(y,{padding:0,border:aP,margin:0});ab&&r(y,ab);V&&V.appendChild(y);return y}function G(y,t){aJ=O(y,t.animation)}function aI(){var t=w.global.useUTC;aq=t?Date.UTC:function(y,bc,ad,ab,V,L){return(new Date(y,bc,O(ad,1),O(ab,0),O(V,0),O(L,0))).getTime()};aw=t?"getUTCMinutes":"getMinutes";aG=t?"getUTCHours":"getHours";am=t?"getUTCDay":"getDay";Y=t?"getUTCDate":"getDate";W=t?"getUTCMonth":"getMonth";F=t?"getUTCFullYear":"getFullYear";ap=t?"setUTCMinutes":"setMinutes";U=t?"setUTCHours":"setHours";S=t?"setUTCDate":"setDate";E=t?"setUTCMonth":"setMonth";l=t?"setUTCFullYear":"setFullYear"}function n(t){a7||(a7=k(q));t&&a7.appendChild(t);a7.innerHTML=""}function u(y,t){var L=function(){};L.prototype=new y;aR(L.prototype,t);return L}function a4(y,t,bc,ad){var ab=w.lang;y=y;var V=isNaN(t=aH(t))?2:t;t=bc===undefined?ab.decimalPoint:bc;ad=ad===undefined?ab.thousandsSep:ad;ab=y<0?"-":"";bc=ac(y=aH(+y||0).toFixed(V))+"";var L=(L=bc.length)>3?L%3:0;return ab+(L?bc.substr(0,L)+ad:"")+bc.substr(L).replace(/(\d{3})(?=\d)/g,"$1"+ad)+(V?t+aH(y-bc).toFixed(V).slice(2):"")}function aO(){}function aM(bL,bJ){function bI(dn,dr){function dd(da,dc){this.pos=da;this.minor=dc;this.isNew=true;dc||this.addLabel()}function de(da){if(da){this.options=da;this.id=da.id}return this}function cE(){var da=[],dx=[],dc;dq=df=null;cu=[];Q(cm,function(dC){dc=false;Q(["xAxis","yAxis"],function(dE){if(dC.isCartesian&&(dE=="xAxis"&&ct||dE=="yAxis"&&!ct)&&(dC.options[dE]==dr.index||dC.options[dE]===K&&dr.index===0)){dC[dE]=di;cu.push(dC);dc=true}});if(!dC.visible&&bu.ignoreHiddenSeries){dc=false}if(dc){var dy,dD,dz,dB,dA;if(!ct){dy=dC.options.stacking;cA=dy=="percent";if(dy){dB=dC.type+O(dC.options.stack,"");dA="-"+dB;dC.stackKey=dB;dD=da[dB]||[];da[dB]=dD;dz=dx[dA]||[];dx[dA]=dz}if(cA){dq=0;df=99}}if(dC.isCartesian){Q(dC.data,function(dF){var dI=dF.x,dH=dF.y,dE=dH<0,dG=dE?dz:dD;dE=dE?dA:dB;if(dq===null){dq=df=dF[cK]}if(ct){if(dI>df){df=dI}else{if(dI<dq){dq=dI}}}else{if(ao(dH)){if(dy){dG[dI]=ao(dG[dI])?dG[dI]+dH:dH}dH=dG?dG[dI]:dH;dF=O(dF.low,dH);if(!cA){if(dH>df){df=dH}else{if(dF<dq){dq=dF}}}if(dy){c9[dE]||(c9[dE]={});c9[dE][dI]={total:dH,cum:dH}}}}});if(/(area|column|bar)/.test(dC.type)&&!ct){if(dq>=0){dq=0;cx=true}else{if(df<0){df=0;dk=true}}}}}})}function cT(da,dx){var dc;dh=dx?1:aW.pow(10,bb(aW.log(da)/aW.LN10));dc=da/dh;if(!dx){dx=[1,2,2.5,5,10];if(dr.allowDecimals===false){if(dh==1){dx=[1,2,5,10]}else{if(dh<=0.1){dx=[1/dh]}}}}for(var dy=0;dy<dx.length;dy++){da=dx[dy];if(dc<=(dx[dy]+(dx[dy+1]||dx[dy]))/2){break}}da*=dh;return da}function cI(da){var dc;dc=da;if(ao(dh)){dc=(dh<1?ak(1/dh):1)*10;dc=ak(da*dc)/dc}return dc}function cS(){var dF,dz,dc,dB,dE=dr.tickInterval,dA=dr.tickPixelInterval;dF=dr.maxZoom||(ct?av(dn.smallestInterval*5,df-dq):null);cP=cF?bX:cq;if(c2){dc=dn[ct?"xAxis":"yAxis"][dr.linkedTo];dB=dc.getExtremes();cJ=O(dB.min,dB.dataMin);cC=O(dB.max,dB.dataMax)}else{cJ=O(cv,dr.min,dq);cC=O(dp,dr.max,df)}if(cC-cJ<dF){dB=(dF-cC+cJ)/2;cJ=a9(cJ-dB,O(dr.min,cJ-dB),dq);cC=av(cJ+dF,O(dr.max,cJ+dF),df)}if(!du&&!cA&&!c2&&ao(cJ)&&ao(cC)){dF=cC-cJ||1;if(!ao(dr.min)&&!ao(cv)&&c5&&(dq<0||!cx)){cJ-=dF*c5}if(!ao(dr.max)&&!ao(dp)&&cX&&(df>0||!dk)){cC+=dF*cX}}cL=cJ==cC?1:c2&&!dE&&dA==dc.options.tickPixelInterval?dc.tickInterval:O(dE,du?1:(cC-cJ)*dA/cP);if(!cG&&!ao(dr.tickInterval)){cL=cT(cL)}di.tickInterval=cL;dl=dr.minorTickInterval==="auto"&&cL?cL/5:dr.minorTickInterval;if(cG){cU=[];dE=w.global.useUTC;var dH=1000/Z,dy=60000/Z,dD=3600000/Z;dA=86400000/Z;dF=604800000/Z;dB=2592000000/Z;var dI=31556952000/Z,da=[["second",dH,[1,2,5,10,15,30]],["minute",dy,[1,2,5,10,15,30]],["hour",dD,[1,2,3,4,6,8,12]],["day",dA,[1,2]],["week",dF,[1,2]],["month",dB,[1,2,3,4,6]],["year",dI,null]],dC=da[6],dG=dC[1],dx=dC[2];for(dc=0;dc<da.length;dc++){dC=da[dc];dG=dC[1];dx=dC[2];if(da[dc+1]){if(cL<=(dG*dx[dx.length-1]+da[dc+1][1])/2){break}}}if(dG==dI&&cL<5*dG){dx=[1,2,5]}da=cT(cL/dG,dx);dx=new Date(cJ*Z);dx.setMilliseconds(0);if(dG>=dH){dx.setSeconds(dG>=dy?0:da*bb(dx.getSeconds()/da))}if(dG>=dy){dx[ap](dG>=dD?0:da*bb(dx[aw]()/da))}if(dG>=dD){dx[U](dG>=dA?0:da*bb(dx[aG]()/da))}if(dG>=dA){dx[S](dG>=dB?1:da*bb(dx[Y]()/da))}if(dG>=dB){dx[E](dG>=dI?0:da*bb(dx[W]()/da));dz=dx[F]()}if(dG>=dI){dz-=dz%da;dx[l](dz)}dG==dF&&dx[S](dx[Y]()-dx[am]()+dr.startOfWeek);dc=1;dz=dx[F]();dH=dx.getTime()/Z;dy=dx[W]();for(dD=dx[Y]();dH<cC&&dc<bX;){cU.push(dH);if(dG==dI){dH=aq(dz+dc*da,0)/Z}else{if(dG==dB){dH=aq(dz,dy+dc*da)/Z}else{if(!dE&&(dG==dA||dG==dF)){dH=aq(dz,dy,dD+dc*da*(dG==dA?1:7))}else{dH+=dG*da}}}dc++}cU.push(dH);cZ=dr.dateTimeLabelFormats[dC[0]]}else{dc=bb(cJ/cL)*cL;dz=B(cC/cL)*cL;cU=[];for(dc=cI(dc);dc<=dz;){cU.push(dc);dc=cI(dc+cL)}}if(!c2){if(du||ct&&dn.hasColumn){dz=(du?1:cL)*0.5;if(du||!ao(O(dr.min,cv))){cJ-=dz}if(du||!ao(O(dr.max,dp))){cC+=dz}}dz=cU[0];dc=cU[cU.length-1];if(dr.startOnTick){cJ=dz}else{cJ>dz&&cU.shift()}if(dr.endOnTick){cC=dc}else{cC<dc&&cU.pop()}bm||(bm={x:0,y:0});if(!cG&&cU.length>bm[cK]){bm[cK]=cU.length}}}function dj(){var da,dc;db=cJ;c7=cC;cE();cS();cs=cO;cO=cP/(cC-cJ||1);if(!ct){for(da in c9){for(dc in c9[da]){c9[da][dc].cum=c9[da][dc].total}}}if(!di.isDirty){di.isDirty=cJ!=db||cC!=c7}}function cV(da){da=(new de(da)).render();cH.push(da);return da}function dt(){var da=dr.title,dz=dr.alternateGridColor,dy=dr.lineWidth,dA,dc,dB=dn.hasRendered,dx=dB&&ao(db)&&!isNaN(db);dA=cu.length&&ao(cJ)&&ao(cC);cP=cF?bX:cq;cO=cP/(cC-cJ||1);cY=cF?bR:bo;if(dA||c2){if(dl&&!du){for(dA=cJ+(cU[0]-cJ)%dl;dA<=cC;dA+=dl){cM[dA]||(cM[dA]=new dd(dA,true));dx&&cM[dA].isNew&&cM[dA].render(null,true);cM[dA].isActive=true;cM[dA].render()}}Q(cU,function(dD,dC){if(!c2||dD>=cJ&&dD<=cC){dx&&cw[dD].isNew&&cw[dD].render(dC,true);cw[dD].isActive=true;cw[dD].render(dC)}});dz&&Q(cU,function(dD,dC){if(dC%2===0&&dD<cC){cQ[dD]||(cQ[dD]=new de);cQ[dD].options={from:dD,to:cU[dC+1]!==K?cU[dC+1]:cC,color:dz};cQ[dD].render();cQ[dD].isActive=true}});dB||Q((dr.plotLines||[]).concat(dr.plotBands||[]),function(dC){cH.push((new de(dC)).render())})}Q([cw,cM,cQ],function(dD){for(var dC in dD){if(dD[dC].isActive){dD[dC].isActive=false}else{dD[dC].destroy();delete dD[dC]}}});if(dy){dA=bR+(c3?bX:0)+cB;dc=b7-bo-(c3?cq:0)+cB;dA=ce.crispLine([P,cF?bR:dA,cF?dc:cb,aL,cF?bQ-b8:dA,cF?dc:b7-bo],dy);if(cW){cW.animate({d:dA})}else{cW=ce.path(dA).attr({stroke:dr.lineColor,"stroke-width":dy,zIndex:7}).add()}}if(di.axisTitle){dA=cF?bR:cb;dy=ac(da.style.fontSize||12);dA={low:dA+(cF?0:cP),middle:dA+cP/2,high:dA+(cF?cP:0)}[da.align];dy=(cF?cb+cq:bR)+(cF?1:-1)*(c3?-1:1)*dv+(cN==2?dy:0);di.axisTitle[dB?"animate":"attr"]({x:cF?dA:dy+(c3?bX:0)+cB+(da.x||0),y:cF?dy-(c3?cq:0)+cB:dA+(da.y||0)})}di.isDirty=false}function c0(da){for(var dc=0;dc<cH.length;dc++){cH[dc].id==da&&cH[dc].destroy()}}var ct=dr.isX,c3=dr.opposite,cF=ad?!ct:ct,cN=cF?c3?0:2:c3?1:3,c9={};dr=v(ct?p:a0,[M,x,o,g][cN],dr);var di=this,cG=dr.type=="datetime",cB=dr.offset||0,cK=ct?"x":"y",cP,cO,cs,cY=cF?bR:bo,cz,cD,dg,cy,cW,dq,df,cu,cv,dp,cC=null,cJ=null,db,c7,c5=dr.minPadding,cX=dr.maxPadding,c2=ao(dr.linkedTo),cx,dk,cA,dm=dr.events,cR,cH=[],cL,dl,dh,cU,cw={},cM={},cQ={},dw,c8,dv,cZ,du=dr.categories,c4=dr.labels.formatter||function(){var da=this.value;return cZ?ba(cZ,da):cL%1000000===0?da/1000000+"M":cL%1000===0?da/1000+"k":!du&&da>=1000?a4(da,0):da},c1=cF&&dr.labels.staggerLines,ds=dr.reversed,c6=du&&dr.tickmarkPlacement=="between"?0.5:0;dd.prototype={addLabel:function(){var da=this.pos,dy=dr.labels,dx=!(da==cJ&&!O(dr.showFirstLabel,1)||da==cC&&!O(dr.showLastLabel,0)),dz,dc=this.label;da=c4.call({isFirst:da==cU[0],isLast:da==cU[cU.length-1],dateTimeLabelFormat:cZ,value:du&&du[da]?du[da]:da});dz=dz&&{width:dz-2*(dy.padding||10)+aY};if(dc===K){this.label=ao(da)&&dx&&dy.enabled?ce.text(da,0,0).attr({align:dy.align,rotation:dy.rotation}).css(aR(dz,dy.style)).add(dg):null}else{dc&&dc.attr({text:da}).css(dz)}},getLabelSize:function(){var da=this.label;return da?(this.labelBBox=da.getBBox())[cF?"height":"width"]:0},render:function(dF,dz){var dc=!this.minor,dB=this.label,dE=this.pos,dA=dr.labels,dI=this.gridLine,dy=dc?dr.gridLineWidth:dr.minorGridLineWidth,dD=dc?dr.gridLineColor:dr.minorGridLineColor,dL=dc?dr.gridLineDashStyle:dr.minorGridLineDashStyle,da=this.mark,dC=dc?dr.tickLength:dr.minorTickLength,dG=dc?dr.tickWidth:dr.minorTickWidth||0,dx=dc?dr.tickColor:dr.minorTickColor,dH=dc?dr.tickPosition:dr.minorTickPosition;dc=dA.step;var dK=dz&&b6||b7,dJ;dJ=cF?cz(dE+c6,null,null,dz)+cY:bR+cB+(c3?(dz&&bU||bQ)-b8-bR:0);dK=cF?dK-bo+cB-(c3?cq:0):dK-cz(dE+c6,null,null,dz)-cY;if(dy){dE=cD(dE+c6,dy,dz);if(dI===K){dI={stroke:dD,"stroke-width":dy};if(dL){dI.dashstyle=dL}this.gridLine=dI=dy?ce.path(dE).attr(dI).add(cy):null}dI&&dE&&dI.animate({d:dE})}if(dG){if(dH=="inside"){dC=-dC}if(c3){dC=-dC}dy=ce.crispLine([P,dJ,dK,aL,dJ+(cF?0:-dC),dK+(cF?dC:0)],dG);if(da){da.animate({d:dy})}else{this.mark=ce.path(dy).attr({stroke:dx,"stroke-width":dG}).add(dg)}}if(dB){dJ=dJ+dA.x-(c6&&cF?c6*cO*(ds?-1:1):0);dK=dK+dA.y-(c6&&!cF?c6*cO*(ds?1:-1):0);ao(dA.y)||(dK+=parseInt(dB.styles.lineHeight)*0.9-dB.getBBox().height/2);if(c1){dK+=dF%c1*16}if(dc){dB[dF%dc?"hide":"show"]()}dB[this.isNew?"attr":"animate"]({x:dJ,y:dK})}this.isNew=false},destroy:function(){for(var da in this){this[da]&&this[da].destroy&&this[da].destroy()}}};de.prototype={render:function(){var dF=this,dz=dF.options,dc=dz.label,dB=dF.label,dE=dz.width,dA=dz.to,dI,dy=dz.from,dD=dz.dashStyle,dJ=dF.svgElem,da=[],dC,dG,dx=dz.color;dG=dz.zIndex;var dH=dz.events;if(dE){da=cD(dz.value,dE);dz={stroke:dx,"stroke-width":dE};if(dD){dz.dashstyle=dD}}else{if(ao(dy)&&ao(dA)){dy=a9(dy,cJ);dA=av(dA,cC);dI=cD(dA);if((da=cD(dy))&&dI){da.push(dI[4],dI[5],dI[1],dI[2])}else{da=null}dz={fill:dx}}else{return}}if(ao(dG)){dz.zIndex=dG}if(dJ){if(da){dJ.animate({d:da},null,dJ.onGetPath)}else{dJ.hide();dJ.onGetPath=function(){dJ.show()}}}else{if(da&&da.length){dF.svgElem=dJ=ce.path(da).attr(dz).add();if(dH){dD=function(dK){dJ.on(dK,function(dL){dH[dK].apply(dF,[dL])})};for(dC in dH){dD(dC)}}}}if(dc&&ao(dc.text)&&da&&da.length&&bX>0&&cq>0){dc=v({align:cF&&dI&&"center",x:cF?!dI&&4:10,verticalAlign:!cF&&dI&&"middle",y:cF?dI?16:10:dI?6:-4,rotation:cF&&!dI&&90},dc);if(!dB){dF.label=dB=ce.text(dc.text,0,0).attr({align:dc.textAlign||dc.align,rotation:dc.rotation,zIndex:dG}).css(dc.style).add()}dI=[da[1],da[4],da[6]||da[1]];da=[da[2],da[5],da[7]||da[2]];dC=av.apply(aW,dI);dG=av.apply(aW,da);dB.align(dc,false,{x:dC,y:dG,width:a9.apply(aW,dI)-dC,height:a9.apply(aW,da)-dG});dB.show()}else{dB&&dB.hide()}return dF},destroy:function(){for(var da in this){this[da]&&this[da].destroy&&this[da].destroy();delete this[da]}aN(cH,this)}};cz=function(da,dz,dy,dA){var dc=1,dB=0,dx=dA?cs:cO;dA=dA?db:cJ;dx||(dx=cO);if(dy){dc*=-1;dB=cP}if(ds){dc*=-1;dB-=dc*cP}if(dz){if(ds){da=cP-da}da=da/dx+dA}else{da=dc*(da-dA)*dx+dB}return da};cD=function(dC,dx,da){var dz,dB,dy;dC=cz(dC,null,null,da);var dD=da&&b6||b7,dc=da&&bU||bQ,dA;da=dB=ak(dC+cY);dz=dy=ak(dD-dC-cY);if(isNaN(dC)){dA=true}else{if(cF){dz=cb;dy=dD-bo;if(da<bR||da>bR+bX){dA=true}}else{da=bR;dB=dc-b8;if(dz<cb||dz>cb+cq){dA=true}}}return dA?null:ce.crispLine([P,da,dz,aL,dB,dy],dx||0)};if(ad&&ct&&ds===K){ds=true}aR(di,{addPlotBand:cV,addPlotLine:cV,adjustTickAmount:function(){if(bm&&!cG&&!du&&!c2){var da=dw,dc=cU.length;dw=bm[cK];if(dc<dw){for(;cU.length<dw;){cU.push(cI(cU[cU.length-1]+cL))}cO*=(dc-1)/(dw-1);cC=cU[cU.length-1]}if(ao(da)&&dw!=da){di.isDirty=true}}},categories:du,getExtremes:function(){return{min:cJ,max:cC,dataMin:dq,dataMax:df}},getPlotLinePath:cD,getThreshold:function(da){if(cJ>da){da=cJ}else{if(cC<da){da=cC}}return cz(da,0,1)},isXAxis:ct,options:dr,plotLinesAndBands:cH,getOffset:function(){var da=cu.length&&ao(cJ)&&ao(cC),dz=0,dy=0,dA=dr.title,dc=dr.labels,dB=[-1,1,1,-1][cN];if(!dg){dg=ce.g("axis").attr({zIndex:7}).add();cy=ce.g("grid").attr({zIndex:1}).add()}c8=0;if(da||c2){Q(cU,function(dC){if(cw[dC]){cw[dC].addLabel()}else{cw[dC]=new dd(dC)}if(cN===0||cN==2||{1:"left",3:"right"}[cN]==dc.align){c8=a9(cw[dC].getLabelSize(),c8)}});if(c1){c8+=(c1-1)*16}}else{for(var dx in cw){cw[dx].destroy();delete cw[dx]}}if(dA&&dA.text){if(!di.axisTitle){di.axisTitle=ce.text(dA.text,0,0).attr({zIndex:7,rotation:dA.rotation||0,align:dA.textAlign||{low:"left",middle:"center",high:"right"}[dA.align]}).css(dA.style).add()}dz=di.axisTitle.getBBox()[cF?"height":"width"];dy=O(dA.margin,cF?5:10)}cB=dB*(dr.offset||bs[cN]);dv=c8+(cN!=2&&c8&&dB*dr.labels[cF?"y":"x"])+dy;bs[cN]=a9(bs[cN],dv+dz+dB*cB)},render:dt,setCategories:function(da,dc){di.categories=du=da;Q(cu,function(dx){dx.translate();dx.setTooltipPoints(true)});di.isDirty=true;O(dc,true)&&dn.redraw()},setExtremes:function(da,dx,dc,dy){G(dy,dn);dc=O(dc,true);ae(di,"setExtremes",{min:da,max:dx},function(){cv=da;dp=dx;dc&&dn.redraw()})},setScale:dj,setTickPositions:cS,translate:cz,redraw:function(){cc.resetTracker&&cc.resetTracker();dt();Q(cH,function(da){da.render()});Q(cu,function(da){da.isDirty=true})},removePlotBand:c0,removePlotLine:c0,reversed:ds,stacks:c9});for(cR in dm){ah(di,cR,dm[cR])}dj()}function bH(){var cs={};return{add:function(cv,ct,cu,cw){if(!cs[cv]){ct=ce.text(ct,0,0).css(bL.toolbar.itemStyle).align({align:"right",x:-b8-20,y:cb+30}).on("click",cw).attr({align:"right",zIndex:20}).add();cs[cv]=ct}},remove:function(ct){n(cs[ct].element);cs[ct]=null}}}function bG(cI){function cJ(){var cN=this.points||au(this),cQ=cN[0].series.xAxis,cP=this.x;cQ=cQ&&cQ.options.type=="datetime";var cM=ax(cP)||cQ,cO;cO=cM?['<span style="font-size: 10px">',cQ?ba("%A, %b %e, %Y",cP):cP,"</span><br/>"]:[];Q(cN,function(cR){cO.push(cR.point.tooltipFormatter(cM))});return cO.join("")}function cB(cM,cN){cE=cA?cM:(2*cE+cM)/3;cH=cA?cN:(cH+cN)/2;cG.translate(cE,cH);bx=aH(cM-cE)>1||aH(cN-cH)>1?function(){cB(cM,cN)}:null}function cD(){if(!cA){var cM=bv.hoverPoints;cG.hide();Q(cK,function(cN){cN&&cN.hide()});cM&&Q(cM,function(cN){cN.setState()});bv.hoverPoints=null;cA=true}}var cw,cL=cI.borderWidth,cz=cI.crosshairs,cK=[],ct=cI.style,cs=cI.shared,cu=ac(ct.padding),cC=cL+cu,cA=true,cF,cx,cE=0,cH=0;ct.padding=0;var cG=ce.g("tooltip").attr({zIndex:8}).add(),cy=ce.rect(cC,cC,0,0,cI.borderRadius,cL).attr({fill:cI.backgroundColor,"stroke-width":cL}).add(cG).shadow(cI.shadow),cv=ce.text("",cu+cC,ac(ct.fontSize)+cu+cC).attr({zIndex:1}).css(ct).add(cG);cG.hide();return{shared:cs,refresh:function(cT){var cN,cU,cR,cS=0,cQ={},cP=[];cR=cT.tooltipPos;cN=cI.formatter||cJ;cQ=bv.hoverPoints;var cM=function(cV){return{series:cV.series,point:cV,x:cV.category,y:cV.y,percentage:cV.percentage,total:cV.total||cV.stackTotal}};if(cs){cQ&&Q(cQ,function(cV){cV.setState()});bv.hoverPoints=cT;Q(cT,function(cV){cV.setState(e);cS+=cV.plotY;cP.push(cM(cV))});cU=cT[0].plotX;cS=ak(cS)/cT.length;cQ={x:cT[0].category};cQ.points=cP;cT=cT[0]}else{cQ=cM(cT)}cQ=cN.call(cQ);cw=cT.series;cU=cs?cU:cT.plotX;cS=cs?cS:cT.plotY;cN=ak(cR?cR[0]:ad?bX-cS:cU);cU=ak(cR?cR[1]:ad?cq-cU:cS);cR=cs||!cT.series.isCartesian||bV(cN,cU);if(cQ===false||!cR){cD()}else{if(cA){cG.show();cA=false}cv.attr({text:cQ});cR=cv.getBBox();cF=cR.width;cx=cR.height;cy.attr({width:cF+2*cu,height:cx+2*cu,stroke:cI.borderColor||cT.color||cw.color||"#606060"});cN=cN-cF+bR-25;cU=cU-cx+cb+10;if(cN<7){cN=7;cU-=30}if(cU<5){cU=5}else{if(cU+cx>b7){cU=b7-cx-5}}cB(ak(cN-cC),ak(cU-cC))}if(cz){cz=au(cz);cU=cz.length;for(var cO;cU--;){if(cz[cU]&&(cO=cT.series[cU?"yAxis":"xAxis"])){cN=cO.getPlotLinePath(cT[cU?"y":"x"],1);if(cK[cU]){cK[cU].attr({d:cN,visibility:a3})}else{cR={"stroke-width":cz[cU].width||1,stroke:cz[cU].color||"#C0C0C0",zIndex:2};if(cz[cU].dashStyle){cR.dashstyle=cz[cU].dashStyle}cK[cU]=ce.path(cN).attr(cR).add()}}}}},hide:cD}}function bF(ct,cu){function cC(cJ){var cH;cJ=cJ||ar.event;if(!cJ.target){cJ.target=cJ.srcElement}cH=cJ.touches?cJ.touches.item(0):cJ;if(cJ.type!="mousemove"||ar.opera){for(var cI=bO,cK={left:cI.offsetLeft,top:cI.offsetTop};cI=cI.offsetParent;){cK.left+=cI.offsetLeft;cK.top+=cI.offsetTop;if(cI!=aF.body&&cI!=aF.documentElement){cK.left-=cI.scrollLeft;cK.top-=cI.scrollTop}}bd=cK}if(a2){cJ.chartX=cJ.x;cJ.chartY=cJ.y}else{if(cH.layerX===K){cJ.chartX=cH.pageX-bd.left;cJ.chartY=cH.pageY-bd.top}else{cJ.chartX=cJ.layerX;cJ.chartY=cJ.layerY}}return cJ}function cE(cI){var cH={xAxis:[],yAxis:[]};Q(bj,function(cK){var cL=cK.translate,cJ=cK.isXAxis;cH[cJ?"xAxis":"yAxis"].push({axis:cK,value:cL((ad?!cJ:cJ)?cI.chartX-bR:cq-cI.chartY+cb,true)})});return cH}function cv(){var cI=ct.hoverSeries,cH=ct.hoverPoint;cH&&cH.onMouseOut();cI&&cI.onMouseOut();cp&&cp.hide();bk=null}function cF(){if(cB){var cJ={xAxis:[],yAxis:[]},cH=cB.getBBox(),cI=cH.x-bR,cK=cH.y-cb;if(cs){Q(bj,function(cN){var cM=cN.translate,cP=cN.isXAxis,cO=ad?!cP:cP,cL=cM(cO?cI:cq-cK-cH.height,true);cM=cM(cO?cI+cH.width:cq-cK,true);cJ[cP?"xAxis":"yAxis"].push({axis:cN,min:av(cL,cM),max:a9(cL,cM)})});ae(ct,"selection",cJ,V)}cB=cB.destroy()}ct.mouseIsDown=cn=cs=false;aK(aF,a8?"touchend":"mouseup",cF)}var cz,cG,cs,cB,cD=bu.zoomType,cA=/x/.test(cD),cx=/y/.test(cD),cy=cA&&!ad||cx&&ad,cw=cx&&!ad||cA&&ad;bN=function(){if(br){br.translate(bR,cb);ad&&br.attr({width:ct.plotWidth,height:ct.plotHeight}).invert()}else{ct.trackerGroup=br=ce.g("tracker").attr({zIndex:9}).add()}};bN();if(cu.enabled){ct.tooltip=cp=bG(cu)}(function(){var cI=true;bO.onmousedown=function(cJ){cJ=cC(cJ);ct.mouseIsDown=cn=true;cz=cJ.chartX;cG=cJ.chartY;ah(aF,a8?"touchend":"mouseup",cF)};var cH=function(cR){if(!(cR&&cR.touches&&cR.touches.length>1)){cR=cC(cR);if(!a8){cR.returnValue=false}var cM=cR.chartX,cL=cR.chartY,cP=!bV(cM-bR,cL-cb);if(a8&&cR.type=="touchstart"){if(f(cR.target,"isTracker")){ct.runTrackerClick||cR.preventDefault()}else{!bZ&&!cP&&cR.preventDefault()}}if(cP){cI||cv();if(cM<bR){cM=bR}else{if(cM>bR+bX){cM=bR+bX}}if(cL<cb){cL=cb}else{if(cL>cb+cq){cL=cb+cq}}}if(cn&&cR.type!="touchstart"){if(cs=Math.sqrt(Math.pow(cz-cM,2)+Math.pow(cG-cL,2))>10){if(bz&&(cA||cx)&&bV(cz-bR,cG-cb)){cB||(cB=ce.rect(bR,cb,cy?1:bX,cw?1:cq,0).attr({fill:"rgba(69,114,167,0.25)",zIndex:7}).add())}if(cB&&cy){cM=cM-cz;cB.attr({width:aH(cM),x:(cM>0?0:cM)+cz})}if(cB&&cw){cL=cL-cG;cB.attr({height:aH(cL),y:(cL>0?0:cL)+cG})}}}else{if(!cP){var cJ;cL=ct.hoverPoint;cM=ct.hoverSeries;var cQ,cN,cO=bQ,cK=ad?cR.chartY:cR.chartX-bR;if(cp&&cu.shared){cJ=[];cQ=cm.length;for(cN=0;cN<cQ;cN++){if(cm[cN].visible&&cm[cN].tooltipPoints.length){cR=cm[cN].tooltipPoints[cK];cR._dist=aH(cK-cR.plotX);cO=av(cO,cR._dist);cJ.push(cR)}}for(cQ=cJ.length;cQ--;){cJ[cQ]._dist>cO&&cJ.splice(cQ,1)}if(cJ.length&&cJ[0].plotX!=bk){cp.refresh(cJ);bk=cJ[0].plotX}}if(cM&&cM.tracker){(cR=cM.tooltipPoints[cK])&&cR!=cL&&cR.onMouseOver()}}}return(cI=cP)||!bz}};bO.onmousemove=cH;ah(bO,"mouseleave",cv);bO.ontouchstart=function(cJ){if(cA||cx){bO.onmousedown(cJ)}cH(cJ)};bO.ontouchmove=cH;bO.ontouchend=function(){cs&&cv()};bO.onclick=function(cL){var cM=ct.hoverPoint;cL=cC(cL);cL.cancelBubble=true;if(!cs){if(cM&&f(cL.target,"isTracker")){var cK=cM.plotX,cJ=cM.plotY;aR(cM,{pageX:bd.left+bR+(ad?bX-cJ:cK),pageY:bd.top+cb+(ad?cq-cK:cJ)});ae(cM.series,"click",aR(cL,{point:cM}));cM.firePointEvent("click",cL)}else{aR(cL,cE(cL));bV(cL.chartX-bR,cL.chartY-cb)&&ae(ct,"click",cL)}}cs=false}})();ch=setInterval(function(){bx&&bx()},32);aR(this,{zoomX:cA,zoomY:cx,resetTracker:cv})}function bE(ct){var cv=ct.type||bu.type||bu.defaultSeriesType,cs=aS[cv],cu=bv.hasRendered;if(cu){if(ad&&cv=="column"){cs=aS.bar}else{if(!ad&&cv=="bar"){cs=aS.column}}}cv=new cs;cv.init(bv,ct);if(!cu&&cv.inverted){ad=true}if(cv.isCartesian){bz=cv.isCartesian}cm.push(cv);return cv}function bC(){bu.alignTicks!==false&&Q(bj,function(cs){cs.adjustTickAmount()});bm=null}function bA(ct){var cv=bv.isDirtyLegend,cs,cu=bv.isDirtyBox,cw=cm.length,cx=cw,cy=bv.clipRect;for(G(ct,bv);cx--;){ct=cm[cx];if(ct.isDirty&&ct.options.stacking){cs=true;break}}if(cs){for(cx=cw;cx--;){ct=cm[cx];if(ct.options.stacking){ct.isDirty=true}}}Q(cm,function(cz){if(cz.isDirty){cz.cleanData();cz.getSegments();if(cz.options.legendType=="point"){cv=true}}});if(cv&&cd.renderLegend){cd.renderLegend();bv.isDirtyLegend=false}if(bz){if(!bh){bm=null;Q(bj,function(cz){cz.setScale()})}bC();cg();Q(bj,function(cz){if(cz.isDirty||cu){cz.redraw();cu=true}})}if(cu){bY();bN();if(cy){b(cy);cy.animate({width:bv.plotSizeX,height:bv.plotSizeY})}}Q(cm,function(cz){if(cz.isDirty&&cz.visible&&(!cz.isCartesian||cz.xAxis)){cz.redraw()}});cc&&cc.resetTracker&&cc.resetTracker();ae(bv,"redraw")}function by(){var ct=bL.xAxis||{},cu=bL.yAxis||{},cs;ct=au(ct);Q(ct,function(cv,cw){cv.index=cw;cv.isX=true});cu=au(cu);Q(cu,function(cv,cw){cv.index=cw});bj=ct.concat(cu);bv.xAxis=[];bv.yAxis=[];bj=D(bj,function(cv){cs=new bI(bv,cv);bv[cs.isXAxis?"xAxis":"yAxis"].push(cs);return cs});bC()}function bw(cs,ct){ab=v(bL.title,cs);b4=v(bL.subtitle,ct);Q([["title",cs,ab],["subtitle",ct,b4]],function(cu){var cv=cu[0],cw=bv[cv],cx=cu[1];cu=cu[2];if(cw&&cx){cw.destroy();cw=null}if(cu&&cu.text&&!cw){bv[cv]=ce.text(cu.text,0,0).attr({align:cu.align,"class":"highcharts-"+cv,zIndex:1}).css(cu.style).add().align(cu,false,bM)}})}function bt(){bB=bu.renderTo;b3=ay+X++;if(ax(bB)){bB=aF.getElementById(bB)}bB.innerHTML="";if(!bB.offsetWidth){bi=bB.cloneNode(0);r(bi,{position:a5,top:"-9999px",display:""});aF.body.appendChild(bi)}cj=(bi||bB).offsetWidth;bq=(bi||bB).offsetHeight;bv.chartWidth=bQ=bu.width||cj||600;bv.chartHeight=b7=bu.height||(bq>19?bq:400);bv.container=bO=k(q,{className:"highcharts-container"+(bu.className?" "+bu.className:""),id:b3},aR({position:af,overflow:az,width:bQ+aY,height:b7+aY,textAlign:"left"},bu.style),bi||bB);bv.renderer=ce=bu.renderer=="SVG"?new aD(bO,bQ,b7):new I(bO,bQ,b7);var cs,ct;if(/Firefox/.test(s)&&bO.getBoundingClientRect){cs=function(){r(bO,{left:0,top:0});ct=bO.getBoundingClientRect();r(bO,{left:-ct.left%1+aY,top:-ct.top%1+aY})};cs();ah(ar,"resize",cs);ah(bv,"destroy",function(){aK(ar,"resize",cs)})}}function b0(){function cs(){var cu=bu.width||bB.offsetWidth,cv=bu.height||bB.offsetHeight;if(cu&&cv){if(cu!=cj||cv!=bq){clearTimeout(ct);ct=setTimeout(function(){bn(cu,cv,false)},100)}cj=cu;bq=cv}}var ct;ah(window,"resize",cs);ah(bv,"destroy",function(){aK(window,"resize",cs)})}function bD(){var ct=bL.labels,cu=bL.credits,cs;bw();cd=bv.legend=new b9(bv);cg();Q(bj,function(cv){cv.setTickPositions(true)});bC();cg();bY();bz&&Q(bj,function(cv){cv.render()});if(!bv.seriesGroup){bv.seriesGroup=ce.g("series-group").attr({zIndex:3}).add()}Q(cm,function(cv){cv.translate();cv.setTooltipPoints();cv.render()});ct.items&&Q(ct.items,function(){var cv=aR(ct.style,this.style),cw=ac(cv.left)+bR,cx=ac(cv.top)+cb+12;delete cv.left;delete cv.top;ce.text(this.html,cw,cx).attr({zIndex:2}).css(cv).add()});if(!bv.toolbar){bv.toolbar=bH(bv)}if(cu.enabled&&!bv.credits){cs=cu.href;ce.text(cu.text,0,0).on("click",function(){if(cs){location.href=cs}}).attr({align:cu.position.align,zIndex:8}).css(cu.style).add().align(cu.position)}bN();bv.hasRendered=true;if(bi){bB.appendChild(bO);n(bi)}}function bS(){var cs=cm.length,ct=bO&&bO.parentNode;ae(bv,"destroy");aK(ar,"unload",bS);aK(bv);for(Q(bj,function(cu){aK(cu)});cs--;){cm[cs].destroy()}bO.innerHTML="";aK(bO);ct&&ct.removeChild(bO);bO=null;ce.alignedObjects=null;clearInterval(ch);for(cs in bv){delete bv[cs]}}function bW(){if(!a&&!ar.parent&&aF.readyState!="complete"){aF.attachEvent("onreadystatechange",function(){aF.detachEvent("onreadystatechange",bW);bW()})}else{bt();bc();co();Q(bL.series||[],function(cs){bE(cs)});bv.inverted=ad=O(ad,bL.chart.inverted);by();bv.render=bD;bv.tracker=cc=new bF(bv,bL.tooltip);bD();ae(bv,"load");bJ&&bJ.apply(bv,[bv]);Q(bv.callbacks,function(cs){cs.apply(bv,[bv])})}}p=v(p,w.xAxis);a0=v(a0,w.yAxis);w.xAxis=w.yAxis=null;bL=v(w,bL);var bu=bL.chart,b5=bu.margin;b5=aa(b5)?b5:[b5,b5,b5,b5];var bT=O(bu.marginTop,b5[0]),cl=O(bu.marginRight,b5[1]),L=O(bu.marginBottom,b5[2]),be=O(bu.marginLeft,b5[3]),b1=bu.spacingTop,bl=bu.spacingRight,cf=bu.spacingBottom,bP=bu.spacingLeft,bM,ab,b4,cb,b8,bo,bR,bs,bB,bi,bO,b3,cj,bq,bQ,b7,bU,b6,b2,bK,bp,bf,bv=this,bZ=(b5=bu.events)&&!!b5.click,cr,bV,cp,cn,ca,bg,ci,cq,bX,cc,br,bN,cd,y,ck,bd,bz=bu.showAxes,bh=0,bj=[],bm,cm=[],ad,ce,bx,ch,bk,bY,cg,bc,co,bn,V,t,b9=function(cQ){function cU(c0,c3){var cY=c0.legendItem,cX=c0.legendLine,c2=c0.legendSymbol,cZ=cz.color,c1=c3?cC.itemStyle.color:cZ;cZ=c3?c0.color:cZ;cY&&cY.css({fill:c1});cX&&cX.attr({stroke:cZ});c2&&c2.attr({stroke:cZ,fill:cZ})}function cH(c0,c2,cY){var cX=c0.legendItem,c1=c0.legendLine,cZ=c0.legendSymbol;c0=c0.checkbox;cX&&cX.attr({x:c2,y:cY});c1&&c1.translate(c2,cY-4);cZ&&cZ.attr({x:c2+cZ.xOff,y:cY+cZ.yOff});if(c0){c0.x=c2;c0.y=cY}}function cJ(){Q(cw,function(cX){var cY=cX.checkbox;cY&&r(cY,{left:cT.attr("translateX")+cX.legendItemWidth+cY.x-40+aY,top:cT.attr("translateY")+cY.y-11+aY})})}function cy(c0){var c3,cY,cX,c2,cZ,c1=c0.legendItem;c2=c0.series||c0;if(!c1){cZ=/^(bar|pie|area|column)$/.test(c2.type);c0.legendItem=c1=ce.text(cC.labelFormatter.call(c0),0,0).css(c0.visible?cD:cz).on("mouseover",function(){c0.setState(e);c1.css(cL)}).on("mouseout",function(){c1.css(c0.visible?cD:cz);c0.setState()}).on("click",function(){var c5=function(){c0.setVisible()};c0.firePointEvent?c0.firePointEvent("legendItemClick",null,c5):ae(c0,"legendItemClick",null,c5)}).attr({zIndex:2}).add(cT);if(!cZ&&c0.options&&c0.options.lineWidth){var c4=c0.options;c2={"stroke-width":c4.lineWidth,zIndex:2};if(c4.dashStyle){c2.dashstyle=c4.dashStyle}c0.legendLine=ce.path([P,-ct-cs,0,aL,-cs,0]).attr(c2).add(cT)}if(cZ){c3=ce.rect(cY=-ct-cs,cX=-11,ct,12,2).attr({"stroke-width":0,zIndex:3}).add(cT)}else{if(c0.options&&c0.options.marker&&c0.options.marker.enabled){c3=ce.symbol(c0.symbol,cY=-ct/2-cs,cX=-4,c0.options.marker.radius).attr(c0.pointAttr[T]).attr({zIndex:3}).add(cT)}}if(c3){c3.xOff=cY;c3.yOff=cX}c0.legendSymbol=c3;cU(c0,c0.visible);if(c0.options&&c0.options.showCheckbox){c0.checkbox=k("input",{type:"checkbox",checked:c0.selected,defaultChecked:c0.selected},cC.itemCheckboxStyle,bO);ah(c0.checkbox,"click",function(c5){ae(c0,"checkboxClick",{checked:c5.target.checked},function(){c0.select()})})}}c3=c1.getBBox();cY=c0.legendItemWidth=cC.itemWidth||ct+cs+c3.width+cP;cM=c3.height;if(cV&&cx-cB+cY>(cS||bQ-2*cK-cB)){cx=cB;cG+=cM}cO=cG;cH(c0,cx,cG);if(cV){cx+=cY}else{cG+=cM}cR=cS||a9(cV?cx-cB:cY,cR);cw.push(c0)}function cW(){cx=cB;cG=cN;cO=cR=0;cw=[];cT||(cT=ce.g("legend").attr({zIndex:7}).add());cv&&cE.reverse();Q(cE,function(c0){if(c0.options.showInLegend){Q(c0.options.legendType=="point"?c0.data:[c0],cy)}});cv&&cE.reverse();y=cS||cR;ck=cO-cN+cM;if(cu||cF){y+=2*cK;ck+=2*cK;if(cA){y>0&&ck>0&&cA.animate({width:y,height:ck})}else{cA=ce.rect(0,0,y,ck,cC.borderRadius,cu||0).attr({stroke:cC.borderColor,"stroke-width":cu||0,fill:cF||aP}).add(cT).shadow(cC.shadow)}cA[cw.length?"show":"hide"]()}for(var cY=["left","right","top","bottom"],cZ,cX=4;cX--;){cZ=cY[cX];if(cI[cZ]&&cI[cZ]!="auto"){cC[cX<2?"align":"verticalAlign"]=cZ;cC[cX<2?"x":"y"]=ac(cI[cZ])*(cX%2?-1:1)}}cT.align(aR(cC,{width:y,height:ck}),true,bM);bh||cJ()}var cC=cQ.options.legend;if(cC.enabled){var cV=cC.layout=="horizontal",ct=cC.symbolWidth,cs=cC.symbolPadding,cw,cI=cC.style,cD=cC.itemStyle,cL=cC.itemHoverStyle,cz=cC.itemHiddenStyle,cK=ac(cI.padding),cP=20,cN=18,cB=4+cK+ct+cs,cx,cG,cO,cM=0,cA,cu=cC.borderWidth,cF=cC.backgroundColor,cT,cR,cS=cC.width,cE=cQ.series,cv=cC.reversed;cW();ah(cQ,"endResize",cJ);return{colorizeItem:cU,destroyItem:function(cX){var cY=cX.checkbox;Q(["legendItem","legendLine","legendSymbol"],function(cZ){cX[cZ]&&cX[cZ].destroy()});cY&&n(cX.checkbox)},renderLegend:cW}}};bV=function(cs,ct){return cs>=0&&cs<=bX&&ct>=0&&ct<=cq};t=function(){ae(bv,"selection",{resetSelection:true},V);bv.toolbar.remove("zoom")};V=function(ct){var cu=w.lang,cs=bv.pointCount<100;bv.toolbar.add("zoom",cu.resetZoom,cu.resetZoomTitle,t);!ct||ct.resetSelection?Q(bj,function(cv){cv.setExtremes(null,null,false,cs)}):Q(ct.xAxis.concat(ct.yAxis),function(cv){var cw=cv.axis;if(bv.tracker[cw.isXAxis?"zoomX":"zoomY"]){cw.setExtremes(cv.min,cv.max,false,cs)}});bA()};cg=function(){var ct=bL.legend,cv=O(ct.margin,10),cs=ct.x,cu=ct.y,cw=ct.align,cx=ct.verticalAlign,cy;bc();if((bv.title||bv.subtitle)&&!ao(bT)){if(cy=a9(bv.title&&!ab.floating&&!ab.verticalAlign&&ab.y||0,bv.subtitle&&!b4.floating&&!b4.verticalAlign&&b4.y||0)){cb=a9(cb,cy+O(ab.margin,15)+b1)}}if(ct.enabled&&!ct.floating){if(cw=="right"){ao(cl)||(b8=a9(b8,y-cs+cv+bl))}else{if(cw=="left"){ao(be)||(bR=a9(bR,y+cs+cv+bP))}else{if(cx=="top"){ao(bT)||(cb=a9(cb,ck+cu+cv+b1))}else{if(cx=="bottom"){ao(L)||(bo=a9(bo,ck-cu+cv+cf))}}}}}bz&&Q(bj,function(cz){cz.getOffset()});ao(be)||(bR+=bs[3]);ao(bT)||(cb+=bs[0]);ao(L)||(bo+=bs[2]);ao(cl)||(b8+=bs[1]);co()};bn=function(ct,cv,cs){var cu=bv.title,cw=bv.subtitle;bh+=1;G(cs,bv);b6=b7;bU=bQ;bQ=ak(ct);b7=ak(cv);r(bO,{width:bQ+aY,height:b7+aY});ce.setSize(bQ,b7,cs);bX=bQ-bR-b8;cq=b7-cb-bo;bm=null;Q(bj,function(cx){cx.isDirty=true;cx.setScale()});Q(cm,function(cx){cx.isDirty=true});bv.isDirtyLegend=true;bv.isDirtyBox=true;cg();cu&&cu.align(null,null,bM);cw&&cw.align(null,null,bM);bA(cs);b6=null;ae(bv,"resize");setTimeout(function(){ae(bv,"endResize",null,function(){bh-=1})},aJ&&aJ.duration||500)};co=function(){bv.plotLeft=bR=ak(bR);bv.plotTop=cb=ak(cb);bv.plotWidth=bX=ak(bQ-bR-b8);bv.plotHeight=cq=ak(b7-cb-bo);bv.plotSizeX=ad?cq:bX;bv.plotSizeY=ad?bX:cq;bM={x:bP,y:b1,width:bQ-bP-bl,height:b7-b1-cf}};bc=function(){cb=O(bT,b1);b8=O(cl,bl);bo=O(L,cf);bR=O(be,bP);bs=[0,0,0,0]};bY=function(){var ct=bu.borderWidth||0,cv=bu.backgroundColor,cs=bu.plotBackgroundColor,cu=bu.plotBackgroundImage,cw,cx={x:bR,y:cb,width:bX,height:cq};cw=ct+(bu.shadow?8:0);if(ct||cv){if(b2){b2.animate({width:bQ-cw,height:b7-cw})}else{b2=ce.rect(cw/2,cw/2,bQ-cw,b7-cw,bu.borderRadius,ct).attr({stroke:bu.borderColor,"stroke-width":ct,fill:cv||aP}).add().shadow(bu.shadow)}}if(cs){if(bK){bK.animate(cx)}else{bK=ce.rect(bR,cb,bX,cq,0).attr({fill:cs}).add().shadow(bu.plotShadow)}}if(cu){if(bp){bp.animate(cx)}else{bp=ce.image(cu,bR,cb,bX,cq).add()}}if(bu.plotBorderWidth){if(bf){bf.animate(cx)}else{bf=ce.rect(bR,cb,bX,cq,0,bu.plotBorderWidth).attr({stroke:bu.plotBorderColor,"stroke-width":bu.plotBorderWidth,zIndex:4}).add()}}bv.isDirtyBox=false};N=aQ=0;ah(ar,"unload",bS);bu.reflow!==false&&ah(bv,"load",b0);if(b5){for(cr in b5){ah(bv,cr,b5[cr])}}bv.options=bL;bv.series=cm;bv.addSeries=function(ct,cv,cs){var cu;if(ct){G(cs,bv);cv=O(cv,true);ae(bv,"addSeries",{options:ct},function(){cu=bE(ct);cu.isDirty=true;bv.isDirtyLegend=true;cv&&bv.redraw()})}return cu};bv.animation=O(bu.animation,true);bv.destroy=bS;bv.get=function(ct){var cv,cs,cu;for(cv=0;cv<bj.length;cv++){if(bj[cv].options.id==ct){return bj[cv]}}for(cv=0;cv<cm.length;cv++){if(cm[cv].options.id==ct){return cm[cv]}}for(cv=0;cv<cm.length;cv++){cu=cm[cv].data;for(cs=0;cs<cu.length;cs++){if(cu[cs].id==ct){return cu[cs]}}}return null};bv.getSelectedPoints=function(){var cs=[];Q(cm,function(ct){cs=cs.concat(aA(ct.data,function(cu){return cu.selected}))});return cs};bv.getSelectedSeries=function(){return aA(cm,function(cs){return cs.selected})};bv.hideLoading=function(){z(ca,{opacity:0},{duration:bL.loading.hideDuration,complete:function(){r(ca,{display:aP})}});ci=false};bv.isInsidePlot=bV;bv.redraw=bA;bv.setSize=bn;bv.setTitle=bw;bv.showLoading=function(cs){var ct=bL.loading;if(!ca){ca=k(q,{className:"highcharts-loading"},aR(ct.style,{left:bR+aY,top:cb+aY,width:bX+aY,height:cq+aY,zIndex:10,display:aP}),bO);bg=k("span",null,ct.labelStyle,ca)}bg.innerHTML=cs||bL.lang.loading;if(!ci){r(ca,{opacity:0,display:""});z(ca,{opacity:ct.style.opacity},{duration:ct.showDuration});ci=true}};bv.pointCount=0;bW()}var aF=document,ar=window,aW=Math,ak=aW.round,bb=aW.floor,B=aW.ceil,a9=aW.max,av=aW.min,aH=aW.abs,ag=aW.cos,aV=aW.sin,aE=aW.PI,aT=aE*2/360,s=navigator.userAgent,a2=/msie/i.test(s)&&!ar.opera,aU=aF.documentMode==8,al=/AppleWebKit/.test(s),a=ar.SVGAngle||aF.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1"),a8="ontouchstart" in aF.documentElement,aQ,N,R={},X=0,Z=1,a7,w,ba,aJ,h,K,q="div",a5="absolute",af="relative",az="hidden",ay="highcharts-",a3="visible",aY="px",aP="none",P="M",aL="L",aC="rgba(192,192,192,"+(a?0.000001:0.002)+")",T="",e="hover",aq,aw,aG,am,Y,W,F,ap,U,S,E,l,C=ar.HighchartsAdapter,at=C||{},Q=at.each,aA=at.grep,D=at.map,v=at.merge,a1=at.hyphenate,ah=at.addEvent,aK=at.removeEvent,ae=at.fireEvent,z=at.animate,b=at.stop,aS={};C&&C.init&&C.init();if(!C&&ar.jQuery){var m=jQuery;Q=function(y,t){for(var V=0,L=y.length;V<L;V++){if(t.call(y[V],y[V],V,y)===false){return V}}};aA=m.grep;D=function(y,t){for(var ab=[],V=0,L=y.length;V<L;V++){ab[V]=t.call(y[V],y[V],V,y)}return ab};v=function(){var t=arguments;return m.extend(true,null,t[0],t[1],t[2],t[3])};a1=function(t){return t.replace(/([A-Z])/g,function(y,L){return"-"+L.toLowerCase()})};ah=function(y,t,L){m(y).bind(t,L)};aK=function(y,t,V){var L=aF.removeEventListener?"removeEventListener":"detachEvent";if(aF[L]&&!y[L]){y[L]=function(){}}m(y).unbind(t,V)};ae=function(y,t,ad,ab){var V=m.Event(t),L="detached"+t;aR(V,ad);if(y[t]){y[L]=y[t];y[t]=null}m(y).trigger(V);if(y[L]){y[t]=y[L];y[L]=null}ab&&!V.isDefaultPrevented()&&ab(V)};z=function(y,t,V){var L=m(y);if(t.d){y.toD=t.d;t.d=1}L.stop();L.animate(t,V)};b=function(t){m(t).stop()};m.extend(m.easing,{easeOutQuad:function(y,t,ab,V,L){return -V*(t/=L)*(t-2)+ab}});var A=jQuery.fx.step._default,j=jQuery.fx.prototype.cur;m.fx.step._default=function(y){var t=y.elem;t.attr?t.attr(y.prop,y.now):A.apply(this,arguments)};m.fx.step.d=function(y){var t=y.elem;if(!y.started){var L=h.init(t,t.d,t.toD);y.start=L[0];y.end=L[1];y.started=true}t.attr("d",h.step(y.start,y.end,y.pos,t.toD))};m.fx.prototype.cur=function(){var t=this.elem;return t.attr?t.attr(this.prop):j.apply(this,arguments)}}h={init:function(bf,be,bd){be=be||"";var bc=bf.shift,ad=be.indexOf("C")>-1,ab=ad?7:3,V;be=be.split(" ");bd=[].concat(bd);var L,y,t=function(bg){for(V=bg.length;V--;){bg[V]==P&&bg.splice(V+1,0,bg[V+1],bg[V+2],bg[V+1],bg[V+2])}};if(ad){t(be);t(bd)}if(bf.isArea){L=be.splice(be.length-6,6);y=bd.splice(bd.length-6,6)}if(bc){bd=[].concat(bd).splice(0,ab).concat(bd);bf.shift=false}if(be.length){for(bf=bd.length;be.length<bf;){bc=[].concat(be).splice(be.length-ab,ab);if(ad){bc[ab-6]=bc[ab-2];bc[ab-5]=bc[ab-1]}be=be.concat(bc)}}if(L){be=be.concat(L);bd=bd.concat(y)}return[be,bd]},step:function(y,t,ad,ab){var V=[],L=y.length;if(ad==1){V=ab}else{if(L==t.length&&ad<1){for(;L--;){ab=parseFloat(y[L]);V[L]=isNaN(ab)?y[L]:ad*parseFloat(t[L]-ab)+ab}}else{V=t}}return V}};C={enabled:true,align:"center",x:0,y:15,style:{color:"#666",fontSize:"11px",lineHeight:"14px"}};w={colors:["#4572A7","#AA4643","#89A54E","#80699B","#3D96AE","#DB843D","#92A8CD","#A47D7C","#B5CA92"],symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:["January","February","March","April","May","June","July","August","September","October","November","December"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],decimalPoint:".",resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:","},global:{useUTC:true},chart:{borderColor:"#4572A7",borderRadius:5,defaultSeriesType:"line",ignoreHiddenSeries:true,spacingTop:10,spacingRight:10,spacingBottom:15,spacingLeft:10,style:{fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Verdana, Arial, Helvetica, sans-serif',fontSize:"12px"},backgroundColor:"#FFFFFF",plotBorderColor:"#C0C0C0"},title:{text:"Chart title",align:"center",y:15,style:{color:"#3E576F",fontSize:"16px"}},subtitle:{text:"",align:"center",y:30,style:{color:"#6D869F"}},plotOptions:{line:{allowPointSelect:false,showCheckbox:false,animation:{duration:1000},events:{},lineWidth:2,shadow:true,marker:{enabled:true,lineWidth:0,radius:4,lineColor:"#FFFFFF",states:{hover:{},select:{fillColor:"#FFFFFF",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:v(C,{enabled:false,y:-6,formatter:function(){return this.y}}),showInLegend:true,states:{hover:{marker:{}},select:{marker:{}}},stickyTracking:true}},labels:{style:{position:a5,color:"#3E576F"}},legend:{enabled:true,align:"center",layout:"horizontal",labelFormatter:function(){return this.name},borderWidth:1,borderColor:"#909090",borderRadius:5,shadow:false,style:{padding:"5px"},itemStyle:{cursor:"pointer",color:"#3E576F"},itemHoverStyle:{cursor:"pointer",color:"#000000"},itemHiddenStyle:{color:"#C0C0C0"},itemCheckboxStyle:{position:a5,width:"13px",height:"13px"},symbolWidth:16,symbolPadding:5,verticalAlign:"bottom",x:0,y:0},loading:{hideDuration:100,labelStyle:{fontWeight:"bold",position:af,top:"1em"},showDuration:100,style:{position:a5,backgroundColor:"white",opacity:0.5,textAlign:"center"}},tooltip:{enabled:true,backgroundColor:"rgba(255, 255, 255, .85)",borderWidth:2,borderRadius:5,shadow:true,snap:a8?25:10,style:{color:"#333333",fontSize:"12px",padding:"5px",whiteSpace:"nowrap"}},toolbar:{itemStyle:{color:"#4572A7",cursor:"pointer"}},credits:{enabled:true,text:"Highcharts.com",href:"http://www.highcharts.com",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#909090",fontSize:"10px"}}};var p={dateTimeLabelFormats:{second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%e. %b",week:"%e. %b",month:"%b '%y",year:"%Y"},endOnTick:false,gridLineColor:"#C0C0C0",labels:C,lineColor:"#C0D0E0",lineWidth:1,max:null,min:null,minPadding:0.01,maxPadding:0.01,minorGridLineColor:"#E0E0E0",minorGridLineWidth:1,minorTickColor:"#A0A0A0",minorTickLength:2,minorTickPosition:"outside",startOfWeek:1,startOnTick:false,tickColor:"#C0D0E0",tickLength:5,tickmarkPlacement:"between",tickPixelInterval:100,tickPosition:"outside",tickWidth:1,title:{align:"middle",style:{color:"#6D869F",fontWeight:"bold"}},type:"linear"},a0=v(p,{endOnTick:true,gridLineWidth:1,tickPixelInterval:72,showLastLabel:true,labels:{align:"right",x:-8,y:3},lineWidth:0,maxPadding:0.05,minPadding:0.05,startOnTick:true,tickWidth:0,title:{rotation:270,text:"Y-values"}}),g={labels:{align:"right",x:-8,y:null},title:{rotation:270}},x={labels:{align:"left",x:8,y:null},title:{rotation:90}},o={labels:{align:"center",x:0,y:14},title:{rotation:0}},M=v(o,{labels:{y:-5}}),J=w.plotOptions;C=J.line;J.spline=v(C);J.scatter=v(C,{lineWidth:0,states:{hover:{lineWidth:0}}});J.area=v(C,{});J.areaspline=v(J.area);J.column=v(C,{borderColor:"#FFFFFF",borderWidth:1,borderRadius:0,groupPadding:0.2,marker:null,pointPadding:0.1,minPointLength:0,states:{hover:{brightness:0.1,shadow:false},select:{color:"#C0C0C0",borderColor:"#000000",shadow:false}}});J.bar=v(J.column,{dataLabels:{align:"left",x:5,y:0}});J.pie=v(C,{borderColor:"#FFFFFF",borderWidth:1,center:["50%","50%"],colorByPoint:true,dataLabels:{distance:30,enabled:true,formatter:function(){return this.point.name},y:5},legendType:"point",marker:null,size:"75%",showInLegend:false,slicedOffset:10,states:{hover:{brightness:0.1,shadow:false}}});aI();var aj=function(y){var t=[],L;(function(V){if(L=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/.exec(V)){t=[ac(L[1]),ac(L[2]),ac(L[3]),parseFloat(L[4],10)]}else{if(L=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(V)){t=[ac(L[1],16),ac(L[2],16),ac(L[3],16),1]}}})(y);return{get:function(V){return t&&!isNaN(t[0])?V=="rgb"?"rgb("+t[0]+","+t[1]+","+t[2]+")":V=="a"?t[3]:"rgba("+t.join(",")+")":y},brighten:function(ab){if(an(ab)&&ab!==0){var V;for(V=0;V<3;V++){t[V]+=ac(ab*255);if(t[V]<0){t[V]=0}if(t[V]>255){t[V]=255}}}return this},setOpacity:function(V){t[3]=V;return this}}};ba=function(bh,bg,bf){function bd(bi){return bi.toString().replace(/^([0-9])$/,"0$1")}if(!ao(bg)||isNaN(bg)){return"Invalid date"}bh=O(bh,"%Y-%m-%d %H:%M:%S");bg=new Date(bg*Z);var bc=bg[aG](),ad=bg[am](),ab=bg[Y](),V=bg[W](),L=bg[F](),y=w.lang,t=y.weekdays;y=y.months;bg={a:t[ad].substr(0,3),A:t[ad],d:bd(ab),e:ab,b:y[V].substr(0,3),B:y[V],m:bd(V+1),y:L.toString().substr(2,2),Y:L,H:bd(bc),I:bd(bc%12||12),l:bc%12||12,M:bd(bg[aw]()),p:bc<12?"AM":"PM",P:bc<12?"am":"pm",S:bd(bg.getSeconds())};for(var be in bg){bh=bh.replace("%"+be,bg[be])}return bf?bh.substr(0,1).toUpperCase()+bh.substr(1):bh};aO.prototype={init:function(y,t){this.element=aF.createElementNS("http://www.w3.org/2000/svg",t);this.renderer=y},animate:function(y,t,L){if(t=O(t,aJ,true)){t=v(t);if(L){t.complete=L}z(this,y,t)}else{this.attr(y);L&&L()}},attr:function(bh,bg){var bf,bd,bc,ad,ab=this.element,V=ab.nodeName,L=this.renderer,y,t=this.shadows,be,bi=this;if(ax(bh)&&ao(bg)){bf=bh;bh={};bh[bf]=bg}if(ax(bh)){bf=bh;if(V=="circle"){bf={x:"cx",y:"cy"}[bf]||bf}else{if(bf=="strokeWidth"){bf="stroke-width"}}bi=f(ab,bf)||this[bf]||0;if(bf!="d"&&bf!="visibility"){bi=parseFloat(bi)}}else{for(bf in bh){y=false;bd=bh[bf];if(bf=="d"){if(bd&&bd.join){bd=bd.join(" ")}if(/(NaN| {2}|^$)/.test(bd)){bd="M 0 0"}this.d=bd}else{if(bf=="x"&&V=="text"){for(bc=0;bc<ab.childNodes.length;bc++){ad=ab.childNodes[bc];f(ad,"x")==f(ab,"x")&&f(ad,"x",bd)}if(this.rotation){f(ab,"transform","rotate("+this.rotation+" "+bd+" "+ac(bh.y||f(ab,"y"))+")")}}else{if(bf=="fill"){bd=L.color(bd,ab,bf)}else{if(V=="circle"&&(bf=="x"||bf=="y")){bf={x:"cx",y:"cy"}[bf]||bf}else{if(bf=="translateX"||bf=="translateY"||bf=="rotation"||bf=="verticalAlign"){this[bf]=bd;this.updateTransform();y=true}else{if(bf=="stroke"){bd=L.color(bd,ab,bf)}else{if(bf=="dashstyle"){bf="stroke-dasharray";if(bd){bd=bd.toLowerCase().replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(",");for(bc=bd.length;bc--;){bd[bc]=ac(bd[bc])*bh["stroke-width"]}bd=bd.join(",")}}else{if(bf=="isTracker"){this[bf]=bd}else{if(bf=="width"){bd=ac(bd)}else{if(bf=="align"){bf="text-anchor";bd={left:"start",center:"middle",right:"end"}[bd]}}}}}}}}}}if(bf=="strokeWidth"){bf="stroke-width"}if(al&&bf=="stroke-width"&&bd===0){bd=0.000001}if(this.symbolName&&/^(x|y|r|start|end|innerR)/.test(bf)){if(!be){this.symbolAttr(bh);be=true}y=true}if(t&&/^(width|height|visibility|x|y|d)$/.test(bf)){for(bc=t.length;bc--;){f(t[bc],bf,bd)}}if(bf=="text"){this.textStr=bd;L.buildText(this)}else{y||f(ab,bf,bd)}}}return bi},symbolAttr:function(t){this.x=O(t.x,this.x);this.y=O(t.y,this.y);this.r=O(t.r,this.r);this.start=O(t.start,this.start);this.end=O(t.end,this.end);this.width=O(t.width,this.width);this.height=O(t.height,this.height);this.innerR=O(t.innerR,this.innerR);this.attr({d:this.renderer.symbols[this.symbolName](this.x,this.y,this.r,{start:this.start,end:this.end,width:this.width,height:this.height,innerR:this.innerR})})},clip:function(t){return this.attr("clip-path","url("+this.renderer.url+"#"+t.id+")")},css:function(y){var t=this.element;if(y&&y.color){y.fill=y.color}y=aR(this.styles,y);a2&&!a?r(this.element,y):this.attr({style:ai(y)});this.styles=y;y.width&&t.nodeName=="text"&&this.added&&this.renderer.buildText(this);return this},on:function(y,t){var L=t;if(a8&&y=="click"){y="touchstart";L=function(V){V.preventDefault();t()}}this.element["on"+y]=L;return this},translate:function(y,t){return this.attr({translateX:y,translateY:t})},invert:function(){this.inverted=true;this.updateTransform();return this},updateTransform:function(){var y=this.translateX||0,t=this.translateY||0,ab=this.inverted,V=this.rotation,L=[];if(ab){y+=this.attr("width");t+=this.attr("height")}if(y||t){L.push("translate("+y+","+t+")")}if(ab){L.push("rotate(90) scale(-1,1)")}else{V&&L.push("rotate("+V+" "+this.x+" "+this.y+")")}L.length&&f(this.element,"transform",L.join(" "))},toFront:function(){var t=this.element;t.parentNode.appendChild(t);return this},align:function(y,t,bd){if(y){this.alignOptions=y;this.alignByTranslate=t;bd||this.renderer.alignedObjects.push(this)}else{y=this.alignOptions;t=this.alignByTranslate}bd=O(bd,this.renderer);var bc=y.align,ad=y.verticalAlign,ab=(bd.x||0)+(y.x||0),V=(bd.y||0)+(y.y||0),L={};if(/^(right|center)$/.test(bc)){ab+=(bd.width-(y.width||0))/{right:1,center:2}[bc]}L[t?"translateX":"x"]=ab;if(/^(bottom|middle)$/.test(ad)){V+=(bd.height-(y.height||0))/({bottom:1,middle:2}[ad]||1)}L[t?"translateY":"y"]=V;this[this.placed?"animate":"attr"](L);this.placed=true;return this},getBBox:function(){var y,t,ad,ab=this.rotation,V=ab*aT;try{y=aR({},this.element.getBBox())}catch(L){y={width:0,height:0}}t=y.width;ad=y.height;if(ab){y.width=aH(ad*aV(V))+aH(t*ag(V));y.height=aH(ad*ag(V))+aH(t*aV(V))}return y},show:function(){return this.attr({visibility:a3})},hide:function(){return this.attr({visibility:az})},add:function(be){var bd=this.renderer,bc=be||bd,ad=bc.element||bd.box,ab=ad.childNodes,V=this.element,L=f(V,"zIndex"),y=this.textStr,t;this.parentInverted=be&&be.inverted;if(L){bc.handleZ=true;L=ac(L)}if(bc.handleZ){for(t=0;t<ab.length;t++){be=ab[t];bc=f(be,"zIndex");if(be!=V&&(ac(bc)>L||!ao(L)&&ao(bc))){ad.insertBefore(V,be);return this}}}if(y!==undefined){bd.buildText(this);this.added=true}ad.appendChild(V);return this},destroy:function(){var y=this.element||{},t=this.shadows,V=y.parentNode,L;y.onclick=y.onmouseout=y.onmouseover=y.onmousemove=null;b(this);V&&V.removeChild(y);t&&Q(t,function(ab){(V=ab.parentNode)&&V.removeChild(ab)});aN(this.renderer.alignedObjects,this);for(L in this){delete this[L]}return null},empty:function(){for(var y=this.element,t=y.childNodes,L=t.length;L--;){y.removeChild(t[L])}},shadow:function(y){var t=[],ab,V=this.element,L=this.parentInverted?"(-1,-1)":"(1,1)";if(y){for(y=1;y<=3;y++){ab=V.cloneNode(0);f(ab,{isShadow:"true",stroke:"rgb(0, 0, 0)","stroke-opacity":0.05*y,"stroke-width":7-2*y,transform:"translate"+L,fill:aP});V.parentNode.insertBefore(ab,V);t.push(ab)}this.shadows=t}return this}};var aD=function(){this.init.apply(this,arguments)};aD.prototype={init:function(y,t,ab){var V=location,L;this.Element=aO;L=this.createElement("svg").attr({xmlns:"http://www.w3.org/2000/svg",version:"1.1"});y.appendChild(L.element);this.box=L.element;this.boxWrapper=L;this.alignedObjects=[];this.url=a2?"":V.href.replace(/#.*?$/,"");this.defs=this.createElement("defs").add();this.setSize(t,ab,false)},createElement:function(y){var t=new this.Element;t.init(this,y);return t},buildText:function(bf){var be=bf.element,bd=O(bf.textStr,"").toString().replace(/<(b|strong)>/g,'<span style="font-weight:bold">').replace(/<(i|em)>/g,'<span style="font-style:italic">').replace(/<a/g,"<span").replace(/<\/(b|strong|i|em|a)>/g,"</span>").split(/<br[^>]?>/g),bc=be.childNodes,ad=/style="([^"]+)"/,ab=/href="([^"]+)"/,V=f(be,"x"),L=(bf=bf.styles)&&ac(bf.width),y=bf&&bf.lineHeight,t;for(bf=bc.length;bf--;){be.removeChild(bc[bf])}L&&this.box.appendChild(be);Q(bd,function(bk,bj){var bi,bg=0,bh;bk=bk.replace(/<span/g,"|||<span").replace(/<\/span>/g,"</span>|||");bi=bk.split("|||");Q(bi,function(bn){if(bn!==""||bi.length==1){var bo={},bl=aF.createElementNS("http://www.w3.org/2000/svg","tspan");ad.test(bn)&&f(bl,"style",bn.match(ad)[1].replace(/(;| |^)color([ :])/,"$1fill$2"));if(ab.test(bn)){f(bl,"onclick",'location.href="'+bn.match(ab)[1]+'"');r(bl,{cursor:"pointer"})}bn=bn.replace(/<(.|\n)*?>/g,"")||" ";bl.appendChild(aF.createTextNode(bn));if(bg){bo.dx=3}else{bo.x=V}if(!bg){if(bj){bh=ac(window.getComputedStyle(t,null).getPropertyValue("line-height"));if(isNaN(bh)){bh=y||t.offsetHeight||18}f(bl,"dy",bh)}t=bl}f(bl,bo);be.appendChild(bl);bg++;if(L){bn=bn.replace(/-/g,"- ").split(" ");for(var bp,bm=[];bn.length||bm.length;){bp=be.getBBox().width;bo=bp>L;if(!bo||bn.length==1){bn=bm;bm=[];bl=aF.createElementNS("http://www.w3.org/2000/svg","tspan");f(bl,{x:V,dy:y||16});be.appendChild(bl);if(bp>L){L=bp}}else{bl.removeChild(bl.firstChild);bm.unshift(bn.pop())}bl.appendChild(aF.createTextNode(bn.join(" ").replace(/- /g,"-")))}}}})})},crispLine:function(y,t){if(y[1]==y[4]){y[1]=y[4]=ak(y[1])+t%2/2}if(y[2]==y[5]){y[2]=y[5]=ak(y[2])+t%2/2}return y},path:function(t){return this.createElement("path").attr({d:t,fill:aP})},circle:function(y,t,L){y=aa(y)?y:{x:y,y:t,r:L};return this.createElement("circle").attr(y)},arc:function(y,t,ad,ab,V,L){if(aa(y)){t=y.y;ad=y.r;ab=y.innerR;V=y.start;L=y.end;y=y.x}return this.symbol("arc",y||0,t||0,ad||0,{innerR:ab||0,start:V||0,end:L||0})},rect:function(y,t,bc,ad,ab,V){if(arguments.length>1){var L=(V||0)%2/2;y=ak(y||0)+L;t=ak(t||0)+L;bc=ak((bc||0)-2*L);ad=ak((ad||0)-2*L)}L=aa(y)?y:{x:y,y:t,width:a9(bc,0),height:a9(ad,0)};return this.createElement("rect").attr(aR(L,{rx:ab||L.r,ry:ab||L.r,fill:aP}))},setSize:function(y,t,ab){var V=this.alignedObjects,L=V.length;this.width=y;this.height=t;for(this.boxWrapper[O(ab,true)?"animate":"attr"]({width:y,height:t});L--;){V[L].align()}},g:function(t){return this.createElement("g").attr(ao(t)&&{"class":ay+t})},image:function(y,t,ad,ab,V){var L={preserveAspectRatio:aP};arguments.length>1&&aR(L,{x:t,y:ad,width:ab,height:V});L=this.createElement("image").attr(L);L.element.setAttributeNS("http://www.w3.org/1999/xlink","href",y);return L},symbol:function(y,t,bd,bc,ad){var ab,V=this.symbols[y];V=V&&V(t,bd,bc,ad);var L=/^url\((.*?)\)$/;if(V){ab=this.path(V);aR(ab,{symbolName:y,x:t,y:bd,r:bc});ad&&aR(ab,ad)}else{if(L.test(y)){y=y.match(L)[1];ab=this.image(y).attr({x:t,y:bd});k("img",{onload:function(){var be=R[this.src]||[this.width,this.height];ab.attr({width:be[0],height:be[1]}).translate(-ak(be[0]/2),-ak(be[1]/2))},src:y})}else{ab=this.circle(t,bd,bc)}}return ab},symbols:{square:function(y,t,L){L=0.707*L;return[P,y-L,t-L,aL,y+L,t-L,y+L,t+L,y-L,t+L,"Z"]},triangle:function(y,t,L){return[P,y,t-1.33*L,aL,y+L,t+0.67*L,y-L,t+0.67*L,"Z"]},"triangle-down":function(y,t,L){return[P,y,t+1.33*L,aL,y-L,t-0.67*L,y+L,t-0.67*L,"Z"]},diamond:function(y,t,L){return[P,y,t-L,aL,y+L,t,y,t+L,y-L,t,"Z"]},arc:function(bf,be,bd,bc){var ad=bc.start,ab=bc.end-0.000001,V=bc.innerR,L=ag(ad),y=aV(ad),t=ag(ab);ab=aV(ab);bc=bc.end-ad<aE?0:1;return[P,bf+bd*L,be+bd*y,"A",bd,bd,0,bc,1,bf+bd*t,be+bd*ab,aL,bf+V*t,be+V*ab,"A",V,V,0,bc,0,bf+V*L,be+V*y,"Z"]}},clipRect:function(y,t,ad,ab){var V=ay+X++,L=this.createElement("clipPath").attr({id:V}).add(this.defs);y=this.rect(y,t,ad,ab,0).add(L);y.id=V;return y},color:function(be,bd,bc){var ad,ab=/^rgba/;if(be&&be.linearGradient){var V=this;bd=be.linearGradient;bc=ay+X++;var L,y,t;L=V.createElement("linearGradient").attr({id:bc,gradientUnits:"userSpaceOnUse",x1:bd[0],y1:bd[1],x2:bd[2],y2:bd[3]}).add(V.defs);Q(be.stops,function(bf){if(ab.test(bf[1])){ad=aj(bf[1]);y=ad.get("rgb");t=ad.get("a")}else{y=bf[1];t=1}V.createElement("stop").attr({offset:bf[0],"stop-color":y,"stop-opacity":t}).add(L)});return"url("+this.url+"#"+bc+")"}else{if(ab.test(be)){ad=aj(be);f(bd,bc+"-opacity",ad.get("a"));return ad.get("rgb")}else{return be}}},text:function(y,t,V){var L=w.chart.style;t=ak(O(t,0));V=ak(O(V,0));y=this.createElement("text").attr({x:t,y:V,text:y}).css({"font-family":L.fontFamily,"font-size":L.fontSize});y.x=t;y.y=V;return y}};var H;if(!a){var aZ=u(aO,{init:function(y,t){var V=["<",t,' filled="f" stroked="f"'],L=["position: ",a5,";"];if(t=="shape"||t==q){L.push("left:0;top:0;width:10px;height:10px;")}if(aU){L.push("visibility: ",t==q?az:a3)}V.push(' style="',L.join(""),'"/>');if(t){V=t==q||t=="span"||t=="img"?V.join(""):y.prepVML(V);this.element=k(V)}this.renderer=y},add:function(y){var t=this.renderer,V=this.element,L=t.box;L=y?y.element||y:L;y&&y.inverted&&t.invertChild(V,L);aU&&L.gVis==az&&r(V,{visibility:az});L.appendChild(V);this.added=true;this.alignOnAdd&&this.updateTransform();return this},attr:function(bi,bh){var bg,be,bd,bc=this.element||{},ad=bc.style,ab=bc.nodeName,V=this.renderer,L=this.symbolName,t,bf,bj=this.shadows,y=this;if(ax(bi)&&ao(bh)){bg=bi;bi={};bi[bg]=bh}if(ax(bi)){bg=bi;y=bg=="strokeWidth"||bg=="stroke-width"?this.strokeweight:this[bg]}else{for(bg in bi){be=bi[bg];t=false;if(L&&/^(x|y|r|start|end|width|height|innerR)/.test(bg)){if(!bf){this.symbolAttr(bi);bf=true}t=true}else{if(bg=="d"){be=be||[];this.d=be.join(" ");bd=be.length;for(t=[];bd--;){t[bd]=an(be[bd])?ak(be[bd]*10)-5:be[bd]=="Z"?"x":be[bd]}be=t.join(" ")||"x";bc.path=be;if(bj){for(bd=bj.length;bd--;){bj[bd].path=be}}t=true}else{if(bg=="zIndex"||bg=="visibility"){if(aU&&bg=="visibility"&&ab=="DIV"){bc.gVis=be;t=bc.childNodes;for(bd=t.length;bd--;){r(t[bd],{visibility:be})}if(be==a3){be=null}}if(be){ad[bg]=be}t=true}else{if(/^(width|height)$/.test(bg)){if(this.updateClipping){this[bg]=be;this.updateClipping()}else{ad[bg]=be}t=true}else{if(/^(x|y)$/.test(bg)){this[bg]=be;if(bc.tagName=="SPAN"){this.updateTransform()}else{ad[{x:"left",y:"top"}[bg]]=be}}else{if(bg=="class"){bc.className=be}else{if(bg=="stroke"){be=V.color(be,bc,bg);bg="strokecolor"}else{if(bg=="stroke-width"||bg=="strokeWidth"){bc.stroked=be?true:false;bg="strokeweight";this[bg]=be;if(an(be)){be+=aY}}else{if(bg=="dashstyle"){(bc.getElementsByTagName("stroke")[0]||k(V.prepVML(["<stroke/>"]),null,null,bc))[bg]=be||"solid";this.dashstyle=be;t=true}else{if(bg=="fill"){if(ab=="SPAN"){ad.color=be}else{bc.filled=be!=aP?true:false;be=V.color(be,bc,bg);bg="fillcolor"}}else{if(bg=="translateX"||bg=="translateY"||bg=="rotation"||bg=="align"){if(bg=="align"){bg="textAlign"}this[bg]=be;this.updateTransform();t=true}else{if(bg=="text"){bc.innerHTML=be;t=true}}}}}}}}}}}}if(bj&&bg=="visibility"){for(bd=bj.length;bd--;){bj[bd].style[bg]=be}}if(!t){if(aU){bc[bg]=be}else{f(bc,bg,be)}}}}return y},clip:function(y){var t=this,L=y.members;L.push(t);t.destroyClip=function(){aN(L,t)};return t.css(y.getCSS(t.inverted))},css:function(y){var t=this.element;(t=y&&y.width&&t.tagName=="SPAN")&&aR(y,{display:"block",whiteSpace:"normal"});this.styles=aR(this.styles,y);r(this.element,y);t&&this.updateTransform();return this},destroy:function(){this.destroyClip&&this.destroyClip();aO.prototype.destroy.apply(this)},empty:function(){for(var y=this.element.childNodes,t=y.length,L;t--;){L=y[t];L.parentNode.removeChild(L)}},getBBox:function(){var t=this.element;if(t.nodeName=="text"){t.style.position=a5}return{x:t.offsetLeft,y:t.offsetTop,width:t.offsetWidth,height:t.offsetHeight}},on:function(y,t){this.element["on"+y]=function(){var L=ar.event;L.target=L.srcElement;t(L)};return this},updateTransform:function(){if(this.added){var bk=this,bj=bk.element,bh=bk.translateX||0,bf=bk.translateY||0,be=bk.x||0,bd=bk.y||0,bc=bk.textAlign||"left",ad={left:0,center:0.5,right:1}[bc],ab=bc&&bc!="left";if(bh||bf){bk.css({marginLeft:bh,marginTop:bf})}bk.inverted&&Q(bj.childNodes,function(bn){bk.renderer.invertChild(bn,bj)});if(bj.tagName=="SPAN"){var V,t;bh=bk.rotation;var bg;V=0;bf=1;var bm=0,y,L=bk.xCorr||0,bi=bk.yCorr||0,bl=[bh,bc,bj.innerHTML,bj.style.width].join(",");if(bl!=bk.cTT){if(ao(bh)){V=bh*aT;bf=ag(V);bm=aV(V);r(bj,{filter:bh?["progid:DXImageTransform.Microsoft.Matrix(M11=",bf,", M12=",-bm,", M21=",bm,", M22=",bf,", sizingMethod='auto expand')"].join(""):aP})}V=bj.offsetWidth;t=bj.offsetHeight;bg=ak(ac(bj.style.fontSize||12)*1.2);L=bf<0&&-V;bi=bm<0&&-t;y=bf*bm<0;L+=bm*bg*(y?1-ad:ad);bi-=bf*bg*(bh?y?ad:1-ad:1);if(ab){L-=V*ad*(bf<0?-1:1);if(bh){bi-=t*ad*(bm<0?-1:1)}r(bj,{textAlign:bc})}bk.xCorr=L;bk.yCorr=bi}r(bj,{left:be+L,top:bd+bi});bk.cTT=bl}}else{this.alignOnAdd=true}},shadow:function(y){var t=[],bd=this.element,bc=this.renderer,ad,ab=bd.style,V,L=bd.path;if(""+bd.path===""){L="x"}if(y){for(y=1;y<=3;y++){V=['<shape isShadow="true" strokeweight="',7-2*y,'" filled="false" path="',L,'" coordsize="100,100" style="',bd.style.cssText,'" />'];ad=k(bc.prepVML(V),null,{left:ac(ab.left)+1,top:ac(ab.top)+1});V=['<stroke color="black" opacity="',0.05*y,'"/>'];k(bc.prepVML(V),null,null,ad);bd.parentNode.insertBefore(ad,bd);t.push(ad)}this.shadows=t}return this}});H=function(){this.init.apply(this,arguments)};H.prototype=v(aD.prototype,{isIE8:s.indexOf("MSIE 8.0")>-1,init:function(y,t,V){var L;this.Element=aZ;this.alignedObjects=[];L=this.createElement(q);y.appendChild(L.element);this.box=L.element;this.boxWrapper=L;this.setSize(t,V,false);if(!aF.namespaces.hcv){aF.namespaces.add("hcv","urn:schemas-microsoft-com:vml");aF.createStyleSheet().cssText="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } "}},clipRect:function(y,t,ab,V){var L=this.createElement();return aR(L,{members:[],left:y,top:t,width:ab,height:V,getCSS:function(bf){var be=this.top,bd=this.left,bc=bd+this.width,ad=be+this.height;be={clip:"rect("+ak(bf?bd:be)+"px,"+ak(bf?ad:bc)+"px,"+ak(bf?bc:ad)+"px,"+ak(bf?be:bd)+"px)"};!bf&&aU&&aR(be,{width:bc+aY,height:ad+aY});return be},updateClipping:function(){Q(L.members,function(ad){ad.css(L.getCSS(ad.inverted))})}})},color:function(bh,bg,bf){var bd,bc=/^rgba/;if(bh&&bh.linearGradient){var ad,ab,V=bh.linearGradient,L,y,t,be;Q(bh.stops,function(bj,bi){if(bc.test(bj[1])){bd=aj(bj[1]);ad=bd.get("rgb");ab=bd.get("a")}else{ad=bj[1];ab=1}if(bi){t=ad;be=ab}else{L=ad;y=ab}});bh=90-aW.atan((V[3]-V[1])/(V[2]-V[0]))*180/aE;bf=["<",bf,' colors="0% ',L,",100% ",t,'" angle="',bh,'" opacity="',be,'" o:opacity2="',y,'" type="gradient" focus="100%" />'];k(this.prepVML(bf),null,null,bg)}else{if(bc.test(bh)&&bg.tagName!="IMG"){bd=aj(bh);bf=["<",bf,' opacity="',bd.get("a"),'"/>'];k(this.prepVML(bf),null,null,bg);return bd.get("rgb")}else{return bh}}},prepVML:function(y){var t=this.isIE8;y=y.join("");if(t){y=y.replace("/>",' xmlns="urn:schemas-microsoft-com:vml" />');y=y.indexOf('style="')==-1?y.replace("/>",' style="display:inline-block;behavior:url(#default#VML);" />'):y.replace('style="','style="display:inline-block;behavior:url(#default#VML);')}else{y=y.replace("<","<hcv:")}return y},text:function(y,t,V){var L=w.chart.style;return this.createElement("span").attr({text:y,x:ak(t),y:ak(V)}).css({whiteSpace:"nowrap",fontFamily:L.fontFamily,fontSize:L.fontSize})},path:function(t){return this.createElement("shape").attr({coordsize:"100 100",d:t})},circle:function(y,t,L){return this.path(this.symbols.circle(y,t,L))},g:function(y){var t;if(y){t={className:ay+y,"class":ay+y}}return this.createElement(q).attr(t)},image:function(y,t,ad,ab,V){var L=this.createElement("img").attr({src:y});arguments.length>1&&L.css({left:t,top:ad,width:ab,height:V});return L},rect:function(y,t,bc,ad,ab,V){if(arguments.length>1){var L=(V||0)%2/2;y=ak(y||0)+L;t=ak(t||0)+L;bc=ak((bc||0)-2*L);ad=ak((ad||0)-2*L)}if(aa(y)){t=y.y;bc=y.width;ad=y.height;ab=y.r;y=y.x}return this.symbol("rect",y||0,t||0,ab||0,{width:bc||0,height:ad||0})},invertChild:function(y,t){var L=t.style;r(y,{flip:"x",left:ac(L.width)-10,top:ac(L.height)-10,rotation:-90})},symbols:{arc:function(bf,be,bd,bc){var ad=bc.start,ab=bc.end,V=ag(ad),L=aV(ad),y=ag(ab),t=aV(ab);bc=bc.innerR;if(ab-ad===0){return["x"]}else{if(ab-ad==2*aE){y=-0.07/bd}}return["wa",bf-bd,be-bd,bf+bd,be+bd,bf+bd*V,be+bd*L,bf+bd*y,be+bd*t,"at",bf-bc,be-bc,bf+bc,be+bc,bf+bc*y,be+bc*t,bf+bc*V,be+bc*L,"x","e"]},circle:function(y,t,L){return["wa",y-L,t-L,y+L,t+L,y+L,t,y+L,t,"e"]},rect:function(y,t,bc,ad){var ab=ad.width;ad=ad.height;var V=y+ab,L=t+ad;bc=av(bc,ab,ad);return[P,y+bc,t,aL,V-bc,t,"wa",V-2*bc,t,V,t+2*bc,V-bc,t,V,t+bc,aL,V,L-bc,"wa",V-2*bc,L-2*bc,V,L,V,L-bc,V-bc,L,aL,y+bc,L,"wa",y,L-2*bc,y+2*bc,L,y+bc,L,y,L-bc,aL,y,t+bc,"wa",y,t,y+2*bc,t+2*bc,y,t+bc,y+bc,t,"x","e"]}}})}var I=a?aD:H;aM.prototype.callbacks=[];var aB=function(){};aB.prototype={init:function(y,t){var L;this.series=y;this.applyOptions(t);this.pointAttr={};if(y.options.colorByPoint){L=y.chart.options.colors;if(!this.options){this.options={}}this.color=this.options.color=this.color||L[aQ++];if(aQ>=L.length){aQ=0}}y.chart.pointCount++;return this},applyOptions:function(y){var t=this.series;this.config=y;if(an(y)||y===null){this.y=y}else{if(aa(y)&&!an(y.length)){aR(this,y);this.options=y}else{if(ax(y[0])){this.name=y[0];this.y=y[1]}else{if(an(y[0])){this.x=y[0];this.y=y[1]}}}}if(this.x===K){this.x=t.autoIncrement()}},destroy:function(){var y=this,t=y.series,L;t.chart.pointCount--;y==t.chart.hoverPoint&&y.onMouseOut();t.chart.hoverPoints=null;aK(y);Q(["graphic","tracker","group","dataLabel","connector"],function(V){y[V]&&y[V].destroy()});y.legendItem&&y.series.chart.legend.destroyItem(y);for(L in y){y[L]=null}},select:function(y,t){var V=this,L=V.series.chart;V.selected=y=O(y,!V.selected);V.firePointEvent(y?"select":"unselect");V.setState(y&&"select");t||Q(L.getSelectedPoints(),function(ab){if(ab.selected&&ab!=V){ab.selected=false;ab.setState(T);ab.firePointEvent("unselect")}})},onMouseOver:function(){var y=this.series.chart,t=y.tooltip,L=y.hoverPoint;L&&L!=this&&L.onMouseOut();this.firePointEvent("mouseOver");t&&!t.shared&&t.refresh(this);this.setState(e);y.hoverPoint=this},onMouseOut:function(){this.firePointEvent("mouseOut");this.setState();this.series.chart.hoverPoint=null},tooltipFormatter:function(y){var t=this.series;return['<span style="color:'+t.color+'">',this.name||t.name,"</span>: ",!y?"<b>x = "+(this.name||this.x)+",</b> ":"","<b>",!y?"y = ":"",this.y,"</b><br/>"].join("")},update:function(y,t,ad){var ab=this,V=ab.series,L=V.chart;G(ad,L);t=O(t,true);ab.firePointEvent("update",{options:y},function(){ab.applyOptions(y);V.isDirty=true;t&&L.redraw()})},remove:function(y,t){var ad=this,ab=ad.series,V=ab.chart,L=ab.data;G(t,V);y=O(y,true);ad.firePointEvent("remove",null,function(){aN(L,ad);ad.destroy();ab.isDirty=true;y&&V.redraw()})},firePointEvent:function(y,t,ab){var V=this,L=this.series.options;if(L.point.events[y]||V.options&&V.options.events&&V.options.events[y]){this.importEvents()}if(y=="click"&&L.allowPointSelect){ab=function(ad){V.select(null,ad.ctrlKey||ad.metaKey||ad.shiftKey)}}ae(this,y,t,ab)},importEvents:function(){if(!this.hasImportedEvents){var y=v(this.series.options.point,this.options).events,t;this.events=y;for(t in y){ah(this,t,y[t])}this.hasImportedEvents=true}},setState:function(be){var bd=this.series,bc=bd.options.states,ad=J[bd.type].marker&&bd.options.marker,ab=ad&&!ad.enabled,V=(ad=ad&&ad.states[be])&&ad.enabled===false,L=bd.stateMarkerGraphic,y=bd.chart,t=this.pointAttr;be||(be=T);if(!(be==this.state||this.selected&&be!="select"||bc[be]&&bc[be].enabled===false||be&&(V||ab&&!ad.enabled))){if(this.graphic){this.graphic.attr(t[be])}else{if(be){if(!L){bd.stateMarkerGraphic=L=y.renderer.circle(0,0,t[be].r).attr(t[be]).add(bd.group)}L.translate(this.plotX,this.plotY)}if(L){L[be?"show":"hide"]()}}this.state=be}}};var a6=function(){};a6.prototype={isCartesian:true,type:"line",pointClass:aB,pointAttrToOptions:{stroke:"lineColor","stroke-width":"lineWidth",fill:"fillColor",r:"radius"},init:function(y,t){var V,L;L=y.series.length;this.chart=y;t=this.setOptions(t);aR(this,{index:L,options:t,name:t.name||"Series "+(L+1),state:T,pointAttr:{},visible:t.visible!==false,selected:t.selected===true});L=t.events;for(V in L){ah(this,V,L[V])}if(L&&L.click||t.point&&t.point.events&&t.point.events.click||t.allowPointSelect){y.runTrackerClick=true}this.getColor();this.getSymbol();this.setData(t.data,false)},autoIncrement:function(){var y=this.options,t=this.xIncrement;t=O(t,y.pointStart,0);this.pointInterval=O(this.pointInterval,y.pointInterval,1);this.xIncrement=t+this.pointInterval;return t},cleanData:function(){var y=this.chart,t=this.data,bc,ad,ab=y.smallestInterval,V,L;t.sort(function(be,bd){return be.x-bd.x});for(L=t.length-1;L>=0;L--){t[L-1]&&t[L-1].x==t[L].x&&t.splice(L-1,1)}for(L=t.length-1;L>=0;L--){if(t[L-1]){V=t[L].x-t[L-1].x;if(ad===K||V<ad){ad=V;bc=L}}}if(ab===K||ad<ab){y.smallestInterval=ad}this.closestPoints=bc},getSegments:function(){var y=-1,t=[],L=this.data;Q(L,function(ab,V){if(ab.y===null){V>y+1&&t.push(L.slice(y+1,V));y=V}else{V==L.length-1&&t.push(L.slice(y+1,V+1))}});this.segments=t},setOptions:function(y){var t=this.chart.options.plotOptions;return v(t[this.type],t.series,y)},getColor:function(){var t=this.chart.options.colors;this.color=this.options.color||t[aQ++]||"#0000ff";if(aQ>=t.length){aQ=0}},getSymbol:function(){var t=this.chart.options.symbols;this.symbol=this.options.marker.symbol||t[N++];if(N>=t.length){N=0}},addPoint:function(y,t,bd,bc){var ad=this.data,ab=this.graph,V=this.area,L=this.chart;y=(new this.pointClass).init(this,y);G(bc,L);if(ab&&bd){ab.shift=bd}if(V){V.shift=bd;V.isArea=true}t=O(t,true);ad.push(y);bd&&ad[0].remove(false);this.isDirty=true;t&&L.redraw()},setData:function(y,t){var bc=this,ad=bc.data,ab=bc.initialColor,V=bc.chart,L=ad&&ad.length||0;bc.xIncrement=null;if(ao(ab)){aQ=ab}for(y=D(au(y||[]),function(bd){return(new bc.pointClass).init(bc,bd)});L--;){ad[L].destroy()}bc.data=y;bc.cleanData();bc.getSegments();bc.isDirty=true;V.isDirtyBox=true;O(t,true)&&V.redraw(false)},remove:function(y,t){var V=this,L=V.chart;y=O(y,true);if(!V.isRemoving){V.isRemoving=true;ae(V,"remove",null,function(){V.destroy();L.isDirtyLegend=L.isDirtyBox=true;y&&L.redraw(t)})}V.isRemoving=false},translate:function(){for(var bg=this.chart,bf=this.options.stacking,be=this.xAxis.categories,bd=this.yAxis,bc=this.data,ad=bc.length;ad--;){var ab=bc[ad],V=ab.x,L=ab.y,y=ab.low,t=bd.stacks[(L<0?"-":"")+this.stackKey];ab.plotX=this.xAxis.translate(V);if(bf&&this.visible&&t[V]){y=t[V];V=y.total;y.cum=y=y.cum-L;L=y+L;if(bf=="percent"){y=V?y*100/V:0;L=V?L*100/V:0}ab.percentage=V?ab.y*100/V:0;ab.stackTotal=V}if(ao(y)){ab.yBottom=bd.translate(y,0,1)}if(L!==null){ab.plotY=bd.translate(L,0,1)}ab.clientX=bg.inverted?bg.plotHeight-ab.plotX:ab.plotX;ab.category=be&&be[ab.x]!==K?be[ab.x]:ab.x}},setTooltipPoints:function(y){var t=this.chart,bd=t.inverted,bc=[],ad=ak((bd?t.plotTop:t.plotLeft)+t.plotSizeX),ab,V,L=[];if(y){this.tooltipPoints=null}Q(this.segments,function(be){bc=bc.concat(be)});if(this.xAxis&&this.xAxis.reversed){bc=bc.reverse()}Q(bc,function(bf,be){ab=bc[be-1]?bc[be-1].high+1:0;for(V=bf.high=bc[be+1]?bb((bf.plotX+(bc[be+1]?bc[be+1].plotX:ad))/2):ad;ab<=V;){L[bd?ad-ab++:ab++]=bf}});this.tooltipPoints=L},onMouseOver:function(){var y=this.chart,t=y.hoverSeries;if(!(!a8&&y.mouseIsDown)){t&&t!=this&&t.onMouseOut();this.options.events.mouseOver&&ae(this,"mouseOver");this.tracker&&this.tracker.toFront();this.setState(e);y.hoverSeries=this}},onMouseOut:function(){var y=this.options,t=this.chart,V=t.tooltip,L=t.hoverPoint;L&&L.onMouseOut();this&&y.events.mouseOut&&ae(this,"mouseOut");V&&!y.stickyTracking&&V.hide();this.setState();t.hoverSeries=null},animate:function(y){var t=this.chart,V=this.clipRect,L=this.options.animation;if(L&&!aa(L)){L={}}if(y){if(!V.isAnimating){V.attr("width",0);V.isAnimating=true}}else{V.animate({width:t.plotSizeX},L);this.animate=null}},drawPoints:function(){var be,bd=this.data,bc=this.chart,ad,ab,V,L,y,t;if(this.options.marker.enabled){for(V=bd.length;V--;){L=bd[V];ad=L.plotX;ab=L.plotY;t=L.graphic;if(ab!==K&&!isNaN(ab)){be=L.pointAttr[L.selected?"select":T];y=be.r;if(t){t.animate({x:ad,y:ab,r:y})}else{L.graphic=bc.renderer.symbol(O(L.marker&&L.marker.symbol,this.symbol),ad,ab,y).attr(be).add(this.group)}}}}},convertAttribs:function(y,t,bd,bc){var ad=this.pointAttrToOptions,ab,V,L={};y=y||{};t=t||{};bd=bd||{};bc=bc||{};for(ab in ad){V=ad[ab];L[ab]=O(y[V],t[ab],bd[ab],bc[ab])}return L},getAttribs:function(){var bh=this,bg=J[bh.type].marker?bh.options.marker:bh.options,bf=bg.states,bd=bf[e],bc,ad=bh.color,ab={stroke:ad,fill:ad},V=bh.data,L=[],y,t=bh.pointAttrToOptions;if(bh.options.marker){bd.radius=bd.radius||bg.radius+2;bd.lineWidth=bd.lineWidth||bg.lineWidth+1}else{bd.color=bd.color||aj(bd.color||ad).brighten(bd.brightness).get()}L[T]=bh.convertAttribs(bg,ab);Q([e,"select"],function(bi){L[bi]=bh.convertAttribs(bf[bi],L[T])});bh.pointAttr=L;for(ad=V.length;ad--;){ab=V[ad];if((bg=ab.options&&ab.options.marker||ab.options)&&bg.enabled===false){bg.radius=0}bc=false;if(ab.options){for(var be in t){if(ao(bg[t[be]])){bc=true}}}if(bc){y=[];bf=bg.states||{};bc=bf[e]=bf[e]||{};if(!bh.options.marker){bc.color=aj(bc.color||ab.options.color).brighten(bc.brightness||bd.brightness).get()}y[T]=bh.convertAttribs(bg,L[T]);y[e]=bh.convertAttribs(bf[e],L[e],y[T]);y.select=bh.convertAttribs(bf.select,L.select,y[T])}else{y=L}ab.pointAttr=y}},destroy:function(){var y=this,t=y.chart,ab=/\/5[0-9\.]+ Safari\//.test(s),V,L;aK(y);y.legendItem&&y.chart.legend.destroyItem(y);Q(y.data,function(ad){ad.destroy()});Q(["area","graph","dataLabelsGroup","group","tracker"],function(ad){if(y[ad]){V=ab&&ad=="group"?"hide":"destroy";y[ad][V]()}});if(t.hoverSeries==y){t.hoverSeries=null}aN(t.series,y);for(L in y){delete y[L]}},drawDataLabels:function(){if(this.options.dataLabels.enabled){var bg=this,bf,be,bd=bg.data,bc=bg.options.dataLabels,ad,ab=bg.dataLabelsGroup,V=bg.chart,L=V.inverted,y=bg.type,t;if(!ab){ab=bg.dataLabelsGroup=V.renderer.g(ay+"data-labels").attr({visibility:bg.visible?a3:az,zIndex:5}).translate(V.plotLeft,V.plotTop).add()}t=bc.color;if(t=="auto"){t=null}bc.style.color=O(t,bg.color);Q(bd,function(bl){var bk=bl.barX;bk=bk&&bk+bl.barW/2||bl.plotX||-999;var bi=O(bl.plotY,-999),bj=bl.dataLabel,bh=bc.align;ad=bc.formatter.call({x:bl.x,y:bl.y,series:bg,point:bl,percentage:bl.percentage,total:bl.total||bl.stackTotal});bf=(L?V.plotWidth-bi:bk)+bc.x;be=(L?V.plotHeight-bk:bi)+bc.y;if(y=="column"){bf+={left:-1,right:1}[bh]*bl.barW/2||0}if(bj){bj.animate({x:bf,y:be})}else{if(ad){bj=bl.dataLabel=V.renderer.text(ad,bf,be).attr({align:bh,rotation:bc.rotation,zIndex:1}).css(bc.style).add(ab)}}L&&!bc.y&&bj.attr({y:be+parseInt(bj.styles.lineHeight)*0.9-bj.getBBox().height/2})})}},drawGraph:function(){var bk=this,bj=bk.options,bh=bk.graph,bf=[],be,bd=bk.area,bc=bk.group,ad=bj.lineColor||bk.color,ab=bj.lineWidth,V=bj.dashStyle,t,bg=bk.chart.renderer,bl=bk.yAxis.getThreshold(bj.threshold||0),y=/^area/.test(bk.type),L=[],bi=[];Q(bk.segments,function(bo){t=[];Q(bo,function(bq,br){if(bk.getPointSpline){t.push.apply(t,bk.getPointSpline(bo,bq,br))}else{t.push(br?aL:P);br&&bj.step&&t.push(bq.plotX,bo[br-1].plotY);t.push(bq.plotX,bq.plotY)}});if(bo.length>1){bf=bf.concat(t)}else{L.push(bo[0])}if(y){var bm=[],bp,bn=t.length;for(bp=0;bp<bn;bp++){bm.push(t[bp])}bn==3&&bm.push(aL,t[1],t[2]);if(bj.stacking&&bk.type!="areaspline"){for(bp=bo.length-1;bp>=0;bp--){bm.push(bo[bp].plotX,bo[bp].yBottom)}}else{bm.push(aL,bo[bo.length-1].plotX,bl,aL,bo[0].plotX,bl)}bi=bi.concat(bm)}});bk.graphPath=bf;bk.singlePoints=L;if(y){be=O(bj.fillColor,aj(bk.color).setOpacity(bj.fillOpacity||0.75).get());if(bd){bd.animate({d:bi})}else{bk.area=bk.chart.renderer.path(bi).attr({fill:be}).add(bc)}}if(bh){bh.animate({d:bf})}else{if(ab){bh={stroke:ad,"stroke-width":ab};if(V){bh.dashstyle=V}bk.graph=bg.path(bf).attr(bh).add(bc).shadow(bj.shadow)}}},render:function(){var y=this,t=y.chart,bd,bc,ad=y.options,ab=ad.animation,V=ab&&y.animate;ab=V?ab&&ab.duration||500:0;var L=y.clipRect;bc=t.renderer;if(!L){L=y.clipRect=!t.hasRendered&&t.clipRect?t.clipRect:bc.clipRect(0,0,t.plotSizeX,t.plotSizeY);if(!t.clipRect){t.clipRect=L}}if(!y.group){bd=y.group=bc.g("series");if(t.inverted){bc=function(){bd.attr({width:t.plotWidth,height:t.plotHeight}).invert()};bc();ah(t,"resize",bc)}bd.clip(y.clipRect).attr({visibility:y.visible?a3:az,zIndex:ad.zIndex}).translate(t.plotLeft,t.plotTop).add(t.seriesGroup)}y.drawDataLabels();V&&y.animate(true);y.getAttribs();y.drawGraph&&y.drawGraph();y.drawPoints();y.options.enableMouseTracking!==false&&y.drawTracker();V&&y.animate();setTimeout(function(){L.isAnimating=false;if((bd=y.group)&&L!=t.clipRect&&L.renderer){bd.clip(y.clipRect=t.clipRect);L.destroy()}},ab);y.isDirty=false},redraw:function(){var y=this.chart,t=this.group;if(t){y.inverted&&t.attr({width:y.plotWidth,height:y.plotHeight});t.animate({translateX:y.plotLeft,translateY:y.plotTop})}this.translate();this.setTooltipPoints(true);this.render()},setState:function(y){var t=this.options,V=this.graph,L=t.states;t=t.lineWidth;y=y||T;if(this.state!=y){this.state=y;if(!(L[y]&&L[y].enabled===false)){if(y){t=L[y].lineWidth||t+1}if(V&&!V.dashstyle){V.attr({"stroke-width":t},y?0:500)}}}},setVisible:function(bf,be){var bd=this.chart,bc=this.legendItem,ad=this.group,ab=this.tracker,V=this.dataLabelsGroup,L,y=this.data,t=bd.options.chart.ignoreHiddenSeries;L=this.visible;L=(this.visible=bf=bf===K?!L:bf)?"show":"hide";ad&&ad[L]();if(ab){ab[L]()}else{for(ad=y.length;ad--;){ab=y[ad];ab.tracker&&ab.tracker[L]()}}V&&V[L]();bc&&bd.legend.colorizeItem(this,bf);this.isDirty=true;this.options.stacking&&Q(bd.series,function(bg){if(bg.options.stacking&&bg.visible){bg.isDirty=true}});if(t){bd.isDirtyBox=true}be!==false&&bd.redraw();ae(this,L)},show:function(){this.setVisible(true)},hide:function(){this.setVisible(false)},select:function(t){this.selected=t=t===K?!this.selected:t;if(this.checkbox){this.checkbox.checked=t}ae(this,t?"select":"unselect")},drawTracker:function(){var bf=this,be=bf.options,bd=[].concat(bf.graphPath),bc=bd.length,ad=bf.chart,ab=ad.options.tooltip.snap,V=bf.tracker,L=be.cursor;L=L&&{cursor:L};var y=bf.singlePoints,t;if(bc){for(t=bc+1;t--;){bd[t]==P&&bd.splice(t+1,0,bd[t+1]-ab,bd[t+2],aL);if(t&&bd[t]==P||t==bc){bd.splice(t,0,aL,bd[t-2]+ab,bd[t-1])}}}for(t=0;t<y.length;t++){bc=y[t];bd.push(P,bc.plotX-ab,bc.plotY,aL,bc.plotX+ab,bc.plotY)}if(V){V.attr({d:bd})}else{bf.tracker=ad.renderer.path(bd).attr({isTracker:true,stroke:aC,fill:aP,"stroke-width":be.lineWidth+2*ab,visibility:bf.visible?a3:az,zIndex:1}).on(a8?"touchstart":"mouseover",function(){ad.hoverSeries!=bf&&bf.onMouseOver()}).on("mouseout",function(){be.stickyTracking||bf.onMouseOut()}).css(L).add(ad.trackerGroup)}}};H=u(a6);aS.line=H;H=u(a6,{type:"area"});aS.area=H;H=u(a6,{type:"spline",getPointSpline:function(bh,bg,bf){var bd=bg.plotX,bc=bg.plotY,ad=bh[bf-1],ab=bh[bf+1],V,L,y,t;if(bf&&bf<bh.length-1){bh=ad.plotY;y=ab.plotX;ab=ab.plotY;var be;V=(1.5*bd+ad.plotX)/2.5;L=(1.5*bc+bh)/2.5;y=(1.5*bd+y)/2.5;t=(1.5*bc+ab)/2.5;be=(t-L)*(y-bd)/(y-V)+bc-t;L+=be;t+=be;if(L>bh&&L>bc){L=a9(bh,bc);t=2*bc-L}else{if(L<bh&&L<bc){L=av(bh,bc);t=2*bc-L}}if(t>ab&&t>bc){t=a9(ab,bc);L=2*bc-t}else{if(t<ab&&t<bc){t=av(ab,bc);L=2*bc-t}}bg.rightContX=y;bg.rightContY=t}if(bf){bg=["C",ad.rightContX||ad.plotX,ad.rightContY||ad.plotY,V||bd,L||bc,bd,bc];ad.rightContX=ad.rightContY=null}else{bg=[P,bd,bc]}return bg}});aS.spline=H;H=u(H,{type:"areaspline"});aS.areaspline=H;var aX=u(a6,{type:"column",pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color",r:"borderRadius"},init:function(){a6.prototype.init.apply(this,arguments);var y=this,t=y.chart;t.hasColumn=true;t.hasRendered&&Q(t.series,function(L){if(L.type==y.type){L.isDirty=true}})},translate:function(){var bk=this,bj=bk.chart,bh=0,bf=bk.xAxis.reversed,be=bk.xAxis.categories,bd={},bc,ad;a6.prototype.translate.apply(bk);Q(bj.series,function(bn){if(bn.type==bk.type){if(bn.options.stacking){bc=bn.stackKey;if(bd[bc]===K){bd[bc]=bh++}ad=bd[bc]}else{ad=bh++}bn.columnIndex=ad}});var ab=bk.options,V=bk.data,t=bk.closestPoints;bj=aH(V[1]?V[t].plotX-V[t-1].plotX:bj.plotSizeX/(be?be.length:1));be=bj*ab.groupPadding;t=(bj-2*be)/bh;var bg=ab.pointWidth,bm=ao(bg)?(t-bg)/2:t*ab.pointPadding,y=O(bg,t-2*bm),L=bm+(be+((bf?bh-bk.columnIndex:bk.columnIndex)||0)*t-bj/2)*(bf?-1:1),bi=bk.yAxis.getThreshold(ab.threshold||0),bl=O(ab.minPointLength,5);Q(V,function(bn){var bt=bn.plotY,bo=bn.yBottom||bi,bq=bn.plotX+L,bs=B(av(bt,bo)),br=B(a9(bt,bo)-bs),bp;if(aH(br)<bl){if(bl){br=bl;bs=aH(bs-bi)>bl?bo-bl:bi-(bt<=bi?bl:0)}bp=bs-3}aR(bn,{barX:bq,barY:bs,barW:y,barH:br});bn.shapeType="rect";bn.shapeArgs={x:bq,y:bs,width:y,height:br,r:ab.borderRadius};bn.trackerArgs=ao(bp)&&v(bn.shapeArgs,{height:a9(6,br+3),y:bp})})},getSymbol:function(){},drawGraph:function(){},drawPoints:function(){var y=this,t=y.options,ab=y.chart.renderer,V,L;Q(y.data,function(bc){var ad=bc.plotY;if(ad!==K&&!isNaN(ad)){V=bc.graphic;L=bc.shapeArgs;if(V){b(V);V.animate(L)}else{bc.graphic=ab[bc.shapeType](L).attr(bc.pointAttr[bc.selected?"select":T]).add(y.group).shadow(t.shadow)}}})},drawTracker:function(){var be=this,bd=be.chart,bc=bd.renderer,ad,ab,V=+new Date,L=be.options.cursor,y=L&&{cursor:L},t;Q(be.data,function(bf){ab=bf.tracker;ad=bf.trackerArgs||bf.shapeArgs;if(bf.y!==null){if(ab){ab.attr(ad)}else{bf.tracker=bc[bf.shapeType](ad).attr({isTracker:V,fill:aC,visibility:be.visible?a3:az,zIndex:1}).on(a8?"touchstart":"mouseover",function(bg){t=bg.relatedTarget||bg.fromElement;bd.hoverSeries!=be&&f(t,"isTracker")!=V&&be.onMouseOver();bf.onMouseOver()}).on("mouseout",function(bg){if(!be.options.stickyTracking){t=bg.relatedTarget||bg.toElement;f(t,"isTracker")!=V&&be.onMouseOut()}}).css(y).add(bd.trackerGroup)}}})},animate:function(y){var t=this,L=t.data;if(!y){Q(L,function(ab){var V=ab.graphic;if(V){V.attr({height:0,y:t.yAxis.translate(0,0,1)});V.animate({height:ab.barH,y:ab.barY},t.options.animation)}});t.animate=null}},remove:function(){var y=this,t=y.chart;t.hasRendered&&Q(t.series,function(L){if(L.type==y.type){L.isDirty=true}});a6.prototype.remove.apply(y,arguments)}});aS.column=aX;H=u(aX,{type:"bar",init:function(t){t.inverted=this.inverted=true;aX.prototype.init.apply(this,arguments)}});aS.bar=H;H=u(a6,{type:"scatter",translate:function(){var t=this;a6.prototype.translate.apply(t);Q(t.data,function(y){y.shapeType="circle";y.shapeArgs={x:y.plotX,y:y.plotY,r:t.chart.options.tooltip.snap}})},drawTracker:function(){var y=this,t=y.options.cursor,V=t&&{cursor:t},L;Q(y.data,function(ab){(L=ab.graphic)&&L.attr({isTracker:true}).on("mouseover",function(){y.onMouseOver();ab.onMouseOver()}).on("mouseout",function(){y.options.stickyTracking||y.onMouseOut()}).css(V)})},cleanData:function(){}});aS.scatter=H;H=u(aB,{init:function(){aB.prototype.init.apply(this,arguments);var y=this,t;aR(y,{visible:y.visible!==false,name:O(y.name,"Slice")});t=function(){y.slice()};ah(y,"select",t);ah(y,"unselect",t);return y},setVisible:function(y){var t=this.series.chart,ad=this.tracker,ab=this.dataLabel,V=this.connector,L;L=(this.visible=y=y===K?!this.visible:y)?"show":"hide";this.group[L]();ad&&ad[L]();ab&&ab[L]();V&&V[L]();this.legendItem&&t.legend.colorizeItem(this,y)},slice:function(y,t,ab){var V=this.series.chart,L=this.slicedTranslation;G(ab,V);O(t,true);y=this.sliced=ao(y)?y:!this.sliced;this.group.animate({translateX:y?L[0]:V.plotLeft,translateY:y?L[1]:V.plotTop})}});H=u(a6,{type:"pie",isCartesian:false,pointClass:H,pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color"},getColor:function(){this.initialColor=aQ},animate:function(){var t=this;Q(t.data,function(y){var V=y.graphic;y=y.shapeArgs;var L=-aE/2;if(V){V.attr({r:0,start:L,end:L});V.animate({r:y.r,start:y.start,end:y.end},t.options.animation)}});t.animate=null},translate:function(){var bp=0,bo=-0.25,bn=this.options,bm=bn.slicedOffset,bl=bm+bn.borderWidth,bk=bn.center,bj=this.chart,bi=bj.plotWidth,bh=bj.plotHeight,bg,be,ab,bc=this.data,bf=2*aE,y,V=av(bi,bh),ad,bd,L,t=bn.dataLabels.distance;bk.push(bn.size,bn.innerSize||0);bk=D(bk,function(bq,br){return(ad=/%$/.test(bq))?[bi,bh,V,V][br]*ac(bq)/100:bq});this.getX=function(bq,br){ab=aW.asin((bq-bk[1])/(bk[2]/2+t));return bk[0]+(br?-1:1)*ag(ab)*(bk[2]/2+t)};this.center=bk;Q(bc,function(bq){bp+=bq.y});Q(bc,function(bq){y=bp?bq.y/bp:0;bg=ak(bo*bf*1000)/1000;bo+=y;be=ak(bo*bf*1000)/1000;bq.shapeType="arc";bq.shapeArgs={x:bk[0],y:bk[1],r:bk[2]/2,innerR:bk[3]/2,start:bg,end:be};ab=(be+bg)/2;bq.slicedTranslation=D([ag(ab)*bm+bj.plotLeft,aV(ab)*bm+bj.plotTop],ak);bd=ag(ab)*bk[2]/2;L=aV(ab)*bk[2]/2;bq.tooltipPos=[bk[0]+bd*0.7,bk[1]+L*0.7];bq.labelPos=[bk[0]+bd+ag(ab)*t,bk[1]+L+aV(ab)*t,bk[0]+bd+ag(ab)*bl,bk[1]+L+aV(ab)*bl,bk[0]+bd,bk[1]+L,t<0?"center":ab<bf/4?"left":"right",ab];bq.percentage=y*100;bq.total=bp});this.setTooltipPoints()},render:function(){this.getAttribs();this.drawPoints();this.options.enableMouseTracking!==false&&this.drawTracker();this.drawDataLabels();this.options.animation&&this.animate&&this.animate();this.isDirty=false},drawPoints:function(){var y=this.chart,t=y.renderer,ad,ab,V,L;Q(this.data,function(bc){ab=bc.graphic;L=bc.shapeArgs;V=bc.group;if(!V){V=bc.group=t.g("point").attr({zIndex:5}).add()}ad=bc.sliced?bc.slicedTranslation:[y.plotLeft,y.plotTop];V.translate(ad[0],ad[1]);if(ab){ab.animate(L)}else{bc.graphic=t.arc(L).attr(aR(bc.pointAttr[T],{"stroke-linejoin":"round"})).add(bc.group)}bc.visible===false&&bc.setVisible(false)})},drawDataLabels:function(){var br=this.data,bq,bp=this.chart,bo=this.options.dataLabels,bn=O(bo.connectorPadding,10),bm=O(bo.connectorWidth,1),bl,bk,bj=bo.distance>0,bi,bg,bc=this.center[1],be=[[],[],[],[]],bh,y,ad,bd,bf,L,t,V=4,ab;a6.prototype.drawDataLabels.apply(this);Q(br,function(bt){var bs=bt.labelPos[7];be[bs<0?0:bs<aE/2?1:bs<aE?2:3].push(bt)});be[1].reverse();be[3].reverse();for(t=function(bt,bs){return bt.y>bs.y};V--;){br=0;bq=[].concat(be[V]);bq.sort(t);for(ab=bq.length;ab--;){bq[ab].rank=ab}for(bd=0;bd<2;bd++){bg=(L=V%3)?9999:-9999;bf=L?-1:1;for(ab=0;ab<be[V].length;ab++){bq=be[V][ab];if(bl=bq.dataLabel){bk=bq.labelPos;ad=a3;bh=bk[0];y=bk[1];bi||(bi=bl&&bl.getBBox().height);if(bj){if(bd&&bq.rank<br){ad=az}else{if(!L&&y<bg+bi||L&&y>bg-bi){y=bg+bf*bi;bh=this.getX(y,V>1);if(!L&&y+bi>bc||L&&y-bi<bc){if(bd){ad=az}else{br++}}}}}if(bq.visible===false){ad=az}if(ad==a3){bg=y}if(bd){bl.attr({visibility:ad,align:bk[6]})[bl.moved?"animate":"attr"]({x:bh+bo.x+({left:bn,right:-bn}[bk[6]]||0),y:y+bo.y});bl.moved=true;if(bj&&bm){bl=bq.connector;bk=[P,bh+(bk[6]=="left"?5:-5),y,aL,bh,y,aL,bk[2],bk[3],aL,bk[4],bk[5]];if(bl){bl.animate({d:bk});bl.attr("visibility",ad)}else{bq.connector=bl=this.chart.renderer.path(bk).attr({"stroke-width":bm,stroke:bo.connectorColor||"#606060",visibility:ad,zIndex:3}).translate(bp.plotLeft,bp.plotTop).add()}}}}}}}},drawTracker:aX.prototype.drawTracker,getSymbol:function(){}});aS.pie=H;ar.Highcharts={Chart:aM,dateFormat:ba,pathAnim:h,getOptions:function(){return w},numberFormat:a4,Point:aB,Color:aj,Renderer:I,seriesTypes:aS,setOptions:function(t){w=v(w,t);aI();return w},Series:a6,addEvent:ah,createElement:k,discardElement:n,css:r,each:Q,extend:aR,map:D,merge:v,pick:O,extendClass:u,version:"2.1.2"}})();jQuery.cookie=function(f,g,b){if(arguments.length>1&&(g===null||typeof g!=="object")){b=jQuery.extend({},b);if(g===null){b.expires=-1}if(typeof b.expires==="number"){var j=b.expires,e=b.expires=new Date();e.setDate(e.getDate()+j)}return(document.cookie=[encodeURIComponent(f),"=",b.raw?String(g):encodeURIComponent(String(g)),b.expires?"; expires="+b.expires.toUTCString():"",b.path?"; path="+b.path:"",b.domain?"; domain="+b.domain:"",b.secure?"; secure":""].join(""))}b=g||{};var a,h=b.raw?function(k){return k}:decodeURIComponent;return(a=new RegExp("(?:^|; )"+encodeURIComponent(f)+"=([^;]*)").exec(document.cookie))?h(a[1]):null};(function(i,za,p){i.fn.dataTableSettings=[];var D=i.fn.dataTableSettings;i.fn.dataTableExt={};var n=i.fn.dataTableExt;n.sVersion="1.8.2";n.sErrMode="alert";n.iApiIndex=0;n.oApi={};n.afnFiltering=[];n.aoFeatures=[];n.ofnSearch={};n.afnSortData=[];n.oStdClasses={sPagePrevEnabled:"paginate_enabled_previous",sPagePrevDisabled:"paginate_disabled_previous",sPageNextEnabled:"paginate_enabled_next",sPageNextDisabled:"paginate_disabled_next",sPageJUINext:"",sPageJUIPrev:"",sPageButton:"paginate_button",sPageButtonActive:"paginate_active",sPageButtonStaticDisabled:"paginate_button paginate_button_disabled",sPageFirst:"first",sPagePrevious:"previous",sPageNext:"next",sPageLast:"last",sStripeOdd:"odd",sStripeEven:"even",sRowEmpty:"dataTables_empty",sWrapper:"dataTables_wrapper",sFilter:"dataTables_filter",sInfo:"dataTables_info",sPaging:"dataTables_paginate paging_",sLength:"dataTables_length",sProcessing:"dataTables_processing",sSortAsc:"sorting_asc",sSortDesc:"sorting_desc",sSortable:"sorting",sSortableAsc:"sorting_asc_disabled",sSortableDesc:"sorting_desc_disabled",sSortableNone:"sorting_disabled",sSortColumn:"sorting_",sSortJUIAsc:"",sSortJUIDesc:"",sSortJUI:"",sSortJUIAscAllowed:"",sSortJUIDescAllowed:"",sSortJUIWrapper:"",sSortIcon:"",sScrollWrapper:"dataTables_scroll",sScrollHead:"dataTables_scrollHead",sScrollHeadInner:"dataTables_scrollHeadInner",sScrollBody:"dataTables_scrollBody",sScrollFoot:"dataTables_scrollFoot",sScrollFootInner:"dataTables_scrollFootInner",sFooterTH:""};n.oJUIClasses={sPagePrevEnabled:"fg-button ui-button ui-state-default ui-corner-left",sPagePrevDisabled:"fg-button ui-button ui-state-default ui-corner-left ui-state-disabled",sPageNextEnabled:"fg-button ui-button ui-state-default ui-corner-right",sPageNextDisabled:"fg-button ui-button ui-state-default ui-corner-right ui-state-disabled",sPageJUINext:"ui-icon ui-icon-circle-arrow-e",sPageJUIPrev:"ui-icon ui-icon-circle-arrow-w",sPageButton:"fg-button ui-button ui-state-default",sPageButtonActive:"fg-button ui-button ui-state-default ui-state-disabled",sPageButtonStaticDisabled:"fg-button ui-button ui-state-default ui-state-disabled",sPageFirst:"first ui-corner-tl ui-corner-bl",sPagePrevious:"previous",sPageNext:"next",sPageLast:"last ui-corner-tr ui-corner-br",sStripeOdd:"odd",sStripeEven:"even",sRowEmpty:"dataTables_empty",sWrapper:"dataTables_wrapper",sFilter:"dataTables_filter",sInfo:"dataTables_info",sPaging:"dataTables_paginate fg-buttonset ui-buttonset fg-buttonset-multi ui-buttonset-multi paging_",sLength:"dataTables_length",sProcessing:"dataTables_processing",sSortAsc:"ui-state-default",sSortDesc:"ui-state-default",sSortable:"ui-state-default",sSortableAsc:"ui-state-default",sSortableDesc:"ui-state-default",sSortableNone:"ui-state-default",sSortColumn:"sorting_",sSortJUIAsc:"css_right ui-icon ui-icon-triangle-1-n",sSortJUIDesc:"css_right ui-icon ui-icon-triangle-1-s",sSortJUI:"css_right ui-icon ui-icon-carat-2-n-s",sSortJUIAscAllowed:"css_right ui-icon ui-icon-carat-1-n",sSortJUIDescAllowed:"css_right ui-icon ui-icon-carat-1-s",sSortJUIWrapper:"DataTables_sort_wrapper",sSortIcon:"DataTables_sort_icon",sScrollWrapper:"dataTables_scroll",sScrollHead:"dataTables_scrollHead ui-state-default",sScrollHeadInner:"dataTables_scrollHeadInner",sScrollBody:"dataTables_scrollBody",sScrollFoot:"dataTables_scrollFoot ui-state-default",sScrollFootInner:"dataTables_scrollFootInner",sFooterTH:"ui-state-default"};n.oPagination={two_button:{fnInit:function(g,l,s){var t,w,y;if(g.bJUI){t=p.createElement("a");w=p.createElement("a");y=p.createElement("span");y.className=g.oClasses.sPageJUINext;w.appendChild(y);y=p.createElement("span");y.className=g.oClasses.sPageJUIPrev;t.appendChild(y)}else{t=p.createElement("div");w=p.createElement("div")}t.className=g.oClasses.sPagePrevDisabled;w.className=g.oClasses.sPageNextDisabled;t.title=g.oLanguage.oPaginate.sPrevious;w.title=g.oLanguage.oPaginate.sNext;l.appendChild(t);l.appendChild(w);i(t).bind("click.DT",function(){g.oApi._fnPageChange(g,"previous")&&s(g)});i(w).bind("click.DT",function(){g.oApi._fnPageChange(g,"next")&&s(g)});i(t).bind("selectstart.DT",function(){return false});i(w).bind("selectstart.DT",function(){return false});if(g.sTableId!==""&&typeof g.aanFeatures.p=="undefined"){l.setAttribute("id",g.sTableId+"_paginate");t.setAttribute("id",g.sTableId+"_previous");w.setAttribute("id",g.sTableId+"_next")}},fnUpdate:function(g){if(g.aanFeatures.p){for(var l=g.aanFeatures.p,s=0,t=l.length;s<t;s++){if(l[s].childNodes.length!==0){l[s].childNodes[0].className=g._iDisplayStart===0?g.oClasses.sPagePrevDisabled:g.oClasses.sPagePrevEnabled;l[s].childNodes[1].className=g.fnDisplayEnd()==g.fnRecordsDisplay()?g.oClasses.sPageNextDisabled:g.oClasses.sPageNextEnabled}}}}},iFullNumbersShowPages:5,full_numbers:{fnInit:function(g,l,s){var t=p.createElement("span"),w=p.createElement("span"),y=p.createElement("span"),F=p.createElement("span"),x=p.createElement("span");t.innerHTML=g.oLanguage.oPaginate.sFirst;w.innerHTML=g.oLanguage.oPaginate.sPrevious;F.innerHTML=g.oLanguage.oPaginate.sNext;x.innerHTML=g.oLanguage.oPaginate.sLast;var v=g.oClasses;t.className=v.sPageButton+" "+v.sPageFirst;w.className=v.sPageButton+" "+v.sPagePrevious;F.className=v.sPageButton+" "+v.sPageNext;x.className=v.sPageButton+" "+v.sPageLast;l.appendChild(t);l.appendChild(w);l.appendChild(y);l.appendChild(F);l.appendChild(x);i(t).bind("click.DT",function(){g.oApi._fnPageChange(g,"first")&&s(g)});i(w).bind("click.DT",function(){g.oApi._fnPageChange(g,"previous")&&s(g)});i(F).bind("click.DT",function(){g.oApi._fnPageChange(g,"next")&&s(g)});i(x).bind("click.DT",function(){g.oApi._fnPageChange(g,"last")&&s(g)});i("span",l).bind("mousedown.DT",function(){return false}).bind("selectstart.DT",function(){return false});if(g.sTableId!==""&&typeof g.aanFeatures.p=="undefined"){l.setAttribute("id",g.sTableId+"_paginate");t.setAttribute("id",g.sTableId+"_first");w.setAttribute("id",g.sTableId+"_previous");F.setAttribute("id",g.sTableId+"_next");x.setAttribute("id",g.sTableId+"_last")}},fnUpdate:function(g,l){if(g.aanFeatures.p){var s=n.oPagination.iFullNumbersShowPages,t=Math.floor(s/2),w=Math.ceil(g.fnRecordsDisplay()/g._iDisplayLength),y=Math.ceil(g._iDisplayStart/g._iDisplayLength)+1,F="",x,v=g.oClasses;if(w<s){t=1;x=w}else{if(y<=t){t=1;x=s}else{if(y>=w-t){t=w-s+1;x=w}else{t=y-Math.ceil(s/2)+1;x=t+s-1}}}for(s=t;s<=x;s++){F+=y!=s?'<span class="'+v.sPageButton+'">'+s+"</span>":'<span class="'+v.sPageButtonActive+'">'+s+"</span>"}x=g.aanFeatures.p;var z,$=function(M){g._iDisplayStart=(this.innerHTML*1-1)*g._iDisplayLength;l(g);M.preventDefault()},X=function(){return false};s=0;for(t=x.length;s<t;s++){if(x[s].childNodes.length!==0){z=i("span:eq(2)",x[s]);z.html(F);i("span",z).bind("click.DT",$).bind("mousedown.DT",X).bind("selectstart.DT",X);z=x[s].getElementsByTagName("span");z=[z[0],z[1],z[z.length-2],z[z.length-1]];i(z).removeClass(v.sPageButton+" "+v.sPageButtonActive+" "+v.sPageButtonStaticDisabled);if(y==1){z[0].className+=" "+v.sPageButtonStaticDisabled;z[1].className+=" "+v.sPageButtonStaticDisabled}else{z[0].className+=" "+v.sPageButton;z[1].className+=" "+v.sPageButton}if(w===0||y==w||g._iDisplayLength==-1){z[2].className+=" "+v.sPageButtonStaticDisabled;z[3].className+=" "+v.sPageButtonStaticDisabled}else{z[2].className+=" "+v.sPageButton;z[3].className+=" "+v.sPageButton}}}}}}};n.oSort={"string-asc":function(g,l){if(typeof g!="string"){g=""}if(typeof l!="string"){l=""}g=g.toLowerCase();l=l.toLowerCase();return g<l?-1:g>l?1:0},"string-desc":function(g,l){if(typeof g!="string"){g=""}if(typeof l!="string"){l=""}g=g.toLowerCase();l=l.toLowerCase();return g<l?1:g>l?-1:0},"html-asc":function(g,l){g=g.replace(/<.*?>/g,"").toLowerCase();l=l.replace(/<.*?>/g,"").toLowerCase();return g<l?-1:g>l?1:0},"html-desc":function(g,l){g=g.replace(/<.*?>/g,"").toLowerCase();l=l.replace(/<.*?>/g,"").toLowerCase();return g<l?1:g>l?-1:0},"date-asc":function(g,l){g=Date.parse(g);l=Date.parse(l);if(isNaN(g)||g===""){g=Date.parse("01/01/1970 00:00:00")}if(isNaN(l)||l===""){l=Date.parse("01/01/1970 00:00:00")}return g-l},"date-desc":function(g,l){g=Date.parse(g);l=Date.parse(l);if(isNaN(g)||g===""){g=Date.parse("01/01/1970 00:00:00")}if(isNaN(l)||l===""){l=Date.parse("01/01/1970 00:00:00")}return l-g},"numeric-asc":function(g,l){return(g=="-"||g===""?0:g*1)-(l=="-"||l===""?0:l*1)},"numeric-desc":function(g,l){return(l=="-"||l===""?0:l*1)-(g=="-"||g===""?0:g*1)}};n.aTypes=[function(g){if(typeof g=="number"){return"numeric"}else{if(typeof g!="string"){return null}}var l,s=false;l=g.charAt(0);if("0123456789-".indexOf(l)==-1){return null}for(var t=1;t<g.length;t++){l=g.charAt(t);if("0123456789.".indexOf(l)==-1){return null}if(l=="."){if(s){return null}s=true}}return"numeric"},function(g){var l=Date.parse(g);if(l!==null&&!isNaN(l)||typeof g=="string"&&g.length===0){return"date"}return null},function(g){if(typeof g=="string"&&g.indexOf("<")!=-1&&g.indexOf(">")!=-1){return"html"}return null}];n.fnVersionCheck=function(g){var l=function(x,v){for(;x.length<v;){x+="0"}return x},s=n.sVersion.split(".");g=g.split(".");for(var t="",w="",y=0,F=g.length;y<F;y++){t+=l(s[y],3);w+=l(g[y],3)}return parseInt(t,10)>=parseInt(w,10)};n._oExternConfig={iNextUnique:0};i.fn.dataTable=function(g){function l(){this.fnRecordsTotal=function(){return this.oFeatures.bServerSide?parseInt(this._iRecordsTotal,10):this.aiDisplayMaster.length};this.fnRecordsDisplay=function(){return this.oFeatures.bServerSide?parseInt(this._iRecordsDisplay,10):this.aiDisplay.length};this.fnDisplayEnd=function(){return this.oFeatures.bServerSide?this.oFeatures.bPaginate===false||this._iDisplayLength==-1?this._iDisplayStart+this.aiDisplay.length:Math.min(this._iDisplayStart+this._iDisplayLength,this._iRecordsDisplay):this._iDisplayEnd};this.sInstance=this.oInstance=null;this.oFeatures={bPaginate:true,bLengthChange:true,bFilter:true,bSort:true,bInfo:true,bAutoWidth:true,bProcessing:false,bSortClasses:true,bStateSave:false,bServerSide:false,bDeferRender:false};this.oScroll={sX:"",sXInner:"",sY:"",bCollapse:false,bInfinite:false,iLoadGap:100,iBarWidth:0,bAutoCss:true};this.aanFeatures=[];this.oLanguage={sProcessing:"Processing...",sLengthMenu:"Show _MENU_ entries",sZeroRecords:"No matching records found",sEmptyTable:"No data available in table",sLoadingRecords:"Loading...",sInfo:"Showing _START_ to _END_ of _TOTAL_ entries",sInfoEmpty:"Showing 0 to 0 of 0 entries",sInfoFiltered:"(filtered from _MAX_ total entries)",sInfoPostFix:"",sInfoThousands:",",sSearch:"Search:",sUrl:"",oPaginate:{sFirst:"First",sPrevious:"Previous",sNext:"Next",sLast:"Last"},fnInfoCallback:null};this.aoData=[];this.aiDisplay=[];this.aiDisplayMaster=[];this.aoColumns=[];this.aoHeader=[];this.aoFooter=[];this.iNextId=0;this.asDataSearch=[];this.oPreviousSearch={sSearch:"",bRegex:false,bSmart:true};this.aoPreSearchCols=[];this.aaSorting=[[0,"asc",0]];this.aaSortingFixed=null;this.asStripeClasses=[];this.asDestroyStripes=[];this.sDestroyWidth=0;this.fnFooterCallback=this.fnHeaderCallback=this.fnRowCallback=null;this.aoDrawCallback=[];this.fnInitComplete=this.fnPreDrawCallback=null;this.sTableId="";this.nTableWrapper=this.nTBody=this.nTFoot=this.nTHead=this.nTable=null;this.bInitialised=this.bDeferLoading=false;this.aoOpenRows=[];this.sDom="lfrtip";this.sPaginationType="two_button";this.iCookieDuration=7200;this.sCookiePrefix="SpryMedia_DataTables_";this.fnCookieCallback=null;this.aoStateSave=[];this.aoStateLoad=[];this.sAjaxSource=this.oLoadedState=null;this.sAjaxDataProp="aaData";this.bAjaxDataGet=true;this.jqXHR=null;this.fnServerData=function(a,b,c,d){d.jqXHR=i.ajax({url:a,data:b,success:function(f){i(d.oInstance).trigger("xhr",d);c(f)},dataType:"json",cache:false,error:function(f,e){e=="parsererror"&&alert("DataTables warning: JSON data from server could not be parsed. This is caused by a JSON formatting error.")}})};this.aoServerParams=[];this.fnFormatNumber=function(a){if(a<1000){return a}else{var b=a+"";a=b.split("");var c="";b=b.length;for(var d=0;d<b;d++){if(d%3===0&&d!==0){c=this.oLanguage.sInfoThousands+c}c=a[b-d-1]+c}}return c};this.aLengthMenu=[10,25,50,100];this.bDrawing=this.iDraw=0;this.iDrawError=-1;this._iDisplayLength=10;this._iDisplayStart=0;this._iDisplayEnd=10;this._iRecordsDisplay=this._iRecordsTotal=0;this.bJUI=false;this.oClasses=n.oStdClasses;this.bSortCellsTop=this.bSorted=this.bFiltered=false;this.oInit=null;this.aoDestroyCallback=[]}function s(a){return function(){var b=[A(this[n.iApiIndex])].concat(Array.prototype.slice.call(arguments));return n.oApi[a].apply(this,b)}}function t(a){var b,c,d=a.iInitDisplayStart;if(a.bInitialised===false){setTimeout(function(){t(a)},200)}else{Aa(a);X(a);M(a,a.aoHeader);a.nTFoot&&M(a,a.aoFooter);K(a,true);a.oFeatures.bAutoWidth&&ga(a);b=0;for(c=a.aoColumns.length;b<c;b++){if(a.aoColumns[b].sWidth!==null){a.aoColumns[b].nTh.style.width=q(a.aoColumns[b].sWidth)}}if(a.oFeatures.bSort){R(a)}else{if(a.oFeatures.bFilter){N(a,a.oPreviousSearch)}else{a.aiDisplay=a.aiDisplayMaster.slice();E(a);C(a)}}if(a.sAjaxSource!==null&&!a.oFeatures.bServerSide){c=[];ha(a,c);a.fnServerData.call(a.oInstance,a.sAjaxSource,c,function(f){var e=f;if(a.sAjaxDataProp!==""){e=aa(a.sAjaxDataProp)(f)}for(b=0;b<e.length;b++){v(a,e[b])}a.iInitDisplayStart=d;if(a.oFeatures.bSort){R(a)}else{a.aiDisplay=a.aiDisplayMaster.slice();E(a);C(a)}K(a,false);w(a,f)},a)}else{if(!a.oFeatures.bServerSide){K(a,false);w(a)}}}}function w(a,b){a._bInitComplete=true;if(typeof a.fnInitComplete=="function"){typeof b!="undefined"?a.fnInitComplete.call(a.oInstance,a,b):a.fnInitComplete.call(a.oInstance,a)}}function y(a,b,c){a.oLanguage=i.extend(true,a.oLanguage,b);typeof b.sEmptyTable=="undefined"&&typeof b.sZeroRecords!="undefined"&&o(a.oLanguage,b,"sZeroRecords","sEmptyTable");typeof b.sLoadingRecords=="undefined"&&typeof b.sZeroRecords!="undefined"&&o(a.oLanguage,b,"sZeroRecords","sLoadingRecords");c&&t(a)}function F(a,b){var c=a.aoColumns.length;b={sType:null,_bAutoType:true,bVisible:true,bSearchable:true,bSortable:true,asSorting:["asc","desc"],sSortingClass:a.oClasses.sSortable,sSortingClassJUI:a.oClasses.sSortJUI,sTitle:b?b.innerHTML:"",sName:"",sWidth:null,sWidthOrig:null,sClass:null,fnRender:null,bUseRendered:true,iDataSort:c,mDataProp:c,fnGetData:null,fnSetData:null,sSortDataType:"std",sDefaultContent:null,sContentPadding:"",nTh:b?b:p.createElement("th"),nTf:null};a.aoColumns.push(b);if(typeof a.aoPreSearchCols[c]=="undefined"||a.aoPreSearchCols[c]===null){a.aoPreSearchCols[c]={sSearch:"",bRegex:false,bSmart:true}}else{if(typeof a.aoPreSearchCols[c].bRegex=="undefined"){a.aoPreSearchCols[c].bRegex=true}if(typeof a.aoPreSearchCols[c].bSmart=="undefined"){a.aoPreSearchCols[c].bSmart=true}}x(a,c,null)}function x(a,b,c){b=a.aoColumns[b];if(typeof c!="undefined"&&c!==null){if(typeof c.sType!="undefined"){b.sType=c.sType;b._bAutoType=false}o(b,c,"bVisible");o(b,c,"bSearchable");o(b,c,"bSortable");o(b,c,"sTitle");o(b,c,"sName");o(b,c,"sWidth");o(b,c,"sWidth","sWidthOrig");o(b,c,"sClass");o(b,c,"fnRender");o(b,c,"bUseRendered");o(b,c,"iDataSort");o(b,c,"mDataProp");o(b,c,"asSorting");o(b,c,"sSortDataType");o(b,c,"sDefaultContent");o(b,c,"sContentPadding")}b.fnGetData=aa(b.mDataProp);b.fnSetData=Ba(b.mDataProp);if(!a.oFeatures.bSort){b.bSortable=false}if(!b.bSortable||i.inArray("asc",b.asSorting)==-1&&i.inArray("desc",b.asSorting)==-1){b.sSortingClass=a.oClasses.sSortableNone;b.sSortingClassJUI=""}else{if(b.bSortable||i.inArray("asc",b.asSorting)==-1&&i.inArray("desc",b.asSorting)==-1){b.sSortingClass=a.oClasses.sSortable;b.sSortingClassJUI=a.oClasses.sSortJUI}else{if(i.inArray("asc",b.asSorting)!=-1&&i.inArray("desc",b.asSorting)==-1){b.sSortingClass=a.oClasses.sSortableAsc;b.sSortingClassJUI=a.oClasses.sSortJUIAscAllowed}else{if(i.inArray("asc",b.asSorting)==-1&&i.inArray("desc",b.asSorting)!=-1){b.sSortingClass=a.oClasses.sSortableDesc;b.sSortingClassJUI=a.oClasses.sSortJUIDescAllowed}}}}}function v(a,b){var c;c=i.isArray(b)?b.slice():i.extend(true,{},b);b=a.aoData.length;var d={nTr:null,_iId:a.iNextId++,_aData:c,_anHidden:[],_sRowStripe:""};a.aoData.push(d);for(var f,e=0,h=a.aoColumns.length;e<h;e++){c=a.aoColumns[e];typeof c.fnRender=="function"&&c.bUseRendered&&c.mDataProp!==null&&O(a,b,e,c.fnRender({iDataRow:b,iDataColumn:e,aData:d._aData,oSettings:a}));if(c._bAutoType&&c.sType!="string"){f=G(a,b,e,"type");if(f!==null&&f!==""){f=ia(f);if(c.sType===null){c.sType=f}else{if(c.sType!=f&&c.sType!="html"){c.sType="string"}}}}}a.aiDisplayMaster.push(b);a.oFeatures.bDeferRender||z(a,b);return b}function z(a,b){var c=a.aoData[b],d;if(c.nTr===null){c.nTr=p.createElement("tr");typeof c._aData.DT_RowId!="undefined"&&c.nTr.setAttribute("id",c._aData.DT_RowId);typeof c._aData.DT_RowClass!="undefined"&&i(c.nTr).addClass(c._aData.DT_RowClass);for(var f=0,e=a.aoColumns.length;f<e;f++){var h=a.aoColumns[f];d=p.createElement("td");d.innerHTML=typeof h.fnRender=="function"&&(!h.bUseRendered||h.mDataProp===null)?h.fnRender({iDataRow:b,iDataColumn:f,aData:c._aData,oSettings:a}):G(a,b,f,"display");if(h.sClass!==null){d.className=h.sClass}if(h.bVisible){c.nTr.appendChild(d);c._anHidden[f]=null}else{c._anHidden[f]=d}}}}function $(a){var b,c,d,f,e,h,j,k,m;if(a.bDeferLoading||a.sAjaxSource===null){j=a.nTBody.childNodes;b=0;for(c=j.length;b<c;b++){if(j[b].nodeName.toUpperCase()=="TR"){k=a.aoData.length;a.aoData.push({nTr:j[b],_iId:a.iNextId++,_aData:[],_anHidden:[],_sRowStripe:""});a.aiDisplayMaster.push(k);h=j[b].childNodes;d=e=0;for(f=h.length;d<f;d++){m=h[d].nodeName.toUpperCase();if(m=="TD"||m=="TH"){O(a,k,e,i.trim(h[d].innerHTML));e++}}}}}j=ba(a);h=[];b=0;for(c=j.length;b<c;b++){d=0;for(f=j[b].childNodes.length;d<f;d++){e=j[b].childNodes[d];m=e.nodeName.toUpperCase();if(m=="TD"||m=="TH"){h.push(e)}}}h.length!=j.length*a.aoColumns.length&&J(a,1,"Unexpected number of TD elements. Expected "+j.length*a.aoColumns.length+" and got "+h.length+". DataTables does not support rowspan / colspan in the table body, and there must be one cell for each row/column combination.");d=0;for(f=a.aoColumns.length;d<f;d++){if(a.aoColumns[d].sTitle===null){a.aoColumns[d].sTitle=a.aoColumns[d].nTh.innerHTML}j=a.aoColumns[d]._bAutoType;m=typeof a.aoColumns[d].fnRender=="function";e=a.aoColumns[d].sClass!==null;k=a.aoColumns[d].bVisible;var u,r;if(j||m||e||!k){b=0;for(c=a.aoData.length;b<c;b++){u=h[b*f+d];if(j&&a.aoColumns[d].sType!="string"){r=G(a,b,d,"type");if(r!==""){r=ia(r);if(a.aoColumns[d].sType===null){a.aoColumns[d].sType=r}else{if(a.aoColumns[d].sType!=r&&a.aoColumns[d].sType!="html"){a.aoColumns[d].sType="string"}}}}if(m){r=a.aoColumns[d].fnRender({iDataRow:b,iDataColumn:d,aData:a.aoData[b]._aData,oSettings:a});u.innerHTML=r;a.aoColumns[d].bUseRendered&&O(a,b,d,r)}if(e){u.className+=" "+a.aoColumns[d].sClass}if(k){a.aoData[b]._anHidden[d]=null}else{a.aoData[b]._anHidden[d]=u;u.parentNode.removeChild(u)}}}}}function X(a){var b,c,d;a.nTHead.getElementsByTagName("tr");if(a.nTHead.getElementsByTagName("th").length!==0){b=0;for(d=a.aoColumns.length;b<d;b++){c=a.aoColumns[b].nTh;a.aoColumns[b].sClass!==null&&i(c).addClass(a.aoColumns[b].sClass);if(a.aoColumns[b].sTitle!=c.innerHTML){c.innerHTML=a.aoColumns[b].sTitle}}}else{var f=p.createElement("tr");b=0;for(d=a.aoColumns.length;b<d;b++){c=a.aoColumns[b].nTh;c.innerHTML=a.aoColumns[b].sTitle;a.aoColumns[b].sClass!==null&&i(c).addClass(a.aoColumns[b].sClass);f.appendChild(c)}i(a.nTHead).html("")[0].appendChild(f);Y(a.aoHeader,a.nTHead)}if(a.bJUI){b=0;for(d=a.aoColumns.length;b<d;b++){c=a.aoColumns[b].nTh;f=p.createElement("div");f.className=a.oClasses.sSortJUIWrapper;i(c).contents().appendTo(f);var e=p.createElement("span");e.className=a.oClasses.sSortIcon;f.appendChild(e);c.appendChild(f)}}d=function(){this.onselectstart=function(){return false};return false};if(a.oFeatures.bSort){for(b=0;b<a.aoColumns.length;b++){if(a.aoColumns[b].bSortable!==false){ja(a,a.aoColumns[b].nTh,b);i(a.aoColumns[b].nTh).bind("mousedown.DT",d)}else{i(a.aoColumns[b].nTh).addClass(a.oClasses.sSortableNone)}}}a.oClasses.sFooterTH!==""&&i(a.nTFoot).children("tr").children("th").addClass(a.oClasses.sFooterTH);if(a.nTFoot!==null){c=S(a,null,a.aoFooter);b=0;for(d=a.aoColumns.length;b<d;b++){if(typeof c[b]!="undefined"){a.aoColumns[b].nTf=c[b]}}}}function M(a,b,c){var d,f,e,h=[],j=[],k=a.aoColumns.length;if(typeof c=="undefined"){c=false}d=0;for(f=b.length;d<f;d++){h[d]=b[d].slice();h[d].nTr=b[d].nTr;for(e=k-1;e>=0;e--){!a.aoColumns[e].bVisible&&!c&&h[d].splice(e,1)}j.push([])}d=0;for(f=h.length;d<f;d++){if(h[d].nTr){a=0;for(e=h[d].nTr.childNodes.length;a<e;a++){h[d].nTr.removeChild(h[d].nTr.childNodes[0])}}e=0;for(b=h[d].length;e<b;e++){k=c=1;if(typeof j[d][e]=="undefined"){h[d].nTr.appendChild(h[d][e].cell);for(j[d][e]=1;typeof h[d+c]!="undefined"&&h[d][e].cell==h[d+c][e].cell;){j[d+c][e]=1;c++}for(;typeof h[d][e+k]!="undefined"&&h[d][e].cell==h[d][e+k].cell;){for(a=0;a<c;a++){j[d+a][e+k]=1}k++}h[d][e].cell.rowSpan=c;h[d][e].cell.colSpan=k}}}}function C(a){var b,c,d=[],f=0,e=false;b=a.asStripeClasses.length;c=a.aoOpenRows.length;if(!(a.fnPreDrawCallback!==null&&a.fnPreDrawCallback.call(a.oInstance,a)===false)){a.bDrawing=true;if(typeof a.iInitDisplayStart!="undefined"&&a.iInitDisplayStart!=-1){a._iDisplayStart=a.oFeatures.bServerSide?a.iInitDisplayStart:a.iInitDisplayStart>=a.fnRecordsDisplay()?0:a.iInitDisplayStart;a.iInitDisplayStart=-1;E(a)}if(a.bDeferLoading){a.bDeferLoading=false;a.iDraw++}else{if(a.oFeatures.bServerSide){if(!a.bDestroying&&!Ca(a)){return}}else{a.iDraw++}}if(a.aiDisplay.length!==0){var h=a._iDisplayStart,j=a._iDisplayEnd;if(a.oFeatures.bServerSide){h=0;j=a.aoData.length}for(h=h;h<j;h++){var k=a.aoData[a.aiDisplay[h]];k.nTr===null&&z(a,a.aiDisplay[h]);var m=k.nTr;if(b!==0){var u=a.asStripeClasses[f%b];if(k._sRowStripe!=u){i(m).removeClass(k._sRowStripe).addClass(u);k._sRowStripe=u}}if(typeof a.fnRowCallback=="function"){m=a.fnRowCallback.call(a.oInstance,m,a.aoData[a.aiDisplay[h]]._aData,f,h);if(!m&&!e){J(a,0,"A node was not returned by fnRowCallback");e=true}}d.push(m);f++;if(c!==0){for(k=0;k<c;k++){m==a.aoOpenRows[k].nParent&&d.push(a.aoOpenRows[k].nTr)}}}}else{d[0]=p.createElement("tr");if(typeof a.asStripeClasses[0]!="undefined"){d[0].className=a.asStripeClasses[0]}e=a.oLanguage.sZeroRecords.replace("_MAX_",a.fnFormatNumber(a.fnRecordsTotal()));if(a.iDraw==1&&a.sAjaxSource!==null&&!a.oFeatures.bServerSide){e=a.oLanguage.sLoadingRecords}else{if(typeof a.oLanguage.sEmptyTable!="undefined"&&a.fnRecordsTotal()===0){e=a.oLanguage.sEmptyTable}}b=p.createElement("td");b.setAttribute("valign","top");b.colSpan=Z(a);b.className=a.oClasses.sRowEmpty;b.innerHTML=e;d[f].appendChild(b)}typeof a.fnHeaderCallback=="function"&&a.fnHeaderCallback.call(a.oInstance,i(a.nTHead).children("tr")[0],ca(a),a._iDisplayStart,a.fnDisplayEnd(),a.aiDisplay);typeof a.fnFooterCallback=="function"&&a.fnFooterCallback.call(a.oInstance,i(a.nTFoot).children("tr")[0],ca(a),a._iDisplayStart,a.fnDisplayEnd(),a.aiDisplay);f=p.createDocumentFragment();b=p.createDocumentFragment();if(a.nTBody){e=a.nTBody.parentNode;b.appendChild(a.nTBody);if(!a.oScroll.bInfinite||!a._bInitComplete||a.bSorted||a.bFiltered){c=a.nTBody.childNodes;for(b=c.length-1;b>=0;b--){c[b].parentNode.removeChild(c[b])}}b=0;for(c=d.length;b<c;b++){f.appendChild(d[b])}a.nTBody.appendChild(f);e!==null&&e.appendChild(a.nTBody)}for(b=a.aoDrawCallback.length-1;b>=0;b--){a.aoDrawCallback[b].fn.call(a.oInstance,a)}i(a.oInstance).trigger("draw",a);a.bSorted=false;a.bFiltered=false;a.bDrawing=false;if(a.oFeatures.bServerSide){K(a,false);typeof a._bInitComplete=="undefined"&&w(a)}}}function da(a){if(a.oFeatures.bSort){R(a,a.oPreviousSearch)}else{if(a.oFeatures.bFilter){N(a,a.oPreviousSearch)}else{E(a);C(a)}}}function Ca(a){if(a.bAjaxDataGet){a.iDraw++;K(a,true);var b=Da(a);ha(a,b);a.fnServerData.call(a.oInstance,a.sAjaxSource,b,function(c){Ea(a,c)},a);return false}else{return true}}function Da(a){var b=a.aoColumns.length,c=[],d,f;c.push({name:"sEcho",value:a.iDraw});c.push({name:"iColumns",value:b});c.push({name:"sColumns",value:ka(a)});c.push({name:"iDisplayStart",value:a._iDisplayStart});c.push({name:"iDisplayLength",value:a.oFeatures.bPaginate!==false?a._iDisplayLength:-1});for(f=0;f<b;f++){d=a.aoColumns[f].mDataProp;c.push({name:"mDataProp_"+f,value:typeof d=="function"?"function":d})}if(a.oFeatures.bFilter!==false){c.push({name:"sSearch",value:a.oPreviousSearch.sSearch});c.push({name:"bRegex",value:a.oPreviousSearch.bRegex});for(f=0;f<b;f++){c.push({name:"sSearch_"+f,value:a.aoPreSearchCols[f].sSearch});c.push({name:"bRegex_"+f,value:a.aoPreSearchCols[f].bRegex});c.push({name:"bSearchable_"+f,value:a.aoColumns[f].bSearchable})}}if(a.oFeatures.bSort!==false){d=a.aaSortingFixed!==null?a.aaSortingFixed.length:0;var e=a.aaSorting.length;c.push({name:"iSortingCols",value:d+e});for(f=0;f<d;f++){c.push({name:"iSortCol_"+f,value:a.aaSortingFixed[f][0]});c.push({name:"sSortDir_"+f,value:a.aaSortingFixed[f][1]})}for(f=0;f<e;f++){c.push({name:"iSortCol_"+(f+d),value:a.aaSorting[f][0]});c.push({name:"sSortDir_"+(f+d),value:a.aaSorting[f][1]})}for(f=0;f<b;f++){c.push({name:"bSortable_"+f,value:a.aoColumns[f].bSortable})}}return c}function ha(a,b){for(var c=0,d=a.aoServerParams.length;c<d;c++){a.aoServerParams[c].fn.call(a.oInstance,b)}}function Ea(a,b){if(typeof b.sEcho!="undefined"){if(b.sEcho*1<a.iDraw){return}else{a.iDraw=b.sEcho*1}}if(!a.oScroll.bInfinite||a.oScroll.bInfinite&&(a.bSorted||a.bFiltered)){la(a)}a._iRecordsTotal=b.iTotalRecords;a._iRecordsDisplay=b.iTotalDisplayRecords;var c=ka(a);if(c=typeof b.sColumns!="undefined"&&c!==""&&b.sColumns!=c){var d=Fa(a,b.sColumns)}b=aa(a.sAjaxDataProp)(b);for(var f=0,e=b.length;f<e;f++){if(c){for(var h=[],j=0,k=a.aoColumns.length;j<k;j++){h.push(b[f][d[j]])}v(a,h)}else{v(a,b[f])}}a.aiDisplay=a.aiDisplayMaster.slice();a.bAjaxDataGet=false;C(a);a.bAjaxDataGet=true;K(a,false)}function Aa(a){var b=p.createElement("div");a.nTable.parentNode.insertBefore(b,a.nTable);a.nTableWrapper=p.createElement("div");a.nTableWrapper.className=a.oClasses.sWrapper;a.sTableId!==""&&a.nTableWrapper.setAttribute("id",a.sTableId+"_wrapper");a.nTableReinsertBefore=a.nTable.nextSibling;for(var c=a.nTableWrapper,d=a.sDom.split(""),f,e,h,j,k,m,u,r=0;r<d.length;r++){e=0;h=d[r];if(h=="<"){j=p.createElement("div");k=d[r+1];if(k=="'"||k=='"'){m="";for(u=2;d[r+u]!=k;){m+=d[r+u];u++}if(m=="H"){m="fg-toolbar ui-toolbar ui-widget-header ui-corner-tl ui-corner-tr ui-helper-clearfix"}else{if(m=="F"){m="fg-toolbar ui-toolbar ui-widget-header ui-corner-bl ui-corner-br ui-helper-clearfix"}}if(m.indexOf(".")!=-1){k=m.split(".");j.setAttribute("id",k[0].substr(1,k[0].length-1));j.className=k[1]}else{if(m.charAt(0)=="#"){j.setAttribute("id",m.substr(1,m.length-1))}else{j.className=m}}r+=u}c.appendChild(j);c=j}else{if(h==">"){c=c.parentNode}else{if(h=="l"&&a.oFeatures.bPaginate&&a.oFeatures.bLengthChange){f=Ga(a);e=1}else{if(h=="f"&&a.oFeatures.bFilter){f=Ha(a);e=1}else{if(h=="r"&&a.oFeatures.bProcessing){f=Ia(a);e=1}else{if(h=="t"){f=Ja(a);e=1}else{if(h=="i"&&a.oFeatures.bInfo){f=Ka(a);e=1}else{if(h=="p"&&a.oFeatures.bPaginate){f=La(a);e=1}else{if(n.aoFeatures.length!==0){j=n.aoFeatures;u=0;for(k=j.length;u<k;u++){if(h==j[u].cFeature){if(f=j[u].fnInit(a)){e=1}break}}}}}}}}}}}if(e==1&&f!==null){if(typeof a.aanFeatures[h]!="object"){a.aanFeatures[h]=[]}a.aanFeatures[h].push(f);c.appendChild(f)}}b.parentNode.replaceChild(a.nTableWrapper,b)}function Ja(a){if(a.oScroll.sX===""&&a.oScroll.sY===""){return a.nTable}var b=p.createElement("div"),c=p.createElement("div"),d=p.createElement("div"),f=p.createElement("div"),e=p.createElement("div"),h=p.createElement("div"),j=a.nTable.cloneNode(false),k=a.nTable.cloneNode(false),m=a.nTable.getElementsByTagName("thead")[0],u=a.nTable.getElementsByTagName("tfoot").length===0?null:a.nTable.getElementsByTagName("tfoot")[0],r=typeof g.bJQueryUI!="undefined"&&g.bJQueryUI?n.oJUIClasses:n.oStdClasses;c.appendChild(d);e.appendChild(h);f.appendChild(a.nTable);b.appendChild(c);b.appendChild(f);d.appendChild(j);j.appendChild(m);if(u!==null){b.appendChild(e);h.appendChild(k);k.appendChild(u)}b.className=r.sScrollWrapper;c.className=r.sScrollHead;d.className=r.sScrollHeadInner;f.className=r.sScrollBody;e.className=r.sScrollFoot;h.className=r.sScrollFootInner;if(a.oScroll.bAutoCss){c.style.overflow="hidden";c.style.position="relative";e.style.overflow="hidden";f.style.overflow="auto"}c.style.border="0";c.style.width="100%";e.style.border="0";d.style.width="150%";j.removeAttribute("id");j.style.marginLeft="0";a.nTable.style.marginLeft="0";if(u!==null){k.removeAttribute("id");k.style.marginLeft="0"}d=i(a.nTable).children("caption");h=0;for(k=d.length;h<k;h++){j.appendChild(d[h])}if(a.oScroll.sX!==""){c.style.width=q(a.oScroll.sX);f.style.width=q(a.oScroll.sX);if(u!==null){e.style.width=q(a.oScroll.sX)}i(f).scroll(function(){c.scrollLeft=this.scrollLeft;if(u!==null){e.scrollLeft=this.scrollLeft}})}if(a.oScroll.sY!==""){f.style.height=q(a.oScroll.sY)}a.aoDrawCallback.push({fn:Ma,sName:"scrolling"});a.oScroll.bInfinite&&i(f).scroll(function(){if(!a.bDrawing){if(i(this).scrollTop()+i(this).height()>i(a.nTable).height()-a.oScroll.iLoadGap){if(a.fnDisplayEnd()<a.fnRecordsDisplay()){ma(a,"next");E(a);C(a)}}}});a.nScrollHead=c;a.nScrollFoot=e;return b}function Ma(a){var b=a.nScrollHead.getElementsByTagName("div")[0],c=b.getElementsByTagName("table")[0],d=a.nTable.parentNode,f,e,h,j,k,m,u,r,H=[],L=a.nTFoot!==null?a.nScrollFoot.getElementsByTagName("div")[0]:null,T=a.nTFoot!==null?L.getElementsByTagName("table")[0]:null,B=i.browser.msie&&i.browser.version<=7;h=a.nTable.getElementsByTagName("thead");h.length>0&&a.nTable.removeChild(h[0]);if(a.nTFoot!==null){k=a.nTable.getElementsByTagName("tfoot");k.length>0&&a.nTable.removeChild(k[0])}h=a.nTHead.cloneNode(true);a.nTable.insertBefore(h,a.nTable.childNodes[0]);if(a.nTFoot!==null){k=a.nTFoot.cloneNode(true);a.nTable.insertBefore(k,a.nTable.childNodes[1])}if(a.oScroll.sX===""){d.style.width="100%";b.parentNode.style.width="100%"}var U=S(a,h);f=0;for(e=U.length;f<e;f++){u=Na(a,f);U[f].style.width=a.aoColumns[u].sWidth}a.nTFoot!==null&&P(function(I){I.style.width=""},k.getElementsByTagName("tr"));f=i(a.nTable).outerWidth();if(a.oScroll.sX===""){a.nTable.style.width="100%";if(B&&(d.scrollHeight>d.offsetHeight||i(d).css("overflow-y")=="scroll")){a.nTable.style.width=q(i(a.nTable).outerWidth()-a.oScroll.iBarWidth)}}else{if(a.oScroll.sXInner!==""){a.nTable.style.width=q(a.oScroll.sXInner)}else{if(f==i(d).width()&&i(d).height()<i(a.nTable).height()){a.nTable.style.width=q(f-a.oScroll.iBarWidth);if(i(a.nTable).outerWidth()>f-a.oScroll.iBarWidth){a.nTable.style.width=q(f)}}else{a.nTable.style.width=q(f)}}}f=i(a.nTable).outerWidth();e=a.nTHead.getElementsByTagName("tr");h=h.getElementsByTagName("tr");P(function(I,na){m=I.style;m.paddingTop="0";m.paddingBottom="0";m.borderTopWidth="0";m.borderBottomWidth="0";m.height=0;r=i(I).width();na.style.width=q(r);H.push(r)},h,e);i(h).height(0);if(a.nTFoot!==null){j=k.getElementsByTagName("tr");k=a.nTFoot.getElementsByTagName("tr");P(function(I,na){m=I.style;m.paddingTop="0";m.paddingBottom="0";m.borderTopWidth="0";m.borderBottomWidth="0";m.height=0;r=i(I).width();na.style.width=q(r);H.push(r)},j,k);i(j).height(0)}P(function(I){I.innerHTML="";I.style.width=q(H.shift())},h);a.nTFoot!==null&&P(function(I){I.innerHTML="";I.style.width=q(H.shift())},j);if(i(a.nTable).outerWidth()<f){j=d.scrollHeight>d.offsetHeight||i(d).css("overflow-y")=="scroll"?f+a.oScroll.iBarWidth:f;if(B&&(d.scrollHeight>d.offsetHeight||i(d).css("overflow-y")=="scroll")){a.nTable.style.width=q(j-a.oScroll.iBarWidth)}d.style.width=q(j);b.parentNode.style.width=q(j);if(a.nTFoot!==null){L.parentNode.style.width=q(j)}if(a.oScroll.sX===""){J(a,1,"The table cannot fit into the current element which will cause column misalignment. The table has been drawn at its minimum possible width.")}else{a.oScroll.sXInner!==""&&J(a,1,"The table cannot fit into the current element which will cause column misalignment. Increase the sScrollXInner value or remove it to allow automatic calculation")}}else{d.style.width=q("100%");b.parentNode.style.width=q("100%");if(a.nTFoot!==null){L.parentNode.style.width=q("100%")}}if(a.oScroll.sY===""){if(B){d.style.height=q(a.nTable.offsetHeight+a.oScroll.iBarWidth)}}if(a.oScroll.sY!==""&&a.oScroll.bCollapse){d.style.height=q(a.oScroll.sY);B=a.oScroll.sX!==""&&a.nTable.offsetWidth>d.offsetWidth?a.oScroll.iBarWidth:0;if(a.nTable.offsetHeight<d.offsetHeight){d.style.height=q(i(a.nTable).height()+B)}}B=i(a.nTable).outerWidth();c.style.width=q(B);b.style.width=q(B+a.oScroll.iBarWidth);if(a.nTFoot!==null){L.style.width=q(a.nTable.offsetWidth+a.oScroll.iBarWidth);T.style.width=q(a.nTable.offsetWidth)}if(a.bSorted||a.bFiltered){d.scrollTop=0}}function ea(a){if(a.oFeatures.bAutoWidth===false){return false}ga(a);for(var b=0,c=a.aoColumns.length;b<c;b++){a.aoColumns[b].nTh.style.width=a.aoColumns[b].sWidth}}function Ha(a){var b=a.oLanguage.sSearch;b=b.indexOf("_INPUT_")!==-1?b.replace("_INPUT_",'<input type="text" />'):b===""?'<input type="text" />':b+' <input type="text" />';var c=p.createElement("div");c.className=a.oClasses.sFilter;c.innerHTML="<label>"+b+"</label>";a.sTableId!==""&&typeof a.aanFeatures.f=="undefined"&&c.setAttribute("id",a.sTableId+"_filter");b=i("input",c);b.val(a.oPreviousSearch.sSearch.replace('"',"&quot;"));b.bind("keyup.DT",function(){for(var d=a.aanFeatures.f,f=0,e=d.length;f<e;f++){d[f]!=i(this).parents("div.dataTables_filter")[0]&&i("input",d[f]).val(this.value)}this.value!=a.oPreviousSearch.sSearch&&N(a,{sSearch:this.value,bRegex:a.oPreviousSearch.bRegex,bSmart:a.oPreviousSearch.bSmart})});b.bind("keypress.DT",function(d){if(d.keyCode==13){return false}});return c}function N(a,b,c){Oa(a,b.sSearch,c,b.bRegex,b.bSmart);for(b=0;b<a.aoPreSearchCols.length;b++){Pa(a,a.aoPreSearchCols[b].sSearch,b,a.aoPreSearchCols[b].bRegex,a.aoPreSearchCols[b].bSmart)}n.afnFiltering.length!==0&&Qa(a);a.bFiltered=true;i(a.oInstance).trigger("filter",a);a._iDisplayStart=0;E(a);C(a);oa(a,0)}function Qa(a){for(var b=n.afnFiltering,c=0,d=b.length;c<d;c++){for(var f=0,e=0,h=a.aiDisplay.length;e<h;e++){var j=a.aiDisplay[e-f];if(!b[c](a,fa(a,j,"filter"),j)){a.aiDisplay.splice(e-f,1);f++}}}}function Pa(a,b,c,d,f){if(b!==""){var e=0;b=pa(b,d,f);for(d=a.aiDisplay.length-1;d>=0;d--){f=qa(G(a,a.aiDisplay[d],c,"filter"),a.aoColumns[c].sType);if(!b.test(f)){a.aiDisplay.splice(d,1);e++}}}}function Oa(a,b,c,d,f){var e=pa(b,d,f);if(typeof c=="undefined"||c===null){c=0}if(n.afnFiltering.length!==0){c=1}if(b.length<=0){a.aiDisplay.splice(0,a.aiDisplay.length);a.aiDisplay=a.aiDisplayMaster.slice()}else{if(a.aiDisplay.length==a.aiDisplayMaster.length||a.oPreviousSearch.sSearch.length>b.length||c==1||b.indexOf(a.oPreviousSearch.sSearch)!==0){a.aiDisplay.splice(0,a.aiDisplay.length);oa(a,1);for(c=0;c<a.aiDisplayMaster.length;c++){e.test(a.asDataSearch[c])&&a.aiDisplay.push(a.aiDisplayMaster[c])}}else{var h=0;for(c=0;c<a.asDataSearch.length;c++){if(!e.test(a.asDataSearch[c])){a.aiDisplay.splice(c-h,1);h++}}}}a.oPreviousSearch.sSearch=b;a.oPreviousSearch.bRegex=d;a.oPreviousSearch.bSmart=f}function oa(a,b){if(!a.oFeatures.bServerSide){a.asDataSearch.splice(0,a.asDataSearch.length);b=typeof b!="undefined"&&b==1?a.aiDisplayMaster:a.aiDisplay;for(var c=0,d=b.length;c<d;c++){a.asDataSearch[c]=ra(a,fa(a,b[c],"filter"))}}}function ra(a,b){var c="";if(typeof a.__nTmpFilter=="undefined"){a.__nTmpFilter=p.createElement("div")}for(var d=a.__nTmpFilter,f=0,e=a.aoColumns.length;f<e;f++){if(a.aoColumns[f].bSearchable){c+=qa(b[f],a.aoColumns[f].sType)+"  "}}if(c.indexOf("&")!==-1){d.innerHTML=c;c=d.textContent?d.textContent:d.innerText;c=c.replace(/\n/g," ").replace(/\r/g,"")}return c}function pa(a,b,c){if(c){a=b?a.split(" "):sa(a).split(" ");a="^(?=.*?"+a.join(")(?=.*?")+").*$";return new RegExp(a,"i")}else{a=b?a:sa(a);return new RegExp(a,"i")}}function qa(a,b){if(typeof n.ofnSearch[b]=="function"){return n.ofnSearch[b](a)}else{if(b=="html"){return a.replace(/\n/g," ").replace(/<.*?>/g,"")}else{if(typeof a=="string"){return a.replace(/\n/g," ")}else{if(a===null){return""}}}}return a}function R(a,b){var c,d,f,e,h=[],j=[],k=n.oSort;d=a.aoData;var m=a.aoColumns;if(!a.oFeatures.bServerSide&&(a.aaSorting.length!==0||a.aaSortingFixed!==null)){h=a.aaSortingFixed!==null?a.aaSortingFixed.concat(a.aaSorting):a.aaSorting.slice();for(c=0;c<h.length;c++){var u=h[c][0];f=ta(a,u);e=a.aoColumns[u].sSortDataType;if(typeof n.afnSortData[e]!="undefined"){var r=n.afnSortData[e](a,u,f);f=0;for(e=d.length;f<e;f++){O(a,f,u,r[f])}}}c=0;for(d=a.aiDisplayMaster.length;c<d;c++){j[a.aiDisplayMaster[c]]=c}var H=h.length;a.aiDisplayMaster.sort(function(L,T){var B,U;for(c=0;c<H;c++){B=m[h[c][0]].iDataSort;U=m[B].sType;B=k[(U?U:"string")+"-"+h[c][1]](G(a,L,B,"sort"),G(a,T,B,"sort"));if(B!==0){return B}}return k["numeric-asc"](j[L],j[T])})}if((typeof b=="undefined"||b)&&!a.oFeatures.bDeferRender){V(a)}a.bSorted=true;i(a.oInstance).trigger("sort",a);if(a.oFeatures.bFilter){N(a,a.oPreviousSearch,1)}else{a.aiDisplay=a.aiDisplayMaster.slice();a._iDisplayStart=0;E(a);C(a)}}function ja(a,b,c,d){i(b).bind("click.DT",function(f){if(a.aoColumns[c].bSortable!==false){var e=function(){var h,j;if(f.shiftKey){for(var k=false,m=0;m<a.aaSorting.length;m++){if(a.aaSorting[m][0]==c){k=true;h=a.aaSorting[m][0];j=a.aaSorting[m][2]+1;if(typeof a.aoColumns[h].asSorting[j]=="undefined"){a.aaSorting.splice(m,1)}else{a.aaSorting[m][1]=a.aoColumns[h].asSorting[j];a.aaSorting[m][2]=j}break}}k===false&&a.aaSorting.push([c,a.aoColumns[c].asSorting[0],0])}else{if(a.aaSorting.length==1&&a.aaSorting[0][0]==c){h=a.aaSorting[0][0];j=a.aaSorting[0][2]+1;if(typeof a.aoColumns[h].asSorting[j]=="undefined"){j=0}a.aaSorting[0][1]=a.aoColumns[h].asSorting[j];a.aaSorting[0][2]=j}else{a.aaSorting.splice(0,a.aaSorting.length);a.aaSorting.push([c,a.aoColumns[c].asSorting[0],0])}}R(a)};if(a.oFeatures.bProcessing){K(a,true);setTimeout(function(){e();a.oFeatures.bServerSide||K(a,false)},0)}else{e()}typeof d=="function"&&d(a)}})}function V(a){var b,c,d,f,e,h=a.aoColumns.length,j=a.oClasses;for(b=0;b<h;b++){a.aoColumns[b].bSortable&&i(a.aoColumns[b].nTh).removeClass(j.sSortAsc+" "+j.sSortDesc+" "+a.aoColumns[b].sSortingClass)}f=a.aaSortingFixed!==null?a.aaSortingFixed.concat(a.aaSorting):a.aaSorting.slice();for(b=0;b<a.aoColumns.length;b++){if(a.aoColumns[b].bSortable){e=a.aoColumns[b].sSortingClass;d=-1;for(c=0;c<f.length;c++){if(f[c][0]==b){e=f[c][1]=="asc"?j.sSortAsc:j.sSortDesc;d=c;break}}i(a.aoColumns[b].nTh).addClass(e);if(a.bJUI){c=i("span",a.aoColumns[b].nTh);c.removeClass(j.sSortJUIAsc+" "+j.sSortJUIDesc+" "+j.sSortJUI+" "+j.sSortJUIAscAllowed+" "+j.sSortJUIDescAllowed);c.addClass(d==-1?a.aoColumns[b].sSortingClassJUI:f[d][1]=="asc"?j.sSortJUIAsc:j.sSortJUIDesc)}}else{i(a.aoColumns[b].nTh).addClass(a.aoColumns[b].sSortingClass)}}e=j.sSortColumn;if(a.oFeatures.bSort&&a.oFeatures.bSortClasses){d=Q(a);if(a.oFeatures.bDeferRender){i(d).removeClass(e+"1 "+e+"2 "+e+"3")}else{if(d.length>=h){for(b=0;b<h;b++){if(d[b].className.indexOf(e+"1")!=-1){c=0;for(a=d.length/h;c<a;c++){d[h*c+b].className=i.trim(d[h*c+b].className.replace(e+"1",""))}}else{if(d[b].className.indexOf(e+"2")!=-1){c=0;for(a=d.length/h;c<a;c++){d[h*c+b].className=i.trim(d[h*c+b].className.replace(e+"2",""))}}else{if(d[b].className.indexOf(e+"3")!=-1){c=0;for(a=d.length/h;c<a;c++){d[h*c+b].className=i.trim(d[h*c+b].className.replace(" "+e+"3",""))}}}}}}}j=1;var k;for(b=0;b<f.length;b++){k=parseInt(f[b][0],10);c=0;for(a=d.length/h;c<a;c++){d[h*c+k].className+=" "+e+j}j<3&&j++}}}function La(a){if(a.oScroll.bInfinite){return null}var b=p.createElement("div");b.className=a.oClasses.sPaging+a.sPaginationType;n.oPagination[a.sPaginationType].fnInit(a,b,function(c){E(c);C(c)});typeof a.aanFeatures.p=="undefined"&&a.aoDrawCallback.push({fn:function(c){n.oPagination[c.sPaginationType].fnUpdate(c,function(d){E(d);C(d)})},sName:"pagination"});return b}function ma(a,b){var c=a._iDisplayStart;if(b=="first"){a._iDisplayStart=0}else{if(b=="previous"){a._iDisplayStart=a._iDisplayLength>=0?a._iDisplayStart-a._iDisplayLength:0;if(a._iDisplayStart<0){a._iDisplayStart=0}}else{if(b=="next"){if(a._iDisplayLength>=0){if(a._iDisplayStart+a._iDisplayLength<a.fnRecordsDisplay()){a._iDisplayStart+=a._iDisplayLength}}else{a._iDisplayStart=0}}else{if(b=="last"){if(a._iDisplayLength>=0){b=parseInt((a.fnRecordsDisplay()-1)/a._iDisplayLength,10)+1;a._iDisplayStart=(b-1)*a._iDisplayLength}else{a._iDisplayStart=0}}else{J(a,0,"Unknown paging action: "+b)}}}}i(a.oInstance).trigger("page",a);return c!=a._iDisplayStart}function Ka(a){var b=p.createElement("div");b.className=a.oClasses.sInfo;if(typeof a.aanFeatures.i=="undefined"){a.aoDrawCallback.push({fn:Ra,sName:"information"});a.sTableId!==""&&b.setAttribute("id",a.sTableId+"_info")}return b}function Ra(a){if(!(!a.oFeatures.bInfo||a.aanFeatures.i.length===0)){var b=a._iDisplayStart+1,c=a.fnDisplayEnd(),d=a.fnRecordsTotal(),f=a.fnRecordsDisplay(),e=a.fnFormatNumber(b),h=a.fnFormatNumber(c),j=a.fnFormatNumber(d),k=a.fnFormatNumber(f);if(a.oScroll.bInfinite){e=a.fnFormatNumber(1)}e=a.fnRecordsDisplay()===0&&a.fnRecordsDisplay()==a.fnRecordsTotal()?a.oLanguage.sInfoEmpty+a.oLanguage.sInfoPostFix:a.fnRecordsDisplay()===0?a.oLanguage.sInfoEmpty+" "+a.oLanguage.sInfoFiltered.replace("_MAX_",j)+a.oLanguage.sInfoPostFix:a.fnRecordsDisplay()==a.fnRecordsTotal()?a.oLanguage.sInfo.replace("_START_",e).replace("_END_",h).replace("_TOTAL_",k)+a.oLanguage.sInfoPostFix:a.oLanguage.sInfo.replace("_START_",e).replace("_END_",h).replace("_TOTAL_",k)+" "+a.oLanguage.sInfoFiltered.replace("_MAX_",a.fnFormatNumber(a.fnRecordsTotal()))+a.oLanguage.sInfoPostFix;if(a.oLanguage.fnInfoCallback!==null){e=a.oLanguage.fnInfoCallback(a,b,c,d,f,e)}a=a.aanFeatures.i;b=0;for(c=a.length;b<c;b++){i(a[b]).html(e)}}}function Ga(a){if(a.oScroll.bInfinite){return null}var b='<select size="1" '+(a.sTableId===""?"":'name="'+a.sTableId+'_length"')+">",c,d;if(a.aLengthMenu.length==2&&typeof a.aLengthMenu[0]=="object"&&typeof a.aLengthMenu[1]=="object"){c=0;for(d=a.aLengthMenu[0].length;c<d;c++){b+='<option value="'+a.aLengthMenu[0][c]+'">'+a.aLengthMenu[1][c]+"</option>"}}else{c=0;for(d=a.aLengthMenu.length;c<d;c++){b+='<option value="'+a.aLengthMenu[c]+'">'+a.aLengthMenu[c]+"</option>"}}b+="</select>";var f=p.createElement("div");a.sTableId!==""&&typeof a.aanFeatures.l=="undefined"&&f.setAttribute("id",a.sTableId+"_length");f.className=a.oClasses.sLength;f.innerHTML="<label>"+a.oLanguage.sLengthMenu.replace("_MENU_",b)+"</label>";i('select option[value="'+a._iDisplayLength+'"]',f).attr("selected",true);i("select",f).bind("change.DT",function(){var e=i(this).val(),h=a.aanFeatures.l;c=0;for(d=h.length;c<d;c++){h[c]!=this.parentNode&&i("select",h[c]).val(e)}a._iDisplayLength=parseInt(e,10);E(a);if(a.fnDisplayEnd()==a.fnRecordsDisplay()){a._iDisplayStart=a.fnDisplayEnd()-a._iDisplayLength;if(a._iDisplayStart<0){a._iDisplayStart=0}}if(a._iDisplayLength==-1){a._iDisplayStart=0}C(a)});return f}function Ia(a){var b=p.createElement("div");a.sTableId!==""&&typeof a.aanFeatures.r=="undefined"&&b.setAttribute("id",a.sTableId+"_processing");b.innerHTML=a.oLanguage.sProcessing;b.className=a.oClasses.sProcessing;a.nTable.parentNode.insertBefore(b,a.nTable);return b}function K(a,b){if(a.oFeatures.bProcessing){a=a.aanFeatures.r;for(var c=0,d=a.length;c<d;c++){a[c].style.visibility=b?"visible":"hidden"}}}function Na(a,b){for(var c=-1,d=0;d<a.aoColumns.length;d++){a.aoColumns[d].bVisible===true&&c++;if(c==b){return d}}return null}function ta(a,b){for(var c=-1,d=0;d<a.aoColumns.length;d++){a.aoColumns[d].bVisible===true&&c++;if(d==b){return a.aoColumns[d].bVisible===true?c:null}}return null}function W(a,b){var c,d;c=a._iDisplayStart;for(d=a._iDisplayEnd;c<d;c++){if(a.aoData[a.aiDisplay[c]].nTr==b){return a.aiDisplay[c]}}c=0;for(d=a.aoData.length;c<d;c++){if(a.aoData[c].nTr==b){return c}}return null}function Z(a){for(var b=0,c=0;c<a.aoColumns.length;c++){a.aoColumns[c].bVisible===true&&b++}return b}function E(a){a._iDisplayEnd=a.oFeatures.bPaginate===false?a.aiDisplay.length:a._iDisplayStart+a._iDisplayLength>a.aiDisplay.length||a._iDisplayLength==-1?a.aiDisplay.length:a._iDisplayStart+a._iDisplayLength}function Sa(a,b){if(!a||a===null||a===""){return 0}if(typeof b=="undefined"){b=p.getElementsByTagName("body")[0]}var c=p.createElement("div");c.style.width=q(a);b.appendChild(c);a=c.offsetWidth;b.removeChild(c);return a}function ga(a){var b=0,c,d=0,f=a.aoColumns.length,e,h=i("th",a.nTHead);for(e=0;e<f;e++){if(a.aoColumns[e].bVisible){d++;if(a.aoColumns[e].sWidth!==null){c=Sa(a.aoColumns[e].sWidthOrig,a.nTable.parentNode);if(c!==null){a.aoColumns[e].sWidth=q(c)}b++}}}if(f==h.length&&b===0&&d==f&&a.oScroll.sX===""&&a.oScroll.sY===""){for(e=0;e<a.aoColumns.length;e++){c=i(h[e]).width();if(c!==null){a.aoColumns[e].sWidth=q(c)}}}else{b=a.nTable.cloneNode(false);e=a.nTHead.cloneNode(true);d=p.createElement("tbody");c=p.createElement("tr");b.removeAttribute("id");b.appendChild(e);if(a.nTFoot!==null){b.appendChild(a.nTFoot.cloneNode(true));P(function(k){k.style.width=""},b.getElementsByTagName("tr"))}b.appendChild(d);d.appendChild(c);d=i("thead th",b);if(d.length===0){d=i("tbody tr:eq(0)>td",b)}h=S(a,e);for(e=d=0;e<f;e++){var j=a.aoColumns[e];if(j.bVisible&&j.sWidthOrig!==null&&j.sWidthOrig!==""){h[e-d].style.width=q(j.sWidthOrig)}else{if(j.bVisible){h[e-d].style.width=""}else{d++}}}for(e=0;e<f;e++){if(a.aoColumns[e].bVisible){d=Ta(a,e);if(d!==null){d=d.cloneNode(true);if(a.aoColumns[e].sContentPadding!==""){d.innerHTML+=a.aoColumns[e].sContentPadding}c.appendChild(d)}}}f=a.nTable.parentNode;f.appendChild(b);if(a.oScroll.sX!==""&&a.oScroll.sXInner!==""){b.style.width=q(a.oScroll.sXInner)}else{if(a.oScroll.sX!==""){b.style.width="";if(i(b).width()<f.offsetWidth){b.style.width=q(f.offsetWidth)}}else{if(a.oScroll.sY!==""){b.style.width=q(f.offsetWidth)}}}b.style.visibility="hidden";Ua(a,b);f=i("tbody tr:eq(0)",b).children();if(f.length===0){f=S(a,i("thead",b)[0])}if(a.oScroll.sX!==""){for(e=d=c=0;e<a.aoColumns.length;e++){if(a.aoColumns[e].bVisible){c+=a.aoColumns[e].sWidthOrig===null?i(f[d]).outerWidth():parseInt(a.aoColumns[e].sWidth.replace("px",""),10)+(i(f[d]).outerWidth()-i(f[d]).width());d++}}b.style.width=q(c);a.nTable.style.width=q(c)}for(e=d=0;e<a.aoColumns.length;e++){if(a.aoColumns[e].bVisible){c=i(f[d]).width();if(c!==null&&c>0){a.aoColumns[e].sWidth=q(c)}d++}}a.nTable.style.width=q(i(b).outerWidth());b.parentNode.removeChild(b)}}function Ua(a,b){if(a.oScroll.sX===""&&a.oScroll.sY!==""){i(b).width();b.style.width=q(i(b).outerWidth()-a.oScroll.iBarWidth)}else{if(a.oScroll.sX!==""){b.style.width=q(i(b).outerWidth())}}}function Ta(a,b){var c=Va(a,b);if(c<0){return null}if(a.aoData[c].nTr===null){var d=p.createElement("td");d.innerHTML=G(a,c,b,"");return d}return Q(a,c)[b]}function Va(a,b){for(var c=-1,d=-1,f=0;f<a.aoData.length;f++){var e=G(a,f,b,"display")+"";e=e.replace(/<.*?>/g,"");if(e.length>c){c=e.length;d=f}}return d}function q(a){if(a===null){return"0px"}if(typeof a=="number"){if(a<0){return"0px"}return a+"px"}var b=a.charCodeAt(a.length-1);if(b<48||b>57){return a}return a+"px"}function Za(a,b){if(a.length!=b.length){return 1}for(var c=0;c<a.length;c++){if(a[c]!=b[c]){return 2}}return 0}function ia(a){for(var b=n.aTypes,c=b.length,d=0;d<c;d++){var f=b[d](a);if(f!==null){return f}}return"string"}function A(a){for(var b=0;b<D.length;b++){if(D[b].nTable==a){return D[b]}}return null}function ca(a){for(var b=[],c=a.aoData.length,d=0;d<c;d++){b.push(a.aoData[d]._aData)}return b}function ba(a){for(var b=[],c=0,d=a.aoData.length;c<d;c++){a.aoData[c].nTr!==null&&b.push(a.aoData[c].nTr)}return b}function Q(a,b){var c=[],d,f,e,h,j;f=0;var k=a.aoData.length;if(typeof b!="undefined"){f=b;k=b+1}for(f=f;f<k;f++){j=a.aoData[f];if(j.nTr!==null){b=[];e=0;for(h=j.nTr.childNodes.length;e<h;e++){d=j.nTr.childNodes[e].nodeName.toLowerCase();if(d=="td"||d=="th"){b.push(j.nTr.childNodes[e])}}e=d=0;for(h=a.aoColumns.length;e<h;e++){if(a.aoColumns[e].bVisible){c.push(b[e-d])}else{c.push(j._anHidden[e]);d++}}}}return c}function sa(a){return a.replace(new RegExp("(\\/|\\.|\\*|\\+|\\?|\\||\\(|\\)|\\[|\\]|\\{|\\}|\\\\|\\$|\\^)","g"),"\\$1")}function ua(a,b){for(var c=-1,d=0,f=a.length;d<f;d++){if(a[d]==b){c=d}else{a[d]>b&&a[d]--}}c!=-1&&a.splice(c,1)}function Fa(a,b){b=b.split(",");for(var c=[],d=0,f=a.aoColumns.length;d<f;d++){for(var e=0;e<f;e++){if(a.aoColumns[d].sName==b[e]){c.push(e);break}}}return c}function ka(a){for(var b="",c=0,d=a.aoColumns.length;c<d;c++){b+=a.aoColumns[c].sName+","}if(b.length==d){return""}return b.slice(0,-1)}function J(a,b,c){a=a.sTableId===""?"DataTables warning: "+c:"DataTables warning (table id = '"+a.sTableId+"'): "+c;if(b===0){if(n.sErrMode=="alert"){alert(a)}else{throw a}}else{typeof console!="undefined"&&typeof console.log!="undefined"&&console.log(a)}}function la(a){a.aoData.splice(0,a.aoData.length);a.aiDisplayMaster.splice(0,a.aiDisplayMaster.length);a.aiDisplay.splice(0,a.aiDisplay.length);E(a)}function va(a){if(!(!a.oFeatures.bStateSave||typeof a.bDestroying!="undefined")){var b,c,d,f="{";f+='"iCreate":'+(new Date).getTime()+",";f+='"iStart":'+(a.oScroll.bInfinite?0:a._iDisplayStart)+",";f+='"iEnd":'+(a.oScroll.bInfinite?a._iDisplayLength:a._iDisplayEnd)+",";f+='"iLength":'+a._iDisplayLength+",";f+='"sFilter":"'+encodeURIComponent(a.oPreviousSearch.sSearch)+'",';f+='"sFilterEsc":'+!a.oPreviousSearch.bRegex+",";f+='"aaSorting":[ ';for(b=0;b<a.aaSorting.length;b++){f+="["+a.aaSorting[b][0]+',"'+a.aaSorting[b][1]+'"],'}f=f.substring(0,f.length-1);f+="],";f+='"aaSearchCols":[ ';for(b=0;b<a.aoPreSearchCols.length;b++){f+='["'+encodeURIComponent(a.aoPreSearchCols[b].sSearch)+'",'+!a.aoPreSearchCols[b].bRegex+"],"}f=f.substring(0,f.length-1);f+="],";f+='"abVisCols":[ ';for(b=0;b<a.aoColumns.length;b++){f+=a.aoColumns[b].bVisible+","}f=f.substring(0,f.length-1);f+="]";b=0;for(c=a.aoStateSave.length;b<c;b++){d=a.aoStateSave[b].fn(a,f);if(d!==""){f=d}}f+="}";Wa(a.sCookiePrefix+a.sInstance,f,a.iCookieDuration,a.sCookiePrefix,a.fnCookieCallback)}}function Xa(a,b){if(a.oFeatures.bStateSave){var c,d,f;d=wa(a.sCookiePrefix+a.sInstance);if(d!==null&&d!==""){try{c=typeof i.parseJSON=="function"?i.parseJSON(d.replace(/'/g,'"')):eval("("+d+")")}catch(e){return}d=0;for(f=a.aoStateLoad.length;d<f;d++){if(!a.aoStateLoad[d].fn(a,c)){return}}a.oLoadedState=i.extend(true,{},c);a._iDisplayStart=c.iStart;a.iInitDisplayStart=c.iStart;a._iDisplayEnd=c.iEnd;a._iDisplayLength=c.iLength;a.oPreviousSearch.sSearch=decodeURIComponent(c.sFilter);a.aaSorting=c.aaSorting.slice();a.saved_aaSorting=c.aaSorting.slice();if(typeof c.sFilterEsc!="undefined"){a.oPreviousSearch.bRegex=!c.sFilterEsc}if(typeof c.aaSearchCols!="undefined"){for(d=0;d<c.aaSearchCols.length;d++){a.aoPreSearchCols[d]={sSearch:decodeURIComponent(c.aaSearchCols[d][0]),bRegex:!c.aaSearchCols[d][1]}}}if(typeof c.abVisCols!="undefined"){b.saved_aoColumns=[];for(d=0;d<c.abVisCols.length;d++){b.saved_aoColumns[d]={};b.saved_aoColumns[d].bVisible=c.abVisCols[d]}}}}}function Wa(a,b,c,d,f){var e=new Date;e.setTime(e.getTime()+c*1000);c=za.location.pathname.split("/");a=a+"_"+c.pop().replace(/[\/:]/g,"").toLowerCase();var h;if(f!==null){h=typeof i.parseJSON=="function"?i.parseJSON(b):eval("("+b+")");b=f(a,h,e.toGMTString(),c.join("/")+"/")}else{b=a+"="+encodeURIComponent(b)+"; expires="+e.toGMTString()+"; path="+c.join("/")+"/"}f="";e=9999999999999;if((wa(a)!==null?p.cookie.length:b.length+p.cookie.length)+10>4096){a=p.cookie.split(";");for(var j=0,k=a.length;j<k;j++){if(a[j].indexOf(d)!=-1){var m=a[j].split("=");try{h=eval("("+decodeURIComponent(m[1])+")")}catch(u){continue}if(typeof h.iCreate!="undefined"&&h.iCreate<e){f=m[0];e=h.iCreate}}}if(f!==""){p.cookie=f+"=; expires=Thu, 01-Jan-1970 00:00:01 GMT; path="+c.join("/")+"/"}}p.cookie=b}function wa(a){var b=za.location.pathname.split("/");a=a+"_"+b[b.length-1].replace(/[\/:]/g,"").toLowerCase()+"=";b=p.cookie.split(";");for(var c=0;c<b.length;c++){for(var d=b[c];d.charAt(0)==" ";){d=d.substring(1,d.length)}if(d.indexOf(a)===0){return decodeURIComponent(d.substring(a.length,d.length))}}return null}function Y(a,b){b=i(b).children("tr");var c,d,f,e,h,j,k,m,u=function(L,T,B){for(;typeof L[T][B]!="undefined";){B++}return B};a.splice(0,a.length);d=0;for(j=b.length;d<j;d++){a.push([])}d=0;for(j=b.length;d<j;d++){f=0;for(k=b[d].childNodes.length;f<k;f++){c=b[d].childNodes[f];if(c.nodeName.toUpperCase()=="TD"||c.nodeName.toUpperCase()=="TH"){var r=c.getAttribute("colspan")*1,H=c.getAttribute("rowspan")*1;r=!r||r===0||r===1?1:r;H=!H||H===0||H===1?1:H;m=u(a,d,0);for(h=0;h<r;h++){for(e=0;e<H;e++){a[d+e][m+h]={cell:c,unique:r==1?true:false};a[d+e].nTr=b[d]}}}}}}function S(a,b,c){var d=[];if(typeof c=="undefined"){c=a.aoHeader;if(typeof b!="undefined"){c=[];Y(c,b)}}b=0;for(var f=c.length;b<f;b++){for(var e=0,h=c[b].length;e<h;e++){if(c[b][e].unique&&(typeof d[e]=="undefined"||!a.bSortCellsTop)){d[e]=c[b][e].cell}}}return d}function Ya(){var a=p.createElement("p"),b=a.style;b.width="100%";b.height="200px";b.padding="0px";var c=p.createElement("div");b=c.style;b.position="absolute";b.top="0px";b.left="0px";b.visibility="hidden";b.width="200px";b.height="150px";b.padding="0px";b.overflow="hidden";c.appendChild(a);p.body.appendChild(c);b=a.offsetWidth;c.style.overflow="scroll";a=a.offsetWidth;if(b==a){a=c.clientWidth}p.body.removeChild(c);return b-a}function P(a,b,c){for(var d=0,f=b.length;d<f;d++){for(var e=0,h=b[d].childNodes.length;e<h;e++){if(b[d].childNodes[e].nodeType==1){typeof c!="undefined"?a(b[d].childNodes[e],c[d].childNodes[e]):a(b[d].childNodes[e])}}}}function o(a,b,c,d){if(typeof d=="undefined"){d=c}if(typeof b[c]!="undefined"){a[d]=b[c]}}function fa(a,b,c){for(var d=[],f=0,e=a.aoColumns.length;f<e;f++){d.push(G(a,b,f,c))}return d}function G(a,b,c,d){var f=a.aoColumns[c];if((c=f.fnGetData(a.aoData[b]._aData))===undefined){if(a.iDrawError!=a.iDraw&&f.sDefaultContent===null){J(a,0,"Requested unknown parameter '"+f.mDataProp+"' from the data source for row "+b);a.iDrawError=a.iDraw}return f.sDefaultContent}if(c===null&&f.sDefaultContent!==null){c=f.sDefaultContent}else{if(typeof c=="function"){return c()}}if(d=="display"&&c===null){return""}return c}function O(a,b,c,d){a.aoColumns[c].fnSetData(a.aoData[b]._aData,d)}function aa(a){if(a===null){return function(){return null}}else{if(typeof a=="function"){return function(c){return a(c)}}else{if(typeof a=="string"&&a.indexOf(".")!=-1){var b=a.split(".");return b.length==2?function(c){return c[b[0]][b[1]]}:b.length==3?function(c){return c[b[0]][b[1]][b[2]]}:function(c){for(var d=0,f=b.length;d<f;d++){c=c[b[d]]}return c}}else{return function(c){return c[a]}}}}}function Ba(a){if(a===null){return function(){}}else{if(typeof a=="function"){return function(c,d){return a(c,d)}}else{if(typeof a=="string"&&a.indexOf(".")!=-1){var b=a.split(".");return b.length==2?function(c,d){c[b[0]][b[1]]=d}:b.length==3?function(c,d){c[b[0]][b[1]][b[2]]=d}:function(c,d){for(var f=0,e=b.length-1;f<e;f++){c=c[b[f]]}c[b[b.length-1]]=d}}else{return function(c,d){c[a]=d}}}}}this.oApi={};this.fnDraw=function(a){var b=A(this[n.iApiIndex]);if(typeof a!="undefined"&&a===false){E(b);C(b)}else{da(b)}};this.fnFilter=function(a,b,c,d,f){var e=A(this[n.iApiIndex]);if(e.oFeatures.bFilter){if(typeof c=="undefined"){c=false}if(typeof d=="undefined"){d=true}if(typeof f=="undefined"){f=true}if(typeof b=="undefined"||b===null){N(e,{sSearch:a,bRegex:c,bSmart:d},1);if(f&&typeof e.aanFeatures.f!="undefined"){b=e.aanFeatures.f;c=0;for(d=b.length;c<d;c++){i("input",b[c]).val(a)}}}else{e.aoPreSearchCols[b].sSearch=a;e.aoPreSearchCols[b].bRegex=c;e.aoPreSearchCols[b].bSmart=d;N(e,e.oPreviousSearch,1)}}};this.fnSettings=function(){return A(this[n.iApiIndex])};this.fnVersionCheck=n.fnVersionCheck;this.fnSort=function(a){var b=A(this[n.iApiIndex]);b.aaSorting=a;R(b)};this.fnSortListener=function(a,b,c){ja(A(this[n.iApiIndex]),a,b,c)};this.fnAddData=function(a,b){if(a.length===0){return[]}var c=[],d,f=A(this[n.iApiIndex]);if(typeof a[0]=="object"){for(var e=0;e<a.length;e++){d=v(f,a[e]);if(d==-1){return c}c.push(d)}}else{d=v(f,a);if(d==-1){return c}c.push(d)}f.aiDisplay=f.aiDisplayMaster.slice();if(typeof b=="undefined"||b){da(f)}return c};this.fnDeleteRow=function(a,b,c){var d=A(this[n.iApiIndex]);a=typeof a=="object"?W(d,a):a;var f=d.aoData.splice(a,1),e=i.inArray(a,d.aiDisplay);d.asDataSearch.splice(e,1);ua(d.aiDisplayMaster,a);ua(d.aiDisplay,a);typeof b=="function"&&b.call(this,d,f);if(d._iDisplayStart>=d.aiDisplay.length){d._iDisplayStart-=d._iDisplayLength;if(d._iDisplayStart<0){d._iDisplayStart=0}}if(typeof c=="undefined"||c){E(d);C(d)}return f};this.fnClearTable=function(a){var b=A(this[n.iApiIndex]);la(b);if(typeof a=="undefined"||a){C(b)}};this.fnOpen=function(a,b,c){var d=A(this[n.iApiIndex]);this.fnClose(a);var f=p.createElement("tr"),e=p.createElement("td");f.appendChild(e);e.className=c;e.colSpan=Z(d);if(typeof b.jquery!="undefined"||typeof b=="object"){e.appendChild(b)}else{e.innerHTML=b}b=i("tr",d.nTBody);i.inArray(a,b)!=-1&&i(f).insertAfter(a);d.aoOpenRows.push({nTr:f,nParent:a});return f};this.fnClose=function(a){for(var b=A(this[n.iApiIndex]),c=0;c<b.aoOpenRows.length;c++){if(b.aoOpenRows[c].nParent==a){(a=b.aoOpenRows[c].nTr.parentNode)&&a.removeChild(b.aoOpenRows[c].nTr);b.aoOpenRows.splice(c,1);return 0}}return 1};this.fnGetData=function(a,b){var c=A(this[n.iApiIndex]);if(typeof a!="undefined"){a=typeof a=="object"?W(c,a):a;if(typeof b!="undefined"){return G(c,a,b,"")}return typeof c.aoData[a]!="undefined"?c.aoData[a]._aData:null}return ca(c)};this.fnGetNodes=function(a){var b=A(this[n.iApiIndex]);if(typeof a!="undefined"){return typeof b.aoData[a]!="undefined"?b.aoData[a].nTr:null}return ba(b)};this.fnGetPosition=function(a){var b=A(this[n.iApiIndex]),c=a.nodeName.toUpperCase();if(c=="TR"){return W(b,a)}else{if(c=="TD"||c=="TH"){c=W(b,a.parentNode);for(var d=Q(b,c),f=0;f<b.aoColumns.length;f++){if(d[f]==a){return[c,ta(b,f),f]}}}}return null};this.fnUpdate=function(a,b,c,d,f){var e=A(this[n.iApiIndex]);b=typeof b=="object"?W(e,b):b;if(i.isArray(a)&&typeof a=="object"){e.aoData[b]._aData=a.slice();for(c=0;c<e.aoColumns.length;c++){this.fnUpdate(G(e,b,c),b,c,false,false)}}else{if(a!==null&&typeof a=="object"){e.aoData[b]._aData=i.extend(true,{},a);for(c=0;c<e.aoColumns.length;c++){this.fnUpdate(G(e,b,c),b,c,false,false)}}else{a=a;O(e,b,c,a);if(e.aoColumns[c].fnRender!==null){a=e.aoColumns[c].fnRender({iDataRow:b,iDataColumn:c,aData:e.aoData[b]._aData,oSettings:e});e.aoColumns[c].bUseRendered&&O(e,b,c,a)}if(e.aoData[b].nTr!==null){Q(e,b)[c].innerHTML=a}}}c=i.inArray(b,e.aiDisplay);e.asDataSearch[c]=ra(e,fa(e,b,"filter"));if(typeof f=="undefined"||f){ea(e)}if(typeof d=="undefined"||d){da(e)}return 0};this.fnSetColumnVis=function(a,b,c){var d=A(this[n.iApiIndex]),f,e;e=d.aoColumns.length;var h,j;if(d.aoColumns[a].bVisible!=b){if(b){for(f=j=0;f<a;f++){d.aoColumns[f].bVisible&&j++}j=j>=Z(d);if(!j){for(f=a;f<e;f++){if(d.aoColumns[f].bVisible){h=f;break}}}f=0;for(e=d.aoData.length;f<e;f++){if(d.aoData[f].nTr!==null){j?d.aoData[f].nTr.appendChild(d.aoData[f]._anHidden[a]):d.aoData[f].nTr.insertBefore(d.aoData[f]._anHidden[a],Q(d,f)[h])}}}else{f=0;for(e=d.aoData.length;f<e;f++){if(d.aoData[f].nTr!==null){h=Q(d,f)[a];d.aoData[f]._anHidden[a]=h;h.parentNode.removeChild(h)}}}d.aoColumns[a].bVisible=b;M(d,d.aoHeader);d.nTFoot&&M(d,d.aoFooter);f=0;for(e=d.aoOpenRows.length;f<e;f++){d.aoOpenRows[f].nTr.colSpan=Z(d)}if(typeof c=="undefined"||c){ea(d);C(d)}va(d)}};this.fnPageChange=function(a,b){var c=A(this[n.iApiIndex]);ma(c,a);E(c);if(typeof b=="undefined"||b){C(c)}};this.fnDestroy=function(){var a=A(this[n.iApiIndex]),b=a.nTableWrapper.parentNode,c=a.nTBody,d,f;a.bDestroying=true;d=0;for(f=a.aoDestroyCallback.length;d<f;d++){a.aoDestroyCallback[d].fn()}d=0;for(f=a.aoColumns.length;d<f;d++){a.aoColumns[d].bVisible===false&&this.fnSetColumnVis(d,true)}i(a.nTableWrapper).find("*").andSelf().unbind(".DT");i("tbody>tr>td."+a.oClasses.sRowEmpty,a.nTable).parent().remove();if(a.nTable!=a.nTHead.parentNode){i(a.nTable).children("thead").remove();a.nTable.appendChild(a.nTHead)}if(a.nTFoot&&a.nTable!=a.nTFoot.parentNode){i(a.nTable).children("tfoot").remove();a.nTable.appendChild(a.nTFoot)}a.nTable.parentNode.removeChild(a.nTable);i(a.nTableWrapper).remove();a.aaSorting=[];a.aaSortingFixed=[];V(a);i(ba(a)).removeClass(a.asStripeClasses.join(" "));if(a.bJUI){i("th",a.nTHead).removeClass([n.oStdClasses.sSortable,n.oJUIClasses.sSortableAsc,n.oJUIClasses.sSortableDesc,n.oJUIClasses.sSortableNone].join(" "));i("th span."+n.oJUIClasses.sSortIcon,a.nTHead).remove();i("th",a.nTHead).each(function(){var e=i("div."+n.oJUIClasses.sSortJUIWrapper,this),h=e.contents();i(this).append(h);e.remove()})}else{i("th",a.nTHead).removeClass([n.oStdClasses.sSortable,n.oStdClasses.sSortableAsc,n.oStdClasses.sSortableDesc,n.oStdClasses.sSortableNone].join(" "))}a.nTableReinsertBefore?b.insertBefore(a.nTable,a.nTableReinsertBefore):b.appendChild(a.nTable);d=0;for(f=a.aoData.length;d<f;d++){a.aoData[d].nTr!==null&&c.appendChild(a.aoData[d].nTr)}if(a.oFeatures.bAutoWidth===true){a.nTable.style.width=q(a.sDestroyWidth)}i(c).children("tr:even").addClass(a.asDestroyStripes[0]);i(c).children("tr:odd").addClass(a.asDestroyStripes[1]);d=0;for(f=D.length;d<f;d++){D[d]==a&&D.splice(d,1)}a=null};this.fnAdjustColumnSizing=function(a){var b=A(this[n.iApiIndex]);ea(b);if(typeof a=="undefined"||a){this.fnDraw(false)}else{if(b.oScroll.sX!==""||b.oScroll.sY!==""){this.oApi._fnScrollDraw(b)}}};for(var xa in n.oApi){if(xa){this[xa]=s(xa)}}this.oApi._fnExternApiFunc=s;this.oApi._fnInitialise=t;this.oApi._fnInitComplete=w;this.oApi._fnLanguageProcess=y;this.oApi._fnAddColumn=F;this.oApi._fnColumnOptions=x;this.oApi._fnAddData=v;this.oApi._fnCreateTr=z;this.oApi._fnGatherData=$;this.oApi._fnBuildHead=X;this.oApi._fnDrawHead=M;this.oApi._fnDraw=C;this.oApi._fnReDraw=da;this.oApi._fnAjaxUpdate=Ca;this.oApi._fnAjaxParameters=Da;this.oApi._fnAjaxUpdateDraw=Ea;this.oApi._fnServerParams=ha;this.oApi._fnAddOptionsHtml=Aa;this.oApi._fnFeatureHtmlTable=Ja;this.oApi._fnScrollDraw=Ma;this.oApi._fnAdjustColumnSizing=ea;this.oApi._fnFeatureHtmlFilter=Ha;this.oApi._fnFilterComplete=N;this.oApi._fnFilterCustom=Qa;this.oApi._fnFilterColumn=Pa;this.oApi._fnFilter=Oa;this.oApi._fnBuildSearchArray=oa;this.oApi._fnBuildSearchRow=ra;this.oApi._fnFilterCreateSearch=pa;this.oApi._fnDataToSearch=qa;this.oApi._fnSort=R;this.oApi._fnSortAttachListener=ja;this.oApi._fnSortingClasses=V;this.oApi._fnFeatureHtmlPaginate=La;this.oApi._fnPageChange=ma;this.oApi._fnFeatureHtmlInfo=Ka;this.oApi._fnUpdateInfo=Ra;this.oApi._fnFeatureHtmlLength=Ga;this.oApi._fnFeatureHtmlProcessing=Ia;this.oApi._fnProcessingDisplay=K;this.oApi._fnVisibleToColumnIndex=Na;this.oApi._fnColumnIndexToVisible=ta;this.oApi._fnNodeToDataIndex=W;this.oApi._fnVisbleColumns=Z;this.oApi._fnCalculateEnd=E;this.oApi._fnConvertToWidth=Sa;this.oApi._fnCalculateColumnWidths=ga;this.oApi._fnScrollingWidthAdjust=Ua;this.oApi._fnGetWidestNode=Ta;this.oApi._fnGetMaxLenString=Va;this.oApi._fnStringToCss=q;this.oApi._fnArrayCmp=Za;this.oApi._fnDetectType=ia;this.oApi._fnSettingsFromNode=A;this.oApi._fnGetDataMaster=ca;this.oApi._fnGetTrNodes=ba;this.oApi._fnGetTdNodes=Q;this.oApi._fnEscapeRegex=sa;this.oApi._fnDeleteIndex=ua;this.oApi._fnReOrderIndex=Fa;this.oApi._fnColumnOrdering=ka;this.oApi._fnLog=J;this.oApi._fnClearTable=la;this.oApi._fnSaveState=va;this.oApi._fnLoadState=Xa;this.oApi._fnCreateCookie=Wa;this.oApi._fnReadCookie=wa;this.oApi._fnDetectHeader=Y;this.oApi._fnGetUniqueThs=S;this.oApi._fnScrollBarWidth=Ya;this.oApi._fnApplyToChildren=P;this.oApi._fnMap=o;this.oApi._fnGetRowData=fa;this.oApi._fnGetCellData=G;this.oApi._fnSetCellData=O;this.oApi._fnGetObjectDataFn=aa;this.oApi._fnSetObjectDataFn=Ba;var ya=this;return this.each(function(){var a=0,b,c,d,f;a=0;for(b=D.length;a<b;a++){if(D[a].nTable==this){if(typeof g=="undefined"||typeof g.bRetrieve!="undefined"&&g.bRetrieve===true){return D[a].oInstance}else{if(typeof g.bDestroy!="undefined"&&g.bDestroy===true){D[a].oInstance.fnDestroy();break}else{J(D[a],0,"Cannot reinitialise DataTable.\n\nTo retrieve the DataTables object for this table, please pass either no arguments to the dataTable() function, or set bRetrieve to true. Alternatively, to destory the old table and create a new one, set bDestroy to true (note that a lot of changes to the configuration can be made through the API which is usually much faster).");return}}}if(D[a].sTableId!==""&&D[a].sTableId==this.getAttribute("id")){D.splice(a,1);break}}var e=new l;D.push(e);var h=false,j=false;a=this.getAttribute("id");if(a!==null){e.sTableId=a;e.sInstance=a}else{e.sInstance=n._oExternConfig.iNextUnique++}if(this.nodeName.toLowerCase()!="table"){J(e,0,"Attempted to initialise DataTables on a node which is not a table: "+this.nodeName)}else{e.nTable=this;e.oInstance=ya.length==1?ya:i(this).dataTable();e.oApi=ya.oApi;e.sDestroyWidth=i(this).width();if(typeof g!="undefined"&&g!==null){e.oInit=g;o(e.oFeatures,g,"bPaginate");o(e.oFeatures,g,"bLengthChange");o(e.oFeatures,g,"bFilter");o(e.oFeatures,g,"bSort");o(e.oFeatures,g,"bInfo");o(e.oFeatures,g,"bProcessing");o(e.oFeatures,g,"bAutoWidth");o(e.oFeatures,g,"bSortClasses");o(e.oFeatures,g,"bServerSide");o(e.oFeatures,g,"bDeferRender");o(e.oScroll,g,"sScrollX","sX");o(e.oScroll,g,"sScrollXInner","sXInner");o(e.oScroll,g,"sScrollY","sY");o(e.oScroll,g,"bScrollCollapse","bCollapse");o(e.oScroll,g,"bScrollInfinite","bInfinite");o(e.oScroll,g,"iScrollLoadGap","iLoadGap");o(e.oScroll,g,"bScrollAutoCss","bAutoCss");o(e,g,"asStripClasses","asStripeClasses");o(e,g,"asStripeClasses");o(e,g,"fnPreDrawCallback");o(e,g,"fnRowCallback");o(e,g,"fnHeaderCallback");o(e,g,"fnFooterCallback");o(e,g,"fnCookieCallback");o(e,g,"fnInitComplete");o(e,g,"fnServerData");o(e,g,"fnFormatNumber");o(e,g,"aaSorting");o(e,g,"aaSortingFixed");o(e,g,"aLengthMenu");o(e,g,"sPaginationType");o(e,g,"sAjaxSource");o(e,g,"sAjaxDataProp");o(e,g,"iCookieDuration");o(e,g,"sCookiePrefix");o(e,g,"sDom");o(e,g,"bSortCellsTop");o(e,g,"oSearch","oPreviousSearch");o(e,g,"aoSearchCols","aoPreSearchCols");o(e,g,"iDisplayLength","_iDisplayLength");o(e,g,"bJQueryUI","bJUI");o(e.oLanguage,g,"fnInfoCallback");typeof g.fnDrawCallback=="function"&&e.aoDrawCallback.push({fn:g.fnDrawCallback,sName:"user"});typeof g.fnServerParams=="function"&&e.aoServerParams.push({fn:g.fnServerParams,sName:"user"});typeof g.fnStateSaveCallback=="function"&&e.aoStateSave.push({fn:g.fnStateSaveCallback,sName:"user"});typeof g.fnStateLoadCallback=="function"&&e.aoStateLoad.push({fn:g.fnStateLoadCallback,sName:"user"});if(e.oFeatures.bServerSide&&e.oFeatures.bSort&&e.oFeatures.bSortClasses){e.aoDrawCallback.push({fn:V,sName:"server_side_sort_classes"})}else{e.oFeatures.bDeferRender&&e.aoDrawCallback.push({fn:V,sName:"defer_sort_classes"})}if(typeof g.bJQueryUI!="undefined"&&g.bJQueryUI){e.oClasses=n.oJUIClasses;if(typeof g.sDom=="undefined"){e.sDom='<"H"lfr>t<"F"ip>'}}if(e.oScroll.sX!==""||e.oScroll.sY!==""){e.oScroll.iBarWidth=Ya()}if(typeof g.iDisplayStart!="undefined"&&typeof e.iInitDisplayStart=="undefined"){e.iInitDisplayStart=g.iDisplayStart;e._iDisplayStart=g.iDisplayStart}if(typeof g.bStateSave!="undefined"){e.oFeatures.bStateSave=g.bStateSave;Xa(e,g);e.aoDrawCallback.push({fn:va,sName:"state_save"})}if(typeof g.iDeferLoading!="undefined"){e.bDeferLoading=true;e._iRecordsTotal=g.iDeferLoading;e._iRecordsDisplay=g.iDeferLoading}if(typeof g.aaData!="undefined"){j=true}if(typeof g!="undefined"&&typeof g.aoData!="undefined"){g.aoColumns=g.aoData}if(typeof g.oLanguage!="undefined"){if(typeof g.oLanguage.sUrl!="undefined"&&g.oLanguage.sUrl!==""){e.oLanguage.sUrl=g.oLanguage.sUrl;i.getJSON(e.oLanguage.sUrl,null,function(u){y(e,u,true)});h=true}else{y(e,g.oLanguage,false)}}}else{g={}}if(typeof g.asStripClasses=="undefined"&&typeof g.asStripeClasses=="undefined"){e.asStripeClasses.push(e.oClasses.sStripeOdd);e.asStripeClasses.push(e.oClasses.sStripeEven)}c=false;d=i(this).children("tbody").children("tr");a=0;for(b=e.asStripeClasses.length;a<b;a++){if(d.filter(":lt(2)").hasClass(e.asStripeClasses[a])){c=true;break}}if(c){e.asDestroyStripes=["",""];if(i(d[0]).hasClass(e.oClasses.sStripeOdd)){e.asDestroyStripes[0]+=e.oClasses.sStripeOdd+" "}if(i(d[0]).hasClass(e.oClasses.sStripeEven)){e.asDestroyStripes[0]+=e.oClasses.sStripeEven}if(i(d[1]).hasClass(e.oClasses.sStripeOdd)){e.asDestroyStripes[1]+=e.oClasses.sStripeOdd+" "}if(i(d[1]).hasClass(e.oClasses.sStripeEven)){e.asDestroyStripes[1]+=e.oClasses.sStripeEven}d.removeClass(e.asStripeClasses.join(" "))}c=[];var k;a=this.getElementsByTagName("thead");if(a.length!==0){Y(e.aoHeader,a[0]);c=S(e)}if(typeof g.aoColumns=="undefined"){k=[];a=0;for(b=c.length;a<b;a++){k.push(null)}}else{k=g.aoColumns}a=0;for(b=k.length;a<b;a++){if(typeof g.saved_aoColumns!="undefined"&&g.saved_aoColumns.length==b){if(k[a]===null){k[a]={}}k[a].bVisible=g.saved_aoColumns[a].bVisible}F(e,c?c[a]:null)}if(typeof g.aoColumnDefs!="undefined"){for(a=g.aoColumnDefs.length-1;a>=0;a--){var m=g.aoColumnDefs[a].aTargets;i.isArray(m)||J(e,1,"aTargets must be an array of targets, not a "+typeof m);c=0;for(d=m.length;c<d;c++){if(typeof m[c]=="number"&&m[c]>=0){for(;e.aoColumns.length<=m[c];){F(e)}x(e,m[c],g.aoColumnDefs[a])}else{if(typeof m[c]=="number"&&m[c]<0){x(e,e.aoColumns.length+m[c],g.aoColumnDefs[a])}else{if(typeof m[c]=="string"){b=0;for(f=e.aoColumns.length;b<f;b++){if(m[c]=="_all"||i(e.aoColumns[b].nTh).hasClass(m[c])){x(e,b,g.aoColumnDefs[a])}}}}}}}}if(typeof k!="undefined"){a=0;for(b=k.length;a<b;a++){x(e,a,k[a])}}a=0;for(b=e.aaSorting.length;a<b;a++){if(e.aaSorting[a][0]>=e.aoColumns.length){e.aaSorting[a][0]=0}k=e.aoColumns[e.aaSorting[a][0]];if(typeof e.aaSorting[a][2]=="undefined"){e.aaSorting[a][2]=0}if(typeof g.aaSorting=="undefined"&&typeof e.saved_aaSorting=="undefined"){e.aaSorting[a][1]=k.asSorting[0]}c=0;for(d=k.asSorting.length;c<d;c++){if(e.aaSorting[a][1]==k.asSorting[c]){e.aaSorting[a][2]=c;break}}}V(e);a=i(this).children("thead");if(a.length===0){a=[p.createElement("thead")];this.appendChild(a[0])}e.nTHead=a[0];a=i(this).children("tbody");if(a.length===0){a=[p.createElement("tbody")];this.appendChild(a[0])}e.nTBody=a[0];a=i(this).children("tfoot");if(a.length>0){e.nTFoot=a[0];Y(e.aoFooter,e.nTFoot)}if(j){for(a=0;a<g.aaData.length;a++){v(e,g.aaData[a])}}else{$(e)}e.aiDisplay=e.aiDisplayMaster.slice();e.bInitialised=true;h===false&&t(e)}})}})(jQuery,window,document);
/*!
 * jQuery Form Plugin
 * version: 2.87 (20-OCT-2011)
 * @requires jQuery v1.3.2 or later
 *
 * Examples and documentation at: http://malsup.com/jquery/form/
 * Dual licensed under the MIT and GPL licenses:
 *   http://www.opensource.org/licenses/mit-license.php
 *   http://www.gnu.org/licenses/gpl.html
 */
(function(b){b.fn.ajaxSubmit=function(f){if(!this.length){a("ajaxSubmit: skipping submit process - no element selected");return this}var e,t,h,k=this;if(typeof f=="function"){f={success:f}}e=this.attr("method");t=this.attr("action");h=(typeof t==="string")?b.trim(t):"";h=h||window.location.href||"";if(h){h=(h.match(/^([^#]+)/)||[])[1]}f=b.extend(true,{url:h,success:b.ajaxSettings.success,type:e||"GET",iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},f);var o={};this.trigger("form-pre-serialize",[this,f,o]);if(o.veto){a("ajaxSubmit: submit vetoed via form-pre-serialize trigger");return this}if(f.beforeSerialize&&f.beforeSerialize(this,f)===false){a("ajaxSubmit: submit aborted via beforeSerialize callback");return this}var j=f.traditional;if(j===undefined){j=b.ajaxSettings.traditional}var y,s,m,z=this.formToArray(f.semantic);if(f.data){f.extraData=f.data;y=b.param(f.data,j)}if(f.beforeSubmit&&f.beforeSubmit(z,this,f)===false){a("ajaxSubmit: submit aborted via beforeSubmit callback");return this}this.trigger("form-submit-validate",[z,this,f,o]);if(o.veto){a("ajaxSubmit: submit vetoed via form-submit-validate trigger");return this}var r=b.param(z,j);if(y){r=(r?(r+"&"+y):y)}if(f.type.toUpperCase()=="GET"){f.url+=(f.url.indexOf("?")>=0?"&":"?")+r;f.data=null}else{f.data=r}var A=[];if(f.resetForm){A.push(function(){k.resetForm()})}if(f.clearForm){A.push(function(){k.clearForm(f.includeHidden)})}if(!f.dataType&&f.target){var g=f.success||function(){};A.push(function(q){var n=f.replaceTarget?"replaceWith":"html";b(f.target)[n](q).each(g,arguments)})}else{if(f.success){A.push(f.success)}}f.success=function(C,q,D){var B=f.context||f;for(var v=0,n=A.length;v<n;v++){A[v].apply(B,[C,q,D||k,k])}};var w=b("input:file",this).length>0;var u="multipart/form-data";var p=(k.attr("enctype")==u||k.attr("encoding")==u);if(f.iframe!==false&&(w||f.iframe||p)){if(f.closeKeepAlive){b.get(f.closeKeepAlive,function(){l(z)})}else{l(z)}}else{if(b.browser.msie&&e=="get"&&typeof f.type==="undefined"){var x=k[0].getAttribute("method");if(typeof x==="string"){f.type=x}}b.ajax(f)}this.trigger("form-submit-notify",[this,f]);return this;function l(X){var C=k[0],B,T,N,V,Q,E,I,G,H,R,U,L;var F=!!b.fn.prop;if(X){if(F){for(T=0;T<X.length;T++){B=b(C[X[T].name]);B.prop("disabled",false)}}else{for(T=0;T<X.length;T++){B=b(C[X[T].name]);B.removeAttr("disabled")}}}if(b(":input[name=submit],:input[id=submit]",C).length){alert('Error: Form elements must not have name or id of "submit".');return}N=b.extend(true,{},b.ajaxSettings,f);N.context=N.context||N;Q="jqFormIO"+(new Date().getTime());if(N.iframeTarget){E=b(N.iframeTarget);R=E.attr("name");if(R==null){E.attr("name",Q)}else{Q=R}}else{E=b('<iframe name="'+Q+'" src="'+N.iframeSrc+'" />');E.css({position:"absolute",top:"-1000px",left:"-1000px"})}I=E[0];G={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(n){var aa=(n==="timeout"?"timeout":"aborted");a("aborting upload... "+aa);this.aborted=1;E.attr("src",N.iframeSrc);G.error=aa;N.error&&N.error.call(N.context,G,aa,n);V&&b.event.trigger("ajaxError",[G,N,aa]);N.complete&&N.complete.call(N.context,G,aa)}};V=N.global;if(V&&!b.active++){b.event.trigger("ajaxStart")}if(V){b.event.trigger("ajaxSend",[G,N])}if(N.beforeSend&&N.beforeSend.call(N.context,G,N)===false){if(N.global){b.active--}return}if(G.aborted){return}H=C.clk;if(H){R=H.name;if(R&&!H.disabled){N.extraData=N.extraData||{};N.extraData[R]=H.value;if(H.type=="image"){N.extraData[R+".x"]=C.clk_x;N.extraData[R+".y"]=C.clk_y}}}var M=1;var J=2;function K(aa){var n=aa.contentWindow?aa.contentWindow.document:aa.contentDocument?aa.contentDocument:aa.document;return n}function S(){var ac=k.attr("target"),aa=k.attr("action");C.setAttribute("target",Q);if(!e){C.setAttribute("method","POST")}if(aa!=N.url){C.setAttribute("action",N.url)}if(!N.skipEncodingOverride&&(!e||/post/i.test(e))){k.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"})}if(N.timeout){L=setTimeout(function(){U=true;P(M)},N.timeout)}function ad(){try{var n=K(I).readyState;a("state = "+n);if(n.toLowerCase()=="uninitialized"){setTimeout(ad,50)}}catch(af){a("Server abort: ",af," (",af.name,")");P(J);L&&clearTimeout(L);L=undefined}}var ab=[];try{if(N.extraData){for(var ae in N.extraData){ab.push(b('<input type="hidden" name="'+ae+'" />').attr("value",N.extraData[ae]).appendTo(C)[0])}}if(!N.iframeTarget){E.appendTo("body");I.attachEvent?I.attachEvent("onload",P):I.addEventListener("load",P,false)}setTimeout(ad,15);C.submit()}finally{C.setAttribute("action",aa);if(ac){C.setAttribute("target",ac)}else{k.removeAttr("target")}b(ab).remove()}}if(N.forceSync){S()}else{setTimeout(S,10)}var Y,Z,W=50,D;function P(ae){if(G.aborted||D){return}try{Z=K(I)}catch(ah){a("cannot access response document: ",ah);ae=J}if(ae===M&&G){G.abort("timeout");return}else{if(ae==J&&G){G.abort("server abort");return}}if(!Z||Z.location.href==N.iframeSrc){if(!U){return}}I.detachEvent?I.detachEvent("onload",P):I.removeEventListener("load",P,false);var ac="success",ag;try{if(U){throw"timeout"}var ab=N.dataType=="xml"||Z.XMLDocument||b.isXMLDoc(Z);a("isXml="+ab);if(!ab&&window.opera&&(Z.body==null||Z.body.innerHTML=="")){if(--W){a("requeing onLoad callback, DOM not available");setTimeout(P,250);return}}var ai=Z.body?Z.body:Z.documentElement;G.responseText=ai?ai.innerHTML:null;G.responseXML=Z.XMLDocument?Z.XMLDocument:Z;if(ab){N.dataType="xml"}G.getResponseHeader=function(al){var ak={"content-type":N.dataType};return ak[al]};if(ai){G.status=Number(ai.getAttribute("status"))||G.status;G.statusText=ai.getAttribute("statusText")||G.statusText}var n=(N.dataType||"").toLowerCase();var af=/(json|script|text)/.test(n);if(af||N.textarea){var ad=Z.getElementsByTagName("textarea")[0];if(ad){G.responseText=ad.value;G.status=Number(ad.getAttribute("status"))||G.status;G.statusText=ad.getAttribute("statusText")||G.statusText}else{if(af){var aa=Z.getElementsByTagName("pre")[0];var aj=Z.getElementsByTagName("body")[0];if(aa){G.responseText=aa.textContent?aa.textContent:aa.innerText}else{if(aj){G.responseText=aj.textContent?aj.textContent:aj.innerText}}}}}else{if(n=="xml"&&!G.responseXML&&G.responseText!=null){G.responseXML=O(G.responseText)}}try{Y=q(G,n,N)}catch(ae){ac="parsererror";G.error=ag=(ae||ac)}}catch(ae){a("error caught: ",ae);ac="error";G.error=ag=(ae||ac)}if(G.aborted){a("upload aborted");ac=null}if(G.status){ac=(G.status>=200&&G.status<300||G.status===304)?"success":"error"}if(ac==="success"){N.success&&N.success.call(N.context,Y,"success",G);V&&b.event.trigger("ajaxSuccess",[G,N])}else{if(ac){if(ag==undefined){ag=G.statusText}N.error&&N.error.call(N.context,G,ac,ag);V&&b.event.trigger("ajaxError",[G,N,ag])}}V&&b.event.trigger("ajaxComplete",[G,N]);if(V&&!--b.active){b.event.trigger("ajaxStop")}N.complete&&N.complete.call(N.context,G,ac);D=true;if(N.timeout){clearTimeout(L)}setTimeout(function(){if(!N.iframeTarget){E.remove()}G.responseXML=null},100)}var O=b.parseXML||function(n,aa){if(window.ActiveXObject){aa=new ActiveXObject("Microsoft.XMLDOM");aa.async="false";aa.loadXML(n)}else{aa=(new DOMParser()).parseFromString(n,"text/xml")}return(aa&&aa.documentElement&&aa.documentElement.nodeName!="parsererror")?aa:null};var v=b.parseJSON||function(n){return window["eval"]("("+n+")")};var q=function(ae,ac,ab){var aa=ae.getResponseHeader("content-type")||"",n=ac==="xml"||!ac&&aa.indexOf("xml")>=0,ad=n?ae.responseXML:ae.responseText;if(n&&ad.documentElement.nodeName==="parsererror"){b.error&&b.error("parsererror")}if(ab&&ab.dataFilter){ad=ab.dataFilter(ad,ac)}if(typeof ad==="string"){if(ac==="json"||!ac&&aa.indexOf("json")>=0){ad=v(ad)}else{if(ac==="script"||!ac&&aa.indexOf("javascript")>=0){b.globalEval(ad)}}}return ad}}};b.fn.ajaxForm=function(e){if(this.length===0){var f={s:this.selector,c:this.context};if(!b.isReady&&f.s){a("DOM not ready, queuing ajaxForm");b(function(){b(f.s,f.c).ajaxForm(e)});return this}a("terminating; zero elements found by selector"+(b.isReady?"":" (DOM not ready)"));return this}return this.ajaxFormUnbind().bind("submit.form-plugin",function(g){if(!g.isDefaultPrevented()){g.preventDefault();b(this).ajaxSubmit(e)}}).bind("click.form-plugin",function(l){var k=l.target;var h=b(k);if(!(h.is(":submit,input:image"))){var g=h.closest(":submit");if(g.length==0){return}k=g[0]}var j=this;j.clk=k;if(k.type=="image"){if(l.offsetX!=undefined){j.clk_x=l.offsetX;j.clk_y=l.offsetY}else{if(typeof b.fn.offset=="function"){var m=h.offset();j.clk_x=l.pageX-m.left;j.clk_y=l.pageY-m.top}else{j.clk_x=l.pageX-k.offsetLeft;j.clk_y=l.pageY-k.offsetTop}}}setTimeout(function(){j.clk=j.clk_x=j.clk_y=null},100)})};b.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")};b.fn.formToArray=function(s){var r=[];if(this.length===0){return r}var f=this[0];var k=s?f.getElementsByTagName("*"):f.elements;if(!k){return r}var m,l,h,t,g,p,e;for(m=0,p=k.length;m<p;m++){g=k[m];h=g.name;if(!h){continue}if(s&&f.clk&&g.type=="image"){if(!g.disabled&&f.clk==g){r.push({name:h,value:b(g).val()});r.push({name:h+".x",value:f.clk_x},{name:h+".y",value:f.clk_y})}continue}t=b.fieldValue(g,true);if(t&&t.constructor==Array){for(l=0,e=t.length;l<e;l++){r.push({name:h,value:t[l]})}}else{if(t!==null&&typeof t!="undefined"){r.push({name:h,value:t})}}}if(!s&&f.clk){var o=b(f.clk),q=o[0];h=q.name;if(h&&!q.disabled&&q.type=="image"){r.push({name:h,value:o.val()});r.push({name:h+".x",value:f.clk_x},{name:h+".y",value:f.clk_y})}}return r};b.fn.formSerialize=function(e){return b.param(this.formToArray(e))};b.fn.fieldSerialize=function(f){var e=[];this.each(function(){var k=this.name;if(!k){return}var h=b.fieldValue(this,f);if(h&&h.constructor==Array){for(var j=0,g=h.length;j<g;j++){e.push({name:k,value:h[j]})}}else{if(h!==null&&typeof h!="undefined"){e.push({name:this.name,value:h})}}});return b.param(e)};b.fn.fieldValue=function(k){for(var j=[],g=0,e=this.length;g<e;g++){var h=this[g];var f=b.fieldValue(h,k);if(f===null||typeof f=="undefined"||(f.constructor==Array&&!f.length)){continue}f.constructor==Array?b.merge(j,f):j.push(f)}return j};b.fieldValue=function(e,l){var g=e.name,r=e.type,s=e.tagName.toLowerCase();if(l===undefined){l=true}if(l&&(!g||e.disabled||r=="reset"||r=="button"||(r=="checkbox"||r=="radio")&&!e.checked||(r=="submit"||r=="image")&&e.form&&e.form.clk!=e||s=="select"&&e.selectedIndex==-1)){return null}if(s=="select"){var m=e.selectedIndex;if(m<0){return null}var p=[],f=e.options;var j=(r=="select-one");var o=(j?m+1:f.length);for(var h=(j?m:0);h<o;h++){var k=f[h];if(k.selected){var q=k.value;if(!q){q=(k.attributes&&k.attributes.value&&!(k.attributes.value.specified))?k.text:k.value}if(j){return q}p.push(q)}}return p}return b(e).val()};b.fn.clearForm=function(e){return this.each(function(){b("input,select,textarea",this).clearFields(e)})};b.fn.clearFields=b.fn.clearInputs=function(e){var f=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each(function(){var h=this.type,g=this.tagName.toLowerCase();if(f.test(h)||g=="textarea"||(e&&/hidden/.test(h))){this.value=""}else{if(h=="checkbox"||h=="radio"){this.checked=false}else{if(g=="select"){this.selectedIndex=-1}}}})};b.fn.resetForm=function(){return this.each(function(){if(typeof this.reset=="function"||(typeof this.reset=="object"&&!this.reset.nodeType)){this.reset()}})};b.fn.enable=function(e){if(e===undefined){e=true}return this.each(function(){this.disabled=!e})};b.fn.selected=function(e){if(e===undefined){e=true}return this.each(function(){var f=this.type;if(f=="checkbox"||f=="radio"){this.checked=e}else{if(this.tagName.toLowerCase()=="option"){var g=b(this).parent("select");if(e&&g[0]&&g[0].type=="select-one"){g.find("option").selected(false)}this.selected=e}}})};b.fn.ajaxSubmit.debug=false;function a(){if(!b.fn.ajaxSubmit.debug){return}var e="[jquery.form] "+Array.prototype.join.call(arguments,"");if(window.console&&window.console.log){window.console.log(e)}else{if(window.opera&&window.opera.postError){window.opera.postError(e)}}}})(jQuery);(function(j){function g(){}function y(I){f=[I]}function r(M,J,K,L){try{L=M&&M.apply(J.context||J,K)}catch(I){L=!1}return L}function q(I){return/\?/.test(I)?"&":"?"}var s="async",w="charset",u="",G="error",x="insertBefore",v="_jqjsp",D="on",k=D+"click",n=D+G,t=D+"load",B=D+"readystatechange",b="readyState",F="removeChild",m="<script>",C="success",E="timeout",h=window,a=j.Deferred,l=j("head")[0]||document.documentElement,e=l.firstChild,A={},p=0,f,o={callback:v,url:location.href},z=h.opera;function H(M){M=j.extend({},o,M);var K=M.success,R=M.error,J=M.complete,aa=M.dataFilter,ac=M.callbackParameter,S=M.callback,ab=M.cache,I=M.pageCache,L=M.charset,N=M.url,ae=M.data,U=M.timeout,Q,Y=0,W=g,T,P,ad,O,X;a&&a(function(af){af.done(K).fail(R);K=af.resolve;R=af.reject}).promise(M);M.abort=function(){!(Y++)&&W()};if(r(M.beforeSend,M,[M])===!1||Y){return M}N=N||u;ae=ae?((typeof ae)=="string"?ae:j.param(ae,M.traditional)):u;N+=ae?(q(N)+ae):u;ac&&(N+=q(N)+encodeURIComponent(ac)+"=?");!ab&&!I&&(N+=q(N)+"_"+(new Date()).getTime()+"=");N=N.replace(/=\?(&|$)/,"="+S+"$1");function Z(af){if(!(Y++)){W();I&&(A[N]={s:[af]});aa&&(af=aa.apply(M,[af]));r(K,M,[af,C]);r(J,M,[M,C])}}function V(af){if(!(Y++)){W();I&&af!=E&&(A[N]=af);r(R,M,[M,af]);r(J,M,[M,af])}}if(I&&(Q=A[N])){Q.s?Z(Q.s[0]):V(Q)}else{h[S]=y;ad=j(m)[0];ad.id=v+p++;if(L){ad[w]=L}z&&z.version()<11.6?((O=j(m)[0]).text="document.getElementById('"+ad.id+"')."+n+"()"):(ad[s]=s);if(B in ad){ad.htmlFor=ad.id;ad.event=k}ad[t]=ad[n]=ad[B]=function(af){if(!ad[b]||!/i/.test(ad[b])){try{ad[k]&&ad[k]()}catch(ag){}af=f;f=0;af?Z(af[0]):V(G)}};ad.src=N;W=function(af){X&&clearTimeout(X);ad[B]=ad[t]=ad[n]=null;l[F](ad);O&&l[F](O)};l[x](ad,e);O&&l[x](O,e);X=U>0&&setTimeout(function(){V(E)},U)}return M}H.setup=function(I){j.extend(o,I)};j.jsonp=H})(jQuery);
/*!
 * HTML5 Placeholder jQuery Plugin v1.8.2
 * @link http://github.com/mathiasbynens/Placeholder-jQuery-Plugin
 * @author Mathias Bynens <http://mathiasbynens.be/>
 */
(function(j){var k="placeholder" in document.createElement("input"),h="placeholder" in document.createElement("textarea");if(k&&h){j.fn.placeholder=function(){return this};j.fn.placeholder.input=j.fn.placeholder.textarea=true}else{j.fn.placeholder=function(){return this.filter((k?"textarea":":input")+"[placeholder]").bind("focus.placeholder",g).bind("blur.placeholder",l).trigger("blur.placeholder").end()};j.fn.placeholder.input=k;j.fn.placeholder.textarea=h}function m(b){var e={},a=/^jQuery\d+$/;j.each(b.attributes,function(f,n){if(n.specified&&!a.test(n.name)){e[n.name]=n.value}});return e}function g(){var a=j(this);if(a.val()===a.attr("placeholder")&&a.hasClass("placeholder")){if(a.data("placeholder-password")){a.hide().next().attr("id",a.removeAttr("id").data("placeholder-id")).show().focus()}else{a.val("").removeClass("placeholder")}}}function l(n){var a,b=j(this),o=b,e=this.id;if(b.val()===""){if(b.is(":password")){if(!b.data("placeholder-textinput")){try{a=b.clone().attr({type:"text"})}catch(f){a=j("<input>").attr(j.extend(m(this),{type:"text"}))}a.removeAttr("name").data("placeholder-password",true).data("placeholder-id",e).bind("focus.placeholder",g);b.data("placeholder-textinput",a).data("placeholder-id",e).before(a)}b=b.removeAttr("id").hide().prev().attr("id",e).show()}b.addClass("placeholder").val(b.attr("placeholder"))}else{b.removeClass("placeholder")}}j(function(){j("form").bind("submit.placeholder",function(){var a=j(".placeholder",this).each(g);setTimeout(function(){a.each(l)},10)})});j(window).bind("unload.placeholder",function(){j(".placeholder").val("")})}(jQuery));(function(D){D.fn.qtip=function(a,k){var f,l,b,m,g,h,j,e;if(typeof a=="string"){if(typeof D(this).data("qtip")!=="object"){D.fn.qtip.log.error.call(self,1,D.fn.qtip.constants.NO_TOOLTIP_PRESENT,false)}if(a=="api"){return D(this).data("qtip").interfaces[D(this).data("qtip").current]}else{if(a=="interfaces"){return D(this).data("qtip").interfaces}}}else{if(!a){a={}}if(typeof a.content!=="object"||(a.content.jquery&&a.content.length>0)){a.content={text:a.content}}if(typeof a.content.title!=="object"){a.content.title={text:a.content.title}}if(typeof a.position!=="object"){a.position={corner:a.position}}if(typeof a.position.corner!=="object"){a.position.corner={target:a.position.corner,tooltip:a.position.corner}}if(typeof a.show!=="object"){a.show={when:a.show}}if(typeof a.show.when!=="object"){a.show.when={event:a.show.when}}if(typeof a.show.effect!=="object"){a.show.effect={type:a.show.effect}}if(typeof a.hide!=="object"){a.hide={when:a.hide}}if(typeof a.hide.when!=="object"){a.hide.when={event:a.hide.when}}if(typeof a.hide.effect!=="object"){a.hide.effect={type:a.hide.effect}}if(typeof a.style!=="object"){a.style={name:a.style}}a.style=G(a.style);m=D.extend(true,{},D.fn.qtip.defaults,a);m.style=I.call({options:m},m.style);m.user=D.extend(true,{},a)}return D(this).each(function(){if(typeof a=="string"){h=a.toLowerCase();b=D(this).qtip("interfaces");if(typeof b=="object"){if(k===true&&h=="destroy"){while(b.length>0){b[b.length-1].destroy()}}else{if(k!==true){b=[D(this).qtip("api")]}for(f=0;f<b.length;f++){if(h=="destroy"){b[f].destroy()}else{if(b[f].status.rendered===true){if(h=="show"){b[f].show()}else{if(h=="hide"){b[f].hide()}else{if(h=="focus"){b[f].focus()}else{if(h=="disable"){b[f].disable(true)}else{if(h=="enable"){b[f].disable(false)}}}}}}}}}}}else{j=D.extend(true,{},m);j.hide.effect.length=m.hide.effect.length;j.show.effect.length=m.show.effect.length;if(j.position.container===false){j.position.container=D(document.body)}if(j.position.target===false){j.position.target=D(this)}if(j.show.when.target===false){j.show.when.target=D(this)}if(j.hide.when.target===false){j.hide.when.target=D(this)}l=D.fn.qtip.interfaces.length;for(f=0;f<l;f++){if(typeof D.fn.qtip.interfaces[f]=="undefined"){l=f;break}}g=new F(D(this),j,l);D.fn.qtip.interfaces[l]=g;if(typeof D(this).data("qtip")=="object"){if(typeof D(this).attr("qtip")==="undefined"){D(this).data("qtip").current=D(this).data("qtip").interfaces.length}D(this).data("qtip").interfaces.push(g)}else{D(this).data("qtip",{current:0,interfaces:[g]})}if(j.content.prerender===false&&j.show.when.event!==false&&j.show.ready!==true){j.show.when.target.bind(j.show.when.event+".qtip-"+l+"-create",{qtip:l},function(n){e=D.fn.qtip.interfaces[n.data.qtip];e.options.show.when.target.unbind(e.options.show.when.event+".qtip-"+n.data.qtip+"-create");e.cache.mouse={x:n.pageX,y:n.pageY};u.call(e);e.options.show.when.target.trigger(e.options.show.when.event)})}else{g.cache.mouse={x:j.show.when.target.offset().left,y:j.show.when.target.offset().top};u.call(g)}}})};function F(b,e,a){var f=this;f.id=a;f.options=e;f.status={animated:false,rendered:false,disabled:false,focused:false};f.elements={target:b.addClass(f.options.style.classes.target),tooltip:null,wrapper:null,content:null,contentWrapper:null,title:null,button:null,tip:null,bgiframe:null};f.cache={mouse:{},position:{},toggle:0};f.timers={};D.extend(f,f.options.api,{show:function(k){var g,j;if(!f.status.rendered){return D.fn.qtip.log.error.call(f,2,D.fn.qtip.constants.TOOLTIP_NOT_RENDERED,"show")}if(f.elements.tooltip.css("display")!=="none"){return f}f.elements.tooltip.stop(true,false);g=f.beforeShow.call(f,k);if(g===false){return f}function h(){if(f.options.position.type!=="static"){f.focus()}f.onShow.call(f,k);if(D.browser.msie){f.elements.tooltip.get(0).style.removeAttribute("filter")}}f.cache.toggle=1;if(f.options.position.type!=="static"){f.updatePosition(k,(f.options.show.effect.length>0))}if(typeof f.options.show.solo=="object"){j=D(f.options.show.solo)}else{if(f.options.show.solo===true){j=D("div.qtip").not(f.elements.tooltip)}}if(j){j.each(function(){if(D(this).qtip("api").status.rendered===true){D(this).qtip("api").hide()}})}if(typeof f.options.show.effect.type=="function"){f.options.show.effect.type.call(f.elements.tooltip,f.options.show.effect.length);f.elements.tooltip.queue(function(){h();D(this).dequeue()})}else{switch(f.options.show.effect.type.toLowerCase()){case"fade":f.elements.tooltip.fadeIn(f.options.show.effect.length,h);break;case"slide":f.elements.tooltip.slideDown(f.options.show.effect.length,function(){h();if(f.options.position.type!=="static"){f.updatePosition(k,true)}});break;case"grow":f.elements.tooltip.show(f.options.show.effect.length,h);break;default:f.elements.tooltip.show(null,h);break}f.elements.tooltip.addClass(f.options.style.classes.active)}return D.fn.qtip.log.error.call(f,1,D.fn.qtip.constants.EVENT_SHOWN,"show")},hide:function(j){var g;if(!f.status.rendered){return D.fn.qtip.log.error.call(f,2,D.fn.qtip.constants.TOOLTIP_NOT_RENDERED,"hide")}else{if(f.elements.tooltip.css("display")==="none"){return f}}clearTimeout(f.timers.show);f.elements.tooltip.stop(true,false);g=f.beforeHide.call(f,j);if(g===false){return f}function h(){f.onHide.call(f,j)}f.cache.toggle=0;if(typeof f.options.hide.effect.type=="function"){f.options.hide.effect.type.call(f.elements.tooltip,f.options.hide.effect.length);f.elements.tooltip.queue(function(){h();D(this).dequeue()})}else{switch(f.options.hide.effect.type.toLowerCase()){case"fade":f.elements.tooltip.fadeOut(f.options.hide.effect.length,h);break;case"slide":f.elements.tooltip.slideUp(f.options.hide.effect.length,h);break;case"grow":f.elements.tooltip.hide(f.options.hide.effect.length,h);break;default:f.elements.tooltip.hide(null,h);break}f.elements.tooltip.removeClass(f.options.style.classes.active)}return D.fn.qtip.log.error.call(f,1,D.fn.qtip.constants.EVENT_HIDDEN,"hide")},updatePosition:function(M,q){var h,O,m,p,N,Q,o,r,j,g,n,k,P,l;if(!f.status.rendered){return D.fn.qtip.log.error.call(f,2,D.fn.qtip.constants.TOOLTIP_NOT_RENDERED,"updatePosition")}else{if(f.options.position.type=="static"){return D.fn.qtip.log.error.call(f,1,D.fn.qtip.constants.CANNOT_POSITION_STATIC,"updatePosition")}}O={position:{left:0,top:0},dimensions:{height:0,width:0},corner:f.options.position.corner.target};m={position:f.getPosition(),dimensions:f.getDimensions(),corner:f.options.position.corner.tooltip};if(f.options.position.target!=="mouse"){if(f.options.position.target.get(0).nodeName.toLowerCase()=="area"){p=f.options.position.target.attr("coords").split(",");for(h=0;h<p.length;h++){p[h]=parseInt(p[h])}N=f.options.position.target.parent("map").attr("name");Q=D('img[usemap="#'+N+'"]:first').offset();O.position={left:Math.floor(Q.left+p[0]),top:Math.floor(Q.top+p[1])};switch(f.options.position.target.attr("shape").toLowerCase()){case"rect":O.dimensions={width:Math.ceil(Math.abs(p[2]-p[0])),height:Math.ceil(Math.abs(p[3]-p[1]))};break;case"circle":O.dimensions={width:p[2]+1,height:p[2]+1};break;case"poly":O.dimensions={width:p[0],height:p[1]};for(h=0;h<p.length;h++){if(h%2==0){if(p[h]>O.dimensions.width){O.dimensions.width=p[h]}if(p[h]<p[0]){O.position.left=Math.floor(Q.left+p[h])}}else{if(p[h]>O.dimensions.height){O.dimensions.height=p[h]}if(p[h]<p[1]){O.position.top=Math.floor(Q.top+p[h])}}}O.dimensions.width=O.dimensions.width-(O.position.left-Q.left);O.dimensions.height=O.dimensions.height-(O.position.top-Q.top);break;default:return D.fn.qtip.log.error.call(f,4,D.fn.qtip.constants.INVALID_AREA_SHAPE,"updatePosition");break}O.dimensions.width-=2;O.dimensions.height-=2}else{if(f.options.position.target.add(document.body).length===1){O.position={left:D(document).scrollLeft(),top:D(document).scrollTop()};O.dimensions={height:D(window).height(),width:D(window).width()}}else{if(typeof f.options.position.target.attr("qtip")!=="undefined"){O.position=f.options.position.target.qtip("api").cache.position}else{O.position=f.options.position.target.offset()}O.dimensions={height:f.options.position.target.outerHeight(),width:f.options.position.target.outerWidth()}}}o=D.extend({},O.position);if(O.corner.search(/right/i)!==-1){o.left+=O.dimensions.width}if(O.corner.search(/bottom/i)!==-1){o.top+=O.dimensions.height}if(O.corner.search(/((top|bottom)Middle)|center/)!==-1){o.left+=(O.dimensions.width/2)}if(O.corner.search(/((left|right)Middle)|center/)!==-1){o.top+=(O.dimensions.height/2)}}else{O.position=o={left:f.cache.mouse.x,top:f.cache.mouse.y};O.dimensions={height:1,width:1}}if(m.corner.search(/right/i)!==-1){o.left-=m.dimensions.width}if(m.corner.search(/bottom/i)!==-1){o.top-=m.dimensions.height}if(m.corner.search(/((top|bottom)Middle)|center/)!==-1){o.left-=(m.dimensions.width/2)}if(m.corner.search(/((left|right)Middle)|center/)!==-1){o.top-=(m.dimensions.height/2)}r=(D.browser.msie)?1:0;j=(D.browser.msie&&parseInt(D.browser.version.charAt(0))===6)?1:0;if(f.options.style.border.radius>0){if(m.corner.search(/Left/)!==-1){o.left-=f.options.style.border.radius}else{if(m.corner.search(/Right/)!==-1){o.left+=f.options.style.border.radius}}if(m.corner.search(/Top/)!==-1){o.top-=f.options.style.border.radius}else{if(m.corner.search(/Bottom/)!==-1){o.top+=f.options.style.border.radius}}}if(r){if(m.corner.search(/top/)!==-1){o.top-=r}else{if(m.corner.search(/bottom/)!==-1){o.top+=r}}if(m.corner.search(/left/)!==-1){o.left-=r}else{if(m.corner.search(/right/)!==-1){o.left+=r}}if(m.corner.search(/leftMiddle|rightMiddle/)!==-1){o.top-=1}}if(f.options.position.adjust.screen===true){o=v.call(f,o,O,m)}if(f.options.position.target==="mouse"&&f.options.position.adjust.mouse===true){if(f.options.position.adjust.screen===true&&f.elements.tip){n=f.elements.tip.attr("rel")}else{n=f.options.position.corner.tooltip}o.left+=(n.search(/right/i)!==-1)?-6:6;o.top+=(n.search(/bottom/i)!==-1)?-6:6}if(!f.elements.bgiframe&&D.browser.msie&&parseInt(D.browser.version.charAt(0))==6){D("select, object").each(function(){k=D(this).offset();k.bottom=k.top+D(this).height();k.right=k.left+D(this).width();if(o.top+m.dimensions.height>=k.top&&o.left+m.dimensions.width>=k.left){z.call(f)}})}o.left+=f.options.position.adjust.x;o.top+=f.options.position.adjust.y;P=f.getPosition();if(o.left!=P.left||o.top!=P.top){l=f.beforePositionUpdate.call(f,M);if(l===false){return f}f.cache.position=o;if(q===true){f.status.animated=true;f.elements.tooltip.animate(o,200,"swing",function(){f.status.animated=false})}else{f.elements.tooltip.css(o)}f.onPositionUpdate.call(f,M);if(typeof M!=="undefined"&&M.type&&M.type!=="mousemove"){D.fn.qtip.log.error.call(f,1,D.fn.qtip.constants.EVENT_POSITION_UPDATED,"updatePosition")}}return f},updateWidth:function(h){var g;if(!f.status.rendered){return D.fn.qtip.log.error.call(f,2,D.fn.qtip.constants.TOOLTIP_NOT_RENDERED,"updateWidth")}else{if(h&&typeof h!=="number"){return D.fn.qtip.log.error.call(f,2,"newWidth must be of type number","updateWidth")}}g=f.elements.contentWrapper.siblings().add(f.elements.tip).add(f.elements.button);if(!h){if(typeof f.options.style.width.value=="number"){h=f.options.style.width.value}else{f.elements.tooltip.css({width:"auto"});g.hide();if(D.browser.msie){f.elements.wrapper.add(f.elements.contentWrapper.children()).css({zoom:"normal"})}h=f.getDimensions().width+1;if(!f.options.style.width.value){if(h>f.options.style.width.max){h=f.options.style.width.max}if(h<f.options.style.width.min){h=f.options.style.width.min}}}}if(h%2!==0){h-=1}f.elements.tooltip.width(h);g.show();if(f.options.style.border.radius){f.elements.tooltip.find(".qtip-betweenCorners").each(function(j){D(this).width(h-(f.options.style.border.radius*2))})}if(D.browser.msie){f.elements.wrapper.add(f.elements.contentWrapper.children()).css({zoom:"1"});f.elements.wrapper.width(h);if(f.elements.bgiframe){f.elements.bgiframe.width(h).height(f.getDimensions.height)}}return D.fn.qtip.log.error.call(f,1,D.fn.qtip.constants.EVENT_WIDTH_UPDATED,"updateWidth")},updateStyle:function(j){var k,h,g,m,l;if(!f.status.rendered){return D.fn.qtip.log.error.call(f,2,D.fn.qtip.constants.TOOLTIP_NOT_RENDERED,"updateStyle")}else{if(typeof j!=="string"||!D.fn.qtip.styles[j]){return D.fn.qtip.log.error.call(f,2,D.fn.qtip.constants.STYLE_NOT_DEFINED,"updateStyle")}}f.options.style=I.call(f,D.fn.qtip.styles[j],f.options.user.style);f.elements.content.css(t(f.options.style));if(f.options.content.title.text!==false){f.elements.title.css(t(f.options.style.title,true))}f.elements.contentWrapper.css({borderColor:f.options.style.border.color});if(f.options.style.tip.corner!==false){if(D("<canvas>").get(0).getContext){k=f.elements.tooltip.find(".qtip-tip canvas:first");g=k.get(0).getContext("2d");g.clearRect(0,0,300,300);m=k.parent("div[rel]:first").attr("rel");l=H(m,f.options.style.tip.size.width,f.options.style.tip.size.height);B.call(f,k,l,f.options.style.tip.color||f.options.style.border.color)}else{if(D.browser.msie){k=f.elements.tooltip.find('.qtip-tip [nodeName="shape"]');k.attr("fillcolor",f.options.style.tip.color||f.options.style.border.color)}}}if(f.options.style.border.radius>0){f.elements.tooltip.find(".qtip-betweenCorners").css({backgroundColor:f.options.style.border.color});if(D("<canvas>").get(0).getContext){h=C(f.options.style.border.radius);f.elements.tooltip.find(".qtip-wrapper canvas").each(function(){g=D(this).get(0).getContext("2d");g.clearRect(0,0,300,300);m=D(this).parent("div[rel]:first").attr("rel");s.call(f,D(this),h[m],f.options.style.border.radius,f.options.style.border.color)})}else{if(D.browser.msie){f.elements.tooltip.find('.qtip-wrapper [nodeName="arc"]').each(function(){D(this).attr("fillcolor",f.options.style.border.color)})}}}return D.fn.qtip.log.error.call(f,1,D.fn.qtip.constants.EVENT_STYLE_UPDATED,"updateStyle")},updateContent:function(h,m){var k,g,j;if(!f.status.rendered){return D.fn.qtip.log.error.call(f,2,D.fn.qtip.constants.TOOLTIP_NOT_RENDERED,"updateContent")}else{if(!h){return D.fn.qtip.log.error.call(f,2,D.fn.qtip.constants.NO_CONTENT_PROVIDED,"updateContent")}}k=f.beforeContentUpdate.call(f,h);if(typeof k=="string"){h=k}else{if(k===false){return}}if(D.browser.msie){f.elements.contentWrapper.children().css({zoom:"normal"})}if(h.jquery&&h.length>0){h.clone(true).appendTo(f.elements.content).show()}else{f.elements.content.html(h)}g=f.elements.content.find("img[complete=false]");if(g.length>0){j=0;g.each(function(n){D('<img src="'+D(this).attr("src")+'" />').load(function(){if(++j==g.length){l()}})})}else{l()}function l(){f.updateWidth();if(m!==false){if(f.options.position.type!=="static"){f.updatePosition(f.elements.tooltip.is(":visible"),true)}if(f.options.style.tip.corner!==false){w.call(f)}}}f.onContentUpdate.call(f);return D.fn.qtip.log.error.call(f,1,D.fn.qtip.constants.EVENT_CONTENT_UPDATED,"loadContent")},loadContent:function(j,k,h){var l;if(!f.status.rendered){return D.fn.qtip.log.error.call(f,2,D.fn.qtip.constants.TOOLTIP_NOT_RENDERED,"loadContent")}l=f.beforeContentLoad.call(f);if(l===false){return f}if(h=="post"){D.post(j,k,g)}else{D.get(j,k,g)}function g(m){f.onContentLoad.call(f);D.fn.qtip.log.error.call(f,1,D.fn.qtip.constants.EVENT_CONTENT_LOADED,"loadContent");f.updateContent(m)}return f},updateTitle:function(g){if(!f.status.rendered){return D.fn.qtip.log.error.call(f,2,D.fn.qtip.constants.TOOLTIP_NOT_RENDERED,"updateTitle")}else{if(!g){return D.fn.qtip.log.error.call(f,2,D.fn.qtip.constants.NO_CONTENT_PROVIDED,"updateTitle")}}returned=f.beforeTitleUpdate.call(f);if(returned===false){return f}if(f.elements.button){f.elements.button=f.elements.button.clone(true)}f.elements.title.html(g);if(f.elements.button){f.elements.title.prepend(f.elements.button)}f.onTitleUpdate.call(f);return D.fn.qtip.log.error.call(f,1,D.fn.qtip.constants.EVENT_TITLE_UPDATED,"updateTitle")},focus:function(h){var l,g,j,k;if(!f.status.rendered){return D.fn.qtip.log.error.call(f,2,D.fn.qtip.constants.TOOLTIP_NOT_RENDERED,"focus")}else{if(f.options.position.type=="static"){return D.fn.qtip.log.error.call(f,1,D.fn.qtip.constants.CANNOT_FOCUS_STATIC,"focus")}}l=parseInt(f.elements.tooltip.css("z-index"));g=6000+D("div.qtip[qtip]").length-1;if(!f.status.focused&&l!==g){k=f.beforeFocus.call(f,h);if(k===false){return f}D("div.qtip[qtip]").not(f.elements.tooltip).each(function(){if(D(this).qtip("api").status.rendered===true){j=parseInt(D(this).css("z-index"));if(typeof j=="number"&&j>-1){D(this).css({zIndex:parseInt(D(this).css("z-index"))-1})}D(this).qtip("api").status.focused=false}});f.elements.tooltip.css({zIndex:g});f.status.focused=true;f.onFocus.call(f,h);D.fn.qtip.log.error.call(f,1,D.fn.qtip.constants.EVENT_FOCUSED,"focus")}return f},disable:function(g){if(!f.status.rendered){return D.fn.qtip.log.error.call(f,2,D.fn.qtip.constants.TOOLTIP_NOT_RENDERED,"disable")}if(g){if(!f.status.disabled){f.status.disabled=true;D.fn.qtip.log.error.call(f,1,D.fn.qtip.constants.EVENT_DISABLED,"disable")}else{D.fn.qtip.log.error.call(f,1,D.fn.qtip.constants.TOOLTIP_ALREADY_DISABLED,"disable")}}else{if(f.status.disabled){f.status.disabled=false;D.fn.qtip.log.error.call(f,1,D.fn.qtip.constants.EVENT_ENABLED,"disable")}else{D.fn.qtip.log.error.call(f,1,D.fn.qtip.constants.TOOLTIP_ALREADY_ENABLED,"disable")}}return f},destroy:function(){var h,g,j;g=f.beforeDestroy.call(f);if(g===false){return f}if(f.status.rendered){f.options.show.when.target.unbind("mousemove.qtip",f.updatePosition);f.options.show.when.target.unbind("mouseout.qtip",f.hide);f.options.show.when.target.unbind(f.options.show.when.event+".qtip");f.options.hide.when.target.unbind(f.options.hide.when.event+".qtip");f.elements.tooltip.unbind(f.options.hide.when.event+".qtip");f.elements.tooltip.unbind("mouseover.qtip",f.focus);f.elements.tooltip.remove()}else{f.options.show.when.target.unbind(f.options.show.when.event+".qtip-create")}if(typeof f.elements.target.data("qtip")=="object"){j=f.elements.target.data("qtip").interfaces;if(typeof j=="object"&&j.length>0){for(h=0;h<j.length-1;h++){if(j[h].id==f.id){j.splice(h,1)}}}}delete D.fn.qtip.interfaces[f.id];if(typeof j=="object"&&j.length>0){f.elements.target.data("qtip").current=j.length-1}else{f.elements.target.removeData("qtip")}f.onDestroy.call(f);D.fn.qtip.log.error.call(f,1,D.fn.qtip.constants.EVENT_DESTROYED,"destroy");return f.elements.target},getPosition:function(){var h,g;if(!f.status.rendered){return D.fn.qtip.log.error.call(f,2,D.fn.qtip.constants.TOOLTIP_NOT_RENDERED,"getPosition")}h=(f.elements.tooltip.css("display")!=="none")?false:true;if(h){f.elements.tooltip.css({visiblity:"hidden"}).show()}g=f.elements.tooltip.offset();if(h){f.elements.tooltip.css({visiblity:"visible"}).hide()}return g},getDimensions:function(){var h,g;if(!f.status.rendered){return D.fn.qtip.log.error.call(f,2,D.fn.qtip.constants.TOOLTIP_NOT_RENDERED,"getDimensions")}h=(!f.elements.tooltip.is(":visible"))?true:false;if(h){f.elements.tooltip.css({visiblity:"hidden"}).show()}g={height:f.elements.tooltip.outerHeight(),width:f.elements.tooltip.outerWidth()};if(h){f.elements.tooltip.css({visiblity:"visible"}).hide()}return g}})}function u(){var h,b,f,g,e,j,a;h=this;h.beforeRender.call(h);h.status.rendered=true;h.elements.tooltip='<div qtip="'+h.id+'" class="qtip '+(h.options.style.classes.tooltip||h.options.style)+'"style="display:none; -moz-border-radius:0; -webkit-border-radius:0; border-radius:0;position:'+h.options.position.type+';">  <div class="qtip-wrapper" style="position:relative; overflow:hidden; text-align:left;">    <div class="qtip-contentWrapper" style="overflow:hidden;">       <div class="qtip-content '+h.options.style.classes.content+'"></div></div></div></div>';h.elements.tooltip=D(h.elements.tooltip);h.elements.tooltip.appendTo(h.options.position.container);h.elements.tooltip.data("qtip",{current:0,interfaces:[h]});h.elements.wrapper=h.elements.tooltip.children("div:first");h.elements.contentWrapper=h.elements.wrapper.children("div:first").css({background:h.options.style.background});h.elements.content=h.elements.contentWrapper.children("div:first").css(t(h.options.style));if(D.browser.msie){h.elements.wrapper.add(h.elements.content).css({zoom:1})}if(h.options.hide.when.event=="unfocus"){h.elements.tooltip.attr("unfocus",true)}if(typeof h.options.style.width.value=="number"){h.updateWidth()}if(D("<canvas>").get(0).getContext||D.browser.msie){if(h.options.style.border.radius>0){x.call(h)}else{h.elements.contentWrapper.css({border:h.options.style.border.width+"px solid "+h.options.style.border.color})}if(h.options.style.tip.corner!==false){E.call(h)}}else{h.elements.contentWrapper.css({border:h.options.style.border.width+"px solid "+h.options.style.border.color});h.options.style.border.radius=0;h.options.style.tip.corner=false;D.fn.qtip.log.error.call(h,2,D.fn.qtip.constants.CANVAS_VML_NOT_SUPPORTED,"render")}if((typeof h.options.content.text=="string"&&h.options.content.text.length>0)||(h.options.content.text.jquery&&h.options.content.text.length>0)){f=h.options.content.text}else{if(typeof h.elements.target.attr("title")=="string"&&h.elements.target.attr("title").length>0){f=h.elements.target.attr("title").replace("\\n","<br />");h.elements.target.attr("title","")}else{if(typeof h.elements.target.attr("alt")=="string"&&h.elements.target.attr("alt").length>0){f=h.elements.target.attr("alt").replace("\\n","<br />");h.elements.target.attr("alt","")}else{f=" ";D.fn.qtip.log.error.call(h,1,D.fn.qtip.constants.NO_VALID_CONTENT,"render")}}}if(h.options.content.title.text!==false){A.call(h)}h.updateContent(f);y.call(h);if(h.options.show.ready===true){h.show()}if(h.options.content.url!==false){g=h.options.content.url;e=h.options.content.data;j=h.options.content.method||"get";h.loadContent(g,e,j)}h.onRender.call(h);D.fn.qtip.log.error.call(h,1,D.fn.qtip.constants.EVENT_RENDERED,"render")}function x(){var o,g,p,e,j,r,n,m,a,h,k,b,f,q,l;o=this;o.elements.wrapper.find(".qtip-borderBottom, .qtip-borderTop").remove();p=o.options.style.border.width;e=o.options.style.border.radius;j=o.options.style.border.color||o.options.style.tip.color;r=C(e);n={};for(g in r){n[g]='<div rel="'+g+'" style="'+((g.search(/Left/)!==-1)?"left":"right")+":0; position:absolute; height:"+e+"px; width:"+e+'px; overflow:hidden; line-height:0.1px; font-size:1px">';if(D("<canvas>").get(0).getContext){n[g]+='<canvas height="'+e+'" width="'+e+'" style="vertical-align: top"></canvas>'}else{if(D.browser.msie){m=e*2+3;n[g]+='<v:arc stroked="false" fillcolor="'+j+'" startangle="'+r[g][0]+'" endangle="'+r[g][1]+'" style="width:'+m+"px; height:"+m+"px; margin-top:"+((g.search(/bottom/)!==-1)?-2:-1)+"px; margin-left:"+((g.search(/Right/)!==-1)?r[g][2]-3.5:-1)+'px; vertical-align:top; display:inline-block; behavior:url(#default#VML)"></v:arc>'}}n[g]+="</div>"}a=o.getDimensions().width-(Math.max(p,e)*2);h='<div class="qtip-betweenCorners" style="height:'+e+"px; width:"+a+"px; overflow:hidden; background-color:"+j+'; line-height:0.1px; font-size:1px;">';k='<div class="qtip-borderTop" dir="ltr" style="height:'+e+"px; margin-left:"+e+'px; line-height:0.1px; font-size:1px; padding:0;">'+n.topLeft+n.topRight+h;o.elements.wrapper.prepend(k);b='<div class="qtip-borderBottom" dir="ltr" style="height:'+e+"px; margin-left:"+e+'px; line-height:0.1px; font-size:1px; padding:0;">'+n.bottomLeft+n.bottomRight+h;o.elements.wrapper.append(b);if(D("<canvas>").get(0).getContext){o.elements.wrapper.find("canvas").each(function(){f=r[D(this).parent("[rel]:first").attr("rel")];s.call(o,D(this),f,e,j)})}else{if(D.browser.msie){o.elements.tooltip.append('<v:image style="behavior:url(#default#VML);"></v:image>')}}q=Math.max(e,(e+(p-e)));l=Math.max(p-e,0);o.elements.contentWrapper.css({border:"0px solid "+j,borderWidth:l+"px "+q+"px"})}function s(e,a,g,f){var b=e.get(0).getContext("2d");b.fillStyle=f;b.beginPath();b.arc(a[0],a[1],g,0,Math.PI*2,false);b.fill()}function E(e){var g,h,a,f,b;g=this;if(g.elements.tip!==null){g.elements.tip.remove()}h=g.options.style.tip.color||g.options.style.border.color;if(g.options.style.tip.corner===false){return}else{if(!e){e=g.options.style.tip.corner}}a=H(e,g.options.style.tip.size.width,g.options.style.tip.size.height);g.elements.tip='<div class="'+g.options.style.classes.tip+'" dir="ltr" rel="'+e+'" style="position:absolute; height:'+g.options.style.tip.size.height+"px; width:"+g.options.style.tip.size.width+'px; margin:0 auto; line-height:0.1px; font-size:1px;">';if(D("<canvas>").get(0).getContext){g.elements.tip+='<canvas height="'+g.options.style.tip.size.height+'" width="'+g.options.style.tip.size.width+'"></canvas>'}else{if(D.browser.msie){f=g.options.style.tip.size.width+","+g.options.style.tip.size.height;b="m"+a[0][0]+","+a[0][1];b+=" l"+a[1][0]+","+a[1][1];b+=" "+a[2][0]+","+a[2][1];b+=" xe";g.elements.tip+='<v:shape fillcolor="'+h+'" stroked="false" filled="true" path="'+b+'" coordsize="'+f+'" style="width:'+g.options.style.tip.size.width+"px; height:"+g.options.style.tip.size.height+"px; line-height:0.1px; display:inline-block; behavior:url(#default#VML); vertical-align:"+((e.search(/top/)!==-1)?"bottom":"top")+'"></v:shape>';g.elements.tip+='<v:image style="behavior:url(#default#VML);"></v:image>';g.elements.contentWrapper.css("position","relative")}}g.elements.tooltip.prepend(g.elements.tip+"</div>");g.elements.tip=g.elements.tooltip.find("."+g.options.style.classes.tip).eq(0);if(D("<canvas>").get(0).getContext){B.call(g,g.elements.tip.find("canvas:first"),a,h)}if(e.search(/top/)!==-1&&D.browser.msie&&parseInt(D.browser.version.charAt(0))===6){g.elements.tip.css({marginTop:-4})}w.call(g,e)}function B(e,a,f){var b=e.get(0).getContext("2d");b.fillStyle=f;b.beginPath();b.moveTo(a[0][0],a[0][1]);b.lineTo(a[1][0],a[1][1]);b.lineTo(a[2][0],a[2][1]);b.fill()}function w(f){var g,b,h,a,e;g=this;if(g.options.style.tip.corner===false||!g.elements.tip){return}if(!f){f=g.elements.tip.attr("rel")}b=positionAdjust=(D.browser.msie)?1:0;g.elements.tip.css(f.match(/left|right|top|bottom/)[0],0);if(f.search(/top|bottom/)!==-1){if(D.browser.msie){if(parseInt(D.browser.version.charAt(0))===6){positionAdjust=(f.search(/top/)!==-1)?-3:1}else{positionAdjust=(f.search(/top/)!==-1)?1:2}}if(f.search(/Middle/)!==-1){g.elements.tip.css({left:"50%",marginLeft:-(g.options.style.tip.size.width/2)})}else{if(f.search(/Left/)!==-1){g.elements.tip.css({left:g.options.style.border.radius-b})}else{if(f.search(/Right/)!==-1){g.elements.tip.css({right:g.options.style.border.radius+b})}}}if(f.search(/top/)!==-1){g.elements.tip.css({top:-positionAdjust})}else{g.elements.tip.css({bottom:positionAdjust})}}else{if(f.search(/left|right/)!==-1){if(D.browser.msie){positionAdjust=(parseInt(D.browser.version.charAt(0))===6)?1:((f.search(/left/)!==-1)?1:2)}if(f.search(/Middle/)!==-1){g.elements.tip.css({top:"50%",marginTop:-(g.options.style.tip.size.height/2)})}else{if(f.search(/Top/)!==-1){g.elements.tip.css({top:g.options.style.border.radius-b})}else{if(f.search(/Bottom/)!==-1){g.elements.tip.css({bottom:g.options.style.border.radius+b})}}}if(f.search(/left/)!==-1){g.elements.tip.css({left:-positionAdjust})}else{g.elements.tip.css({right:positionAdjust})}}}h="padding-"+f.match(/left|right|top|bottom/)[0];a=g.options.style.tip.size[(h.search(/left|right/)!==-1)?"width":"height"];g.elements.tooltip.css("padding",0);g.elements.tooltip.css(h,a);if(D.browser.msie&&parseInt(D.browser.version.charAt(0))==6){e=parseInt(g.elements.tip.css("margin-top"))||0;e+=parseInt(g.elements.content.css("margin-top"))||0;g.elements.tip.css({marginTop:e})}}function A(){var a=this;if(a.elements.title!==null){a.elements.title.remove()}a.elements.title=D('<div class="'+a.options.style.classes.title+'">').css(t(a.options.style.title,true)).css({zoom:(D.browser.msie)?1:0}).prependTo(a.elements.contentWrapper);if(a.options.content.title.text){a.updateTitle.call(a,a.options.content.title.text)}if(a.options.content.title.button!==false&&typeof a.options.content.title.button=="string"){a.elements.button=D('<a class="'+a.options.style.classes.button+'" style="float:right; position: relative"></a>').css(t(a.options.style.button,true)).html(a.options.content.title.button).prependTo(a.elements.title).click(function(b){if(!a.status.disabled){a.hide(b)}})}}function y(){var g,e,f,h;g=this;e=g.options.show.when.target;f=g.options.hide.when.target;if(g.options.hide.fixed){f=f.add(g.elements.tooltip)}if(g.options.hide.when.event=="inactive"){h=["click","dblclick","mousedown","mouseup","mousemove","mouseout","mouseenter","mouseleave","mouseover"];function j(k){if(g.status.disabled===true){return}clearTimeout(g.timers.inactive);g.timers.inactive=setTimeout(function(){D(h).each(function(){f.unbind(this+".qtip-inactive");g.elements.content.unbind(this+".qtip-inactive")});g.hide(k)},g.options.hide.delay)}}else{if(g.options.hide.fixed===true){g.elements.tooltip.bind("mouseover.qtip",function(){if(g.status.disabled===true){return}clearTimeout(g.timers.hide)})}}function a(k){if(g.status.disabled===true){return}if(g.options.hide.when.event=="inactive"){D(h).each(function(){f.bind(this+".qtip-inactive",j);g.elements.content.bind(this+".qtip-inactive",j)});j()}clearTimeout(g.timers.show);clearTimeout(g.timers.hide);g.timers.show=setTimeout(function(){g.show(k)},g.options.show.delay)}function b(k){if(g.status.disabled===true){return}if(g.options.hide.fixed===true&&g.options.hide.when.event.search(/mouse(out|leave)/i)!==-1&&D(k.relatedTarget).parents("div.qtip[qtip]").length>0){k.stopPropagation();k.preventDefault();clearTimeout(g.timers.hide);return false}clearTimeout(g.timers.show);clearTimeout(g.timers.hide);g.elements.tooltip.stop(true,true);g.timers.hide=setTimeout(function(){g.hide(k)},g.options.hide.delay)}if((g.options.show.when.target.add(g.options.hide.when.target).length===1&&g.options.show.when.event==g.options.hide.when.event&&g.options.hide.when.event!=="inactive")||g.options.hide.when.event=="unfocus"){g.cache.toggle=0;e.bind(g.options.show.when.event+".qtip",function(k){if(g.cache.toggle==0){a(k)}else{b(k)}})}else{e.bind(g.options.show.when.event+".qtip",a);if(g.options.hide.when.event!=="inactive"){f.bind(g.options.hide.when.event+".qtip",b)}}if(g.options.position.type.search(/(fixed|absolute)/)!==-1){g.elements.tooltip.bind("mouseover.qtip",g.focus)}if(g.options.position.target==="mouse"&&g.options.position.type!=="static"){e.bind("mousemove.qtip",function(k){g.cache.mouse={x:k.pageX,y:k.pageY};if(g.status.disabled===false&&g.options.position.adjust.mouse===true&&g.options.position.type!=="static"&&g.elements.tooltip.css("display")!=="none"){g.updatePosition(k)}})}}function v(j,h,a){var b,l,f,e,k,g;b=this;if(a.corner=="center"){return h.position}l=D.extend({},j);e={x:false,y:false};k={left:(l.left<D.fn.qtip.cache.screen.scroll.left),right:(l.left+a.dimensions.width+2>=D.fn.qtip.cache.screen.width+D.fn.qtip.cache.screen.scroll.left),top:(l.top<D.fn.qtip.cache.screen.scroll.top),bottom:(l.top+a.dimensions.height+2>=D.fn.qtip.cache.screen.height+D.fn.qtip.cache.screen.scroll.top)};f={left:(k.left&&(a.corner.search(/right/i)!=-1||(a.corner.search(/right/i)==-1&&!k.right))),right:(k.right&&(a.corner.search(/left/i)!=-1||(a.corner.search(/left/i)==-1&&!k.left))),top:(k.top&&a.corner.search(/top/i)==-1),bottom:(k.bottom&&a.corner.search(/bottom/i)==-1)};if(f.left){if(b.options.position.target!=="mouse"){l.left=h.position.left+h.dimensions.width}else{l.left=b.cache.mouse.x}e.x="Left"}else{if(f.right){if(b.options.position.target!=="mouse"){l.left=h.position.left-a.dimensions.width}else{l.left=b.cache.mouse.x-a.dimensions.width}e.x="Right"}}if(f.top){if(b.options.position.target!=="mouse"){l.top=h.position.top+h.dimensions.height}else{l.top=b.cache.mouse.y}e.y="top"}else{if(f.bottom){if(b.options.position.target!=="mouse"){l.top=h.position.top-a.dimensions.height}else{l.top=b.cache.mouse.y-a.dimensions.height}e.y="bottom"}}if(l.left<0){l.left=j.left;e.x=false}if(l.top<0){l.top=j.top;e.y=false}if(b.options.style.tip.corner!==false){l.corner=new String(a.corner);if(e.x!==false){l.corner=l.corner.replace(/Left|Right|Middle/,e.x)}if(e.y!==false){l.corner=l.corner.replace(/top|bottom/,e.y)}if(l.corner!==b.elements.tip.attr("rel")){E.call(b,l.corner)}}return l}function t(b,e){var a,f;a=D.extend(true,{},b);for(f in a){if(e===true&&f.search(/(tip|classes)/i)!==-1){delete a[f]}else{if(!e&&f.search(/(width|border|tip|title|classes|user)/i)!==-1){delete a[f]}}}return a}function G(a){if(typeof a.tip!=="object"){a.tip={corner:a.tip}}if(typeof a.tip.size!=="object"){a.tip.size={width:a.tip.size,height:a.tip.size}}if(typeof a.border!=="object"){a.border={width:a.border}}if(typeof a.width!=="object"){a.width={value:a.width}}if(typeof a.width.max=="string"){a.width.max=parseInt(a.width.max.replace(/([0-9]+)/i,"$1"))}if(typeof a.width.min=="string"){a.width.min=parseInt(a.width.min.replace(/([0-9]+)/i,"$1"))}if(typeof a.tip.size.x=="number"){a.tip.size.width=a.tip.size.x;delete a.tip.size.x}if(typeof a.tip.size.y=="number"){a.tip.size.height=a.tip.size.y;delete a.tip.size.y}return a}function I(){var h,g,f,a,e,b;h=this;f=[true,{}];for(g=0;g<arguments.length;g++){f.push(arguments[g])}a=[D.extend.apply(D,f)];while(typeof a[0].name=="string"){a.unshift(G(D.fn.qtip.styles[a[0].name]))}a.unshift(true,{classes:{tooltip:"qtip-"+(arguments[0].name||"defaults")}},D.fn.qtip.styles.defaults);e=D.extend.apply(D,a);b=(D.browser.msie)?1:0;e.tip.size.width+=b;e.tip.size.height+=b;if(e.tip.size.width%2>0){e.tip.size.width+=1}if(e.tip.size.height%2>0){e.tip.size.height+=1}if(e.tip.corner===true){e.tip.corner=(h.options.position.corner.tooltip==="center")?false:h.options.position.corner.tooltip}return e}function H(a,b,e){var f={bottomRight:[[0,0],[b,e],[b,0]],bottomLeft:[[0,0],[b,0],[0,e]],topRight:[[0,e],[b,0],[b,e]],topLeft:[[0,0],[0,e],[b,e]],topMiddle:[[0,e],[b/2,0],[b,e]],bottomMiddle:[[0,0],[b,0],[b/2,e]],rightMiddle:[[0,0],[b,e/2],[0,e]],leftMiddle:[[b,0],[b,e],[0,e/2]]};f.leftTop=f.bottomRight;f.rightTop=f.bottomLeft;f.leftBottom=f.topRight;f.rightBottom=f.topLeft;return f[a]}function C(b){var a;if(D("<canvas>").get(0).getContext){a={topLeft:[b,b],topRight:[0,b],bottomLeft:[b,0],bottomRight:[0,0]}}else{if(D.browser.msie){a={topLeft:[-90,90,0],topRight:[-90,90,-b],bottomLeft:[90,270,0],bottomRight:[90,270,-b]}}}return a}function z(){var e,b,a;e=this;a=e.getDimensions();b='<iframe class="qtip-bgiframe" frameborder="0" tabindex="-1" src="javascript:false" style="display:block; position:absolute; z-index:-1; filter:alpha(opacity=\'0\'); border: 1px solid red; height:'+a.height+"px; width:"+a.width+'px" />';e.elements.bgiframe=e.elements.wrapper.prepend(b).children(".qtip-bgiframe:first")}D(document).ready(function(){D.fn.qtip.cache={screen:{scroll:{left:D(window).scrollLeft(),top:D(window).scrollTop()},width:D(window).width(),height:D(window).height()}};var a;D(window).bind("resize scroll",function(b){clearTimeout(a);a=setTimeout(function(){if(b.type==="scroll"){D.fn.qtip.cache.screen.scroll={left:D(window).scrollLeft(),top:D(window).scrollTop()}}else{D.fn.qtip.cache.screen.width=D(window).width();D.fn.qtip.cache.screen.height=D(window).height()}for(i=0;i<D.fn.qtip.interfaces.length;i++){var e=D.fn.qtip.interfaces[i];if(e.status.rendered===true&&(e.options.position.type!=="static"||e.options.position.adjust.scroll&&b.type==="scroll"||e.options.position.adjust.resize&&b.type==="resize")){e.updatePosition(b,true)}}},100)});D(document).bind("mousedown.qtip",function(b){if(D(b.target).parents("div.qtip").length===0){D(".qtip[unfocus]").each(function(){var e=D(this).qtip("api");if(D(this).is(":visible")&&!e.status.disabled&&D(b.target).add(e.elements.target).length>1){e.hide(b)}})}})});D.fn.qtip.interfaces=[];D.fn.qtip.log={error:function(){return this}};D.fn.qtip.constants={};D.fn.qtip.defaults={content:{prerender:false,text:false,url:false,data:null,title:{text:false,button:false}},position:{target:false,corner:{target:"bottomRight",tooltip:"topLeft"},adjust:{x:0,y:0,mouse:true,screen:false,scroll:true,resize:true},type:"absolute",container:false},show:{when:{target:false,event:"mouseover"},effect:{type:"fade",length:100},delay:140,solo:false,ready:false},hide:{when:{target:false,event:"mouseout"},effect:{type:"fade",length:100},delay:0,fixed:false},api:{beforeRender:function(){},onRender:function(){},beforePositionUpdate:function(){},onPositionUpdate:function(){},beforeShow:function(){},onShow:function(){},beforeHide:function(){},onHide:function(){},beforeContentUpdate:function(){},onContentUpdate:function(){},beforeContentLoad:function(){},onContentLoad:function(){},beforeTitleUpdate:function(){},onTitleUpdate:function(){},beforeDestroy:function(){},onDestroy:function(){},beforeFocus:function(){},onFocus:function(){}}};D.fn.qtip.styles={defaults:{background:"white",color:"#111",overflow:"hidden",textAlign:"left",width:{min:0,max:250},padding:"5px 9px",border:{width:1,radius:0,color:"#d3d3d3"},tip:{corner:false,color:false,size:{width:13,height:13},opacity:1},title:{background:"#e1e1e1",fontWeight:"bold",padding:"7px 12px"},button:{cursor:"pointer"},classes:{target:"",tip:"qtip-tip",title:"qtip-title",button:"qtip-button",content:"qtip-content",active:"qtip-active"}},cream:{border:{width:3,radius:0,color:"#F9E98E"},title:{background:"#F0DE7D",color:"#A27D35"},background:"#FBF7AA",color:"#A27D35",classes:{tooltip:"qtip-cream"}},light:{border:{width:3,radius:0,color:"#E2E2E2"},title:{background:"#f1f1f1",color:"#454545"},background:"white",color:"#454545",classes:{tooltip:"qtip-light"}},dark:{border:{width:3,radius:0,color:"#303030"},title:{background:"#404040",color:"#f3f3f3"},background:"#505050",color:"#f3f3f3",classes:{tooltip:"qtip-dark"}},red:{border:{width:3,radius:0,color:"#CE6F6F"},title:{background:"#f28279",color:"#9C2F2F"},background:"#F79992",color:"#9C2F2F",classes:{tooltip:"qtip-red"}},green:{border:{width:3,radius:0,color:"#A9DB66"},title:{background:"#b9db8c",color:"#58792E"},background:"#CDE6AC",color:"#58792E",classes:{tooltip:"qtip-green"}},blue:{border:{width:3,radius:0,color:"#ADD9ED"},title:{background:"#D0E9F5",color:"#5E99BD"},background:"#E5F6FE",color:"#4D9FBF",classes:{tooltip:"qtip-blue"}}}})(jQuery);(function(h){var g={common:{type:"line",lineColor:"#00f",fillColor:"#cdf",defaultPixelsPerValue:3,width:"auto",height:"auto",composite:false,tagValuesAttribute:"values",tagOptionsPrefix:"spark",enableTagOptions:false},line:{spotColor:"#f80",spotRadius:1.5,minSpotColor:"#f80",maxSpotColor:"#f80",lineWidth:1,normalRangeMin:undefined,normalRangeMax:undefined,normalRangeColor:"#ccc",drawNormalOnTop:false,chartRangeMin:undefined,chartRangeMax:undefined,chartRangeMinX:undefined,chartRangeMaxX:undefined},bar:{barColor:"#00f",negBarColor:"#f44",zeroColor:undefined,nullColor:undefined,zeroAxis:undefined,barWidth:4,barSpacing:1,chartRangeMax:undefined,chartRangeMin:undefined,chartRangeClip:false,colorMap:undefined},tristate:{barWidth:4,barSpacing:1,posBarColor:"#6f6",negBarColor:"#f44",zeroBarColor:"#999",colorMap:{}},discrete:{lineHeight:"auto",thresholdColor:undefined,thresholdValue:0,chartRangeMax:undefined,chartRangeMin:undefined,chartRangeClip:false},bullet:{targetColor:"red",targetWidth:3,performanceColor:"blue",rangeColors:["#D3DAFE","#A8B6FF","#7F94FF"],base:undefined},pie:{sliceColors:["#f00","#0f0","#00f"]},box:{raw:false,boxLineColor:"black",boxFillColor:"#cdf",whiskerColor:"black",outlierLineColor:"#333",outlierFillColor:"white",medianColor:"red",showOutliers:true,outlierIQR:1.5,spotRadius:1.5,target:undefined,targetColor:"#4a2",chartRangeMax:undefined,chartRangeMin:undefined}};var l,b,e;h.fn.simpledraw=function(o,n,p){if(p&&this[0].VCanvas){return this[0].VCanvas}if(o===undefined){o=h(this).innerWidth()}if(n===undefined){n=h(this).innerHeight()}if(h.browser.hasCanvas){return new b(o,n,this)}else{if(h.browser.msie){return new e(o,n,this)}else{return false}}};var a=[];h.fn.sparkline=function(n,o){return this.each(function(){var p=new h.fn.sparkline.options(this,o);var q=function(){var s,u,r;if(n==="html"||n===undefined){var v=this.getAttribute(p.get("tagValuesAttribute"));if(v===undefined||v===null){v=h(this).html()}s=v.replace(/(^\s*<!--)|(-->\s*$)|\s+/g,"").split(",")}else{s=n}u=p.get("width")=="auto"?s.length*p.get("defaultPixelsPerValue"):p.get("width");if(p.get("height")=="auto"){if(!p.get("composite")||!this.VCanvas){var t=document.createElement("span");t.innerHTML="a";h(this).html(t);r=h(t).innerHeight();h(t).remove()}}else{r=p.get("height")}h.fn.sparkline[p.get("type")].call(this,s,p,u,r)};if((h(this).html()&&h(this).is(":hidden"))||(h.fn.jquery<"1.3.0"&&h(this).parents().is(":hidden"))||!h(this).parents("body").length){a.push([this,q])}else{q.call(this)}})};h.fn.sparkline.defaults=g;h.sparkline_display_visible=function(){for(var n=a.length-1;n>=0;n--){var o=a[n][0];if(h(o).is(":visible")&&!h(o).parents().is(":hidden")){a[n][1].call(o);a.splice(n,1)}}};var j={};var f=function(o){switch(o){case"undefined":o=undefined;break;case"null":o=null;break;case"true":o=true;break;case"false":o=false;break;default:var n=parseFloat(o);if(o==n){o=n}}return o};h.fn.sparkline.options=function(n,s){var r;this.userOptions=s=s||{};this.tag=n;this.tagValCache={};var q=h.fn.sparkline.defaults;var p=q.common;this.tagOptionsPrefix=s.enableTagOptions&&(s.tagOptionsPrefix||p.tagOptionsPrefix);var o=this.getTagSetting("type");if(o===j){r=q[s.type||p.type]}else{r=q[o]}this.mergedOptions=h.extend({},p,r,s)};h.fn.sparkline.options.prototype.getTagSetting=function(p){var s,o,r=this.tagOptionsPrefix;if(r===false||r===undefined){return j}if(this.tagValCache.hasOwnProperty(p)){s=this.tagValCache.key}else{s=this.tag.getAttribute(r+p);if(s===undefined||s===null){s=j}else{if(s.substr(0,1)=="["){s=s.substr(1,s.length-2).split(",");for(o=s.length;o--;){s[o]=f(s[o].replace(/(^\s*)|(\s*$)/g,""))}}else{if(s.substr(0,1)=="{"){var q=s.substr(1,s.length-2).split(",");s={};for(o=q.length;o--;){var n=q[o].split(":",2);s[n[0].replace(/(^\s*)|(\s*$)/g,"")]=f(n[1].replace(/(^\s*)|(\s*$)/g,""))}}else{s=f(s)}}}this.tagValCache.key=s}return s};h.fn.sparkline.options.prototype.get=function(o){var n=this.getTagSetting(o);if(n!==j){return n}return this.mergedOptions[o]};h.fn.sparkline.line=function(aa,I,o,p){var z=[],w=[],H=[];for(var Z=0;Z<aa.length;Z++){var K=aa[Z];var t=typeof(aa[Z])=="string";var T=typeof(aa[Z])=="object"&&aa[Z] instanceof Array;var B=t&&aa[Z].split(":");if(t&&B.length==2){z.push(Number(B[0]));w.push(Number(B[1]));H.push(Number(B[1]))}else{if(T){z.push(K[0]);w.push(K[1]);H.push(K[1])}else{z.push(Z);if(aa[Z]===null||aa[Z]=="null"){w.push(null)}else{w.push(Number(K));H.push(Number(K))}}}}if(I.get("xvalues")){z=I.get("xvalues")}var r=Math.max.apply(Math,H);var R=r;var F=Math.min.apply(Math,H);var N=F;var s=Math.max.apply(Math,z);var G=Math.min.apply(Math,z);var M=I.get("normalRangeMin");var q=I.get("normalRangeMax");if(M!==undefined){if(M<F){F=M}if(q>r){r=q}}if(I.get("chartRangeMin")!==undefined&&(I.get("chartRangeClip")||I.get("chartRangeMin")<F)){F=I.get("chartRangeMin")}if(I.get("chartRangeMax")!==undefined&&(I.get("chartRangeClip")||I.get("chartRangeMax")>r)){r=I.get("chartRangeMax")}if(I.get("chartRangeMinX")!==undefined&&(I.get("chartRangeClipX")||I.get("chartRangeMinX")<G)){G=I.get("chartRangeMinX")}if(I.get("chartRangeMaxX")!==undefined&&(I.get("chartRangeClipX")||I.get("chartRangeMaxX")>s)){s=I.get("chartRangeMaxX")}var C=s-G===0?1:s-G;var A=r-F===0?1:r-F;var E=w.length-1;if(E<1){this.innerHTML="";return}var n=h(this).simpledraw(o,p,I.get("composite"));if(n){var Q=n.pixel_width;var V=n.pixel_height;var J=0;var v=0;var Y=I.get("spotRadius");if(Y&&(Q<(Y*4)||V<(Y*4))){Y=0}if(Y){if(I.get("minSpotColor")||(I.get("spotColor")&&w[E]==F)){V-=Math.ceil(Y)}if(I.get("maxSpotColor")||(I.get("spotColor")&&w[E]==r)){V-=Math.ceil(Y);J+=Math.ceil(Y)}if(I.get("minSpotColor")||I.get("maxSpotColor")&&(w[0]==F||w[0]==r)){v+=Math.ceil(Y);Q-=Math.ceil(Y)}if(I.get("spotColor")||(I.get("minSpotColor")||I.get("maxSpotColor")&&(w[E]==F||w[E]==r))){Q-=Math.ceil(Y)}}V--;var L=function(){if(M!==undefined){var y=J+Math.round(V-(V*((q-F)/A)));var x=Math.round((V*(q-M))/A);n.drawRect(v,y,Q,x,undefined,I.get("normalRangeColor"))}};if(!I.get("drawNormalOnTop")){L()}var W=[];var O=[W];var U,S,X=w.length;for(Z=0;Z<X;Z++){U=z[Z];S=w[Z];if(S===null){if(Z){if(w[Z-1]!==null){W=[];O.push(W)}}}else{if(S<F){S=F}if(S>r){S=r}if(!W.length){W.push([v+Math.round((U-G)*(Q/C)),J+V])}W.push([v+Math.round((U-G)*(Q/C)),J+Math.round(V-(V*((S-F)/A)))])}}var P=[];var u=[];var D=O.length;for(Z=0;Z<D;Z++){W=O[Z];if(!W.length){continue}if(I.get("fillColor")){W.push([W[W.length-1][0],J+V-1]);u.push(W.slice(0));W.pop()}if(W.length>2){W[0]=[W[0][0],W[1][1]]}P.push(W)}D=u.length;for(Z=0;Z<D;Z++){n.drawShape(u[Z],undefined,I.get("fillColor"))}if(I.get("drawNormalOnTop")){L()}D=P.length;for(Z=0;Z<D;Z++){n.drawShape(P[Z],I.get("lineColor"),undefined,I.get("lineWidth"))}if(Y&&I.get("spotColor")){n.drawCircle(v+Math.round(z[z.length-1]*(Q/C)),J+Math.round(V-(V*((w[E]-F)/A))),Y,undefined,I.get("spotColor"))}if(r!=N){if(Y&&I.get("minSpotColor")){U=z[h.inArray(N,w)];n.drawCircle(v+Math.round((U-G)*(Q/C)),J+Math.round(V-(V*((N-F)/A))),Y,undefined,I.get("minSpotColor"))}if(Y&&I.get("maxSpotColor")){U=z[h.inArray(R,w)];n.drawCircle(v+Math.round((U-G)*(Q/C)),J+Math.round(V-(V*((R-F)/A))),Y,undefined,I.get("maxSpotColor"))}}}else{this.innerHTML=""}};h.fn.sparkline.bar=function(n,p,A,w){A=(n.length*p.get("barWidth"))+((n.length-1)*p.get("barSpacing"));var q=[];for(var G=0,s=n.length;G<s;G++){if(n[G]=="null"||n[G]===null){n[G]=null}else{n[G]=Number(n[G]);q.push(Number(n[G]))}}var F=Math.max.apply(Math,q),B=Math.min.apply(Math,q);if(p.get("chartRangeMin")!==undefined&&(p.get("chartRangeClip")||p.get("chartRangeMin")<B)){B=p.get("chartRangeMin")}if(p.get("chartRangeMax")!==undefined&&(p.get("chartRangeClip")||p.get("chartRangeMax")>F)){F=p.get("chartRangeMax")}var E=p.get("zeroAxis");if(E===undefined){E=B<0}var v=F-B===0?1:F-B;var r,z;if(h.isArray(p.get("colorMap"))){r=p.get("colorMap");z=null}else{r=null;z=p.get("colorMap")}var H=h(this).simpledraw(A,w,p.get("composite"));if(H){var C,D=H.pixel_height,o=B<0&&E?D-Math.round(D*(Math.abs(B)/v))-1:D-1;for(G=n.length;G--;){var u=G*(p.get("barWidth")+p.get("barSpacing")),t,I=n[G];if(I===null){if(p.get("nullColor")){C=p.get("nullColor");I=(E&&B<0)?0:B;w=1;t=(E&&B<0)?o:D-w}else{continue}}else{if(I<B){I=B}if(I>F){I=F}C=(I<0)?p.get("negBarColor"):p.get("barColor");if(E&&B<0){w=Math.round(D*((Math.abs(I)/v)))+1;t=(I<0)?o:o-w}else{w=Math.round(D*((I-B)/v))+1;t=D-w}if(I===0&&p.get("zeroColor")!==undefined){C=p.get("zeroColor")}if(z&&z[I]){C=z[I]}else{if(r&&r.length>G){C=r[G]}}if(C===null){continue}}H.drawRect(u,t,p.get("barWidth")-1,w-1,C,C)}}else{this.innerHTML=""}};h.fn.sparkline.tristate=function(z,B,o,A){z=h.map(z,Number);o=(z.length*B.get("barWidth"))+((z.length-1)*B.get("barSpacing"));var s,w;if(h.isArray(B.get("colorMap"))){s=B.get("colorMap");w=null}else{s=null;w=B.get("colorMap")}var t=h(this).simpledraw(o,A,B.get("composite"));if(t){var n=t.pixel_height,r=Math.round(n/2);for(var q=z.length;q--;){var v=q*(B.get("barWidth")+B.get("barSpacing")),u,p;if(z[q]<0){u=r;A=r-1;p=B.get("negBarColor")}else{if(z[q]>0){u=0;A=r-1;p=B.get("posBarColor")}else{u=r-1;A=2;p=B.get("zeroBarColor")}}if(w&&w[z[q]]){p=w[z[q]]}else{if(s&&s.length>q){p=s[q]}}if(p===null){continue}t.drawRect(v,u,B.get("barWidth")-1,A-1,p,p)}}else{this.innerHTML=""}};h.fn.sparkline.discrete=function(B,D,o,C){B=h.map(B,Number);o=D.get("width")=="auto"?B.length*2:o;var q=Math.floor(o/B.length);var w=h(this).simpledraw(o,C,D.get("composite"));if(w){var n=w.pixel_height,A=D.get("lineHeight")=="auto"?Math.round(n*0.3):D.get("lineHeight"),v=n-A,s=Math.min.apply(Math,B),y=Math.max.apply(Math,B);if(D.get("chartRangeMin")!==undefined&&(D.get("chartRangeClip")||D.get("chartRangeMin")<s)){s=D.get("chartRangeMin")}if(D.get("chartRangeMax")!==undefined&&(D.get("chartRangeClip")||D.get("chartRangeMax")>y)){y=D.get("chartRangeMax")}var u=y-s;for(var t=B.length;t--;){var r=B[t];if(r<s){r=s}if(r>y){r=y}var z=(t*q),p=Math.round(v-v*((r-s)/u));w.drawLine(z,p,z,p+A,(D.get("thresholdColor")&&r<D.get("thresholdValue"))?D.get("thresholdColor"):D.get("lineColor"))}}else{this.innerHTML=""}};h.fn.sparkline.bullet=function(p,r,A,y){p=h.map(p,Number);A=r.get("width")=="auto"?"4.0em":A;var H=h(this).simpledraw(A,y,r.get("composite"));if(H&&p.length>1){var G=H.pixel_width-Math.ceil(r.get("targetWidth")/2),C=H.pixel_height,B=Math.min.apply(Math,p),D=Math.max.apply(Math,p);if(r.get("base")===undefined){B=B<0?B:0}else{B=r.get("base")}var v=D-B;for(var E=2,t=p.length;E<t;E++){var s=p[E],o=Math.round(G*((s-B)/v));H.drawRect(0,0,o-1,C-1,r.get("rangeColors")[E-2],r.get("rangeColors")[E-2])}var z=p[1],n=Math.round(G*((z-B)/v));H.drawRect(0,Math.round(C*0.3),n-1,Math.round(C*0.4)-1,r.get("performanceColor"),r.get("performanceColor"));var w=p[0],u=Math.round(G*((w-B)/v)-(r.get("targetWidth")/2)),q=Math.round(C*0.1),F=C-(q*2);H.drawRect(u,q,r.get("targetWidth")-1,F-1,r.get("targetColor"),r.get("targetColor"))}else{this.innerHTML=""}};h.fn.sparkline.pie=function(z,B,q,A){z=h.map(z,Number);q=B.get("width")=="auto"?A:q;var v=h(this).simpledraw(q,A,B.get("composite"));if(v&&z.length>1){var w=v.pixel_width,n=v.pixel_height,u=Math.floor(Math.min(w,n)/2),x=0,t=0,o=2*Math.PI;for(var s=z.length;s--;){x+=z[s]}if(B.get("offset")){t+=(2*Math.PI)*(B.get("offset")/360)}var y=z.length;for(s=0;s<y;s++){var p=t;var r=t;if(x>0){r=t+(o*(z[s]/x))}v.drawPieSlice(u,u,u,p,r,undefined,B.get("sliceColors")[s%B.get("sliceColors").length]);t=r}}};var k=function(o,p){if(p==2){var n=Math.floor(o.length/2);return o.length%2?o[n]:(o[n]+o[n+1])/2}else{var r=Math.floor(o.length/4);return o.length%2?(o[r*p]+o[r*p+1])/2:o[r*p]}};h.fn.sparkline.box=function(o,q,B,z){o=h.map(o,Number);B=q.get("width")=="auto"?"4.0em":B;var r=q.get("chartRangeMin")===undefined?Math.min.apply(Math,o):q.get("chartRangeMin"),A=q.get("chartRangeMax")===undefined?Math.max.apply(Math,o):q.get("chartRangeMax"),I=h(this).simpledraw(B,z,q.get("composite")),t=o.length,x,G,w,v,u,n,s;if(I&&o.length>1){var F=I.pixel_width,C=I.pixel_height;if(q.get("raw")){if(q.get("showOutliers")&&o.length>5){G=o[0];x=o[1];w=o[2];v=o[3];u=o[4];n=o[5];s=o[6]}else{x=o[0];w=o[1];v=o[2];u=o[3];n=o[4]}}else{o.sort(function(K,J){return K-J});w=k(o,1);v=k(o,2);u=k(o,3);var p=u-w;if(q.get("showOutliers")){x=undefined;n=undefined;for(var D=0;D<t;D++){if(x===undefined&&o[D]>w-(p*q.get("outlierIQR"))){x=o[D]}if(o[D]<u+(p*q.get("outlierIQR"))){n=o[D]}}G=o[0];s=o[t-1]}else{x=o[0];n=o[t-1]}}var H=F/(A-r+1),E=0;if(q.get("showOutliers")){E=Math.ceil(q.get("spotRadius"));F-=2*Math.ceil(q.get("spotRadius"));H=F/(A-r+1);if(G<x){I.drawCircle((G-r)*H+E,C/2,q.get("spotRadius"),q.get("outlierLineColor"),q.get("outlierFillColor"))}if(s>n){I.drawCircle((s-r)*H+E,C/2,q.get("spotRadius"),q.get("outlierLineColor"),q.get("outlierFillColor"))}}I.drawRect(Math.round((w-r)*H+E),Math.round(C*0.1),Math.round((u-w)*H),Math.round(C*0.8),q.get("boxLineColor"),q.get("boxFillColor"));I.drawLine(Math.round((x-r)*H+E),Math.round(C/2),Math.round((w-r)*H+E),Math.round(C/2),q.get("lineColor"));I.drawLine(Math.round((x-r)*H+E),Math.round(C/4),Math.round((x-r)*H+E),Math.round(C-C/4),q.get("whiskerColor"));I.drawLine(Math.round((n-r)*H+E),Math.round(C/2),Math.round((u-r)*H+E),Math.round(C/2),q.get("lineColor"));I.drawLine(Math.round((n-r)*H+E),Math.round(C/4),Math.round((n-r)*H+E),Math.round(C-C/4),q.get("whiskerColor"));I.drawLine(Math.round((v-r)*H+E),Math.round(C*0.1),Math.round((v-r)*H+E),Math.round(C*0.9),q.get("medianColor"));if(q.get("target")){var y=Math.ceil(q.get("spotRadius"));I.drawLine(Math.round((q.get("target")-r)*H+E),Math.round((C/2)-y),Math.round((q.get("target")-r)*H+E),Math.round((C/2)+y),q.get("targetColor"));I.drawLine(Math.round((q.get("target")-r)*H+E-y),Math.round(C/2),Math.round((q.get("target")-r)*H+E+y),Math.round(C/2),q.get("targetColor"))}}else{this.innerHTML=""}};if(h.browser.msie&&!document.namespaces.v){document.namespaces.add("v","urn:schemas-microsoft-com:vml","#default#VML")}if(h.browser.hasCanvas===undefined){var m=document.createElement("canvas");h.browser.hasCanvas=m.getContext!==undefined}l=function(o,n,p){};l.prototype={init:function(o,n,p){this.width=o;this.height=n;this.target=p;if(p[0]){p=p[0]}p.VCanvas=this},drawShape:function(p,o,q,n){alert("drawShape not implemented")},drawLine:function(p,r,o,q,s,n){return this.drawShape([[p,r],[o,q]],s,n)},drawCircle:function(o,r,n,p,q){alert("drawCircle not implemented")},drawPieSlice:function(o,t,n,q,p,r,s){alert("drawPieSlice not implemented")},drawRect:function(o,s,p,n,q,r){alert("drawRect not implemented")},getElement:function(){return this.canvas},_insert:function(n,o){h(o).html(n)}};b=function(o,n,p){return this.init(o,n,p)};b.prototype=h.extend(new l(),{_super:l.prototype,init:function(o,n,p){this._super.init(o,n,p);this.canvas=document.createElement("canvas");if(p[0]){p=p[0]}p.VCanvas=this;h(this.canvas).css({display:"inline-block",width:o,height:n,verticalAlign:"top"});this._insert(this.canvas,p);this.pixel_height=h(this.canvas).height();this.pixel_width=h(this.canvas).width();this.canvas.width=this.pixel_width;this.canvas.height=this.pixel_height;h(this.canvas).css({width:this.pixel_width,height:this.pixel_height})},_getContext:function(p,q,n){var o=this.canvas.getContext("2d");if(p!==undefined){o.strokeStyle=p}o.lineWidth=n===undefined?1:n;if(q!==undefined){o.fillStyle=q}return o},drawShape:function(s,r,t,n){var p=this._getContext(r,t,n);p.beginPath();p.moveTo(s[0][0]+0.5,s[0][1]+0.5);for(var o=1,q=s.length;o<q;o++){p.lineTo(s[o][0]+0.5,s[o][1]+0.5)}if(r!==undefined){p.stroke()}if(t!==undefined){p.fill()}},drawCircle:function(o,s,n,q,r){var p=this._getContext(q,r);p.beginPath();p.arc(o,s,n,0,2*Math.PI,false);if(q!==undefined){p.stroke()}if(r!==undefined){p.fill()}},drawPieSlice:function(o,u,n,r,p,s,t){var q=this._getContext(s,t);q.beginPath();q.moveTo(o,u);q.arc(o,u,n,r,p,false);q.lineTo(o,u);q.closePath();if(s!==undefined){q.stroke()}if(t){q.fill()}},drawRect:function(o,s,p,n,q,r){return this.drawShape([[o,s],[o+p,s],[o+p,s+n],[o,s+n],[o,s]],q,r)}});e=function(o,n,p){return this.init(o,n,p)};e.prototype=h.extend(new l(),{_super:l.prototype,init:function(o,n,q){this._super.init(o,n,q);if(q[0]){q=q[0]}q.VCanvas=this;this.canvas=document.createElement("span");h(this.canvas).css({display:"inline-block",position:"relative",overflow:"hidden",width:o,height:n,margin:"0px",padding:"0px",verticalAlign:"top"});this._insert(this.canvas,q);this.pixel_height=h(this.canvas).height();this.pixel_width=h(this.canvas).width();this.canvas.width=this.pixel_width;this.canvas.height=this.pixel_height;var p='<v:group coordorigin="0 0" coordsize="'+this.pixel_width+" "+this.pixel_height+'" style="position:absolute;top:0;left:0;width:'+this.pixel_width+"px;height="+this.pixel_height+'px;"></v:group>';this.canvas.insertAdjacentHTML("beforeEnd",p);this.group=h(this.canvas).children()[0]},drawShape:function(y,t,n,q){var u=[];for(var p=0,o=y.length;p<o;p++){u[p]=""+(y[p][0])+","+(y[p][1])}var s=u.splice(0,1);q=q===undefined?1:q;var x=t===undefined?' stroked="false" ':' strokeWeight="'+q+'" strokeColor="'+t+'" ';var w=n===undefined?' filled="false"':' fillColor="'+n+'" filled="true" ';var r=u[0]==u[u.length-1]?"x ":"";var v='<v:shape coordorigin="0 0" coordsize="'+this.pixel_width+" "+this.pixel_height+'" '+x+w+' style="position:absolute;left:0px;top:0px;height:'+this.pixel_height+"px;width:"+this.pixel_width+'px;padding:0px;margin:0px;"  path="m '+s+" l "+u.join(", ")+" "+r+'e"> </v:shape>';this.group.insertAdjacentHTML("beforeEnd",v)},drawCircle:function(o,u,n,s,t){o-=n+1;u-=n+1;var r=s===undefined?' stroked="false" ':' strokeWeight="1" strokeColor="'+s+'" ';var q=t===undefined?' filled="false"':' fillColor="'+t+'" filled="true" ';var p="<v:oval "+r+q+' style="position:absolute;top:'+u+"px; left:"+o+"px; width:"+(n*2)+"px; height:"+(n*2)+'px"></v:oval>';this.group.insertAdjacentHTML("beforeEnd",p)},drawPieSlice:function(A,w,t,u,q,z,p){if(u==q){return}if((q-u)==(2*Math.PI)){u=0;q=(2*Math.PI)}var o=A+Math.round(Math.cos(u)*t);var n=w+Math.round(Math.sin(u)*t);var s=A+Math.round(Math.cos(q)*t);var r=w+Math.round(Math.sin(q)*t);if(o==s&&n==r&&(q-u)<Math.PI){return}var v=[A-t,w-t,A+t,w+t,o,n,s,r];var D=z===undefined?' stroked="false" ':' strokeWeight="1" strokeColor="'+z+'" ';var C=p===undefined?' filled="false"':' fillColor="'+p+'" filled="true" ';var B='<v:shape coordorigin="0 0" coordsize="'+this.pixel_width+" "+this.pixel_height+'" '+D+C+' style="position:absolute;left:0px;top:0px;height:'+this.pixel_height+"px;width:"+this.pixel_width+'px;padding:0px;margin:0px;"  path="m '+A+","+w+" wa "+v.join(", ")+' x e"> </v:shape>';this.group.insertAdjacentHTML("beforeEnd",B)},drawRect:function(o,s,p,n,q,r){return this.drawShape([[o,s],[o,s+n],[o+p,s+n],[o+p,s],[o,s]],q,r)}})})(jQuery);(function($){$.extend({tablesorter:new function(){var parsers=[],widgets=[];this.defaults={cssHeader:"header",cssAsc:"headerSortUp",cssDesc:"headerSortDown",cssChildRow:"expand-child",sortInitialOrder:"asc",sortMultiSortKey:"shiftKey",sortForce:null,sortAppend:null,sortLocaleCompare:true,textExtraction:"simple",parsers:{},widgets:[],widgetZebra:{css:["even","odd"]},headers:{},widthFixed:false,cancelSelection:true,sortList:[],headerList:[],dateFormat:"us",decimal:"/.|,/g",onRenderHeader:null,selectorHeaders:"thead th",debug:false};function benchmark(s,d){log(s+","+(new Date().getTime()-d.getTime())+"ms")}this.benchmark=benchmark;function log(s){if(typeof console!="undefined"&&typeof console.debug!="undefined"){console.log(s)}else{alert(s)}}function buildParserCache(table,$headers){if(table.config.debug){var parsersDebug=""}if(table.tBodies.length==0){return}var rows=table.tBodies[0].rows;if(rows[0]){var list=[],cells=rows[0].cells,l=cells.length;for(var i=0;i<l;i++){var p=false;if($.metadata&&($($headers[i]).metadata()&&$($headers[i]).metadata().sorter)){p=getParserById($($headers[i]).metadata().sorter)}else{if((table.config.headers[i]&&table.config.headers[i].sorter)){p=getParserById(table.config.headers[i].sorter)}}if(!p){p=detectParserForColumn(table,rows,-1,i)}if(table.config.debug){parsersDebug+="column:"+i+" parser:"+p.id+"\n"}list.push(p)}}if(table.config.debug){log(parsersDebug)}return list}function detectParserForColumn(table,rows,rowIndex,cellIndex){var l=parsers.length,node=false,nodeValue=false,keepLooking=true;while(nodeValue==""&&keepLooking){rowIndex++;if(rows[rowIndex]){node=getNodeFromRowAndCellIndex(rows,rowIndex,cellIndex);nodeValue=trimAndGetNodeText(table.config,node);if(table.config.debug){log("Checking if value was empty on row:"+rowIndex)}}else{keepLooking=false}}for(var i=1;i<l;i++){if(parsers[i].is(nodeValue,table,node)){return parsers[i]}}return parsers[0]}function getNodeFromRowAndCellIndex(rows,rowIndex,cellIndex){return rows[rowIndex].cells[cellIndex]}function trimAndGetNodeText(config,node){return $.trim(getElementText(config,node))}function getParserById(name){var l=parsers.length;for(var i=0;i<l;i++){if(parsers[i].id.toLowerCase()==name.toLowerCase()){return parsers[i]}}return false}function buildCache(table){if(table.config.debug){var cacheTime=new Date()}var totalRows=(table.tBodies[0]&&table.tBodies[0].rows.length)||0,totalCells=(table.tBodies[0].rows[0]&&table.tBodies[0].rows[0].cells.length)||0,parsers=table.config.parsers,cache={row:[],normalized:[]};for(var i=0;i<totalRows;++i){var c=$(table.tBodies[0].rows[i]),cols=[];if(c.hasClass(table.config.cssChildRow)){cache.row[cache.row.length-1]=cache.row[cache.row.length-1].add(c);continue}cache.row.push(c);for(var j=0;j<totalCells;++j){cols.push(parsers[j].format(getElementText(table.config,c[0].cells[j]),table,c[0].cells[j]))}cols.push(cache.normalized.length);cache.normalized.push(cols);cols=null}if(table.config.debug){benchmark("Building cache for "+totalRows+" rows:",cacheTime)}return cache}function getElementText(config,node){var text="";if(!node){return""}if(!config.supportsTextContent){config.supportsTextContent=node.textContent||false}if(config.textExtraction=="simple"){if(config.supportsTextContent){text=node.textContent}else{if(node.childNodes[0]&&node.childNodes[0].hasChildNodes()){text=node.childNodes[0].innerHTML}else{text=node.innerHTML}}}else{if(typeof(config.textExtraction)=="function"){text=config.textExtraction(node)}else{text=$(node).text()}}return text}function appendToTable(table,cache){if(table.config.debug){var appendTime=new Date()}var c=cache,r=c.row,n=c.normalized,totalRows=n.length,checkCell=(n[0].length-1),tableBody=$(table.tBodies[0]),rows=[];for(var i=0;i<totalRows;i++){var pos=n[i][checkCell];rows.push(r[pos]);if(!table.config.appender){var l=r[pos].length;for(var j=0;j<l;j++){tableBody[0].appendChild(r[pos][j])}}}if(table.config.appender){table.config.appender(table,rows)}rows=null;if(table.config.debug){benchmark("Rebuilt table:",appendTime)}applyWidget(table);setTimeout(function(){$(table).trigger("sortEnd")},0)}function buildHeaders(table){if(table.config.debug){var time=new Date()}var meta=($.metadata)?true:false;var header_index=computeTableHeaderCellIndexes(table);$tableHeaders=$(table.config.selectorHeaders,table).each(function(index){this.column=header_index[this.parentNode.rowIndex+"-"+this.cellIndex];this.order=formatSortingOrder(table.config.sortInitialOrder);this.count=this.order;if(checkHeaderMetadata(this)||checkHeaderOptions(table,index)){this.sortDisabled=true}if(checkHeaderOptionsSortingLocked(table,index)){this.order=this.lockedOrder=checkHeaderOptionsSortingLocked(table,index)}if(!this.sortDisabled){var $th=$(this).addClass(table.config.cssHeader);if(table.config.onRenderHeader){table.config.onRenderHeader.apply($th)}}table.config.headerList[index]=this});if(table.config.debug){benchmark("Built headers:",time);log($tableHeaders)}return $tableHeaders}function computeTableHeaderCellIndexes(t){var matrix=[];var lookup={};var thead=t.getElementsByTagName("THEAD")[0];var trs=thead.getElementsByTagName("TR");for(var i=0;i<trs.length;i++){var cells=trs[i].cells;for(var j=0;j<cells.length;j++){var c=cells[j];var rowIndex=c.parentNode.rowIndex;var cellId=rowIndex+"-"+c.cellIndex;var rowSpan=c.rowSpan||1;var colSpan=c.colSpan||1;var firstAvailCol;if(typeof(matrix[rowIndex])=="undefined"){matrix[rowIndex]=[]}for(var k=0;k<matrix[rowIndex].length+1;k++){if(typeof(matrix[rowIndex][k])=="undefined"){firstAvailCol=k;break}}lookup[cellId]=firstAvailCol;for(var k=rowIndex;k<rowIndex+rowSpan;k++){if(typeof(matrix[k])=="undefined"){matrix[k]=[]}var matrixrow=matrix[k];for(var l=firstAvailCol;l<firstAvailCol+colSpan;l++){matrixrow[l]="x"}}}}return lookup}function checkCellColSpan(table,rows,row){var arr=[],r=table.tHead.rows,c=r[row].cells;for(var i=0;i<c.length;i++){var cell=c[i];if(cell.colSpan>1){arr=arr.concat(checkCellColSpan(table,headerArr,row++))}else{if(table.tHead.length==1||(cell.rowSpan>1||!r[row+1])){arr.push(cell)}}}return arr}function checkHeaderMetadata(cell){if(($.metadata)&&($(cell).metadata().sorter===false)){return true}return false}function checkHeaderOptions(table,i){if((table.config.headers[i])&&(table.config.headers[i].sorter===false)){return true}return false}function checkHeaderOptionsSortingLocked(table,i){if((table.config.headers[i])&&(table.config.headers[i].lockedOrder)){return table.config.headers[i].lockedOrder}return false}function applyWidget(table){var c=table.config.widgets;var l=c.length;for(var i=0;i<l;i++){getWidgetById(c[i]).format(table)}}function getWidgetById(name){var l=widgets.length;for(var i=0;i<l;i++){if(widgets[i].id.toLowerCase()==name.toLowerCase()){return widgets[i]}}}function formatSortingOrder(v){if(typeof(v)!="Number"){return(v.toLowerCase()=="desc")?1:0}else{return(v==1)?1:0}}function isValueInArray(v,a){var l=a.length;for(var i=0;i<l;i++){if(a[i][0]==v){return true}}return false}function setHeadersCss(table,$headers,list,css){$headers.removeClass(css[0]).removeClass(css[1]);var h=[];$headers.each(function(offset){if(!this.sortDisabled){h[this.column]=$(this)}});var l=list.length;for(var i=0;i<l;i++){h[list[i][0]].addClass(css[list[i][1]])}}function fixColumnWidth(table,$headers){var c=table.config;if(c.widthFixed){var colgroup=$("<colgroup>");$("tr:first td",table.tBodies[0]).each(function(){colgroup.append($("<col>").css("width",$(this).width()))});$(table).prepend(colgroup)}}function updateHeaderSortCount(table,sortList){var c=table.config,l=sortList.length;for(var i=0;i<l;i++){var s=sortList[i],o=c.headerList[s[0]];o.count=s[1];o.count++}}function multisort(table,sortList,cache){if(table.config.debug){var sortTime=new Date()}var dynamicExp="var sortWrapper = function(a,b) {",l=sortList.length;for(var i=0;i<l;i++){var c=sortList[i][0];var order=sortList[i][1];var s=(table.config.parsers[c].type=="text")?((order==0)?makeSortFunction("text","asc",c):makeSortFunction("text","desc",c)):((order==0)?makeSortFunction("numeric","asc",c):makeSortFunction("numeric","desc",c));var e="e"+i;dynamicExp+="var "+e+" = "+s;dynamicExp+="if("+e+") { return "+e+"; } ";dynamicExp+="else { "}var orgOrderCol=cache.normalized[0].length-1;dynamicExp+="return a["+orgOrderCol+"]-b["+orgOrderCol+"];";for(var i=0;i<l;i++){dynamicExp+="}; "}dynamicExp+="return 0; ";dynamicExp+="}; ";if(table.config.debug){benchmark("Evaling expression:"+dynamicExp,new Date())}eval(dynamicExp);cache.normalized.sort(sortWrapper);if(table.config.debug){benchmark("Sorting on "+sortList.toString()+" and dir "+order+" time:",sortTime)}return cache}function makeSortFunction(type,direction,index){var a="a["+index+"]",b="b["+index+"]";if(type=="text"&&direction=="asc"){return"("+a+" == "+b+" ? 0 : ("+a+" === null ? Number.POSITIVE_INFINITY : ("+b+" === null ? Number.NEGATIVE_INFINITY : ("+a+" < "+b+") ? -1 : 1 )));"}else{if(type=="text"&&direction=="desc"){return"("+a+" == "+b+" ? 0 : ("+a+" === null ? Number.POSITIVE_INFINITY : ("+b+" === null ? Number.NEGATIVE_INFINITY : ("+b+" < "+a+") ? -1 : 1 )));"}else{if(type=="numeric"&&direction=="asc"){return"("+a+" === null && "+b+" === null) ? 0 :("+a+" === null ? Number.POSITIVE_INFINITY : ("+b+" === null ? Number.NEGATIVE_INFINITY : "+a+" - "+b+"));"}else{if(type=="numeric"&&direction=="desc"){return"("+a+" === null && "+b+" === null) ? 0 :("+a+" === null ? Number.POSITIVE_INFINITY : ("+b+" === null ? Number.NEGATIVE_INFINITY : "+b+" - "+a+"));"}}}}}function makeSortText(i){return"((a["+i+"] < b["+i+"]) ? -1 : ((a["+i+"] > b["+i+"]) ? 1 : 0));"}function makeSortTextDesc(i){return"((b["+i+"] < a["+i+"]) ? -1 : ((b["+i+"] > a["+i+"]) ? 1 : 0));"}function makeSortNumeric(i){return"a["+i+"]-b["+i+"];"}function makeSortNumericDesc(i){return"b["+i+"]-a["+i+"];"}function sortText(a,b){if(table.config.sortLocaleCompare){return a.localeCompare(b)}return((a<b)?-1:((a>b)?1:0))}function sortTextDesc(a,b){if(table.config.sortLocaleCompare){return b.localeCompare(a)}return((b<a)?-1:((b>a)?1:0))}function sortNumeric(a,b){return a-b}function sortNumericDesc(a,b){return b-a}function getCachedSortType(parsers,i){return parsers[i].type}this.construct=function(settings){return this.each(function(){if(!this.tHead||!this.tBodies){return}var $this,$document,$headers,cache,config,shiftDown=0,sortOrder;this.config={};config=$.extend(this.config,$.tablesorter.defaults,settings);$this=$(this);$.data(this,"tablesorter",config);$headers=buildHeaders(this);this.config.parsers=buildParserCache(this,$headers);cache=buildCache(this);var sortCSS=[config.cssDesc,config.cssAsc];fixColumnWidth(this);$headers.click(function(e){var totalRows=($this[0].tBodies[0]&&$this[0].tBodies[0].rows.length)||0;if(!this.sortDisabled&&totalRows>0){$this.trigger("sortStart");var $cell=$(this);var i=this.column;this.order=this.count++%2;if(this.lockedOrder){this.order=this.lockedOrder}if(!e[config.sortMultiSortKey]){config.sortList=[];if(config.sortForce!=null){var a=config.sortForce;for(var j=0;j<a.length;j++){if(a[j][0]!=i){config.sortList.push(a[j])}}}config.sortList.push([i,this.order])}else{if(isValueInArray(i,config.sortList)){for(var j=0;j<config.sortList.length;j++){var s=config.sortList[j],o=config.headerList[s[0]];if(s[0]==i){o.count=s[1];o.count++;s[1]=o.count%2}}}else{config.sortList.push([i,this.order])}}setTimeout(function(){setHeadersCss($this[0],$headers,config.sortList,sortCSS);appendToTable($this[0],multisort($this[0],config.sortList,cache))},1);return false}}).mousedown(function(){if(config.cancelSelection){this.onselectstart=function(){return false};return false}});$this.bind("update",function(){var me=this;setTimeout(function(){me.config.parsers=buildParserCache(me,$headers);cache=buildCache(me)},1)}).bind("updateCell",function(e,cell){var config=this.config;var pos=[(cell.parentNode.rowIndex-1),cell.cellIndex];cache.normalized[pos[0]][pos[1]]=config.parsers[pos[1]].format(getElementText(config,cell),cell)}).bind("sorton",function(e,list){$(this).trigger("sortStart");config.sortList=list;var sortList=config.sortList;updateHeaderSortCount(this,sortList);setHeadersCss(this,$headers,sortList,sortCSS);appendToTable(this,multisort(this,sortList,cache))}).bind("appendCache",function(){appendToTable(this,cache)}).bind("applyWidgetId",function(e,id){getWidgetById(id).format(this)}).bind("applyWidgets",function(){applyWidget(this)});if($.metadata&&($(this).metadata()&&$(this).metadata().sortlist)){config.sortList=$(this).metadata().sortlist}if(config.sortList.length>0){$this.trigger("sorton",[config.sortList])}applyWidget(this)})};this.addParser=function(parser){var l=parsers.length,a=true;for(var i=0;i<l;i++){if(parsers[i].id.toLowerCase()==parser.id.toLowerCase()){a=false}}if(a){parsers.push(parser)}};this.addWidget=function(widget){widgets.push(widget)};this.formatFloat=function(s){var i=parseFloat(s);return(isNaN(i))?0:i};this.formatInt=function(s){var i=parseInt(s);return(isNaN(i))?0:i};this.isDigit=function(s,config){return/^[-+]?\d*$/.test($.trim(s.replace(/[,.']/g,"")))};this.clearTableBody=function(table){if($.browser.msie){function empty(){while(this.firstChild){this.removeChild(this.firstChild)}}empty.apply(table.tBodies[0])}else{table.tBodies[0].innerHTML=""}}}});$.fn.extend({tablesorter:$.tablesorter.construct});var ts=$.tablesorter;ts.addParser({id:"text",is:function(s){return true},format:function(s){return $.trim(s.toLocaleLowerCase())},type:"text"});ts.addParser({id:"digit",is:function(s,table){var c=table.config;return $.tablesorter.isDigit(s,c)},format:function(s){return $.tablesorter.formatFloat(s)},type:"numeric"});ts.addParser({id:"currency",is:function(s){return/^[$?.]/.test(s)},format:function(s){return $.tablesorter.formatFloat(s.replace(new RegExp(/[$]/g),""))},type:"numeric"});ts.addParser({id:"ipAddress",is:function(s){return/^\d{2,3}[\.]\d{2,3}[\.]\d{2,3}[\.]\d{2,3}$/.test(s)},format:function(s){var a=s.split("."),r="",l=a.length;for(var i=0;i<l;i++){var item=a[i];if(item.length==2){r+="0"+item}else{r+=item}}return $.tablesorter.formatFloat(r)},type:"numeric"});ts.addParser({id:"url",is:function(s){return/^(https?|ftp|file):\/\/$/.test(s)},format:function(s){return jQuery.trim(s.replace(new RegExp(/(https?|ftp|file):\/\//),""))},type:"text"});ts.addParser({id:"isoDate",is:function(s){return/^\d{4}[\/-]\d{1,2}[\/-]\d{1,2}$/.test(s)},format:function(s){return $.tablesorter.formatFloat((s!="")?new Date(s.replace(new RegExp(/-/g),"/")).getTime():"0")},type:"numeric"});ts.addParser({id:"percent",is:function(s){return/\%$/.test($.trim(s))},format:function(s){return $.tablesorter.formatFloat(s.replace(new RegExp(/%/g),""))},type:"numeric"});ts.addParser({id:"usLongDate",is:function(s){return s.match(new RegExp(/^[A-Za-z]{3,10}\.? [0-9]{1,2}, ([0-9]{4}|'?[0-9]{2}) (([0-2]?[0-9]:[0-5][0-9])|([0-1]?[0-9]:[0-5][0-9]\s(AM|PM)))$/))},format:function(s){return $.tablesorter.formatFloat(new Date(s).getTime())},type:"numeric"});ts.addParser({id:"shortDate",is:function(s){return/\d{1,2}[\/\-]\d{1,2}[\/\-]\d{2,4}/.test(s)},format:function(s,table){var c=table.config;s=s.replace(/\-/g,"/");if(c.dateFormat=="us"){s=s.replace(/(\d{1,2})[\/\-](\d{1,2})[\/\-](\d{4})/,"$3/$1/$2")}else{if(c.dateFormat=="uk"){s=s.replace(/(\d{1,2})[\/\-](\d{1,2})[\/\-](\d{4})/,"$3/$2/$1")}else{if(c.dateFormat=="dd/mm/yy"||c.dateFormat=="dd-mm-yy"){s=s.replace(/(\d{1,2})[\/\-](\d{1,2})[\/\-](\d{2})/,"$1/$2/$3")}}}return $.tablesorter.formatFloat(new Date(s).getTime())},type:"numeric"});ts.addParser({id:"time",is:function(s){return/^(([0-2]?[0-9]:[0-5][0-9])|([0-1]?[0-9]:[0-5][0-9]\s(am|pm)))$/.test(s)},format:function(s){return $.tablesorter.formatFloat(new Date("2000/01/01 "+s).getTime())},type:"numeric"});ts.addParser({id:"metadata",is:function(s){return false},format:function(s,table,cell){var c=table.config,p=(!c.parserMetadataName)?"sortValue":c.parserMetadataName;return $(cell).metadata()[p]},type:"numeric"});ts.addWidget({id:"zebra",format:function(table){if(table.config.debug){var time=new Date()}var $tr,row=-1,odd;$("tr:visible",table.tBodies[0]).each(function(i){$tr=$(this);if(!$tr.hasClass(table.config.cssChildRow)){row++}odd=(row%2==0);$tr.removeClass(table.config.widgetZebra.css[odd?0:1]).addClass(table.config.widgetZebra.css[odd?1:0])});if(table.config.debug){$.tablesorter.benchmark("Applying Zebra widget",time)}}})})(jQuery);(function(h){var e=document.documentElement.style,g=("textOverflow" in e||"OTextOverflow" in e),f=function(k,a){var b=0,l=[],j=function(o){var m=0,n;if(b>a){return}for(m=0;m<o.length;m+=1){if(o[m].nodeType===1){n=o[m].cloneNode(false);l[l.length-1].appendChild(n);l.push(n);j(o[m].childNodes);l.pop()}else{if(o[m].nodeType===3){if(b+o[m].length<a){l[l.length-1].appendChild(o[m].cloneNode(false))}else{n=o[m].cloneNode(false);n.textContent=h.trim(n.textContent.substring(0,a-b));l[l.length-1].appendChild(n)}b+=o[m].length}else{l.appendChild(o[m].cloneNode(false))}}}};l.push(k.cloneNode(false));j(k.childNodes);return h(l.pop().childNodes)};h.extend(h.fn,{textOverflow:function(a,j){var b=a||"&#x2026;";if(!g){return this.each(function(){var u=h(this),t=u.clone(),q=u.clone(),v=u.text(),y=u.width(),s=0,r=0,w=v.length,x=function(){if(y!==u.width()){u.replaceWith(q);u=q;q=u.clone();u.textOverflow(a,false);y=u.width()}};u.after(t.hide().css({position:"absolute",width:"auto",overflow:"visible","max-width":"inherit"}));if(t.width()>y){while(s<w){r=Math.floor(s+((w-s)/2));t.empty().append(f(q.get(0),r)).append(b);if(t.width()<y){s=r+1}else{w=r}}if(s<v.length){u.empty().append(f(q.get(0),s-1)).append(b)}}t.remove();if(j){setInterval(x,200)}})}else{return this}}})})(jQuery);(function(a){a.widget("ui.selectmenu",{getter:"value",version:"1.8",eventPrefix:"selectmenu",options:{transferClasses:true,typeAhead:"sequential",style:"dropdown",positionOptions:{my:"left top",at:"left bottom",offset:null},width:null,menuWidth:null,handleWidth:26,maxHeight:null,icons:null,format:null,bgImage:function(){},wrapperElement:""},_create:function(){var b=this,h=this.options;var g=this.element.attr("id")||"ui-selectmenu-"+Math.random().toString(16).slice(2,10);this.ids=[g+"-button",g+"-menu"];this._safemouseup=true;if(a.browser.msie){h.typeAhead=""}this.newelement=a('<a class="'+this.widgetBaseClass+' ui-widget ui-state-default ui-corner-all" id="'+this.ids[0]+'" role="button" href="#" tabindex="0" aria-haspopup="true" aria-owns="'+this.ids[1]+'"></a>').insertAfter(this.element);this.newelement.wrap(h.wrapperElement);var f=this.element.attr("tabindex");if(f){this.newelement.attr("tabindex",f)}this.newelement.data("selectelement",this.element);this.selectmenuIcon=a('<span class="'+this.widgetBaseClass+'-icon ui-icon"></span>').prependTo(this.newelement);this.newelement.prepend('<span class="'+b.widgetBaseClass+'-status" />');a('label[for="'+this.element.attr("id")+'"]').attr("for",this.ids[0]).bind("click.selectmenu",function(){b.newelement[0].focus();return false});this.newelement.bind("mousedown.selectmenu",function(j){b._toggle(j,true);if(h.style=="popup"){b._safemouseup=false;setTimeout(function(){b._safemouseup=true},300)}return false}).bind("click.selectmenu",function(){return false}).bind("keydown.selectmenu",function(k){var j=false;switch(k.keyCode){case a.ui.keyCode.ENTER:j=true;break;case a.ui.keyCode.SPACE:b._toggle(k);break;case a.ui.keyCode.UP:if(k.altKey){b.open(k)}else{b._moveSelection(-1)}break;case a.ui.keyCode.DOWN:if(k.altKey){b.open(k)}else{b._moveSelection(1)}break;case a.ui.keyCode.LEFT:b._moveSelection(-1);break;case a.ui.keyCode.RIGHT:b._moveSelection(1);break;case a.ui.keyCode.TAB:j=true;break;default:j=true;b._typeAhead(k.keyCode,"mouseup");break}return j}).bind("mouseover.selectmenu focus.selectmenu",function(){if(!h.disabled){a(this).addClass(b.widgetBaseClass+"-focus ui-state-hover")}}).bind("mouseout.selectmenu blur.selectmenu",function(){if(!h.disabled){a(this).removeClass(b.widgetBaseClass+"-focus ui-state-hover")}});a(document).bind("mousedown.selectmenu",function(j){b.close(j)});this.element.bind("click.selectmenu",function(){b._refreshValue()}).bind("focus.selectmenu",function(){if(b.newelement){b.newelement[0].focus()}});var e=this.element.width();this.newelement.width(h.width?h.width:e);this.element.hide();this.list=a('<ul class="'+b.widgetBaseClass+'-menu ui-widget ui-widget-content" aria-hidden="true" role="listbox" aria-labelledby="'+this.ids[0]+'" id="'+this.ids[1]+'"></ul>').appendTo("body");this.list.wrap(h.wrapperElement);this.list.bind("keydown.selectmenu",function(k){var j=false;switch(k.keyCode){case a.ui.keyCode.UP:if(k.altKey){b.close(k,true)}else{b._moveFocus(-1)}break;case a.ui.keyCode.DOWN:if(k.altKey){b.close(k,true)}else{b._moveFocus(1)}break;case a.ui.keyCode.LEFT:b._moveFocus(-1);break;case a.ui.keyCode.RIGHT:b._moveFocus(1);break;case a.ui.keyCode.HOME:b._moveFocus(":first");break;case a.ui.keyCode.PAGE_UP:b._scrollPage("up");break;case a.ui.keyCode.PAGE_DOWN:b._scrollPage("down");break;case a.ui.keyCode.END:b._moveFocus(":last");break;case a.ui.keyCode.ENTER:case a.ui.keyCode.SPACE:b.close(k,true);a(k.target).parents("li:eq(0)").trigger("mouseup");break;case a.ui.keyCode.TAB:j=true;b.close(k,true);a(k.target).parents("li:eq(0)").trigger("mouseup");break;case a.ui.keyCode.ESCAPE:b.close(k,true);break;default:j=true;b._typeAhead(k.keyCode,"focus");break}return j});a(window).bind("resize.selectmenu",a.proxy(b._refreshPosition,this))},_init:function(){var q=this,g=this.options;var b=[];this.element.find("option").each(function(){b.push({value:a(this).attr("value"),text:q._formatText(a(this).text()),selected:a(this).attr("selected"),disabled:a(this).attr("disabled"),classes:a(this).attr("class"),typeahead:a(this).attr("typeahead"),parentOptGroup:a(this).parent("optgroup"),bgImage:g.bgImage.call(a(this))})});var n=(q.options.style=="popup")?" ui-state-active":"";this.list.html("");for(var l=0;l<b.length;l++){var f=a('<li role="presentation"'+(b[l].disabled?' class="'+this.namespace+'-state-disabled"':"")+'><a href="#" tabindex="-1" role="option"'+(b[l].disabled?' aria-disabled="true"':"")+' aria-selected="false"'+(b[l].typeahead?' typeahead="'+b[l].typeahead+'"':"")+">"+b[l].text+"</a></li>").data("index",l).addClass(b[l].classes).data("optionClasses",b[l].classes||"").bind("mouseup.selectmenu",function(j){if(q._safemouseup&&!q._disabled(j.currentTarget)&&!q._disabled(a(j.currentTarget).parents("ul>li."+q.widgetBaseClass+"-group "))){var o=a(this).data("index")!=q._selectedIndex();q.index(a(this).data("index"));q.select(j);if(o){q.change(j)}q.close(j,true)}return false}).bind("click.selectmenu",function(){return false}).bind("mouseover.selectmenu focus.selectmenu",function(j){if(!a(j.currentTarget).hasClass(q.namespace+"-state-disabled")){q._selectedOptionLi().addClass(n);q._focusedOptionLi().removeClass(q.widgetBaseClass+"-item-focus ui-state-hover");a(this).removeClass("ui-state-active").addClass(q.widgetBaseClass+"-item-focus ui-state-hover")}}).bind("mouseout.selectmenu blur.selectmenu",function(){if(a(this).is(q._selectedOptionLi().selector)){a(this).addClass(n)}a(this).removeClass(q.widgetBaseClass+"-item-focus ui-state-hover")});if(b[l].parentOptGroup.length){var m=q.widgetBaseClass+"-group-"+this.element.find("optgroup").index(b[l].parentOptGroup);if(this.list.find("li."+m).length){this.list.find("li."+m+":last ul").append(f)}else{a(' <li role="presentation" class="'+q.widgetBaseClass+"-group "+m+(b[l].parentOptGroup.attr("disabled")?" "+this.namespace+'-state-disabled" aria-disabled="true"':'"')+'><span class="'+q.widgetBaseClass+'-group-label">'+b[l].parentOptGroup.attr("label")+"</span><ul></ul></li> ").appendTo(this.list).find("ul").append(f)}}else{f.appendTo(this.list)}this.list.bind("mousedown.selectmenu mouseup.selectmenu",function(){return false});if(g.icons){for(var k in g.icons){if(f.is(g.icons[k].find)){f.data("optionClasses",b[l].classes+" "+q.widgetBaseClass+"-hasIcon").addClass(q.widgetBaseClass+"-hasIcon");var p=g.icons[k].icon||"";f.find("a:eq(0)").prepend('<span class="'+q.widgetBaseClass+"-item-icon ui-icon "+p+'"></span>');if(b[l].bgImage){f.find("span").css("background-image",b[l].bgImage)}}}}}var e=(g.style=="dropdown");this.newelement.toggleClass(q.widgetBaseClass+"-dropdown",e).toggleClass(q.widgetBaseClass+"-popup",!e);this.list.toggleClass(q.widgetBaseClass+"-menu-dropdown ui-corner-bottom",e).toggleClass(q.widgetBaseClass+"-menu-popup ui-corner-all",!e).find("li:first").toggleClass("ui-corner-top",!e).end().find("li:last").addClass("ui-corner-bottom");this.selectmenuIcon.toggleClass("ui-icon-triangle-1-s",e).toggleClass("ui-icon-triangle-2-n-s",!e);if(g.transferClasses){var r=this.element.attr("class")||"";this.newelement.add(this.list).addClass(r)}var h=this.element.width();if(g.style=="dropdown"){this.list.width(g.menuWidth?g.menuWidth:(g.width?g.width:h))}else{this.list.width(g.menuWidth?g.menuWidth:(g.width?g.width-g.handleWidth:h-g.handleWidth))}if(g.maxHeight){if(g.maxHeight<this.list.height()){this.list.height(g.maxHeight)}}else{if(!g.format&&(a(window).height()/3)<this.list.height()){g.maxHeight=a(window).height()/3;this.list.height(g.maxHeight)}}this._optionLis=this.list.find("li:not(."+q.widgetBaseClass+"-group)");if(this.element.attr("disabled")===true){this.disable()}this.index(this._selectedIndex());window.setTimeout(function(){q._refreshPosition()},200)},destroy:function(){this.element.removeData(this.widgetName).removeClass(this.widgetBaseClass+"-disabled "+this.namespace+"-state-disabled").removeAttr("aria-disabled").unbind(".selectmenu");a(window).unbind(".selectmenu");a(document).unbind(".selectmenu");a("label[for="+this.newelement.attr("id")+"]").attr("for",this.element.attr("id")).unbind(".selectmenu");if(this.options.wrapperElement){this.newelement.find(this.options.wrapperElement).remove();this.list.find(this.options.wrapperElement).remove()}else{this.newelement.remove();this.list.remove()}this.element.show();a.Widget.prototype.destroy.apply(this,arguments)},_typeAhead:function(g,f){var b=this,e=false,l=String.fromCharCode(g);c=l.toLowerCase();if(b.options.typeAhead=="sequential"){window.clearTimeout("ui.selectmenu-"+b.selectmenuId);var k=typeof(b._prevChar)=="undefined"?"":b._prevChar.join("");function h(m,n,o){e=true;a(m).trigger(f);typeof(b._prevChar)=="undefined"?b._prevChar=[o]:b._prevChar[b._prevChar.length]=o}this.list.find("li a").each(function(m){if(!e){var n=a(this).attr("typeahead")||a(this).text();if(n.indexOf(k+l)==0){h(this,m,l)}else{if(n.indexOf(k+c)==0){h(this,m,c)}}}});window.setTimeout(function(m){m._prevChar=undefined},1000,b)}else{if(!b._prevChar){b._prevChar=["",0]}var e=false;function j(m,n){e=true;a(m).trigger(f);b._prevChar[1]=n}this.list.find("li a").each(function(m){if(!e){var n=a(this).text();if(n.indexOf(l)==0||n.indexOf(c)==0){if(b._prevChar[0]==l){if(b._prevChar[1]<m){j(this,m)}}else{j(this,m)}}}});this._prevChar[0]=l}},_uiHash:function(){var b=this.index();return{index:b,option:a("option",this.element).get(b),value:this.element[0].value}},open:function(e){var b=this;if(this.newelement.attr("aria-disabled")!="true"){this._closeOthers(e);this.newelement.addClass("ui-state-active");if(b.options.wrapperElement){this.list.parent().appendTo("body")}else{this.list.appendTo("body")}this.list.addClass(b.widgetBaseClass+"-open").attr("aria-hidden",false);this._refreshPosition();this.list.find("li:not(."+b.widgetBaseClass+"-group):eq("+this._selectedIndex()+") a")[0].focus();if(this.options.style=="dropdown"){this.newelement.removeClass("ui-corner-all").addClass("ui-corner-top")}this._trigger("open",e,this._uiHash())}},close:function(e,b){if(this.newelement.is(".ui-state-active")){this.newelement.removeClass("ui-state-active");this.list.attr("aria-hidden",true).removeClass(this.widgetBaseClass+"-open");if(this.options.style=="dropdown"){this.newelement.removeClass("ui-corner-top").addClass("ui-corner-all")}if(b){this.newelement.focus()}this._trigger("close",e,this._uiHash())}},change:function(b){this.element.trigger("change");this._trigger("change",b,this._uiHash())},select:function(b){this._trigger("select",b,this._uiHash())},_closeOthers:function(b){a("."+this.widgetBaseClass+".ui-state-active").not(this.newelement).each(function(){a(this).data("selectelement").selectmenu("close",b)});a("."+this.widgetBaseClass+".ui-state-hover").trigger("mouseout")},_toggle:function(e,b){if(this.list.is("."+this.widgetBaseClass+"-open")){this.close(e,b)}else{this.open(e)}},_formatText:function(b){return(this.options.format?this.options.format(b):b)},_selectedIndex:function(){return this.element[0].selectedIndex},_selectedOptionLi:function(){return this._optionLis.eq(this._selectedIndex())},_focusedOptionLi:function(){return this.list.find("."+this.widgetBaseClass+"-item-focus")},_moveSelection:function(f){var e=parseInt(this._selectedOptionLi().data("index"),10);var b=e+f;if(b>=0){return this._optionLis.eq(b).trigger("mouseup")}},_moveFocus:function(g){if(!isNaN(g)){var f=parseInt(this._focusedOptionLi().data("index")||0,10);var e=f+g}else{var e=parseInt(this._optionLis.filter(g).data("index"),10)}if(e<0){e=0}if(e>this._optionLis.size()-1){e=this._optionLis.size()-1}var b=this.widgetBaseClass+"-item-"+Math.round(Math.random()*1000);this._focusedOptionLi().find("a:eq(0)").attr("id","");if(this._optionLis.eq(e).hasClass(this.namespace+"-state-disabled")){(g>0)?g++:g--;this._moveFocus(g,e)}else{this._optionLis.eq(e).find("a:eq(0)").attr("id",b).focus()}this.list.attr("aria-activedescendant",b)},_scrollPage:function(e){var b=Math.floor(this.list.outerHeight()/this.list.find("li:first").outerHeight());b=(e=="up"?-b:b);this._moveFocus(b)},_setOption:function(b,e){this.options[b]=e;if(b=="disabled"){this.close();this.element.add(this.newelement).add(this.list)[e?"addClass":"removeClass"](this.widgetBaseClass+"-disabled "+this.namespace+"-state-disabled").attr("aria-disabled",e)}},disable:function(b,e){if(typeof(b)=="undefined"){this._setOption("disabled",true)}else{if(e=="optgroup"){this._disableOptgroup(b)}else{this._disableOption(b)}}},enable:function(b,e){if(typeof(b)=="undefined"){this._setOption("disabled",false)}else{if(e=="optgroup"){this._enableOptgroup(b)}else{this._enableOption(b)}}},_disabled:function(b){return a(b).hasClass(this.namespace+"-state-disabled")},_disableOption:function(b){var e=this._optionLis.eq(b);if(e){e.addClass(this.namespace+"-state-disabled").find("a").attr("aria-disabled",true);this.element.find("option").eq(b).attr("disabled","disabled")}},_enableOption:function(b){var e=this._optionLis.eq(b);if(e){e.removeClass(this.namespace+"-state-disabled").find("a").attr("aria-disabled",false);this.element.find("option").eq(b).removeAttr("disabled")}},_disableOptgroup:function(e){var b=this.list.find("li."+this.widgetBaseClass+"-group-"+e);if(b){b.addClass(this.namespace+"-state-disabled").attr("aria-disabled",true);this.element.find("optgroup").eq(e).attr("disabled","disabled")}},_enableOptgroup:function(e){var b=this.list.find("li."+this.widgetBaseClass+"-group-"+e);if(b){b.removeClass(this.namespace+"-state-disabled").attr("aria-disabled",false);this.element.find("optgroup").eq(e).removeAttr("disabled")}},index:function(b){if(arguments.length){if(!this._disabled(a(this._optionLis[b]))){this.element[0].selectedIndex=b;this._refreshValue()}else{return false}}else{return this._selectedIndex()}},value:function(b){if(arguments.length){this.element[0].value=b;this._refreshValue()}else{return this.element[0].value}},_refreshValue:function(){var f=(this.options.style=="popup")?" ui-state-active":"";var e=this.widgetBaseClass+"-item-"+Math.round(Math.random()*1000);this.list.find("."+this.widgetBaseClass+"-item-selected").removeClass(this.widgetBaseClass+"-item-selected"+f).find("a").attr("aria-selected","false").attr("id","");this._selectedOptionLi().addClass(this.widgetBaseClass+"-item-selected"+f).find("a").attr("aria-selected","true").attr("id",e);var b=(this.newelement.data("optionClasses")?this.newelement.data("optionClasses"):"");var g=(this._selectedOptionLi().data("optionClasses")?this._selectedOptionLi().data("optionClasses"):"");this.newelement.removeClass(b).data("optionClasses",g).addClass(g).find("."+this.widgetBaseClass+"-status").html(this._selectedOptionLi().find("a:eq(0)").html());this.list.attr("aria-activedescendant",e)},_refreshPosition:function(){var f=this.options;if(f.style=="popup"&&!f.positionOptions.offset){var e=this._selectedOptionLi();var b="0 -"+(e.outerHeight()+e.offset().top-this.list.offset().top)}this.list.css({zIndex:this.element.zIndex()}).position({of:f.positionOptions.of||this.newelement,my:f.positionOptions.my,at:f.positionOptions.at,offset:f.positionOptions.offset||b})}})})(jQuery);(function(a){a.extend(a.fn,{validate:function(b){if(!this.length){b&&b.debug&&window.console&&console.warn("nothing selected, can't validate, returning nothing");return}var e=a.data(this[0],"validator");if(e){return e}e=new a.validator(b,this[0]);a.data(this[0],"validator",e);if(e.settings.onsubmit){this.find("input, button").filter(".cancel").click(function(){e.cancelSubmit=true});if(e.settings.submitHandler){this.find("input, button").filter(":submit").click(function(){e.submitButton=this})}this.submit(function(f){if(e.settings.debug){f.preventDefault()}function g(){if(e.settings.submitHandler){if(e.submitButton){var h=a("<input type='hidden'/>").attr("name",e.submitButton.name).val(e.submitButton.value).appendTo(e.currentForm)}e.settings.submitHandler.call(e,e.currentForm);if(e.submitButton){h.remove()}return false}return true}if(e.cancelSubmit){e.cancelSubmit=false;return g()}if(e.form()){if(e.pendingRequest){e.formSubmitted=true;return false}return g()}else{e.focusInvalid();return false}})}return e},valid:function(){if(a(this[0]).is("form")){return this.validate().form()}else{var e=true;var b=a(this[0].form).validate();this.each(function(){e&=b.element(this)});return e}},removeAttrs:function(f){var b={},e=this;a.each(f.split(/\s/),function(g,h){b[h]=e.attr(h);e.removeAttr(h)});return b},rules:function(g,b){var j=this[0];if(g){var f=a.data(j.form,"validator").settings;var l=f.rules;var m=a.validator.staticRules(j);switch(g){case"add":a.extend(m,a.validator.normalizeRule(b));l[j.name]=m;if(b.messages){f.messages[j.name]=a.extend(f.messages[j.name],b.messages)}break;case"remove":if(!b){delete l[j.name];return m}var k={};a.each(b.split(/\s/),function(n,o){k[o]=m[o];delete m[o]});return k}}var h=a.validator.normalizeRules(a.extend({},a.validator.metadataRules(j),a.validator.classRules(j),a.validator.attributeRules(j),a.validator.staticRules(j)),j);if(h.required){var e=h.required;delete h.required;h=a.extend({required:e},h)}return h}});a.extend(a.expr[":"],{blank:function(b){return !a.trim(""+b.value)},filled:function(b){return !!a.trim(""+b.value)},unchecked:function(b){return !b.checked}});a.validator=function(b,e){this.settings=a.extend(true,{},a.validator.defaults,b);this.currentForm=e;this.init()};a.validator.format=function(b,e){if(arguments.length==1){return function(){var f=a.makeArray(arguments);f.unshift(b);return a.validator.format.apply(this,f)}}if(arguments.length>2&&e.constructor!=Array){e=a.makeArray(arguments).slice(1)}if(e.constructor!=Array){e=[e]}a.each(e,function(f,g){b=b.replace(new RegExp("\\{"+f+"\\}","g"),g)});return b};a.extend(a.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"label",focusInvalid:true,errorContainer:a([]),errorLabelContainer:a([]),onsubmit:true,ignore:[],ignoreTitle:false,onfocusin:function(b){this.lastActive=b;if(this.settings.focusCleanup&&!this.blockFocusCleanup){this.settings.unhighlight&&this.settings.unhighlight.call(this,b,this.settings.errorClass,this.settings.validClass);this.errorsFor(b).hide()}},onfocusout:function(b){if(!this.checkable(b)&&(b.name in this.submitted||!this.optional(b))){this.element(b)}},onkeyup:function(b){if(b.name in this.submitted||b==this.lastElement){this.element(b)}},onclick:function(b){if(b.name in this.submitted){this.element(b)}else{if(b.parentNode.name in this.submitted){this.element(b.parentNode)}}},highlight:function(f,b,e){a(f).addClass(b).removeClass(e)},unhighlight:function(f,b,e){a(f).removeClass(b).addClass(e)}},setDefaults:function(b){a.extend(a.validator.defaults,b)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",accept:"Please enter a value with a valid extension.",maxlength:a.validator.format("Please enter no more than {0} characters."),minlength:a.validator.format("Please enter at least {0} characters."),rangelength:a.validator.format("Please enter a value between {0} and {1} characters long."),range:a.validator.format("Please enter a value between {0} and {1}."),max:a.validator.format("Please enter a value less than or equal to {0}."),min:a.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:false,prototype:{init:function(){this.labelContainer=a(this.settings.errorLabelContainer);this.errorContext=this.labelContainer.length&&this.labelContainer||a(this.currentForm);this.containers=a(this.settings.errorContainer).add(this.settings.errorLabelContainer);this.submitted={};this.valueCache={};this.pendingRequest=0;this.pending={};this.invalid={};this.reset();var b=(this.groups={});a.each(this.settings.groups,function(g,h){a.each(h.split(/\s/),function(k,j){b[j]=g})});var f=this.settings.rules;a.each(f,function(g,h){f[g]=a.validator.normalizeRule(h)});function e(j){var h=a.data(this[0].form,"validator"),g="on"+j.type.replace(/^validate/,"");h.settings[g]&&h.settings[g].call(h,this[0])}a(this.currentForm).validateDelegate(":text, :password, :file, select, textarea","focusin focusout keyup",e).validateDelegate(":radio, :checkbox, select, option","click",e);if(this.settings.invalidHandler){a(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler)}},form:function(){this.checkForm();a.extend(this.submitted,this.errorMap);this.invalid=a.extend({},this.errorMap);if(!this.valid()){a(this.currentForm).triggerHandler("invalid-form",[this])}this.showErrors();return this.valid()},checkForm:function(){this.prepareForm();for(var b=0,e=(this.currentElements=this.elements());e[b];b++){this.check(e[b])}return this.valid()},element:function(e){e=this.clean(e);this.lastElement=e;this.prepareElement(e);this.currentElements=a(e);var b=this.check(e);if(b){delete this.invalid[e.name]}else{this.invalid[e.name]=true}if(!this.numberOfInvalids()){this.toHide=this.toHide.add(this.containers)}this.showErrors();return b},showErrors:function(e){if(e){a.extend(this.errorMap,e);this.errorList=[];for(var b in e){this.errorList.push({message:e[b],element:this.findByName(b)[0]})}this.successList=a.grep(this.successList,function(f){return !(f.name in e)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){if(a.fn.resetForm){a(this.currentForm).resetForm()}this.submitted={};this.prepareForm();this.hideErrors();this.elements().removeClass(this.settings.errorClass)},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(f){var e=0;for(var b in f){e++}return e},hideErrors:function(){this.addWrapper(this.toHide).hide()},valid:function(){return this.size()==0},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid){try{a(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(b){}}},findLastActive:function(){var b=this.lastActive;return b&&a.grep(this.errorList,function(e){return e.element.name==b.name}).length==1&&b},elements:function(){var e=this,b={};return a([]).add(this.currentForm.elements).filter(":input").not(":submit, :reset, :image, [disabled]").not(this.settings.ignore).filter(function(){!this.name&&e.settings.debug&&window.console&&console.error("%o has no name assigned",this);if(this.name in b||!e.objectLength(a(this).rules())){return false}b[this.name]=true;return true})},clean:function(b){return a(b)[0]},errors:function(){return a(this.settings.errorElement+"."+this.settings.errorClass,this.errorContext)},reset:function(){this.successList=[];this.errorList=[];this.errorMap={};this.toShow=a([]);this.toHide=a([]);this.currentElements=a([])},prepareForm:function(){this.reset();this.toHide=this.errors().add(this.containers)},prepareElement:function(b){this.reset();this.toHide=this.errorsFor(b)},check:function(f){f=this.clean(f);if(this.checkable(f)){f=this.findByName(f.name)[0]}var k=a(f).rules();var g=false;for(method in k){var j={method:method,parameters:k[method]};try{var b=a.validator.methods[method].call(this,f.value.replace(/\r/g,""),f,j.parameters);if(b=="dependency-mismatch"){g=true;continue}g=false;if(b=="pending"){this.toHide=this.toHide.not(this.errorsFor(f));return}if(!b){this.formatAndAdd(f,j);return false}}catch(h){this.settings.debug&&window.console&&console.log("exception occured when checking element "+f.id+", check the '"+j.method+"' method",h);throw h}}if(g){return}if(this.objectLength(k)){this.successList.push(f)}return true},customMetaMessage:function(b,f){if(!a.metadata){return}var e=this.settings.meta?a(b).metadata()[this.settings.meta]:a(b).metadata();return e&&e.messages&&e.messages[f]},customMessage:function(e,f){var b=this.settings.messages[e];return b&&(b.constructor==String?b:b[f])},findDefined:function(){for(var b=0;b<arguments.length;b++){if(arguments[b]!==undefined){return arguments[b]}}return undefined},defaultMessage:function(b,e){return this.findDefined(this.customMessage(b.name,e),this.customMetaMessage(b,e),!this.settings.ignoreTitle&&b.title||undefined,a.validator.messages[e],"<strong>Warning: No message defined for "+b.name+"</strong>")},formatAndAdd:function(e,g){var f=this.defaultMessage(e,g.method),b=/\$?\{(\d+)\}/g;if(typeof f=="function"){f=f.call(this,g.parameters,e)}else{if(b.test(f)){f=jQuery.format(f.replace(b,"{$1}"),g.parameters)}}this.errorList.push({message:f,element:e});this.errorMap[e.name]=f;this.submitted[e.name]=f},addWrapper:function(b){if(this.settings.wrapper){b=b.add(b.parent(this.settings.wrapper))}return b},defaultShowErrors:function(){for(var e=0;this.errorList[e];e++){var b=this.errorList[e];this.settings.highlight&&this.settings.highlight.call(this,b.element,this.settings.errorClass,this.settings.validClass);this.showLabel(b.element,b.message)}if(this.errorList.length){this.toShow=this.toShow.add(this.containers)}if(this.settings.success){for(var e=0;this.successList[e];e++){this.showLabel(this.successList[e])}}if(this.settings.unhighlight){for(var e=0,f=this.validElements();f[e];e++){this.settings.unhighlight.call(this,f[e],this.settings.errorClass,this.settings.validClass)}}this.toHide=this.toHide.not(this.toShow);this.hideErrors();this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return a(this.errorList).map(function(){return this.element})},showLabel:function(e,f){var b=this.errorsFor(e);if(b.length){b.removeClass().addClass(this.settings.errorClass);b.attr("generated")&&b.html(f)}else{b=a("<"+this.settings.errorElement+"/>").attr({"for":this.idOrName(e),generated:true}).addClass(this.settings.errorClass).html(f||"");if(this.settings.wrapper){b=b.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()}if(!this.labelContainer.append(b).length){this.settings.errorPlacement?this.settings.errorPlacement(b,a(e)):b.insertAfter(e)}}if(!f&&this.settings.success){b.text("");typeof this.settings.success=="string"?b.addClass(this.settings.success):this.settings.success(b)}this.toShow=this.toShow.add(b)},errorsFor:function(e){var b=this.idOrName(e);return this.errors().filter(function(){return a(this).attr("for")==b})},idOrName:function(b){return this.groups[b.name]||(this.checkable(b)?b.name:b.id||b.name)},checkable:function(b){return/radio|checkbox/i.test(b.type)},findByName:function(b){var e=this.currentForm;return a(document.getElementsByName(b)).map(function(f,g){return g.form==e&&g.name==b&&g||null})},getLength:function(e,b){switch(b.nodeName.toLowerCase()){case"select":return a("option:selected",b).length;case"input":if(this.checkable(b)){return this.findByName(b.name).filter(":checked").length}}return e.length},depend:function(e,b){return this.dependTypes[typeof e]?this.dependTypes[typeof e](e,b):true},dependTypes:{"boolean":function(e,b){return e},string:function(e,b){return !!a(e,b.form).length},"function":function(e,b){return e(b)}},optional:function(b){return !a.validator.methods.required.call(this,a.trim(b.value),b)&&"dependency-mismatch"},startRequest:function(b){if(!this.pending[b.name]){this.pendingRequest++;this.pending[b.name]=true}},stopRequest:function(b,e){this.pendingRequest--;if(this.pendingRequest<0){this.pendingRequest=0}delete this.pending[b.name];if(e&&this.pendingRequest==0&&this.formSubmitted&&this.form()){a(this.currentForm).submit();this.formSubmitted=false}else{if(!e&&this.pendingRequest==0&&this.formSubmitted){a(this.currentForm).triggerHandler("invalid-form",[this]);this.formSubmitted=false}}},previousValue:function(b){return a.data(b,"previousValue")||a.data(b,"previousValue",{old:null,valid:true,message:this.defaultMessage(b,"remote")})}},classRuleSettings:{required:{required:true},email:{email:true},url:{url:true},date:{date:true},dateISO:{dateISO:true},dateDE:{dateDE:true},number:{number:true},numberDE:{numberDE:true},digits:{digits:true},creditcard:{creditcard:true}},addClassRules:function(b,e){b.constructor==String?this.classRuleSettings[b]=e:a.extend(this.classRuleSettings,b)},classRules:function(e){var f={};var b=a(e).attr("class");b&&a.each(b.split(" "),function(){if(this in a.validator.classRuleSettings){a.extend(f,a.validator.classRuleSettings[this])}});return f},attributeRules:function(e){var g={};var b=a(e);for(method in a.validator.methods){var f=b.attr(method);if(f){g[method]=f}}if(g.maxlength&&/-1|2147483647|524288/.test(g.maxlength)){delete g.maxlength}return g},metadataRules:function(b){if(!a.metadata){return{}}var e=a.data(b.form,"validator").settings.meta;return e?a(b).metadata()[e]:a(b).metadata()},staticRules:function(e){var f={};var b=a.data(e.form,"validator");if(b.settings.rules){f=a.validator.normalizeRule(b.settings.rules[e.name])||{}}return f},normalizeRules:function(e,b){a.each(e,function(h,g){if(g===false){delete e[h];return}if(g.param||g.depends){var f=true;switch(typeof g.depends){case"string":f=!!a(g.depends,b.form).length;break;case"function":f=g.depends.call(b,b);break}if(f){e[h]=g.param!==undefined?g.param:true}else{delete e[h]}}});a.each(e,function(f,g){e[f]=a.isFunction(g)?g(b):g});a.each(["minlength","maxlength","min","max"],function(){if(e[this]){e[this]=Number(e[this])}});a.each(["rangelength","range"],function(){if(e[this]){e[this]=[Number(e[this][0]),Number(e[this][1])]}});if(a.validator.autoCreateRanges){if(e.min&&e.max){e.range=[e.min,e.max];delete e.min;delete e.max}if(e.minlength&&e.maxlength){e.rangelength=[e.minlength,e.maxlength];delete e.minlength;delete e.maxlength}}if(e.messages){delete e.messages}return e},normalizeRule:function(e){if(typeof e=="string"){var b={};a.each(e.split(/\s/),function(){b[this]=true});e=b}return e},addMethod:function(b,f,e){a.validator.methods[b]=f;a.validator.messages[b]=e!=undefined?e:a.validator.messages[b];if(f.length<3){a.validator.addClassRules(b,a.validator.normalizeRule(b))}},methods:{required:function(e,b,g){if(!this.depend(g,b)){return"dependency-mismatch"}switch(b.nodeName.toLowerCase()){case"select":var f=a(b).val();return f&&f.length>0;case"input":if(this.checkable(b)){return this.getLength(e,b)>0}default:return a.trim(e).length>0}},remote:function(h,e,j){if(this.optional(e)){return"dependency-mismatch"}var f=this.previousValue(e);if(!this.settings.messages[e.name]){this.settings.messages[e.name]={}}f.originalMessage=this.settings.messages[e.name].remote;this.settings.messages[e.name].remote=f.message;j=typeof j=="string"&&{url:j}||j;if(f.old!==h){f.old=h;var b=this;this.startRequest(e);var g={};g[e.name]=h;a.ajax(a.extend(true,{url:j,mode:"abort",port:"validate"+e.name,dataType:"json",data:g,success:function(l){b.settings.messages[e.name].remote=f.originalMessage;var n=l===true;if(n){var k=b.formSubmitted;b.prepareElement(e);b.formSubmitted=k;b.successList.push(e);b.showErrors()}else{var o={};var m=(f.message=l||b.defaultMessage(e,"remote"));o[e.name]=a.isFunction(m)?m(h):m;b.showErrors(o)}f.valid=n;b.stopRequest(e,n)}},j));return"pending"}else{if(this.pending[e.name]){return"pending"}}return f.valid},minlength:function(e,b,f){return this.optional(b)||this.getLength(a.trim(e),b)>=f},maxlength:function(e,b,f){return this.optional(b)||this.getLength(a.trim(e),b)<=f},rangelength:function(f,b,g){var e=this.getLength(a.trim(f),b);return this.optional(b)||(e>=g[0]&&e<=g[1])},min:function(e,b,f){return this.optional(b)||e>=f},max:function(e,b,f){return this.optional(b)||e<=f},range:function(e,b,f){return this.optional(b)||(e>=f[0]&&e<=f[1])},email:function(e,b){return this.optional(b)||/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i.test(e)},url:function(e,b){return this.optional(b)||/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(e)},date:function(e,b){return this.optional(b)||!/Invalid|NaN/.test(new Date(e))},dateISO:function(e,b){return this.optional(b)||/^\d{4}[\/-]\d{1,2}[\/-]\d{1,2}$/.test(e)},number:function(e,b){return this.optional(b)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)(?:\.\d+)?$/.test(e)},digits:function(e,b){return this.optional(b)||/^\d+$/.test(e)},creditcard:function(h,e){if(this.optional(e)){return"dependency-mismatch"}if(/[^0-9-]+/.test(h)){return false}var j=0,g=0,b=false;h=h.replace(/\D/g,"");for(var k=h.length-1;k>=0;k--){var f=h.charAt(k);var g=parseInt(f,10);if(b){if((g*=2)>9){g-=9}}j+=g;b=!b}return(j%10)==0},accept:function(e,b,f){f=typeof f=="string"?f.replace(/,/g,"|"):"png|jpe?g|gif";return this.optional(b)||e.match(new RegExp(".("+f+")$","i"))},equalTo:function(e,b,g){var f=a(g).unbind(".validate-equalTo").bind("blur.validate-equalTo",function(){a(b).valid()});return e==f.val()}}});a.format=a.validator.format})(jQuery);(function(e){var b=e.ajax;var a={};e.ajax=function(g){g=e.extend(g,e.extend({},e.ajaxSettings,g));var f=g.port;if(g.mode=="abort"){if(a[f]){a[f].abort()}return(a[f]=b.apply(this,arguments))}return b.apply(this,arguments)}})(jQuery);(function(a){if(!jQuery.event.special.focusin&&!jQuery.event.special.focusout&&document.addEventListener){a.each({focus:"focusin",blur:"focusout"},function(e,b){a.event.special[b]={setup:function(){this.addEventListener(e,f,true)},teardown:function(){this.removeEventListener(e,f,true)},handler:function(g){arguments[0]=a.event.fix(g);arguments[0].type=b;return a.event.handle.apply(this,arguments)}};function f(g){g=a.event.fix(g);g.type=b;return a.event.handle.call(this,g)}})}a.extend(a.fn,{validateDelegate:function(f,e,b){return this.bind(e,function(g){var h=a(g.target);if(h.is(f)){return b.apply(h,arguments)}})}})})(jQuery);window.Modernizr=function(Y,ab,C){function J(f,e){return(""+f).indexOf(e)!==-1}function K(f,e){for(var h in f){if(X[f[h]]!==C&&(!e||e(f[h],I))){return true}}}function V(f,e){var h=f.charAt(0).toUpperCase()+f.substr(1);h=(f+" "+B.join(h+" ")+h).split(" ");return !!K(h,e)}function a(){aa.input=function(f){for(var e=0,h=f.length;e<h;e++){t[f[e]]=!!(f[e] in Z)}return t}("autocomplete autofocus list placeholder max min multiple pattern required step".split(" "));aa.inputtypes=function(f){for(var e=0,j,h=f.length;e<h;e++){Z.setAttribute("type",f[e]);if(j=Z.type!=="text"){Z.value=r;if(/^range$/.test(Z.type)&&Z.style.WebkitAppearance!==C){W.appendChild(Z);j=ab.defaultView;j=j.getComputedStyle&&j.getComputedStyle(Z,null).WebkitAppearance!=="textfield"&&Z.offsetHeight!==0;W.removeChild(Z)}else{/^(search|tel)$/.test(Z.type)||(j=/^(url|email)$/.test(Z.type)?Z.checkValidity&&Z.checkValidity()===false:Z.value!=r)}}p[f[e]]=!!j}return p}("search tel url email datetime date month week time datetime-local number range color".split(" "))}var aa={},W=ab.documentElement,I=ab.createElement("modernizr"),X=I.style,Z=ab.createElement("input"),r=":)",m=Object.prototype.toString,T=" -webkit- -moz- -o- -ms- -khtml- ".split(" "),B="Webkit Moz O ms Khtml".split(" "),A={svg:"http://www.w3.org/2000/svg"},ac={},p={},t={},k=[],y,g=function(f){var e=document.createElement("style"),h=ab.createElement("div");e.textContent=f+"{#modernizr{height:3px}}";(ab.head||ab.getElementsByTagName("head")[0]).appendChild(e);h.id="modernizr";W.appendChild(h);f=h.offsetHeight===3;e.parentNode.removeChild(e);h.parentNode.removeChild(h);return !!f},U=function(){var e={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return function(f,j){j=j||document.createElement(e[f]||"div");f="on"+f;var h=f in j;if(!h){j.setAttribute||(j=document.createElement("div"));if(j.setAttribute&&j.removeAttribute){j.setAttribute(f,"");h=typeof j[f]=="function";if(typeof j[f]!="undefined"){j[f]=C}j.removeAttribute(f)}}return h}}(),z={}.hasOwnProperty,b;b=typeof z!=="undefined"&&typeof z.call!=="undefined"?function(f,e){return z.call(f,e)}:function(f,e){return e in f&&typeof f.constructor.prototype[e]==="undefined"};ac.flexbox=function(){var f=ab.createElement("div"),e=ab.createElement("div");(function(l,o,n,j){o+=":";l.style.cssText=(o+T.join(n+";"+o)).slice(0,-o.length)+(j||"")})(f,"display","box","width:42px;padding:0;");e.style.cssText=T.join("box-flex:1;")+"width:10px;";f.appendChild(e);W.appendChild(f);var h=e.offsetWidth===42;f.removeChild(e);W.removeChild(f);return h};ac.canvas=function(){var e=ab.createElement("canvas");return !!(e.getContext&&e.getContext("2d"))};ac.canvastext=function(){return !!(aa.canvas&&typeof ab.createElement("canvas").getContext("2d").fillText=="function")};ac.webgl=function(){var f=ab.createElement("canvas");try{if(f.getContext("webgl")){return true}}catch(e){}try{if(f.getContext("experimental-webgl")){return true}}catch(h){}return false};ac.touch=function(){return"ontouchstart" in Y||g("@media ("+T.join("touch-enabled),(")+"modernizr)")};ac.geolocation=function(){return !!navigator.geolocation};ac.postmessage=function(){return !!Y.postMessage};ac.websqldatabase=function(){return !!Y.openDatabase};ac.indexedDB=function(){for(var f=-1,e=B.length;++f<e;){var h=B[f].toLowerCase();if(Y[h+"_indexedDB"]||Y[h+"IndexedDB"]){return true}}return false};ac.hashchange=function(){return U("hashchange",Y)&&(document.documentMode===C||document.documentMode>7)};ac.history=function(){return !!(Y.history&&history.pushState)};ac.draganddrop=function(){return U("drag")&&U("dragstart")&&U("dragenter")&&U("dragover")&&U("dragleave")&&U("dragend")&&U("drop")};ac.websockets=function(){return"WebSocket" in Y};ac.rgba=function(){X.cssText="background-color:rgba(150,255,150,.5)";return J(X.backgroundColor,"rgba")};ac.hsla=function(){X.cssText="background-color:hsla(120,40%,100%,.5)";return J(X.backgroundColor,"rgba")||J(X.backgroundColor,"hsla")};ac.multiplebgs=function(){X.cssText="background:url(//:),url(//:),red url(//:)";return/(url\s*\(.*?){3}/.test(X.background)};ac.backgroundsize=function(){return V("backgroundSize")};ac.borderimage=function(){return V("borderImage")};ac.borderradius=function(){return V("borderRadius","",function(e){return J(e,"orderRadius")})};ac.boxshadow=function(){return V("boxShadow")};ac.textshadow=function(){return ab.createElement("div").style.textShadow===""};ac.opacity=function(){var e=T.join("opacity:.5;")+"";X.cssText=e;return J(X.opacity,"0.5")};ac.cssanimations=function(){return V("animationName")};ac.csscolumns=function(){return V("columnCount")};ac.cssgradients=function(){var e=("background-image:"+T.join("gradient(linear,left top,right bottom,from(#9f9),to(white));background-image:")+T.join("linear-gradient(left top,#9f9, white);background-image:")).slice(0,-17);X.cssText=e;return J(X.backgroundImage,"gradient")};ac.cssreflections=function(){return V("boxReflect")};ac.csstransforms=function(){return !!K(["transformProperty","WebkitTransform","MozTransform","OTransform","msTransform"])};ac.csstransforms3d=function(){var e=!!K(["perspectiveProperty","WebkitPerspective","MozPerspective","OPerspective","msPerspective"]);if(e){e=g("@media ("+T.join("transform-3d),(")+"modernizr)")}return e};ac.csstransitions=function(){return V("transitionProperty")};ac.fontface=function(){var f,e=ab.head||ab.getElementsByTagName("head")[0]||W,j=ab.createElement("style"),h=ab.implementation||{hasFeature:function(){return false}};j.type="text/css";e.insertBefore(j,e.firstChild);f=j.sheet||j.styleSheet;e=h.hasFeature("CSS2","")?function(o){if(!(f&&o)){return false}var n=false;try{f.insertRule(o,0);n=!/unknown/i.test(f.cssRules[0].cssText);f.deleteRule(f.cssRules.length-1)}catch(l){}return n}:function(l){if(!(f&&l)){return false}f.cssText=l;return f.cssText.length!==0&&!/unknown/i.test(f.cssText)&&f.cssText.replace(/\r+|\n+/g,"").indexOf(l.split(" ")[0])===0};aa._fontfaceready=function(l){l(aa.fontface)};return e('@font-face { font-family: "font"; src: "font.ttf"; }')};ac.video=function(){var f=ab.createElement("video"),e=!!f.canPlayType;if(e){e=new Boolean(e);e.ogg=f.canPlayType('video/ogg; codecs="theora"');e.h264=f.canPlayType('video/mp4; codecs="avc1.42E01E"')||f.canPlayType('video/mp4; codecs="avc1.42E01E, mp4a.40.2"');e.webm=f.canPlayType('video/webm; codecs="vp8, vorbis"')}return e};ac.audio=function(){var f=ab.createElement("audio"),e=!!f.canPlayType;if(e){e=new Boolean(e);e.ogg=f.canPlayType('audio/ogg; codecs="vorbis"');e.mp3=f.canPlayType("audio/mpeg;");e.wav=f.canPlayType('audio/wav; codecs="1"');e.m4a=f.canPlayType("audio/x-m4a;")||f.canPlayType("audio/aac;")}return e};ac.localstorage=function(){try{return"localStorage" in Y&&Y.localStorage!==null}catch(e){return false}};ac.sessionstorage=function(){try{return"sessionStorage" in Y&&Y.sessionStorage!==null}catch(e){return false}};ac.webWorkers=function(){return !!Y.Worker};ac.applicationcache=function(){return !!Y.applicationCache};ac.svg=function(){return !!ab.createElementNS&&!!ab.createElementNS(A.svg,"svg").createSVGRect};ac.inlinesvg=function(){var e=document.createElement("div");e.innerHTML="<svg/>";return(e.firstChild&&e.firstChild.namespaceURI)==A.svg};ac.smil=function(){return !!ab.createElementNS&&/SVG/.test(m.call(ab.createElementNS(A.svg,"animate")))};ac.svgclippaths=function(){return !!ab.createElementNS&&/SVG/.test(m.call(ab.createElementNS(A.svg,"clipPath")))};for(var x in ac){if(b(ac,x)){y=x.toLowerCase();aa[y]=ac[x]();k.push((aa[y]?"":"no-")+y)}}aa.input||a();aa.crosswindowmessaging=aa.postmessage;aa.historymanagement=aa.history;aa.addTest=function(f,e){f=f.toLowerCase();if(!aa[f]){e=!!e();W.className+=" "+(e?"":"no-")+f;aa[f]=e;return aa}};X.cssText="";I=Z=null;Y.attachEvent&&function(){var e=ab.createElement("div");e.innerHTML="<elem></elem>";return e.childNodes.length!==1}()&&function(w,v){function s(F){for(var E=-1;++E<e;){F.createElement(o[E])}}function n(L,E){for(var G=L.length,H=-1,M,F=[];++H<G;){M=L[H];E=M.media||E;F.push(n(M.imports,E));F.push(M.cssText)}return F.join("")}var o="abbr|article|aside|audio|canvas|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video".split("|"),e=o.length,D=RegExp("<(/*)(abbr|article|aside|audio|canvas|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video)","gi"),l=RegExp("\\b(abbr|article|aside|audio|canvas|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video)\\b(?!.*[;}])","gi"),q=v.createDocumentFragment(),j=v.documentElement,u=j.firstChild,h=v.createElement("style"),f=v.createElement("body");h.media="all";s(v);s(q);w.attachEvent("onbeforeprint",function(){for(var H=-1;++H<e;){for(var E=v.getElementsByTagName(o[H]),F=E.length,G=-1;++G<F;){if(E[G].className.indexOf("iepp_")<0){E[G].className+=" iepp_"+o[H]}}}u.insertBefore(h,u.firstChild);h.styleSheet.cssText=n(v.styleSheets,"all").replace(l,".iepp_$1");q.appendChild(v.body);j.appendChild(f);f.innerHTML=q.firstChild.innerHTML.replace(D,"<$1bdo")});w.attachEvent("onafterprint",function(){f.innerHTML="";j.removeChild(f);u.removeChild(h);j.appendChild(q.firstChild)})}(this,document);aa._enableHTML5=true;aa._version="1.6";W.className=W.className.replace(/\bno-js\b/,"")+" js";W.className+=" "+k.join(" ");return aa}(this,this.document);(function(an,am){function O(f,e){this._d=f,this._isUTC=!!e}function M(f,e){var g=f+"";while(g.length<e){g="0"+g}return g}function K(t,s,r,q){var p=typeof s=="string",o=p?{}:s,n,m,l,a;return p&&q&&(o[s]=+q),n=(o.ms||o.milliseconds||0)+(o.s||o.seconds||0)*1000+(o.m||o.minutes||0)*60000+(o.h||o.hours||0)*3600000,m=(o.d||o.days||0)+(o.w||o.weeks||0)*7,l=(o.M||o.months||0)+(o.y||o.years||0)*12,n&&t.setTime(+t+n*r),m&&t.setDate(t.getDate()+m*r),l&&(a=t.getDate(),t.setDate(1),t.setMonth(t.getMonth()+l*r),t.setDate(Math.min((new an(t.getFullYear(),t.getMonth()+1,0)).getDate(),a))),t}function J(b){return Object.prototype.toString.call(b)==="[object Array]"}function I(a){return new an(a[0],a[1]||0,a[2]||1,a[3]||0,a[4]||0,a[5]||0,a[6]||0)}function H(A,z){function a(f){var b,e;switch(f){case"M":return y+1;case"Mo":return y+1+k(y+1);case"MM":return M(y+1,2);case"MMM":return al.monthsShort[y];case"MMMM":return al.months[y];case"D":return x;case"Do":return x+k(x);case"DD":return M(x,2);case"DDD":return b=new an(w,y,x),e=new an(w,0,1),~~((b-e)/86400000+1.5);case"DDDo":return b=a("DDD"),b+k(b);case"DDDD":return M(a("DDD"),3);case"d":return v;case"do":return v+k(v);case"ddd":return al.weekdaysShort[v];case"dddd":return al.weekdays[v];case"w":return b=new an(w,y,x-v+5),e=new an(b.getFullYear(),0,4),~~((b-e)/86400000/7+1.5);case"wo":return b=a("w"),b+k(b);case"ww":return M(a("w"),2);case"YY":return M(w%100,2);case"YYYY":return w;case"a":return u>11?j.pm:j.am;case"A":return u>11?j.PM:j.AM;case"H":return u;case"HH":return M(u,2);case"h":return u%12||12;case"hh":return M(u%12||12,2);case"m":return t;case"mm":return M(t,2);case"s":return s;case"ss":return M(s,2);case"zz":case"z":return(A._d.toString().match(ac)||[""])[0].replace(ad,"");case"Z":return(l<0?"-":"+")+M(~~(Math.abs(l)/60),2)+":"+M(~~(Math.abs(l)%60),2);case"ZZ":return(l<0?"-":"+")+M(~~(10*Math.abs(l)/6),4);case"L":case"LL":case"LLL":case"LLLL":case"LT":return H(A,al.longDateFormat[f]);default:return f.replace(/(^\[)|(\\)|\]$/g,"")}}var y=A.month(),x=A.date(),w=A.year(),v=A.day(),u=A.hours(),t=A.minutes(),s=A.seconds(),l=-A.zone(),k=al.ordinal,j=al.meridiem;return z.replace(ae,a)}function Y(y,x){function a(f,e){var g;switch(f){case"M":case"MM":w[1]=~~e-1;break;case"MMM":case"MMMM":for(g=0;g<12;g++){if(al.monthsParse[g].test(e)){w[1]=g;break}}break;case"D":case"DD":case"DDD":case"DDDD":w[2]=~~e;break;case"YY":e=~~e,w[0]=e+(e>70?1900:2000);break;case"YYYY":w[0]=~~Math.abs(e);break;case"a":case"A":m=e.toLowerCase()==="pm";break;case"H":case"HH":case"h":case"hh":w[3]=~~e;break;case"m":case"mm":w[4]=~~e;break;case"s":case"ss":w[5]=~~e;break;case"Z":case"ZZ":t=!0,g=(e||"").match(T),g&&g[1]&&(v=~~g[1]),g&&g[2]&&(u=~~g[2]),g&&g[0]==="+"&&(v=-v,u=-u)}}var w=[0,0,1,0,0,0,0],v=0,u=0,t=!1,s=y.match(aa),r=x.match(ab),q=Math.min(s.length,r.length),n,m;for(n=0;n<q;n++){a(r[n],s[n])}return m&&w[3]<12&&(w[3]+=12),m===!1&&w[3]===12&&(w[3]=0),w[3]+=v,w[4]+=u,t?new an(an.UTC.apply({},w)):I(w)}function W(h,g){var m=Math.min(h.length,g.length),l=Math.abs(h.length-g.length),k=0,j;for(j=0;j<m;j++){~~h[j]!==~~g[j]&&k++}return k+l}function U(r,q){var p,o=r.match(aa),n=[],m=99,l,k,j;for(l=0;l<q.length;l++){k=Y(r,q[l]),j=W(o,H(new O(k),q[l]).match(aa)),j<m&&(m=j,p=k)}return p}function S(a){var f="YYYY-MM-DDT",e;if(Z.exec(a)){for(e=0;e<3;e++){if(V[e][1].exec(a)){f+=V[e][0];break}}return Y(a,f+"Z")}return new an(a)}function Q(g,f,j){var h=al.relativeTime[g];return typeof h=="function"?h(f||1,!!j,g):h.replace(/%d/i,f||1)}function N(k,j){var q=ak(Math.abs(k)/1000),p=ak(q/60),o=ak(p/60),n=ak(o/24),m=ak(n/365),l=q<45&&["s",q]||p===1&&["m"]||p<45&&["mm",p]||o===1&&["h"]||o<22&&["hh",o]||n===1&&["d"]||n<=25&&["dd",n]||n<=45&&["M"]||n<345&&["MM",ak(n/30)]||m===1&&["y"]||["yy",m];return l[2]=j,Q.apply({},l)}function L(f,e){al.fn[f]=function(b){var g=this._isUTC?"UTC":"";return b!=null?(this._d["set"+g+e](b),this):this._d["get"+g+e]()}}var al,ak=Math.round,aj={},ai=typeof module!="undefined",ah="months|monthsShort|monthsParse|weekdays|weekdaysShort|longDateFormat|calendar|relativeTime|ordinal|meridiem".split("|"),ag,af=/^\/?Date\((\-?\d+)/i,ae=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|dddd?|do?|w[o|w]?|YYYY|YY|a|A|hh?|HH?|mm?|ss?|zz?|ZZ?|LT|LL?L?L?)/g,ad=/[^A-Z]/g,ac=/\([A-Za-z ]+\)|:[0-9]{2} [A-Z]{3} /g,ab=/(\\)?(MM?M?M?|dd?d?d|DD?D?D?|YYYY|YY|a|A|hh?|HH?|mm?|ss?|ZZ?|T)/g,aa=/(\\)?([0-9]+|([a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+|([\+\-]\d\d:?\d\d))/gi,Z=/\d{4}.\d\d.\d\d(T(\d\d(.\d\d(.\d\d)?)?)?([\+\-]\d\d:?\d\d)?)?/,X="YYYY-MM-DDTHH:mm:ssZ",V=[["HH:mm:ss",/T\d\d:\d\d:\d\d/],["HH:mm",/T\d\d:\d\d/],["HH",/T\d\d/]],T=/([\+\-]|\d\d)/gi,R="1.5.0",P="Month|Date|Hours|Minutes|Seconds|Milliseconds".split("|");al=function(h,g){if(h===null||h===""){return null}var b,a;return h&&h._d instanceof an?b=new an(+h._d):g?J(g)?b=U(h,g):b=Y(h,g):(a=af.exec(h),b=h===am?new an:a?new an(+a[1]):h instanceof an?h:J(h)?I(h):typeof h=="string"?S(h):new an(h)),new O(b)},al.utc=function(a,e){return J(a)?new O(new an(an.UTC.apply({},a)),!0):e&&a?al(a+" 0",e+" Z").utc():al(a).utc()},al.humanizeDuration=function(j,h,n){var m=+j,l=al.relativeTime,k;switch(h){case"seconds":m*=1000;break;case"minutes":m*=60000;break;case"hours":m*=3600000;break;case"days":m*=86400000;break;case"weeks":m*=604800000;break;case"months":m*=2592000000;break;case"years":m*=31536000000;break;default:n=!!h}return k=N(m,!n),n?(m<=0?l.past:l.future).replace(/%s/i,k):k},al.version=R,al.defaultFormat=X,al.lang=function(f,e){var m,l,k,g=[];if(e){for(m=0;m<12;m++){g[m]=new RegExp("^"+e.months[m]+"|^"+e.monthsShort[m].replace(".",""),"i")}e.monthsParse=e.monthsParse||g,aj[f]=e}if(aj[f]){for(m=0;m<ah.length;m++){l=ah[m],al[l]=aj[f][l]||al[l]}}else{ai&&(k=require("./lang/"+f),al.lang(f,k))}},al.lang("en",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},meridiem:{AM:"AM",am:"am",PM:"PM",pm:"pm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},ordinal:function(f){var e=f%10;return ~~(f%100/10)===1?"th":e===1?"st":e===2?"nd":e===3?"rd":"th"}}),al.isMoment=function(b){return b instanceof O},al.fn=O.prototype={clone:function(){return al(this)},valueOf:function(){return +this._d},"native":function(){return this._d},toString:function(){return this._d.toString()},toDate:function(){return this._d},utc:function(){return this._isUTC=!0,this},local:function(){return this._isUTC=!1,this},format:function(b){return H(this,b?b:al.defaultFormat)},add:function(f,e){return this._d=K(this._d,f,1,e),this},subtract:function(f,e){return this._d=K(this._d,f,-1,e),this},diff:function(v,u,t){var s=al(v),r=(this.zone()-s.zone())*60000,q=this._d-s._d-r,p=this.year()-s.year(),o=this.month()-s.month(),n=this.date()-s.date(),m;return u==="months"?m=p*12+o+n/30:u==="years"?m=p+o/12:m=u==="seconds"?q/1000:u==="minutes"?q/60000:u==="hours"?q/3600000:u==="days"?q/86400000:u==="weeks"?q/604800000:q,t?m:ak(m)},from:function(f,e){return al.humanizeDuration(this.diff(f),!e)},fromNow:function(b){return this.from(al(),b)},calendar:function(){var g=this.diff(al().sod(),"days",!0),f=al.calendar,j=f.sameElse,h=g<-6?j:g<-1?f.lastWeek:g<0?f.lastDay:g<1?f.sameDay:g<2?f.nextDay:g<7?f.nextWeek:j;return this.format(typeof h=="function"?h.apply(this):h)},isLeapYear:function(){var b=this.year();return b%4===0&&b%100!==0||b%400===0},isDST:function(){return this.zone()<al([this.year()]).zone()||this.zone()<al([this.year(),5]).zone()},day:function(f){var e=this._d.getDay();return f==null?e:this.add({d:f-e})},sod:function(){return this.clone().hours(0).minutes(0).seconds(0).milliseconds(0)},eod:function(){return this.sod().add({d:1,ms:-1})},zone:function(){return this._isUTC?0:this._d.getTimezoneOffset()},daysInMonth:function(){return this.clone().month(this.month()+1).date(0).date()}};for(ag=0;ag<P.length;ag++){L(P[ag].toLowerCase(),P[ag])}L("year","FullYear"),ai&&(module.exports=al),typeof window!="undefined"&&(window.moment=al),typeof define=="function"&&define.amd&&define("moment",[],function(){return al})})(Date);var Mustache=function(){var a={};var b=function(){};b.prototype={otag:"{{",ctag:"}}",pragmas:{},buffer:[],pragmas_implemented:{"IMPLICIT-ITERATOR":true},context:{},render:function(h,g,f,j){if(!j){this.context=g;this.buffer=[]}if(!this.includes("",h)){if(j){return h}else{this.send(h);return}}h=this.render_pragmas(h);var e=this.render_section(h,g,f);if(e===false){e=this.render_tags(h,g,f,j)}if(j){return e}else{this.sendLines(e)}},send:function(e){if(e!==""){this.buffer.push(e)}},sendLines:function(g){if(g){var e=g.split("\n");for(var f=0;f<e.length;f++){this.send(e[f])}}},render_pragmas:function(e){if(!this.includes("%",e)){return e}var g=this;var f=this.getCachedRegex("render_pragmas",function(j,h){return new RegExp(j+"%([\\w-]+) ?([\\w]+=[\\w]+)?"+h,"g")});return e.replace(f,function(k,h,j){if(!g.pragmas_implemented[h]){throw ({message:"This implementation of mustache doesn't understand the '"+h+"' pragma"})}g.pragmas[h]={};if(j){var l=j.split("=");g.pragmas[h][l[0]]=l[1]}return""})},render_partial:function(e,g,f){e=this.trim(e);if(!f||f[e]===undefined){throw ({message:"unknown_partial '"+e+"'"})}if(typeof(g[e])!="object"){return this.render(f[e],g,f,true)}return this.render(f[e],g[e],f,true)},render_section:function(g,f,e){if(!this.includes("#",g)&&!this.includes("^",g)){return false}var j=this;var h=this.getCachedRegex("render_section",function(l,k){return new RegExp("^([\\s\\S]*?)"+l+"(\\^|\\#)\\s*(.+)\\s*"+k+"\n*([\\s\\S]*?)"+l+"\\/\\s*\\3\\s*"+k+"\\s*([\\s\\S]*)$","g")});return g.replace(h,function(n,r,q,m,o,l){var t=r?j.render_tags(r,f,e,true):"",p=l?j.render(l,f,e,true):"",k,s=j.find(m,f);if(q==="^"){if(!s||j.is_array(s)&&s.length===0){k=j.render(o,f,e,true)}else{k=""}}else{if(q==="#"){if(j.is_array(s)){k=j.map(s,function(u){return j.render(o,j.create_context(u),e,true)}).join("")}else{if(j.is_object(s)){k=j.render(o,j.create_context(s),e,true)}else{if(typeof s==="function"){k=s.call(f,o,function(u){return j.render(u,f,e,true)})}else{if(s){k=j.render(o,f,e,true)}else{k=""}}}}}}return t+k+p})},render_tags:function(n,e,g,j){var h=this;var m=function(){return h.getCachedRegex("render_tags",function(q,p){return new RegExp(q+"(=|!|>|\\{|%)?([^\\/#\\^]+?)\\1?"+p+"+","g")})};var k=m();var l=function(r,p,q){switch(p){case"!":return"";case"=":h.set_delimiters(q);k=m();return"";case">":return h.render_partial(q,e,g);case"{":return h.find(q,e);default:return h.escape(h.find(q,e))}};var o=n.split("\n");for(var f=0;f<o.length;f++){o[f]=o[f].replace(k,l,this);if(!j){this.send(o[f])}}if(j){return o.join("\n")}},set_delimiters:function(f){var e=f.split(" ");this.otag=this.escape_regex(e[0]);this.ctag=this.escape_regex(e[1])},escape_regex:function(f){if(!arguments.callee.sRE){var e=["/",".","*","+","?","|","(",")","[","]","{","}","\\"];arguments.callee.sRE=new RegExp("(\\"+e.join("|\\")+")","g")}return f.replace(arguments.callee.sRE,"\\$1")},find:function(g,h){g=this.trim(g);function f(k){return k===false||k===0||k}var j;if(g.match(/([a-z_]+)\./ig)){var e=this.walk_context(g,h);if(f(e)){j=e}}else{if(f(h[g])){j=h[g]}else{if(f(this.context[g])){j=this.context[g]}}}if(typeof j==="function"){return j.apply(h)}if(j!==undefined){return j}return""},walk_context:function(e,f){var j=e.split(".");var h=(f[j[0]]!=undefined)?f:this.context;var g=h[j.shift()];while(g!=undefined&&j.length>0){h=g;g=g[j.shift()]}if(typeof g==="function"){return g.apply(h)}return g},includes:function(f,e){return e.indexOf(this.otag+f)!=-1},escape:function(e){e=String(e===null?"":e);return e.replace(/&(?!\w+;)|["'<>\\]/g,function(f){switch(f){case"&":return"&amp;";case'"':return"&quot;";case"'":return"&#39;";case"<":return"&lt;";case">":return"&gt;";default:return f}})},create_context:function(f){if(this.is_object(f)){return f}else{var g=".";if(this.pragmas["IMPLICIT-ITERATOR"]){g=this.pragmas["IMPLICIT-ITERATOR"].iterator}var e={};e[g]=f;return e}},is_object:function(e){return e&&typeof e=="object"},is_array:function(e){return Object.prototype.toString.call(e)==="[object Array]"},trim:function(e){return e.replace(/^\s*|\s*$/g,"")},map:function(j,g){if(typeof j.map=="function"){return j.map(g)}else{var h=[];var e=j.length;for(var f=0;f<e;f++){h.push(g(j[f]))}return h}},getCachedRegex:function(f,j){var h=a[this.otag];if(!h){h=a[this.otag]={}}var e=h[this.ctag];if(!e){e=h[this.ctag]={}}var g=e[f];if(!g){g=e[f]=j(this.otag,this.ctag)}return g}};return({name:"mustache.js",version:"0.4.0-dev",to_html:function(g,e,f,j){var h=new b();if(j){h.send=j}h.render(g,e||{},f);if(!j){return h.buffer.join("\n")}}})}();window.Rickshaw={namespace:function(f,j){var h=f.split(".");var a=typeof global!="undefined"?global:window;var e=a.Rickshaw;for(var b=1,g=h.length;b<g;b++){currentPart=h[b];e[currentPart]=e[currentPart]||{};e=e[currentPart]}return e},keys:function(e){var b=[];for(var a in e){b.push(a)}return b}};(function(y){var v=Object.prototype.toString,u="Null",l="Undefined",q="Boolean",e="Number",o="String",w="Object",p="[object Function]";function a(z){return v.call(z)===p}function t(z,B){for(var A in B){if(B.hasOwnProperty(A)){z[A]=B[A]}}return z}function n(z){if(k(z)!==w){throw new TypeError()}var A=[];for(var B in z){if(z.hasOwnProperty(B)){A.push(B)}}return A}function k(A){switch(A){case null:return u;case (void 0):return l}var z=typeof A;switch(z){case"boolean":return q;case"number":return e;case"string":return o}return w}function b(z){return typeof z==="undefined"}var r=Array.prototype.slice;function g(z){var A=z.toString().match(/^[\s\(]*function[^(]*\(([^)]*)\)/)[1].replace(/\/\/.*?[\r\n]|\/\*(?:.|[\r\n])*?\*\//g,"").replace(/\s+/g,"").split(",");return A.length==1&&!A[0]?[]:A}function j(A,B){var z=A;return function(){var C=h([x(z,this)],arguments);return B.apply(this,C)}}function h(C,z){var B=C.length,A=z.length;while(A--){C[B+A]=z[A]}return C}function f(A,z){A=r.call(A,0);return h(A,z)}function x(C,B){if(arguments.length<2&&b(arguments[0])){return this}var z=C,A=r.call(arguments,2);return function(){var D=f(A,arguments);return z.apply(B,D)}}var m=function(){};var s=(function(){var C=(function(){for(var D in {toString:1}){if(D==="toString"){return false}}return true})();function z(){}function A(){var G=null,F=[].slice.apply(arguments);if(a(F[0])){G=F.shift()}function D(){this.initialize.apply(this,arguments)}t(D,s.Methods);D.superclass=G;D.subclasses=[];if(G){z.prototype=G.prototype;D.prototype=new z;try{G.subclasses.push(D)}catch(I){}}for(var E=0,H=F.length;E<H;E++){D.addMethods(F[E])}if(!D.prototype.initialize){D.prototype.initialize=m}D.prototype.constructor=D;return D}function B(J){var F=this.superclass&&this.superclass.prototype,E=n(J);if(C){if(J.toString!=Object.prototype.toString){E.push("toString")}if(J.valueOf!=Object.prototype.valueOf){E.push("valueOf")}}for(var D=0,G=E.length;D<G;D++){var I=E[D],H=J[I];if(F&&a(H)&&g(H)[0]=="$super"){var K=H;H=j((function(L){return function(){return F[L].apply(this,arguments)}})(I),K);H.valueOf=x(K.valueOf,K);H.toString=x(K.toString,K)}this.prototype[I]=H}return this}return{create:A,Methods:{addMethods:B}}})();if(y.exports){y.exports.Class=s}else{y.Class=s}})(Rickshaw);Rickshaw.namespace("Rickshaw.Compat.ClassList");Rickshaw.Compat.ClassList=function(){if(typeof document!=="undefined"&&!("classList" in document.createElement("a"))){(function(m){var a="classList",h="prototype",p=(m.HTMLElement||m.Element)[h],b=Object,n=String[h].trim||function(){return this.replace(/^\s+|\s+$/g,"")},e=Array[h].indexOf||function(t){var s=0,r=this.length;for(;s<r;s++){if(s in this&&this[s]===t){return s}}return -1},q=function(r,s){this.name=r;this.code=DOMException[r];this.message=s},j=function(s,r){if(r===""){throw new q("SYNTAX_ERR","An invalid or illegal string was specified")}if(/\s/.test(r)){throw new q("INVALID_CHARACTER_ERR","String contains an invalid character")}return e.call(s,r)},f=function(v){var u=n.call(v.className),t=u?u.split(/\s+/):[],s=0,r=t.length;for(;s<r;s++){this.push(t[s])}this._updateClassName=function(){v.className=this.toString()}},g=f[h]=[],l=function(){return new f(this)};q[h]=Error[h];g.item=function(r){return this[r]||null};g.contains=function(r){r+="";return j(this,r)!==-1};g.add=function(r){r+="";if(j(this,r)===-1){this.push(r);this._updateClassName()}};g.remove=function(s){s+="";var r=j(this,s);if(r!==-1){this.splice(r,1);this._updateClassName()}};g.toggle=function(r){r+="";if(j(this,r)===-1){this.add(r)}else{this.remove(r)}};g.toString=function(){return this.join(" ")};if(b.defineProperty){var o={get:l,enumerable:true,configurable:true};try{b.defineProperty(p,a,o)}catch(k){if(k.number===-2146823252){o.enumerable=false;b.defineProperty(p,a,o)}}}else{if(b[h].__defineGetter__){p.__defineGetter__(a,l)}}}(self))}};if((typeof RICKSHAW_NO_COMPAT!=="undefined"&&!RICKSHAW_NO_COMPAT)||typeof RICKSHAW_NO_COMPAT==="undefined"){new Rickshaw.Compat.ClassList()}Rickshaw.namespace("Rickshaw.Graph");Rickshaw.Graph=function(b){this.element=b.element;this.interpolation=b.interpolation||"cardinal";this.series=b.series;this.offset="zero";this.stroke=b.stroke||false;var f=window.getComputedStyle(this.element,null);var g=parseInt(f.getPropertyValue("width"));var e=parseInt(f.getPropertyValue("height"));this.width=b.width||g||400;this.height=b.height||e||250;this.min=b.min;this.max=b.max;this.window={};this.updateCallbacks=[];var a=this;this.initialize=function(j){this.validateSeries(j.series);this.series.active=function(){return a.series.filter(function(k){return !k.disabled})};this.element.classList.add("rickshaw_graph");this.vis=d3.select(this.element).append("svg:svg").attr("width",this.width).attr("height",this.height);var h=[Rickshaw.Graph.Renderer.Stack,Rickshaw.Graph.Renderer.Line,Rickshaw.Graph.Renderer.Bar,Rickshaw.Graph.Renderer.Area,Rickshaw.Graph.Renderer.ScatterPlot];h.forEach(function(k){if(!k){return}a.registerRenderer(new k({graph:a}))});this.setRenderer(j.renderer||"stack");this.discoverRange()};this.validateSeries=function(j){if(!(j instanceof Array)&&!(j instanceof Rickshaw.Series)){var h=Object.prototype.toString.apply(j);throw"series is not an array: "+h}var k;j.forEach(function(l){if(!(l instanceof Object)){throw"series element is not an object: "+l}if(!(l.data)){throw"series has no data: "+JSON.stringify(l)}if(!(l.data instanceof Array)){throw"series data is not an array: "+JSON.stringify(l.data)}k=k||l.data.length;if(k&&l.data.length!=k){throw"series cannot have differing numbers of points: "+k+" vs "+l.data.length+"; see Rickshaw.Series.zeroFill()"}var n=typeof l.data[0].x;var m=typeof l.data[0].y;if(n!="number"||m!="number"){throw"x and y properties of points should be numbers instead of "+n+" and "+m}})};this.dataDomain=function(){var h=this.series[0].data;return[h[0].x,h.slice(-1).shift().x]};this.discoverRange=function(){var h=this.renderer.domain();this.x=d3.scale.linear().domain(h.x).range([0,this.width]);this.y=d3.scale.linear().domain(h.y).range([this.height,0]);this.y.magnitude=d3.scale.linear().domain(h.y).range([0,this.height])};this.render=function(){var h=this.stackData();this.discoverRange();this.renderer.render();this.updateCallbacks.forEach(function(j){j()})};this.update=this.render;this.stackData=function(){var l=this.series.active().map(function(m){return m.data}).map(function(m){return m.filter(function(n){return this._slice(n)},this)},this);this.stackData.hooks.data.forEach(function(m){l=m.f.apply(a,[l])});var k=d3.layout.stack();k.offset(a.offset);var j=k(l);this.stackData.hooks.after.forEach(function(m){j=m.f.apply(a,[l])});var h=0;this.series.forEach(function(m){if(m.disabled){return}m.stack=j[h++]});this.stackedData=j;return j};this.stackData.hooks={data:[],after:[]};this._slice=function(j){if(this.window.xMin||this.window.xMax){var h=true;if(this.window.xMin&&j.x<=this.window.xMin){h=false}if(this.window.xMax&&j.x>=this.window.xMax){h=false}return h}return true};this.onUpdate=function(h){this.updateCallbacks.push(h)};this.registerRenderer=function(h){this._renderers=this._renderers||{};this._renderers[h.name]=h};this.setRenderer=function(h){if(!this._renderers[h]){throw"couldn't find renderer "+h}this.renderer=this._renderers[h]};this.initialize(b)};Rickshaw.namespace("Rickshaw.Fixtures.Color");Rickshaw.Fixtures.Color=function(){this.schemes={};this.schemes.spectrum14=["#ecb796","#dc8f70","#b2a470","#92875a","#716c49","#d2ed82","#bbe468","#a1d05d","#e7cbe6","#d8aad6","#a888c2","#9dc2d3","#649eb9","#387aa3"].reverse();this.schemes.spectrum2000=["#57306f","#514c76","#646583","#738394","#6b9c7d","#84b665","#a7ca50","#bfe746","#e2f528","#fff726","#ecdd00","#d4b11d","#de8800","#de4800","#c91515","#9a0000","#7b0429","#580839","#31082b"];this.schemes.spectrum2001=["#2f243f","#3c2c55","#4a3768","#565270","#6b6b7c","#72957f","#86ad6e","#a1bc5e","#b8d954","#d3e04e","#ccad2a","#cc8412","#c1521d","#ad3821","#8a1010","#681717","#531e1e","#3d1818","#320a1b"];this.schemes.classic9=["#423d4f","#4a6860","#848f39","#a2b73c","#ddcb53","#c5a32f","#7d5836","#963b20","#7c2626","#491d37","#2f254a"].reverse();this.schemes.httpStatus={503:"#ea5029",502:"#d23f14",500:"#bf3613",410:"#efacea",409:"#e291dc",403:"#f457e8",408:"#e121d2",401:"#b92dae",405:"#f47ceb",404:"#a82a9f",400:"#b263c6",301:"#6fa024",302:"#87c32b",307:"#a0d84c",304:"#28b55c",200:"#1a4f74",206:"#27839f",201:"#52adc9",202:"#7c979f",203:"#a5b8bd",204:"#c1cdd1"};this.schemes.colorwheel=["#b5b6a9","#858772","#785f43","#96557e","#4682b4","#65b9ac","#73c03a","#cb513a"].reverse();this.schemes.cool=["#5e9d2f","#73c03a","#4682b4","#7bc3b8","#a9884e","#c1b266","#a47493","#c09fb5"];this.schemes.munin=["#00cc00","#0066b3","#ff8000","#ffcc00","#330099","#990099","#ccff00","#ff0000","#808080","#008f00","#00487d","#b35a00","#b38f00","#6b006b","#8fb300","#b30000","#bebebe","#80ff80","#80c9ff","#ffc080","#ffe680","#aa80ff","#ee00cc","#ff8080","#666600","#ffbfff","#00ffcc","#cc6699","#999900"]};Rickshaw.namespace("Rickshaw.Fixtures.RandomData");Rickshaw.Fixtures.RandomData=function(b){var f;b=b||1;var a=200;var e=Math.floor(new Date().getTime()/1000);this.addData=function(k){var j=Math.random()*100+15+a;var h=k[0].length;var g=1;k.forEach(function(m){var n=Math.random()*20;var l=j/25+g+++(Math.cos((h*g*11)/960)+2)*15+(Math.cos(h/7)+2)*7+(Math.cos(h/17)+2)*1;m.push({x:(h*b)+e,y:l+n})});a=j*0.85}};Rickshaw.namespace("Rickshaw.Fixtures.Time");Rickshaw.Fixtures.Time=function(){var a=new Date().getTimezoneOffset()*60;var b=this;this.months=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];this.units=[{name:"decade",seconds:86400*365.25*10,formatter:function(e){return(parseInt(e.getUTCFullYear()/10)*10)}},{name:"year",seconds:86400*365.25,formatter:function(e){return e.getUTCFullYear()}},{name:"month",seconds:86400*30.5,formatter:function(e){return b.months[e.getUTCMonth()]}},{name:"week",seconds:86400*7,formatter:function(e){return b.formatDate(e)}},{name:"day",seconds:86400,formatter:function(e){return e.getUTCDate()}},{name:"6 hour",seconds:3600*6,formatter:function(e){return b.formatTime(e)}},{name:"hour",seconds:3600,formatter:function(e){return b.formatTime(e)}},{name:"15 minute",seconds:60*15,formatter:function(e){return b.formatTime(e)}},{name:"minute",seconds:60,formatter:function(e){return e.getUTCMinutes()}},{name:"15 second",seconds:15,formatter:function(e){return e.getUTCSeconds()+"s"}},{name:"second",seconds:1,formatter:function(e){return e.getUTCSeconds()+"s"}}];this.unit=function(e){return this.units.filter(function(f){return e==f.name}).shift()};this.formatDate=function(e){return e.toUTCString().match(/, (\w+ \w+ \w+)/)[1]};this.formatTime=function(e){return e.toUTCString().match(/(\d+:\d+):/)[1]};this.ceil=function(g,e){if(e.name=="month"){var f=new Date((g+e.seconds-1)*1000);return new Date(f.getUTCFullYear(),f.getUTCMonth()+1,1,0,0,0,0).getTime()/1000}if(e.name=="year"){var f=new Date((g+e.seconds-1)*1000);return new Date(f.getUTCFullYear(),1,1,0,0,0,0).getTime()/1000}return Math.ceil(g/e.seconds)*e.seconds}};Rickshaw.namespace("Rickshaw.Fixtures.Number");Rickshaw.Fixtures.Number.formatKMBT=function(a){if(a>=1000000000000){return a/1000000000000+"T"}else{if(a>=1000000000){return a/1000000000+"B"}else{if(a>=1000000){return a/1000000+"M"}else{if(a>=1000){return a/1000+"K"}else{if(a<1&&a>0){return a.toFixed(2)}else{if(a==0){return""}else{return a}}}}}}};Rickshaw.Fixtures.Number.formatBase1024KMGTP=function(a){if(a>=1125899906842624){return a/1125899906842624+"P"}else{if(a>=1099511627776){return a/1099511627776+"T"}else{if(a>=1073741824){return a/1073741824+"G"}else{if(a>=1048576){return a/1048576+"M"}else{if(a>=1024){return a/1024+"K"}else{if(a<1&&a>0){return a.toFixed(2)}else{if(a==0){return""}else{return a}}}}}}}};Rickshaw.namespace("Rickshaw.Color.Palette");Rickshaw.Color.Palette=function(b){var a=new Rickshaw.Fixtures.Color();b=b||{};this.schemes={};this.scheme=a.schemes[b.scheme]||b.scheme||a.schemes.colorwheel;this.runningIndex=0;this.color=function(e){return this.scheme[e]||this.scheme[this.runningIndex++]||"#808080"}};Rickshaw.namespace("Graph.Ajax");Rickshaw.Graph.Ajax=function(b){var a=this;this.dataURL=b.dataURL;$.ajax({url:this.dataURL,complete:function(f,e){if(e==="error"){console.log("error loading dataURL: "+this.dataURL)}var h=JSON.parse(f.responseText);if(typeof b.onData==="function"){var g=b.onData(h);h=g}if(b.series){b.series.forEach(function(k){var j=k.key||k.name;if(!j){throw"series needs a key or a name"}h.forEach(function(n){var m=n.key||n.name;if(!m){throw"data needs a key or a name"}if(j==m){var l=["color","name","data"];l.forEach(function(o){k[o]=k[o]||n[o]})}})})}else{b.series=h}a.graph=new Rickshaw.Graph(b);a.graph.render();if(typeof b.onComplete=="function"){b.onComplete(a)}}})};Rickshaw.namespace("Rickshaw.Graph.Annotate");Rickshaw.Graph.Annotate=function(b){var e=this.graph=b.graph;this.elements={timeline:b.element};var a=this;this.data={};this.elements.timeline.classList.add("rickshaw_annotation_timeline");this.add=function(g,f){a.data[g]=a.data[g]||{boxes:[]};a.data[g].boxes.push({content:f})};this.update=function(){for(var j in a.data){var f=a.data[j];var h=a.graph.x(j);if(h>a.graph.x.range()[1]){if(f.element){f.element.style.display="none"}continue}if(!f.element){var g=f.element=document.createElement("div");g.classList.add("annotation");this.elements.timeline.appendChild(g);g.addEventListener("click",function(k){g.classList.toggle("active");f.line.classList.toggle("active")},false)}f.element.style.left=h+"px";f.element.style.display="block";f.boxes.forEach(function(l){var k=l.element;if(!k){k=l.element=document.createElement("div");k.classList.add("content");k.innerHTML=l.content;f.element.appendChild(k);f.line=document.createElement("div");f.line.classList.add("annotation_line");a.graph.element.appendChild(f.line)}f.line.style.left=h+"px"})}};this.graph.onUpdate(function(){a.update()})};Rickshaw.namespace("Rickshaw.Graph.Axis.Time");Rickshaw.Graph.Axis.Time=function(b){var a=this;this.graph=b.graph;this.elements=[];this.ticksTreatment=b.ticksTreatment||"plain";this.fixedTimeUnit=b.timeUnit;var e=new Rickshaw.Fixtures.Time();this.appropriateTimeUnit=function(){var h;var g=e.units;var j=this.graph.x.domain();var f=j[1]-j[0];g.forEach(function(k){if(Math.floor(f/k.seconds)>=2){h=h||k}});return(h||e.units[e.units.length-1])};this.tickOffsets=function(){var l=this.graph.x.domain();var k=this.fixedTimeUnit||this.appropriateTimeUnit();var j=Math.ceil((l[1]-l[0])/k.seconds);var f=l[0];var h=[];for(var g=0;g<j;g++){tickValue=e.ceil(f,k);f=tickValue+k.seconds/2;h.push({value:tickValue,unit:k})}return h};this.render=function(){this.elements.forEach(function(g){g.parentNode.removeChild(g)});this.elements=[];var f=this.tickOffsets();f.forEach(function(j){if(a.graph.x(j.value)>a.graph.x.range()[1]){return}var g=document.createElement("div");g.style.left=a.graph.x(j.value)+"px";g.classList.add("x_tick");g.classList.add(a.ticksTreatment);var h=document.createElement("div");h.classList.add("title");h.innerHTML=j.unit.formatter(new Date(j.value*1000));g.appendChild(h);a.graph.element.appendChild(g);a.elements.push(g)})};this.graph.onUpdate(function(){a.render()})};Rickshaw.namespace("Rickshaw.Graph.Axis.Y");Rickshaw.Graph.Axis.Y=function(e){var b=this;this.graph=e.graph;this.orientation=e.orientation||"right";var k=75;this.ticks=e.ticks||Math.floor(this.graph.height/k);this.tickSize=e.tickSize||4;this.ticksTreatment=e.ticksTreatment||"plain";if(e.element){var f=0.1;if(!e.width||!e.height){var h=window.getComputedStyle(e.element,null);var j=parseInt(h.getPropertyValue("width"));var g=parseInt(h.getPropertyValue("height"))}this.width=e.width||j||this.graph.width*f;this.height=e.height||g||this.graph.height;this.vis=d3.select(e.element).append("svg:svg").attr("class","rickshaw_graph y_axis").attr("width",this.width).attr("height",this.height*(1+f));this.element=this.vis[0][0];this.element.style.position="relative";var a=this.height*f;this.element.style.top=-1*a+"px";this.element.style.paddingTop=a+"px"}else{this.vis=this.graph.vis}this.render=function(){var n=d3.svg.axis().scale(this.graph.y).orient(this.orientation);n.tickFormat(e.tickFormat||function(o){return o});if(this.orientation=="left"){var m="translate("+this.width+", 0)"}if(this.element){this.vis.selectAll("*").remove()}this.vis.append("svg:g").attr("class",["y_ticks",this.ticksTreatment].join(" ")).attr("transform",m).call(n.ticks(this.ticks).tickSubdivide(0).tickSize(this.tickSize));var l=(this.orientation=="right"?1:-1)*this.graph.width;this.graph.vis.append("svg:g").attr("class","y_grid").call(n.ticks(this.ticks).tickSubdivide(0).tickSize(l))};this.graph.onUpdate(function(){b.render()})};Rickshaw.namespace("Rickshaw.Graph.Behavior.Series.Highlight");Rickshaw.Graph.Behavior.Series.Highlight=function(b){this.graph=b.graph;this.legend=b.legend;var a=this;var e={};this.addHighlightEvents=function(f){f.element.addEventListener("mouseover",function(g){a.legend.lines.forEach(function(h){if(f===h){return}e[h.series.name]=e[h.series.name]||h.series.color;h.series.color=d3.interpolateRgb(h.series.color,d3.rgb("#d8d8d8"))(0.8).toString()});a.graph.update()},false);f.element.addEventListener("mouseout",function(g){a.legend.lines.forEach(function(h){if(e[h.series.name]){h.series.color=e[h.series.name]}});a.graph.update()},false)};if(this.legend){this.legend.lines.forEach(function(f){a.addHighlightEvents(f)})}};Rickshaw.namespace("Rickshaw.Graph.Behavior.Series.Order");Rickshaw.Graph.Behavior.Series.Order=function(b){this.graph=b.graph;this.legend=b.legend;var a=this;$(function(){$(a.legend.list).sortable({containment:"parent",tolerance:"pointer",update:function(g,h){var f=[];$(a.legend.list).find("li").each(function(j,k){if(!k.series){return}f.push(k.series)});for(var e=a.graph.series.length-1;e>=0;e--){a.graph.series[e]=f.shift()}a.graph.update()}});$(a.legend.list).disableSelection()});this.graph.onUpdate(function(){var e=window.getComputedStyle(a.legend.element).height;a.legend.element.style.height=e})};Rickshaw.namespace("Rickshaw.Graph.Behavior.Series.Toggle");Rickshaw.Graph.Behavior.Series.Toggle=function(b){this.graph=b.graph;this.legend=b.legend;var a=this;this.addAnchor=function(e){var f=document.createElement("a");f.innerHTML="&#10004;";f.classList.add("action");e.element.insertBefore(f,e.element.firstChild);f.onclick=function(g){if(e.series.disabled){e.series.enable();e.element.classList.remove("disabled")}else{e.series.disable();e.element.classList.add("disabled")}}};if(this.legend){this.legend.lines.forEach(function(e){a.addAnchor(e)})}this._addBehavior=function(){this.graph.series.forEach(function(e){e.disable=function(){if(a.graph.series.length<=1){throw ("only one series left")}e.disabled=true;a.graph.update()};e.enable=function(){e.disabled=false;a.graph.update()}})};this._addBehavior();this.updateBehaviour=function(){this._addBehavior()}};Rickshaw.namespace("Rickshaw.Graph.HoverDetail");Rickshaw.Graph.HoverDetail=function(e){var h=this.graph=e.graph;var b=e.xFormatter||function(j){return new Date(j*1000).toUTCString()};var g=e.yFormatter||function(j){return j.toFixed(2)};var f=this.element=document.createElement("div");f.className="detail";this.visible=true;h.element.appendChild(f);var a=this;this.lastEvent=null;this.update=function(q){q=q||this.lastEvent;if(!q){return}this.lastEvent=q;if(q.target.nodeName!="path"&&q.target.nodeName!="svg"){return}var k=q.offsetX||q.layerX;var j=q.offsetY||q.layerY;var l=h.x.invert(k);var t=h.stackedData;var m=t.slice(-1).shift();var o=d3.scale.linear().domain([m[0].x,m.slice(-1).shift().x]).range([0,m.length]);var s=Math.floor(o(l));var r=s||0;for(var n=s;n<t[0].length-1;){if(t[0][n].x<=l&&t[0][n+1].x>l){r=n;break}if(t[0][n+1]<l){n++}else{n--}}l=t[0][r].x;var p=h.series.active().map(function(u){return{name:u.name,value:u.stack[r]}});if(this.visible){a.render.call(a,l,p,k,j)}};this.graph.element.addEventListener("mousemove",function(j){a.visible=true;a.update(j)},false);this.graph.onUpdate(function(){a.update()});this.graph.element.addEventListener("mouseout",function(j){if(j.relatedTarget&&!(j.relatedTarget.compareDocumentPosition(a.graph.element)&Node.DOCUMENT_POSITION_CONTAINS)){a.hide()}},false);this.hide=function(){this.visible=false;this.element.classList.add("inactive")};this.show=function(){this.visible=true;this.element.classList.remove("inactive")};this.render=function(n,m,l,k){this.element.innerHTML="";this.element.style.left=h.x(n)+"px";var j=document.createElement("div");j.className="x_label";j.innerHTML=b(n);this.element.appendChild(j);var p=null;var o=function(r,q){return(r.value.y0+r.value.y)-(q.value.y0+q.value.y)};m.sort(o).forEach(function(t){var s=(g.constructor==Array)?g[m.indexOf(t)](t.value.y):g(t.value.y);var r=document.createElement("div");r.className="item";r.innerHTML=t.name+":&nbsp;"+s;r.style.top=h.y(t.value.y0+t.value.y)+"px";var u=h.y.magnitude.invert(h.element.offsetHeight-k);this.element.appendChild(r);var q=document.createElement("div");q.className="dot";q.style.top=r.style.top;this.element.appendChild(q);if(u>t.value.y0&&u<t.value.y0+t.value.y&&!p){p=r;r.className="item active";q.className="dot active"}},this);this.show()}};Rickshaw.namespace("Rickshaw.Graph.JSONP");Rickshaw.Graph.JSONP=function(b){var a=this;this.dataURL=b.dataURL;$.ajax({url:this.dataURL,dataType:"jsonp",success:function(h,e,f){if(e==="error"){console.log("error loading dataURL: "+this.dataURL)}if(typeof b.onData==="function"){var g=b.onData(h);h=g}if(b.series){b.series.forEach(function(k){var j=k.key||k.name;if(!j){throw"series needs a key or a name"}h.forEach(function(n){var m=n.key||n.name;if(!m){throw"data needs a key or a name"}if(j==m){var l=["color","name","data"];l.forEach(function(o){k[o]=k[o]||n[o]})}})})}else{b.series=h}a.graph=new Rickshaw.Graph(b);a.graph.render();if(typeof b.onComplete=="function"){b.onComplete(a)}}})};Rickshaw.namespace("Rickshaw.Graph.Legend");Rickshaw.Graph.Legend=function(b){var f=this.element=b.element;var h=this.graph=b.graph;var a=this;f.classList.add("rickshaw_legend");var g=this.list=document.createElement("ul");f.appendChild(g);var e=h.series.map(function(j){return j}).reverse();this.lines=[];this.addLine=function(l){var j=document.createElement("li");j.className="line";var m=document.createElement("div");m.className="swatch";m.style.backgroundColor=l.color;j.appendChild(m);var k=document.createElement("span");k.className="label";k.innerHTML=l.name;j.appendChild(k);g.appendChild(j);j.series=l;if(l.noLegend){j.style.display="none"}var n={element:j,series:l};if(a.shelving){a.shelving.addAnchor(n);a.shelving.updateBehaviour()}if(a.highlighter){a.highlighter.addHighlightEvents(n)}a.lines.push(n)};e.forEach(function(j){a.addLine(j)});h.onUpdate(function(){})};Rickshaw.namespace("Rickshaw.Graph.RangeSlider");Rickshaw.Graph.RangeSlider=function(a){var b=this.element=a.element;var e=this.graph=a.graph;$(function(){$(b).slider({range:true,min:e.dataDomain()[0],max:e.dataDomain()[1],values:[e.dataDomain()[0],e.dataDomain()[1],],slide:function(f,g){e.window.xMin=g.values[0];e.window.xMax=g.values[1];e.update();if(e.dataDomain()[0]==g.values[0]){e.window.xMin=undefined}if(e.dataDomain()[1]==g.values[1]){e.window.xMax=undefined}}})});b[0].style.width=e.width+"px";e.onUpdate(function(){var f=$(b).slider("option","values");$(b).slider("option","min",e.dataDomain()[0]);$(b).slider("option","max",e.dataDomain()[1]);if(e.window.xMin==undefined){f[0]=e.dataDomain()[0]}if(e.window.xMax==undefined){f[1]=e.dataDomain()[1]}$(b).slider("option","values",f)})};Rickshaw.namespace("Rickshaw.Graph.Renderer");Rickshaw.Graph.Renderer=Rickshaw.Class.create({name:undefined,tension:0.8,strokeWidth:2,unstack:true,padding:{top:0.025,right:0,bottom:0,left:0},stroke:false,fill:false,initialize:function(a){this.graph=a.graph;this.tension=a.tension||this.tension;this.graph.unstacker=this.graph.unstacker||new Rickshaw.Graph.Unstacker({graph:this.graph})},seriesPathFactory:function(){},seriesStrokeFactory:function(){},domain:function(){var b=[];var g=this.graph.stackedData||this.graph.stackData();var f=this.unstack?g:[g.slice(-1).shift()];f.forEach(function(k){k.forEach(function(l){b.push(l.y+l.y0)})});var e=g[0][0].x;var j=g[0][g[0].length-1].x;e-=(j-e)*(this.padding.left);j+=(j-e)*(this.padding.right);var a=(this.graph.min==="auto"?d3.min(b):this.graph.min||0);var h=this.graph.max||d3.max(b)*(1+this.padding.top);return{x:[e,j],y:[a,h]}},render:function(){var e=this.graph;e.vis.selectAll("*").remove();var a=e.vis.selectAll("path").data(this.graph.stackedData).enter().append("svg:path").attr("d",this.seriesPathFactory());var b=0;e.series.forEach(function(f){if(f.disabled){return}f.path=a[0][b++];this._styleSeries(f)},this)},_styleSeries:function(a){var e=this.fill?a.color:"none";var b=this.stroke?a.color:"none";a.path.setAttribute("fill",e);a.path.setAttribute("stroke",b);a.path.setAttribute("stroke-width",this.strokeWidth);a.path.setAttribute("class",a.className)},setStrokeWidth:function(a){if(a!==undefined){this.strokeWidth=a}},setTension:function(a){if(a!==undefined){this.tension=a}}});Rickshaw.namespace("Rickshaw.Graph.Renderer.Line");Rickshaw.Graph.Renderer.Line=Rickshaw.Class.create(Rickshaw.Graph.Renderer,{name:"line",unstack:true,fill:false,stroke:true,seriesPathFactory:function(){var a=this.graph;return d3.svg.line().x(function(b){return a.x(b.x)}).y(function(b){return a.y(b.y)}).interpolate(this.graph.interpolation).tension(this.tension)}});Rickshaw.namespace("Rickshaw.Graph.Renderer.Stack");Rickshaw.Graph.Renderer.Stack=Rickshaw.Class.create(Rickshaw.Graph.Renderer,{name:"stack",fill:true,stroke:false,unstack:false,seriesPathFactory:function(){var a=this.graph;return d3.svg.area().x(function(b){return a.x(b.x)}).y0(function(b){return a.y(b.y0)}).y1(function(b){return a.y(b.y+b.y0)}).interpolate(this.graph.interpolation).tension(this.tension)}});Rickshaw.namespace("Rickshaw.Graph.Renderer.Bar");Rickshaw.Graph.Renderer.Bar=Rickshaw.Class.create(Rickshaw.Graph.Renderer,{name:"bar",gapSize:0.05,unstack:false,initialize:function($super,a){a=a||{};this.gapSize=a.gapSize||this.gapSize;$super(a)},domain:function($super){this._barWidth=null;return $super()},barWidth:function(){if(this._barWidth){return this._barWidth}var f=this.graph.stackedData||this.graph.stackData();var h=f.slice(-1).shift();var g={};for(var e=0;e<h.length-1;e++){var a=h[e+1].x-h[e].x;g[a]=g[a]||0;g[a]++}var b={count:0};d3.keys(g).forEach(function(j){if(b.count<g[j]){b={count:g[j],magnitude:j}}});this._barWidth=this.graph.x(h[0].x+b.magnitude*(1-this.gapSize));return this._barWidth},render:function(){var f=this.graph;f.vis.selectAll("*").remove();var b=this.barWidth();var e=0;var g=f.series.filter(function(h){return !h.disabled}).length;var a=this.unstack?b/g:b;f.series.forEach(function(j){if(j.disabled){return}var h=f.vis.selectAll("path").data(j.stack).enter().append("svg:rect").attr("x",function(k){return f.x(k.x)+e}).attr("y",function(k){return f.y(k.y0+k.y)}).attr("width",a).attr("height",function(k){return f.y.magnitude(k.y)});Array.prototype.forEach.call(h[0],function(k){k.setAttribute("fill",j.color)});if(this.unstack){e+=a}},this)}});Rickshaw.namespace("Rickshaw.Graph.Renderer.Area");Rickshaw.Graph.Renderer.Area=Rickshaw.Class.create(Rickshaw.Graph.Renderer,{name:"area",unstack:false,seriesPathFactory:function(){var a=this.graph;return d3.svg.area().x(function(b){return a.x(b.x)}).y0(function(b){return a.y(b.y0)}).y1(function(b){return a.y(b.y+b.y0)}).interpolate(a.interpolation).tension(this.tension)},seriesStrokeFactory:function(){var a=this.graph;return d3.svg.line().x(function(b){return a.x(b.x)}).y(function(b){return a.y(b.y+b.y0)}).interpolate(a.interpolation).tension(this.tension)},render:function(){var e=this.graph;e.vis.selectAll("*").remove();var a=e.vis.selectAll("path").data(this.graph.stackedData).enter().insert("svg:g","g");a.append("svg:path").attr("d",this.seriesPathFactory()).attr("class","area");if(this.graph.stroke){a.append("svg:path").attr("d",this.seriesStrokeFactory()).attr("class","line")}var b=0;e.series.forEach(function(f){if(f.disabled){return}f.path=a[0][b++];this._styleSeries(f)},this)},_styleSeries:function(a){if(!a.path){return}d3.select(a.path).select(".area").attr("fill",a.color);if(this.graph.stroke){d3.select(a.path).select(".line").attr("fill","none").attr("stroke",a.stroke||d3.interpolateRgb(a.color,"black")(0.125)).attr("stroke-width",this.strokeWidth)}if(a.className){a.path.setAttribute("class",a.className)}}});Rickshaw.namespace("Rickshaw.Graph.Renderer.ScatterPlot");Rickshaw.Graph.Renderer.ScatterPlot=Rickshaw.Class.create(Rickshaw.Graph.Renderer,{name:"scatterplot",unstack:true,fill:true,stroke:false,padding:{top:0.025,right:0.025,bottom:0,left:0.025},initialize:function($super,a){$super(a);this.dotSize=a.dotSize||4},render:function(){var a=this.graph;a.vis.selectAll("*").remove();a.series.forEach(function(e){if(e.disabled){return}var b=a.vis.selectAll("path").data(e.stack).enter().append("svg:circle").attr("cx",function(f){return a.x(f.x)}).attr("cy",function(f){return a.y(f.y)}).attr("r",this.dotSize);Array.prototype.forEach.call(b[0],function(f){f.setAttribute("fill",e.color)})},this)}});Rickshaw.namespace("Rickshaw.Graph.Smoother");Rickshaw.Graph.Smoother=function(b){this.graph=b.graph;this.element=b.element;var a=this;this.aggregationScale=1;if(this.element){$(function(){$(a.element).slider({min:1,max:100,slide:function(e,f){a.setScale(f.value);a.graph.update()}})})}a.graph.stackData.hooks.data.push({name:"smoother",orderPosition:50,f:function(f){var e=[];f.forEach(function(k){var g=[];while(k.length){var j=0,h=0;var l=k.splice(0,a.aggregationScale);l.forEach(function(m){j+=m.x/l.length;h+=m.y/l.length});g.push({x:j,y:h})}e.push(g)});return e}});this.setScale=function(e){if(e<1){throw"scale out of range: "+e}this.aggregationScale=e;this.graph.update()}};Rickshaw.namespace("Rickshaw.Graph.Unstacker");Rickshaw.Graph.Unstacker=function(b){this.graph=b.graph;var a=this;this.graph.stackData.hooks.after.push({name:"unstacker",f:function(e){if(!a.graph.renderer.unstack){return e}e.forEach(function(f){f.forEach(function(g){g.y0=0})});return e}})};Rickshaw.namespace("Rickshaw.Series");Rickshaw.Series=Rickshaw.Class.create(Array,{initialize:function(e,a,b){b=b||{};this.palette=new Rickshaw.Color.Palette(a);this.timeBase=typeof(b.timeBase)==="undefined"?Math.floor(new Date().getTime()/1000):b.timeBase;if(e&&(typeof(e)=="object")&&(e instanceof Array)){e.forEach(function(f){this.addItem(f)},this)}},addItem:function(a){if(typeof(a.name)==="undefined"){throw ("addItem() needs a name")}a.color=(a.color||this.palette.color(a.name));a.data=(a.data||[]);if((a.data.length==0)&&this.length&&(this.getIndex()>0)){this[0].data.forEach(function(b){a.data.push({x:b.x,y:0})})}else{if(a.data.length==0){a.data.push({x:this.timeBase-(this.timeInterval||0),y:0})}}this.push(a);if(this.legend){this.legend.addLine(this.itemByName(a.name))}},addData:function(b){var a=this.getIndex();Rickshaw.keys(b).forEach(function(e){if(!this.itemByName(e)){this.addItem({name:e})}},this);this.forEach(function(e){e.data.push({x:(a*this.timeInterval||1)+this.timeBase,y:(b[e.name]||0)})},this)},getIndex:function(){return(this[0]&&this[0].data&&this[0].data.length)?this[0].data.length:0},itemByName:function(a){for(var b=0;b<this.length;b++){if(this[b].name==a){return this[b]}}},setTimeInterval:function(a){this.timeInterval=a/1000},setTimeBase:function(a){this.timeBase=a},dump:function(){var a={timeBase:this.timeBase,timeInterval:this.timeInterval,items:[],};this.forEach(function(e){var b={color:e.color,name:e.name,data:[]};e.data.forEach(function(f){b.data.push({x:f.x,y:f.y})});a.items.push(b)});return a},load:function(a){if(a.timeInterval){this.timeInterval=a.timeInterval}if(a.timeBase){this.timeBase=a.timeBase}if(a.items){a.items.forEach(function(b){this.push(b);if(this.legend){this.legend.addLine(this.itemByName(b.name))}},this)}}});Rickshaw.Series.zeroFill=function(e){var a;var b=0;var f=e.map(function(g){return g.data});while(b<Math.max.apply(null,f.map(function(g){return g.length}))){a=Math.min.apply(null,f.filter(function(g){return g[b]}).map(function(g){return g[b].x}));f.forEach(function(g){if(!g[b]||g[b].x!=a){g.splice(b,0,{x:a,y:0})}});b++}};Rickshaw.namespace("Rickshaw.Series.FixedDuration");Rickshaw.Series.FixedDuration=Rickshaw.Class.create(Rickshaw.Series,{initialize:function(f,a,b){var b=b||{};if(typeof(b.timeInterval)==="undefined"){throw new Error("FixedDuration series requires timeInterval")}if(typeof(b.maxDataPoints)==="undefined"){throw new Error("FixedDuration series requires maxDataPoints")}this.palette=new Rickshaw.Color.Palette(a);this.timeBase=typeof(b.timeBase)==="undefined"?Math.floor(new Date().getTime()/1000):b.timeBase;this.setTimeInterval(b.timeInterval);if(this[0]&&this[0].data&&this[0].data.length){this.currentSize=this[0].data.length;this.currentIndex=this[0].data.length}else{this.currentSize=0;this.currentIndex=0}this.maxDataPoints=b.maxDataPoints;if(f&&(typeof(f)=="object")&&(f instanceof Array)){f.forEach(function(g){this.addItem(g)},this);this.currentSize+=1;this.currentIndex+=1}this.timeBase-=(this.maxDataPoints-this.currentSize)*this.timeInterval;if((typeof(this.maxDataPoints)!=="undefined")&&(this.currentSize<this.maxDataPoints)){for(var e=this.maxDataPoints-this.currentSize-1;e>0;e--){this.currentSize+=1;this.currentIndex+=1;this.forEach(function(g){g.data.unshift({x:((e-1)*this.timeInterval||1)+this.timeBase,y:0,i:e})},this)}}},addData:function($super,a){$super(a);this.currentSize+=1;this.currentIndex+=1;if(this.maxDataPoints!==undefined){while(this.currentSize>this.maxDataPoints){this.dropData()}}},dropData:function(){this.forEach(function(a){a.data.splice(0,1)});this.currentSize-=1},getIndex:function(){return this.currentIndex}});Rickshaw.namespace("Rickshaw.Graph.Axis.X");Rickshaw.Graph.Axis.X=function(b){var a=this;this.graph=b.graph;this.elements=[];this.ticksTreatment=b.ticksTreatment||"plain";this.fixedTimeUnit=b.timeUnit;this.labels=b.labels;this.render=function(){this.elements.forEach(function(f){f.parentNode.removeChild(f)});this.elements=[];var e=this.labels;e.forEach(function(g,f){if(a.graph.x(f)>a.graph.x.range()[1]){return}var h=document.createElement("div");h.style.left=a.graph.x(f)+"px";h.classList.add("x_tick");h.classList.add(a.ticksTreatment);var j=document.createElement("div");if((f+1)!==e.length){j.classList.add("title");j.innerHTML=g;h.appendChild(j)}a.graph.element.appendChild(h);a.elements.push(h)})};this.graph.onUpdate(function(){a.render()})};Rickshaw.namespace("Rickshaw.Graph.MoPubHoverDetail");Rickshaw.Graph.MoPubHoverDetail=function(e){var h=this.graph=e.graph;var b=e.xFormatter||function(j){return new Date(j*1000).toUTCString()};var g=e.yFormatter||function(j){return j.toFixed(2)};var f=this.element=document.createElement("div");f.className="detail";this.visible=true;h.element.appendChild(f);var a=this;this.lastEvent=null;this.update=function(q){q=q||this.lastEvent;if(!q){return}this.lastEvent=q;if(q.target.nodeName!="path"&&q.target.nodeName!="svg"){return}var k=q.offsetX||q.layerX;var j=q.offsetY||q.layerY;var l=h.x.invert(k);var t=h.stackedData;var m=t.slice(-1).shift();var o=d3.scale.linear().domain([m[0].x,m.slice(-1).shift().x]).range([0,m.length]);var s=Math.floor(o(l));var r=s||0;for(var n=s;n<t[0].length-1;){if(t[0][n].x<=l&&t[0][n+1].x>l){r=n;break}if(t[0][n+1]<l){n++}else{n--}}l=t[0][r].x;var p=h.series.active().map(function(u){return{name:u.name,value:u.stack[r]}});if(this.visible){a.render.call(a,l,p,k,j)}};this.graph.element.addEventListener("mousemove",function(j){a.visible=true;a.update(j)},false);this.graph.onUpdate(function(){a.update()});this.graph.element.addEventListener("mouseout",function(j){if(j.relatedTarget&&!(j.relatedTarget.compareDocumentPosition(a.graph.element)&Node.DOCUMENT_POSITION_CONTAINS)){a.hide()}},false);this.hide=function(){this.visible=false;this.element.classList.add("inactive")};this.show=function(){this.visible=true;this.element.classList.remove("inactive")};this.render=function(n,m,l,k){this.element.innerHTML="";this.element.style.left=h.x(n)+"px";var j=document.createElement("div");j.className="x_label";j.innerHTML=b(n);this.element.appendChild(j);var p=null;var o=function(r,q){return(r.value.y0+r.value.y)-(q.value.y0+q.value.y)};m.sort(o).forEach(function(t){var s=(g.constructor==Array)?g[m.indexOf(t)](t.value.y):g(t.value.y);var r=document.createElement("div");r.className="item";r.innerHTML=t.name+":&nbsp;"+s;r.style.top=h.y(t.value.y0+t.value.y)+"px";var u=h.y.magnitude.invert(h.element.offsetHeight-k);var q=document.createElement("div");q.className="dot";q.style.top=r.style.top;this.element.appendChild(q);if(u>t.value.y0&&u<t.value.y0+t.value.y&&!p){p=r;r.className="item active";q.className="dot active"}},this);this.show()}};Rickshaw.namespace("Rickshaw.Graph.MultiGraphLegend");Rickshaw.Graph.Legend=function(e){var g=this.element=e.element;var b=this.graphs=e.graphs;var a=this;g.classList.add("rickshaw_legend");var h=this.list=document.createElement("ul");g.appendChild(h);var f=graph.series.map(function(j){return j}).reverse();this.lines=[];this.addLine=function(l){var j=document.createElement("li");j.className="line";var m=document.createElement("div");m.className="swatch";m.style.backgroundColor=l.color;j.appendChild(m);var k=document.createElement("span");k.className="label";k.innerHTML=l.name;j.appendChild(k);h.appendChild(j);j.series=l;if(l.noLegend){j.style.display="none"}var n={element:j,series:l};if(a.shelving){a.shelving.addAnchor(n);a.shelving.updateBehaviour()}if(a.highlighter){a.highlighter.addHighlightEvents(n)}a.lines.push(n)};f.forEach(function(j){a.addLine(j)});graph.onUpdate(function(){})};(function(a){a.fn.tokenInput=function(e,b){var f=a.extend({url:e,hintText:"Type in a search term",noResultsText:"No results",searchingText:"Searching...",searchDelay:300,minChars:1,tokenLimit:null,jsonContainer:null,method:"GET",contentType:"json",queryParam:"q",onResult:null,onAdd:null,onDelete:null,doImmediate:true,country:"US",featureClass:null,featureCode:null,maxRows:10},b);f.classes=a.extend({tokenList:"token-input-list",token:"token-input-token",tokenDelete:"token-input-delete-token",selectedToken:"token-input-selected-token",highlightedToken:"token-input-highlighted-token",dropdown:"token-input-dropdown",dropdownItem:"token-input-dropdown-item",dropdownItem2:"token-input-dropdown-item2",selectedDropdownItem:"token-input-selected-dropdown-item",inputToken:"token-input-input-token"},b.classes);return this.each(function(){var g=new a.TokenList(this,f)})};a.TokenData=function(g,h){var k=g;var b;var j;var e;var f;function m(){var n=k.lat+","+k.lng+":"+k.adminCode1+":"+k.name+":"+k.countryCode;return a('<input type="hidden" class="'+k.countryCode+'" name="cities" id="'+k.name.replace(/ /gi,"_")+'" value="'+n+'" />')}function l(){return a('<input type="hidden" name="geo_predicates" id="'+f+'" value="'+f+'" />')}if(h=="city"){b=k.name+", "+k.adminCode1;j=m;e=k.name}else{if(h=="country"){f=(k.data===undefined)?k.code:k.data.code;b=(k.data===undefined)?k.name:k.data.name;j=l;e=f}}return{name:b,input:j,raw:g,type:h,id:e}};a.TokenList=function(e,J){var y={BEFORE:0,AFTER:1,END:2};var G={BACKSPACE:8,TAB:9,RETURN:13,ESC:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,COMMA:188};var v=[];var p=0;var B=0;var m=new a.TokenList.Cache(J);var F;var q=a('<input class="token-input-field" type="text"  autocomplete="off">').css({outline:"none"}).focus(function(){if(J.tokenLimit===null||J.tokenLimit!=p){h()}a(this).addClass("focused");if(!l.hasClass("focused")){l.addClass("focused")}if(a(this).val()){setTimeout(function(){r(J.doImmediate)},5)}}).blur(function(){a(this).removeClass("focused");l.removeClass("focused");w()}).keydown(function(P){var R;var O;switch(P.keyCode){case G.LEFT:case G.RIGHT:case G.UP:case G.DOWN:if(!a(this).val()){R=j.prev();O=j.next();if((R.length&&R.get(0)===s)||(O.length&&O.get(0)===s)){if(P.keyCode==G.LEFT||P.keyCode==G.UP){x(a(s),y.BEFORE)}else{x(a(s),y.AFTER)}}else{if((P.keyCode==G.LEFT||P.keyCode==G.UP)&&R.length){K(a(R.get(0)))}else{if((P.keyCode==G.RIGHT||P.keyCode==G.DOWN)&&O.length){K(a(O.get(0)))}}}}else{var Q=null;if(P.keyCode==G.DOWN||P.keyCode==G.RIGHT){Q=a(D).next()}else{Q=a(D).prev()}if(Q.length){N(Q)}return false}break;case G.BACKSPACE:R=j.prev();if(!a(this).val().length){if(s){g(a(s))}else{if(R.length){K(a(R.get(0)))}}return false}else{if(a(this).val().length==1){w()}else{setTimeout(function(){r(J.doImmediate)},5)}}break;case G.TAB:case G.RETURN:case G.COMMA:if(D){z(a(D));return false}break;case G.ESC:w();return true;default:if(H(P.keyCode)){setTimeout(function(){r(J.doImmediate)},5)}break}});var u=a(e).hide().focus(function(){q.focus()}).blur(function(){q.blur()});var s=null;var D=null;var l=a("<ul />").addClass(J.classes.tokenList).insertBefore(u).click(function(P){a(this).addClass("focused");var O=A(P,"li");if(O&&O.get(0)!=j.get(0)){M(O);return false}else{q.focus();if(s){x(a(s),y.END)}}}).mouseover(function(P){var O=A(P,"li");if(O&&s!==this){O.addClass(J.classes.highlightedToken)}}).mouseout(function(P){var O=A(P,"li");if(O&&s!==this){O.removeClass(J.classes.highlightedToken)}}).mousedown(function(P){var O=A(P,"li");if(O){return false}});var L=a("<div>").addClass(J.classes.dropdown).insertAfter(l).hide();var j=a("<li />").addClass(J.classes.inputToken).appendTo(l).append(q);function E(){var O=a(".token-input-country").length;if(O>1){a(".token-input-city").each(function(Q){g(a(this))});a(".token-input-state").each(function(Q){g(a(this))});a('input[name="region_targeting"]').each(function(Q){if(a(this).val()!="all"){a(this).attr("disabled",true)}else{a(this).click()}})}else{a('input[name="region_targeting"]').each(function(Q){a(this).attr("disabled",false)})}var P=a("#geo_pred_ta").children().length;a(".countryNumDependent").hide();a(".countryNumDependent."+P).show()}function I(){var R=J.prePopulate.data;if(R&&R.length){for(var O in R){var P=new a.TokenData(R[O],J.prePopulate.type);var Q=a("<li><p>"+P.name+"</p> </li>").addClass(J.classes.token);if(P.type=="city"){Q.addClass("token-input-city").addClass(P.raw.countryCode)}else{if(P.type=="country"){Q.addClass("token-input-country")}}Q.insertBefore(j);a("<span>&times;</span>").addClass(J.classes.tokenDelete).appendTo(Q).click(function(){g(a(this).parent());return false});a.data(Q.get(0),"tokeninput",P);q.val("").focus();w();P.input().appendTo(u)}}q.blur()}I();E();function H(O){if((O>=48&&O<=90)||(O>=96&&O<=111)||(O>=186&&O<=192)||(O>=219&&O<=222)){return true}else{return false}}function A(O,P){return a(O.target).closest(P)}function f(O){var Q=O.name;var P;var R=a("<li><p>"+Q+"</p> </li>");if(O.type=="city"){R.addClass("token-input-city").addClass(O.raw.countryCode)}else{if(O.type=="country"){R.addClass("token-input-country")}}R.addClass(J.classes.token).insertBefore(j);a("<span>x</span>").addClass(J.classes.tokenDelete).appendTo(R).click(function(){g(a(this).parent());return false});a.data(R.get(0),"tokeninput",O);return R}function z(O){E();var R=a.data(O.get(0),"tokeninput");var Q=f(R);var P=J.onAdd;q.val("").focus();w();R.input().appendTo(u);p++;B++;if(J.tokenLimit!==null&&p>=J.tokenLimit){q.hide();w()}if(a.isFunction(P)){P(R.id)}E()}function K(O){O.addClass(J.classes.selectedToken);s=O.get(0);q.val("");w()}function x(P,O){P.removeClass(J.classes.selectedToken);s=null;if(O==y.BEFORE){j.insertBefore(P)}else{if(O==y.AFTER){j.insertAfter(P)}else{j.appendTo(l)}}q.focus()}function M(O){if(s==O.get(0)){x(O,y.END)}else{if(s){x(a(s),y.END)}K(O)}}function g(P){var Q=a.data(P.get(0),"tokeninput");var S=J.onDelete;P.remove();s=null;q.focus();if(Q===undefined){return}var O=Q.id.replace(/ /gi,"_");var R=Q.name.replace(/ /gi,"_");a("#"+O).remove();a("#"+R).remove();if(Q.type=="country"){a("li."+Q.id+".token-input-city").each(function(T){g(a(this))})}p--;if(a(".token-input-country").length===0){a("#advertiser-LocationSpec-all").click()}if(J.tokenLimit!==null){q.show().val("").focus()}if(a.isFunction(S)){S(Q.id)}E()}function w(){L.hide().empty();D=null}function k(){L.html("<p>"+J.searchingText+"</p>").show()}function h(){L.html("<p>"+J.hintText+"</p>").show()}function o(Q,O){var P=Q.replace(new RegExp("(?![^&;]+;)(?!<[^<>]*)("+O+")(?![^<>]*>)(?![^&;]+;)","gi"),"<b>$1</b>");return P}var t=false;function C(V,S){var W=S.type;S=S.data;if(S&&S.length){var O=L.clone();O.empty();var Q=a("<ul>").appendTo(O).mouseover(function(X){N(A(X,"li"))}).mousedown(function(X){z(A(X,"li"));return false});if(!t){Q.hide()}var P;for(var T in S){if(S.hasOwnProperty(T)){var U=new a.TokenData(S[T],W);var R=a("<li>"+o(U.name,V)+"</li>").appendTo(Q);if(T%2){R.addClass(J.classes.dropdownItem)}else{R.addClass(J.classes.dropdownItem2)}if(T==0){N(R)}a.data(R.get(0),"tokeninput",U)}}L.replaceWith(O);L=O;L.show();if(!t){t=true;Q.slideDown("fast")}}else{t=false;L.html("<p>"+J.noResultsText+"</p>").show()}}function N(O){if(O){if(D){b(a(D))}O.addClass(J.classes.selectedDropdownItem);D=O.get(0)}}function b(O){O.removeClass(J.classes.selectedDropdownItem);D=null}function r(O){var P=q.val().toLowerCase();if(P&&P.length){if(s){x(a(s),y.AFTER)}if(P.length>=J.minChars){k();if(O){n(P)}else{clearTimeout(F);F=setTimeout(function(){n(P)},J.searchDelay)}}else{if(P.length>0){h()}else{w()}}}}function n(R){R=q.val().toLowerCase();var P=m.get(R);if(P){var Q={type:"country",data:P};C(R,Q)}else{var T=J.url.indexOf("?")<0?"?":"&";var S=function(V){if(a.isFunction(J.onResult)){V=J.onResult.call(this,V)}m.add(R,J.jsonContainer?V[J.jsonContainer]:V);var U={type:J.type,data:V.geonames};C(R,U)};if(J.method=="POST"){a.post(J.url+T+J.queryParam+"="+encodeURIComponent(R),{},S,J.contentType)}else{var O=J.url+T+J.queryParam+"="+encodeURIComponent(R);if(J.featureClass!==null){O+="&featureClass="+encodeURIComponent(J.featureClass)}if(J.featureCode!==null){O+="&featureCode="+encodeURIComponent(J.featureCode)}O+="&country=";if(a('input[name="geo_predicates"]').val()!==undefined){O+=encodeURIComponent(a('input[name="geo_predicates"]').val())}else{O+=encodeURIComponent(J.country)}O+="&maxRows="+J.maxRows;a.get(O,{},S,J.contentType)}}}};a.TokenList.Cache=function(o){var f=a.extend({max_size:50,matchContains:true},o);function j(r,q){if(!o.matchCase){r=r.toLowerCase()}var p=r.indexOf(q);if(p==-1){return false}return p===0||o.matchContains}var g={};var n=0;var l=function(){g={};n=0};function k(p){function q(s,r){return b(p,s.value)-b(p,r.value)}return q}function b(q,p){return p.length-q.length}function e(t){if(!o.cacheLength||!n){return null}if(!o.url&&f.matchContains){var s=[];for(var p in g){if(p.length>0){var u=g[p];a.each(u,function(w,v){if(j(v.value,t)){var z=true;for(var q in s){var y=s[q];if(v.result==y.result){z=false;break}}if(z){s.push(v)}}})}}return s.sort(k(t))}else{if(g[t]){return g[t]}else{if(f.matchSubset){for(var r=t.length-1;r>=1;r--){var u=g[t.substr(0,r)];if(u){var s=[];a.each(u,function(v,q){if(j(q.value,t)){s[s.length]=q}});return s}}}}}return null}function h(){if(!o.data){return false}var u={},q=0;if(!o.url){o.cacheLength=1}u[""]=[];for(var s=0,t=o.data.length;s<t;s++){var p=o.data[s];p=(typeof p=="string")?[p]:p;var x=o.formatMatch(p,s+1,o.data.length);for(var r=0;r<x.length;r++){var v=x[r];if(v===false){continue}var w=v.charAt(0).toLowerCase();if(!u[w]){u[w]=[]}var y={value:v,data:p,result:o.formatResult&&o.formatResult(p)||v};u[w].push(y);if(q++<o.max){u[""].push(y)}}}a.each(u,function(z,A){o.cacheLength++;m(z,A)})}setTimeout(h,25);function m(q,p){if(n>f.max_size){l()}if(!g[q]){n++}g[q]=p}return{flush:l,get:e,populate:h,add:m}}})(jQuery);