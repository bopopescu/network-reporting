{% extends "publisher/base.html" %}

{% load filters %}

{% block content %}
	<h3>
		<a href="{% url publisher_index %}">Apps</a> &gt; 
		<a href="{% url publisher_app_show %}?id={{site.app_key.key}}">{{site.app_key.name}}</a> &gt; 
		<a href="{% url publisher_show %}?id={{site.key}}">{{site.name}}</a> &gt;		
		Code Snippet
	</h3>
	
	<h4>Instructions</h4>
	<ol>
		<li>	
			<p>
				You will need to install the MoPub SDK first. If you have not done so,
				see the <a href="http://code.google.com/p/mopub/wiki/GettingStarted">MoPub Getting Started instructions</a> on Google Code.
			</p>
		</li>
{% ifequal site.app_key.app_type "iphone" %}
			<li>
			<p>
				Add the following code to your view's <code>viewDidLoad</code> method (or another suitable place):  
			</p>
	
		<code>
			<pre style="border: 1px solid #aaa; width: 750px; padding: 10px; background-color: #f8f8f8;">
 AdController* adC = [[AdController alloc] initWithFormat:AdControllerFormat320x50 
                                                 adUnitId:@"<b>{{site.key}}</b>" 
                                     parentViewController:self];
 adC.keywords = @"<i>keywords</i>";	// optional keywords
 [self.view addSubview:adC.view];			</pre>
		</code>
			<p></p>
			</li>
{% endifequal %}
{% ifequal site.app_key.app_type "android" %}
			<li>
			<p>
				Add the following XML block to your layout definition (eg. main.xml):
			</p>
		<code>
			<pre style="border: 1px solid #aaa; width: 750px; padding: 10px; background-color: #f8f8f8;">
&lt;com.mopub.mobileads.MoPubView
  android:id="@+id/adview"
  android:layout_width="fill_parent"
  android:layout_height="50px"/&gt;</pre>
		</code>
			<li>
			<p>
				Add the following code snippet in your Activity's onCreate() instance (or another suitable place):
			</p>
		<code>
			<pre style="border: 1px solid #aaa; width: 750px; padding: 10px; background-color: #f8f8f8;">
MoPubView mpv = (MoPubView) findViewById(R.id.adview);
mpv.setAdUnitId("{{site.key}}");
mpv.loadAd();</pre>
		</code>
			<p></p>
			</li>
{% endifequal %}
		<li>
			For more options, or if you have trouble, see the <a href="http://code.google.com/p/mopub/">MoPub Google Code project</a>.
		</li>
	</ol>

	<form method="get" action="{% url publisher_app_show %}">
		<input type="hidden" name="id" value="{{site.app_key.key}}"/>
		<p>
      <button type="submit" class="btn"><span><span>Finish Integration</span></span></button>&nbsp;&nbsp;&nbsp;
		</p>
	</form>
	
{% endblock %}
