{% extends 'base.html' %}
{% load filters %}
{% block navLinks %}
            <li><a href="{% url publisher_index %}">Dashboard</a></li>
            <li class="active"><a href="{% url advertiser_campaign %}">Campaigns</a></li>
            <li><a href="{% url reports_index %}">Reports</a></li>
{% endblock navLinks %}
{% block messageCenter %}{% endblock messageCenter %}

{% block titleBarRight %}
<span class="titlebar-link">
  <a class="linkIcon" href="{% url publisher_index_geo %}">Performance by region <span class="ui-icon ui-icon-triangle-1-e"></span></a>
</span>
{% endblock titleBarRight %}

{% block content %}
<table width=100%>
    <thead>
        <th>APP NAME</th>
        <th>AD NETWORK NAME</th>
        <th>REVENUE</th>
        <th>ATTEMPTS</th>
        <th>IMPRESSIONS</th>
        <th>FILLRATE</th>
        <th>CLICKS</th>
        <th>CTR</th>
    </thead>
    <tbody>
        {% for key, mapper, stats in aggregate_stats %}
        <tr>
            <td class="name">{{mapper.application.name}}</td>
            <td class="name"><a href='/ad_network_reports/app_view/{{key}}'>{{mapper.ad_network_name}}</a></td>
            <td class="revenue dataTable-data numeric">{{stats.revenue}}</td>
            <td class="attempts dataTable-data numeric">{{stats.attempts}}</td>
            <td class="impressions dataTable-data numeric">{{stats.impressions}}</td>
            <td class="fill_rate dataTable-data numeric">{{stats.fill_rate}}</td>
            <td class="clicks dataTable-data numeric">{{stats.clicks}}</td>
            <td class="click dataTable-data numeric">{{stats.ctr}}</td>
        </tr>
        {% endfor %}
    </tbody>
</table>

<a href='/ad_network_reports/add'>Set up ad network reporting</a>

{% endblock content %}