{% extends "advertiser/base.html" %}
{% load filters %}
{% load elements %}

{% block dateButtons %}{% endblock dateButtons %}

{% block content %}

  <ul class="tabs">
    <li class="active">
      <a href="#orders"> Orders </a>
    </li>
    <li>
      <a href="#line_items"> Line Items </a>
    </li>
  </ul>


  {% comment %}
    Order Tab
  {% endcomment %}
  <div class="active tab-section" id="orders">

    {# Order activity controls #}
    <div class="left">
      <div class="btn-group">
        <button class="btn status_change" data-toggle="pause">
          {% button_icon "pause" %}
          Pause
        </button>
        <button class="btn status_change" data-toggle="play">
          {% button_icon "play" %}
          Resume
        </button>
        <button class="btn status_change" data-toggle="archive">
          {% button_icon "inbox" %}
          Archive
        </button>
      </div>
    </div>
    <div class="right">
      <div class="btn-group">
        <a class="btn" href='{% url advertiser_order_and_line_item_form_new %}'>
          {% button_icon "plus" %}
          Add a new order
        </a>
      </div>
    </div>

    {% order_table orders %}

    <br />

    <div class="right">
      <div class="btn-group">
        <a class="btn" href="#"> <i class="icon-download-alt"></i> Export</a>
        <a class="btn dropdown-toggle" data-toggle="dropdown" href="#">
          <span class="caret"></span>
        </a>
        <ul class="dropdown-menu">
          <li> <a href="{% url advertiser_export_multiple_orders %}?type=xls"
                  data-toggle="running"> Excel XLS </a> </li>
          <li> <a href="{% url advertiser_export_multiple_orders %}?type=xlsx"
                  data-toggle="running"> Excel XLSX </a> </li>
          <li> <a href="{% url advertiser_export_multiple_orders %}?type=ods"
                  data-toggle="running"> OpenOffice Spreadsheet </a> </li>
          <li> <a href="{% url advertiser_export_multiple_orders %}?type=csv"
                  data-toggle="running"> CSV </a> </li>
          <li> <a href="{% url advertiser_export_multiple_orders %}?type=tsv"
                  data-toggle="running"> TSV </a> </li>
          <li> <a href="{% url advertiser_export_multiple_orders %}?type=yaml"
                  data-toggle="running"> YAML </a> </li>
          <li> <a href="{% url advertiser_export_multiple_orders %}?type=json"
                  data-toggle="running"> JSON </a> </li>
        </ul>
      </div>
    </div>

  </div>


  {% comment %}
    Line Items Tab
  {% endcomment %}
  <div class="tab-section" id="line_items">

    {# Line item activity controls #}
    <div class="left btn-group">
      <a class="btn status_change" data-toggle="pause">
        <i class="icon-pause"></i> Pause
      </a>
      <a class="btn status_change" data-toggle="play">
        <i class="icon-play"></i> Resume
      </a>

      <a class="btn status_change" data-toggle="archive">
        <i class="icon-inbox"></i> Archive
      </a>
    </div>

    <div class="right">
      <div class="btn-group">
        <a class="btn" href='{% url advertiser_order_and_line_item_form_new %}'>
          {% button_icon "plus" %}
          Add a new order
        </a>
      </div>
      {% filter_buttons %}
    </div>
    {% line_item_table line_items %}

    <br />

    <div class="right">
      <div class="btn-group">
        <a class="btn" href="#"> <i class="icon-download-alt"></i> Export</a>
        <a class="btn dropdown-toggle" data-toggle="dropdown" href="#">
          <span class="caret"></span>
        </a>
        <ul class="dropdown-menu">
          <li> <a href="{% url advertiser_export_multiple_line_items %}?type=xls"
                  data-toggle="running"> Excel XLS </a> </li>
          <li> <a href="{% url advertiser_export_multiple_line_items %}?type=xlsx"
                  data-toggle="running"> Excel XLSX </a> </li>
          <li> <a href="{% url advertiser_export_multiple_line_items %}?type=ods"
                  data-toggle="running"> OpenOffice Spreadsheet </a> </li>
          <li> <a href="{% url advertiser_export_multiple_line_items %}?type=csv"
                  data-toggle="running"> CSV </a> </li>
          <li> <a href="{% url advertiser_export_multiple_line_items %}?type=tsv"
                  data-toggle="running"> TSV </a> </li>
          <li> <a href="{% url advertiser_export_multiple_line_items %}?type=yaml"
                  data-toggle="running"> YAML </a> </li>
          <li> <a href="{% url advertiser_export_multiple_line_items %}?type=json"
                  data-toggle="running"> JSON </a> </li>
        </ul>
      </div>
    </div>
  </div>

{% endblock content %}

{% block extraScripts %}

  {% include_template "popover" %}
  {% include_script "models/inventory" %}
  {% include_script "views/inventory" %}
  {% include_script "controllers/orders" %}
  
  <script type="text/javascript">
    $(function() {
        var OrdersController = mopub.Controllers.OrdersController;
        OrdersController.initializeIndex({});
    });
  </script>
{% endblock extraScripts %}
