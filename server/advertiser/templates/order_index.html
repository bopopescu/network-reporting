{% extends "advertiser/base.html" %}
{% load filters %}
{% load elements %}

{% block dateButtons %}{% endblock dateButtons %}

{% block content %}

  <div class="rollup">
    <table width=100% style='text-align:center; font-size:18px; font-weight:400;'>
      <thead>
        <tr style="border:none;">
          <th width=25%>Impressions</th>
          <th width=25%>Clicks</th>
          <th width=25%>CTR</th>
          <th width=25%>Conversions</th>
        </tr>
      </thead>
      <tbody>
        <tr style="border:none;">
          {% if totals %}
            <td> {{ totals.impressions|withsep|default_if_none:"0"|withsep }} </td>
            <td> {{ totals.clicks|withsep|default_if_none:"0" }} </td>
            <td> {{ totals.ctr|percentage|default_if_none:"0.0%" }} </td>
            <td> {{ totals.conversions|withsep|default_if_none:"0" }} </td>
          {% else %}
            <td> 0 </td>
            <td> 0 </td>
            <td> 0.0% </td>
            <td> 0 </td>
          {% endif %}
        </tr>
      </tbody>
    </table>
  </div>


  {# Filters #}

      {# Order activity controls #}
  <div class="left btn-group">
    <button class="btn status_change" data-toggle="pause">
      <i class="icon-pause"></i> Pause
    </button>
    <button class="btn status_change" data-toggle="play">
      <i class="icon-play"></i> Resume
    </button>
    <button class="btn status_change" data-toggle="archive">
      <i class="icon-inbox"></i> Archive
    </button>
  </div>
  
  <div class="right">
    <button id="archive-button" class="btn state-hide">
      <span class="button-text-icon">
        <i class="icon-eye-open"></i> Show
      </span>
      <span class="button-text-icon hidden">
        <i class="icon-eye-close"></i> Hide
      </span>
      Archived
    </button>
  </div>

  
  {% comment %}
    Unfortunately we can't use kwargs (yet), so keywords are all
    just True/False switches. Here's what the args mean.
    1. a list of (or single) order(s)
    2. show order-level controls
    3. display the line items for each order
    4. for each line item, display line-item level controls.

    Controls are just a check box and a status icon. 
  {% endcomment %}
  {% order_table orders True False False %}

    
{% endblock content %}

{% block extraScripts %}
  {% include_script "models/inventory" %}
  {% include_script "views/inventory" %}
  {% include_script "controllers/orders" %}
  <script type="text/javascript">
    $(function() {
        var OrdersController = mopub.Controllers.OrdersController;
        OrdersController.initializeIndex({});
    });
  </script>
{% endblock extraScripts %}
