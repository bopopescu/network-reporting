{% extends 'common/base.html' %}
{% load filters %}

{% block navLinks %}
  <li><a href="{% url app_index %}">Dashboard</a></li>
  <li><a href="{% url advertiser_order_index %}">Orders</a></li>
  <li><a href="{% url marketplace_index %}">Marketplace</a></li>
  <li class="active"><a href="{% url network_index %}">Networks</a></li>
{% endblock navLinks %}

{% block pageTitle %}<h1><a href="{% url ad_network_reports_index %}"> Ad Network Reporting </a> / Settings</h1>{% endblock pageTitle %}

{% block titleBarRight %}{% endblock titleBarRight %}
{% block dateButtons %}{% endblock dateButtons %}


{% block content %}

  <form id="loginCredentials">
    <div id="error"> {{error}} </div>
    <dl class="formFields clearfix">
      <dt> Ad Network </dt>
      <dd>
        <select name="ad_network_name" id="ad_network_selector">
          {% for network in ad_network_names %}
            <option value="{{network}}"> {{network}} </option>
          {% endfor %}
        </select>
      </dd>

      {% for form in forms %}

        <div id="{{form.ad_network}}-fields" class="network_form">


          {% ifequal form.ad_network "inmobi" %}
            <dt> InMobi Access ID </dt>
                        <dd>
                          <input type="text" name="{{form.ad_network}}-username" id="id_username" class=" input-text" value=""> {{form.username.errors}}
              <a href="#" class="whatsthis" id="inmobi-access-helpLink"> What's This? </a>
            </dd>

            <dt> InMobi Secret Key </dt>
            <dd>
              <input type="password" name="{{form.ad_network}}-password"  id="id_password" class=" input-text" value="">  {{form.password.errors}}
               <a href="#" class="whatsthis" id="inmobi-secret-helpLink"> What's This? </a>
            </dd>

          {% else %}
            <dt> Username </dt>
            <dd> <input type="text" name="{{form.ad_network}}-username" id="id_username" class=" input-text" value=""> {{form.username.errors}}</dd>

            <dt> Password</dt>
            <dd> <input type="password" name="{{form.ad_network}}-password"  id="id_password" class=" input-text" value="">  {{form.password.errors}}</dd>
          {% endifequal %}


          {% if form.ad_network == "admob" %}
            <dt> Client ID </dt>
            <dd> {{form.client_key}} </dd>
          {% endif %}


          <dt><input name="email" type="checkbox" /> </dt>
          <dd> Send me daily emails with my network stats </dd>

        </div>
      {% endfor %}

      <input class="right button" type="submit" value="Submit" />
    </dl>
  </form>


  {# What's This? content #}

  <div class="hidden" id="inmobi-access-helpContent">
    To access publisher reports from InMobi, you will need to request an Access ID
    and a Secret Key from their help desk. To do this, send a request to
    <a href="mailto:helpdesk@inmobi.com"> helpdesk@inmobi.com </a> with "Enable Publisher
    Reports" as the subject line along with your username/email. InMobi will then assign
    you a new Access ID and Secret Key, which you can enter here.
  </div>

  <div class="hidden" id="inmobi-secret-helpContent">
        To access publisher reports from InMobi, you will need to request an Access ID
    and a Secret Key from their help desk. To do this, send a request to
    <a href="mailto:helpdesk@inmobi.com"> helpdesk@inmobi.com </a> with "Enable Publisher
    Reports" as the subject line along with your username/email. InMobi will then assign
    you a new Access ID and Secret Key, which you can enter here.
  </div>

{% endblock content %}


{% block extraScripts %}
  <script src='/js/controllers/ad_network_reports.js'></script>
  <script type="text/javascript">
    $(function () {
         {% if management_mode %}
       var management_mode = true;
    {% else %}
       var management_mode = false;
    {%endif%}
    account_key = '{{ account_key }}';
    AdNetworkReportsController.initializeCredentialsPage(management_mode, account_key);

    });
     </script>
{% endblock extraScripts %}
