(function(){function Y(b,n,m){if(b===n){return b!==0||1/b==1/n}if(b==null){return b===n}var l=typeof b;if(l!=typeof n){return false}if(!b!=!n){return false}if(ai.isNaN(b)){return ai.isNaN(n)}var k=ai.isString(b),j=ai.isString(n);if(k||j){return k&&j&&String(b)==String(n)}k=ai.isNumber(b);j=ai.isNumber(n);if(k||j){return k&&j&&+b==+n}k=ai.isBoolean(b);j=ai.isBoolean(n);if(k||j){return k&&j&&+b==+n}k=ai.isDate(b);j=ai.isDate(n);if(k||j){return k&&j&&b.getTime()==n.getTime()}k=ai.isRegExp(b);j=ai.isRegExp(n);if(k||j){return k&&j&&b.source==n.source&&b.global==n.global&&b.multiline==n.multiline&&b.ignoreCase==n.ignoreCase}if(l!="object"){return false}if(b._chain){b=b._wrapped}if(n._chain){n=n._wrapped}if(ai.isFunction(b.isEqual)){return b.isEqual(n)}for(l=m.length;l--;){if(m[l]==b){return true}}m.push(b);l=0;k=true;if(b.length===+b.length||n.length===+n.length){if(l=b.length,k=l==n.length){for(;l--;){if(!(k=l in b==l in n&&Y(b[l],n[l],m))){break}}}}else{for(var i in b){if(ae.call(b,i)&&(l++,!(k=ae.call(n,i)&&Y(b[i],n[i],m)))){break}}if(k){for(i in n){if(ae.call(n,i)&&!l--){break}}k=!l}}m.pop();return k}var W=this,P=W._,ac={},af=Array.prototype,ab=Object.prototype,ah=af.slice,N=af.unshift,Q=ab.toString,ae=ab.hasOwnProperty,O=af.forEach,M=af.map,K=af.reduce,g=af.reduceRight,e=af.filter,aa=af.every,X=af.some,Z=af.indexOf,V=af.lastIndexOf,ab=Array.isArray,L=Object.keys,U=Function.prototype.bind,ai=function(b){return new ad(b)};typeof module!=="undefined"&&module.exports?(module.exports=ai,ai._=ai):W._=ai;ai.VERSION="1.2.0";var ag=ai.each=ai.forEach=function(j,m,i){if(j!=null){if(O&&j.forEach===O){j.forEach(m,i)}else{if(j.length===+j.length){for(var l=0,k=j.length;l<k;l++){if(l in j&&m.call(i,j[l],l,j)===ac){break}}}else{for(l in j){if(ae.call(j,l)&&m.call(i,j[l],l,j)===ac){break}}}}}};ai.map=function(j,l,i){var k=[];if(j==null){return k}if(M&&j.map===M){return j.map(l,i)}ag(j,function(b,n,m){k[k.length]=l.call(i,b,n,m)});return k};ai.reduce=ai.foldl=ai.inject=function(b,l,k,j){var i=k!==void 0;b==null&&(b=[]);if(K&&b.reduce===K){return j&&(l=ai.bind(l,j)),i?b.reduce(l,k):b.reduce(l)}ag(b,function(n,m,o){i?k=l.call(j,k,n,m,o):(k=n,i=true)});if(!i){throw new TypeError("Reduce of empty array with no initial value")}return k};ai.reduceRight=ai.foldr=function(b,k,j,i){b==null&&(b=[]);if(g&&b.reduceRight===g){return i&&(k=ai.bind(k,i)),j!==void 0?b.reduceRight(k,j):b.reduceRight(k)}b=(ai.isArray(b)?b.slice():ai.toArray(b)).reverse();return ai.reduce(b,k,j,i)};ai.find=ai.detect=function(j,l,i){var k;T(j,function(b,n,m){if(l.call(i,b,n,m)){return k=b,true}});return k};ai.filter=ai.select=function(j,l,i){var k=[];if(j==null){return k}if(e&&j.filter===e){return j.filter(l,i)}ag(j,function(b,n,m){l.call(i,b,n,m)&&(k[k.length]=b)});return k};ai.reject=function(j,l,i){var k=[];if(j==null){return k}ag(j,function(b,n,m){l.call(i,b,n,m)||(k[k.length]=b)});return k};ai.every=ai.all=function(j,l,i){var k=true;if(j==null){return k}if(aa&&j.every===aa){return j.every(l,i)}ag(j,function(b,n,m){if(!(k=k&&l.call(i,b,n,m))){return ac}});return k};var T=ai.some=ai.any=function(b,k,j){var k=k||ai.identity,i=false;if(b==null){return i}if(X&&b.some===X){return b.some(k,j)}ag(b,function(m,l,n){if(i|=k.call(j,m,l,n)){return ac}});return !!i};ai.include=ai.contains=function(j,k){var i=false;if(j==null){return i}if(Z&&j.indexOf===Z){return j.indexOf(k)!=-1}T(j,function(b){if(i=b===k){return true}});return i};ai.invoke=function(b,j){var i=ah.call(arguments,2);return ai.map(b,function(k){return(j.call?j||k:k[j]).apply(k,i)})};ai.pluck=function(b,i){return ai.map(b,function(j){return j[i]})};ai.max=function(b,k,j){if(!k&&ai.isArray(b)){return Math.max.apply(Math,b)}if(!k&&ai.isEmpty(b)){return -Infinity}var i={computed:-Infinity};ag(b,function(m,l,n){l=k?k.call(j,m,l,n):m;l>=i.computed&&(i={value:m,computed:l})});return i.value};ai.min=function(b,k,j){if(!k&&ai.isArray(b)){return Math.min.apply(Math,b)}if(!k&&ai.isEmpty(b)){return Infinity}var i={computed:Infinity};ag(b,function(m,l,n){l=k?k.call(j,m,l,n):m;l<i.computed&&(i={value:m,computed:l})});return i.value};ai.shuffle=function(j){var k=[],i;ag(j,function(b,l){l==0?k[0]=b:(i=Math.floor(Math.random()*(l+1)),k[l]=k[i],k[i]=b)});return k};ai.sortBy=function(b,j,i){return ai.pluck(ai.map(b,function(l,k,m){return{value:l,criteria:j.call(i,l,k,m)}}).sort(function(l,k){var n=l.criteria,m=k.criteria;return n<m?-1:n>m?1:0}),"value")};ai.groupBy=function(j,i){var k={};ag(j,function(b,m){var l=i(b,m);(k[l]||(k[l]=[])).push(b)});return k};ai.sortedIndex=function(b,m,l){l||(l=ai.identity);for(var k=0,j=b.length;k<j;){var i=k+j>>1;l(b[i])<l(m)?k=i+1:j=i}return k};ai.toArray=function(b){return !b?[]:b.toArray?b.toArray():ai.isArray(b)?ah.call(b):ai.isArguments(b)?ah.call(b):ai.values(b)};ai.size=function(b){return ai.toArray(b).length};ai.first=ai.head=function(j,i,k){return i!=null&&!k?ah.call(j,0,i):j[0]};ai.initial=function(j,i,k){return ah.call(j,0,j.length-(i==null||k?1:i))};ai.last=function(j,i,k){return i!=null&&!k?ah.call(j,j.length-i):j[j.length-1]};ai.rest=ai.tail=function(j,i,k){return ah.call(j,i==null||k?1:i)};ai.compact=function(b){return ai.filter(b,function(i){return !!i})};ai.flatten=function(b){return ai.reduce(b,function(i,j){if(ai.isArray(j)){return i.concat(ai.flatten(j))}i[i.length]=j;return i},[])};ai.without=function(b){return ai.difference(b,ah.call(arguments,1))};ai.uniq=ai.unique=function(b,k,j){var j=j?ai.map(b,j):b,i=[];ai.reduce(j,function(n,m,l){if(0==l||(k===true?ai.last(n)!=m:!ai.include(n,m))){n[n.length]=m,i[i.length]=b[l]}return n},[]);return i};ai.union=function(){return ai.uniq(ai.flatten(arguments))};ai.intersection=ai.intersect=function(b){var i=ah.call(arguments,1);return ai.filter(ai.uniq(b),function(j){return ai.every(i,function(k){return ai.indexOf(k,j)>=0})})};ai.difference=function(b,i){return ai.filter(b,function(j){return !ai.include(i,j)})};ai.zip=function(){for(var b=ah.call(arguments),k=ai.max(ai.pluck(b,"length")),j=Array(k),i=0;i<k;i++){j[i]=ai.pluck(b,""+i)}return j};ai.indexOf=function(b,k,j){if(b==null){return -1}var i;if(j){return j=ai.sortedIndex(b,k),b[j]===k?j:-1}if(Z&&b.indexOf===Z){return b.indexOf(k)}for(j=0,i=b.length;j<i;j++){if(b[j]===k){return j}}return -1};ai.lastIndexOf=function(j,i){if(j==null){return -1}if(V&&j.lastIndexOf===V){return j.lastIndexOf(i)}for(var k=j.length;k--;){if(j[k]===i){return k}}return -1};ai.range=function(j,i,n){arguments.length<=1&&(i=j||0,j=0);for(var n=arguments[2]||1,m=Math.max(Math.ceil((i-j)/n),0),l=0,k=Array(m);l<m;){k[l++]=j,j+=n}return k};ai.bind=function(j,i){if(j.bind===U&&U){return U.apply(j,ah.call(arguments,1))}var k=ah.call(arguments,2);return function(){return j.apply(i,k.concat(ah.call(arguments)))}};ai.bindAll=function(b){var i=ah.call(arguments,1);i.length==0&&(i=ai.functions(b));ag(i,function(j){b[j]=ai.bind(b[j],b)});return b};ai.memoize=function(b,j){var i={};j||(j=ai.identity);return function(){var k=j.apply(this,arguments);return ae.call(i,k)?i[k]:i[k]=b.apply(this,arguments)}};ai.delay=function(j,i){var k=ah.call(arguments,2);return setTimeout(function(){return j.apply(j,k)},i)};ai.defer=function(b){return ai.delay.apply(ai,[b,1].concat(ah.call(arguments,1)))};var S=function(j,i,l){var k;return function(){var n=this,m=arguments,b=function(){k=null;j.apply(n,m)};l&&clearTimeout(k);if(l||!k){k=setTimeout(b,i)}}};ai.throttle=function(j,i){return S(j,i,false)};ai.debounce=function(j,i){return S(j,i,true)};ai.once=function(j){var i=false,k;return function(){if(i){return k}i=true;return k=j.apply(this,arguments)}};ai.wrap=function(j,i){return function(){var b=[j].concat(ah.call(arguments));return i.apply(this,b)}};ai.compose=function(){var b=ah.call(arguments);return function(){for(var i=ah.call(arguments),j=b.length-1;j>=0;j--){i=[b[j].apply(this,i)]}return i[0]}};ai.after=function(j,i){return function(){if(--j<1){return i.apply(this,arguments)}}};ai.keys=L||function(j){if(j!==Object(j)){throw new TypeError("Invalid object")}var i=[],k;for(k in j){ae.call(j,k)&&(i[i.length]=k)}return i};ai.values=function(b){return ai.map(b,ai.identity)};ai.functions=ai.methods=function(b){var j=[],i;for(i in b){ai.isFunction(b[i])&&j.push(i)}return j.sort()};ai.extend=function(b){ag(ah.call(arguments,1),function(i){for(var j in i){i[j]!==void 0&&(b[j]=i[j])}});return b};ai.defaults=function(b){ag(ah.call(arguments,1),function(i){for(var j in i){b[j]==null&&(b[j]=i[j])}});return b};ai.clone=function(b){return ai.isArray(b)?b.slice():ai.extend({},b)};ai.tap=function(j,i){i(j);return j};ai.isEqual=function(j,i){return Y(j,i,[])};ai.isEmpty=function(b){if(ai.isArray(b)||ai.isString(b)){return b.length===0}for(var i in b){if(ae.call(b,i)){return false}}return true};ai.isElement=function(b){return !!(b&&b.nodeType==1)};ai.isArray=ab||function(b){return Q.call(b)==="[object Array]"};ai.isObject=function(b){return b===Object(b)};ai.isArguments=function(b){return !(!b||!ae.call(b,"callee"))};ai.isFunction=function(b){return !(!b||!b.constructor||!b.call||!b.apply)};ai.isString=function(b){return !!(b===""||b&&b.charCodeAt&&b.substr)};ai.isNumber=function(b){return !!(b===0||b&&b.toExponential&&b.toFixed)};ai.isNaN=function(b){return b!==b};ai.isBoolean=function(b){return b===true||b===false||Q.call(b)=="[object Boolean]"};ai.isDate=function(b){return !(!b||!b.getTimezoneOffset||!b.setUTCFullYear)};ai.isRegExp=function(b){return !(!b||!b.test||!b.exec||!(b.ignoreCase||b.ignoreCase===false))};ai.isNull=function(b){return b===null};ai.isUndefined=function(b){return b===void 0};ai.noConflict=function(){W._=P;return this};ai.identity=function(b){return b};ai.times=function(j,i,l){for(var k=0;k<j;k++){i.call(l,k)}};ai.escape=function(b){return(""+b).replace(/&(?!\w+;|#\d+;|#x[\da-f]+;)/gi,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")};ai.mixin=function(b){ag(ai.functions(b),function(i){h(i,ai[i]=b[i])})};var f=0;ai.uniqueId=function(j){var i=f++;return j?j+i:i};ai.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};ai.template=function(b,j){var i=ai.templateSettings,i="var __p=[],print=function(){__p.push.apply(__p,arguments);};with(obj||{}){__p.push('"+b.replace(/\\/g,"\\\\").replace(/'/g,"\\'").replace(i.escape,function(l,k){return"',_.escape("+k.replace(/\\'/g,"'")+"),'"}).replace(i.interpolate,function(l,k){return"',"+k.replace(/\\'/g,"'")+",'"}).replace(i.evaluate||null,function(l,k){return"');"+k.replace(/\\'/g,"'").replace(/[\r\n\t]/g," ")+"__p.push('"}).replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/\t/g,"\\t")+"');}return __p.join('');",i=new Function("obj",i);return j?i(j):i};var ad=function(b){this._wrapped=b};ai.prototype=ad.prototype;var R=function(b,i){return i?ai(b).chain():b},h=function(b,i){ad.prototype[b]=function(){var j=ah.call(arguments);N.call(j,this._wrapped);return R(i.apply(ai,j),this._chain)}};ai.mixin(ai);ag("pop,push,reverse,shift,sort,splice,unshift".split(","),function(j){var i=af[j];ad.prototype[j]=function(){i.apply(this._wrapped,arguments);return R(this._wrapped,this._chain)}});ag(["concat","join","slice"],function(j){var i=af[j];ad.prototype[j]=function(){return R(i.apply(this._wrapped,arguments),this._chain)}});ad.prototype.chain=function(){this._chain=true;return this};ad.prototype.value=function(){return this._wrapped}})();var JSON;if(!JSON){JSON={}}(function(){function f(n){return n<10?"0"+n:n}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(key){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(key){return this.valueOf()}}var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;function quote(string){escapable.lastIndex=0;return escapable.test(string)?'"'+string.replace(escapable,function(a){var c=meta[a];return typeof c==="string"?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+string+'"'}function str(key,holder){var i,k,v,length,mind=gap,partial,value=holder[key];if(value&&typeof value==="object"&&typeof value.toJSON==="function"){value=value.toJSON(key)}if(typeof rep==="function"){value=rep.call(holder,key,value)}switch(typeof value){case"string":return quote(value);case"number":return isFinite(value)?String(value):"null";case"boolean":case"null":return String(value);case"object":if(!value){return"null"}gap+=indent;partial=[];if(Object.prototype.toString.apply(value)==="[object Array]"){length=value.length;for(i=0;i<length;i+=1){partial[i]=str(i,value)||"null"}v=partial.length===0?"[]":gap?"[\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"]":"["+partial.join(",")+"]";gap=mind;return v}if(rep&&typeof rep==="object"){length=rep.length;for(i=0;i<length;i+=1){if(typeof rep[i]==="string"){k=rep[i];v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}else{for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}v=partial.length===0?"{}":gap?"{\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"}":"{"+partial.join(",")+"}";gap=mind;return v}}if(typeof JSON.stringify!=="function"){JSON.stringify=function(value,replacer,space){var i;gap="";indent="";if(typeof space==="number"){for(i=0;i<space;i+=1){indent+=" "}}else{if(typeof space==="string"){indent=space}}rep=replacer;if(replacer&&typeof replacer!=="function"&&(typeof replacer!=="object"||typeof replacer.length!=="number")){throw new Error("JSON.stringify")}return str("",{"":value})}}if(typeof JSON.parse!=="function"){JSON.parse=function(text,reviver){var j;function walk(holder,key){var k,v,value=holder[key];if(value&&typeof value==="object"){for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=walk(value,k);if(v!==undefined){value[k]=v}else{delete value[k]}}}}return reviver.call(holder,key,value)}text=String(text);cx.lastIndex=0;if(cx.test(text)){text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})}if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){j=eval("("+text+")");return typeof reviver==="function"?walk({"":j},""):j}throw new SyntaxError("JSON.parse")}}}());(function(){var L=this,D=L.Backbone,O;O=typeof exports!=="undefined"?exports:L.Backbone={};O.VERSION="0.5.3";var N=L._;if(!N&&typeof require!=="undefined"){N=require("underscore")._}var M=L.jQuery||L.Zepto;O.noConflict=function(){L.Backbone=D;return this};O.emulateHTTP=!1;O.emulateJSON=!1;O.Events={bind:function(f,e,h){var g=this._callbacks||(this._callbacks={});(g[f]||(g[f]=[])).push([e,h]);return this},unbind:function(g,f){var j;if(g){if(j=this._callbacks){if(f){j=j[g];if(!j){return this}for(var i=0,h=j.length;i<h;i++){if(j[i]&&f===j[i][0]){j[i]=null;break}}}else{j[g]=[]}}}else{this._callbacks={}}return this},trigger:function(j){var i,p,o,n,m=2;if(!(p=this._callbacks)){return this}for(;m--;){if(i=m?j:"all",i=p[i]){for(var l=0,k=i.length;l<k;l++){(o=i[l])?(n=m?Array.prototype.slice.call(arguments,1):arguments,o[0].apply(o[1]||this,n)):(i.splice(l,1),l--,k--)}}}return this}};O.Model=function(f,e){var g;f||(f={});if(g=this.defaults){N.isFunction(g)&&(g=g.call(this)),f=N.extend({},g,f)}this.attributes={};this._escapedAttributes={};this.cid=N.uniqueId("c");this.set(f,{silent:!0});this._changed=!1;this._previousAttributes=N.clone(this.attributes);if(e&&e.collection){this.collection=e.collection}this.initialize(f,e)};N.extend(O.Model.prototype,O.Events,{_previousAttributes:null,_changed:!1,idAttribute:"id",initialize:function(){},toJSON:function(){return N.clone(this.attributes)},get:function(e){return this.attributes[e]},escape:function(f){var e;if(e=this._escapedAttributes[f]){return e}e=this.attributes[f];return this._escapedAttributes[f]=(e==null?"":""+e).replace(/&(?!\w+;|#\d+;|#x[\da-f]+;)/gi,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")},has:function(e){return this.attributes[e]!=null},set:function(i,f){f||(f={});if(!i){return this}if(i.attributes){i=i.attributes}var n=this.attributes,m=this._escapedAttributes;if(!f.silent&&this.validate&&!this._performValidation(i,f)){return !1}if(this.idAttribute in i){this.id=i[this.idAttribute]}var l=this._changing;this._changing=!0;for(var k in i){var j=i[k];if(!N.isEqual(n[k],j)){n[k]=j,delete m[k],this._changed=!0,f.silent||this.trigger("change:"+k,this,j,f)}}!l&&!f.silent&&this._changed&&this.change(f);this._changing=!1;return this},unset:function(f,e){if(!(f in this.attributes)){return this}e||(e={});var g={};g[f]=void 0;if(!e.silent&&this.validate&&!this._performValidation(g,e)){return !1}delete this.attributes[f];delete this._escapedAttributes[f];f==this.idAttribute&&delete this.id;this._changed=!0;e.silent||(this.trigger("change:"+f,this,void 0,e),this.change(e));return this},clear:function(f){f||(f={});var e,h=this.attributes,g={};for(e in h){g[e]=void 0}if(!f.silent&&this.validate&&!this._performValidation(g,f)){return !1}this.attributes={};this._escapedAttributes={};this._changed=!0;if(!f.silent){for(e in h){this.trigger("change:"+e,this,void 0,f)}this.change(f)}return this},fetch:function(f){f||(f={});var e=this,g=f.success;f.success=function(j,i,h){if(!e.set(e.parse(j,h),f)){return !1}g&&g(e,j)};f.error=K(f.error,e,f);return(this.sync||O.sync).call(this,"read",this,f)},save:function(g,e){e||(e={});if(g&&!this.set(g,e)){return !1}var j=this,i=e.success;e.success=function(k,m,l){if(!j.set(j.parse(k,l),e)){return !1}i&&i(j,k,l)};e.error=K(e.error,j,e);var h=this.isNew()?"create":"update";return(this.sync||O.sync).call(this,h,this,e)},destroy:function(f){f||(f={});if(this.isNew()){return this.trigger("destroy",this,this.collection,f)}var e=this,g=f.success;f.success=function(h){e.trigger("destroy",e,e.collection,f);g&&g(e,h)};f.error=K(f.error,e,f);return(this.sync||O.sync).call(this,"delete",this,f)},url:function(){var e=I(this.collection)||this.urlRoot||H();if(this.isNew()){return e}return e+(e.charAt(e.length-1)=="/"?"":"/")+encodeURIComponent(this.id)},parse:function(e){return e},clone:function(){return new this.constructor(this)},isNew:function(){return this.id==null},change:function(e){this.trigger("change",this,e);this._previousAttributes=N.clone(this.attributes);this._changed=!1},hasChanged:function(e){if(e){return this._previousAttributes[e]!=this.attributes[e]}return this._changed},changedAttributes:function(f){f||(f=this.attributes);var e=this._previousAttributes,h=!1,g;for(g in f){N.isEqual(e[g],f[g])||(h=h||{},h[g]=f[g])}return h},previous:function(e){if(!e||!this._previousAttributes){return null}return this._previousAttributes[e]},previousAttributes:function(){return N.clone(this._previousAttributes)},_performValidation:function(f,e){var g=this.validate(f);if(g){return e.error?e.error(this,g,e):this.trigger("error",this,g,e),!1}return !0}});O.Collection=function(f,e){e||(e={});if(e.comparator){this.comparator=e.comparator}N.bindAll(this,"_onModelEvent","_removeReference");this._reset();f&&this.reset(f,{silent:!0});this.initialize.apply(this,arguments)};N.extend(O.Collection.prototype,O.Events,{model:O.Model,initialize:function(){},toJSON:function(){return this.map(function(e){return e.toJSON()})},add:function(f,e){if(N.isArray(f)){for(var h=0,g=f.length;h<g;h++){this._add(f[h],e)}}else{this._add(f,e)}return this},remove:function(f,e){if(N.isArray(f)){for(var h=0,g=f.length;h<g;h++){this._remove(f[h],e)}}else{this._remove(f,e)}return this},get:function(e){if(e==null){return null}return this._byId[e.id!=null?e.id:e]},getByCid:function(e){return e&&this._byCid[e.cid||e]},at:function(e){return this.models[e]},sort:function(e){e||(e={});if(!this.comparator){throw Error("Cannot sort a set without a comparator")}this.models=this.sortBy(this.comparator);e.silent||this.trigger("reset",this,e);return this},pluck:function(e){return N.map(this.models,function(f){return f.get(e)})},reset:function(f,e){f||(f=[]);e||(e={});this.each(this._removeReference);this._reset();this.add(f,{silent:!0});e.silent||this.trigger("reset",this,e);return this},fetch:function(f){f||(f={});var e=this,g=f.success;f.success=function(j,h,i){e[f.add?"add":"reset"](e.parse(j,i),f);g&&g(e,j)};f.error=K(f.error,e,f);return(this.sync||O.sync).call(this,"read",this,f)},create:function(f,e){var h=this;e||(e={});f=this._prepareModel(f,e);if(!f){return !1}var g=e.success;e.success=function(i,k,j){h.add(i,e);g&&g(i,k,j)};f.save(null,e);return f},parse:function(e){return e},chain:function(){return N(this.models).chain()},_reset:function(){this.length=0;this.models=[];this._byId={};this._byCid={}},_prepareModel:function(f,e){if(f instanceof O.Model){if(!f.collection){f.collection=this}}else{var g=f;f=new this.model(g,{collection:this});f.validate&&!f._performValidation(g,e)&&(f=!1)}return f},_add:function(f,e){e||(e={});f=this._prepareModel(f,e);if(!f){return !1}var g=this.getByCid(f);if(g){throw Error(["Can't add the same model to a set twice",g.id])}this._byId[f.id]=f;this._byCid[f.cid]=f;this.models.splice(e.at!=null?e.at:this.comparator?this.sortedIndex(f,this.comparator):this.length,0,f);f.bind("all",this._onModelEvent);this.length++;e.silent||f.trigger("add",f,this,e);return f},_remove:function(f,e){e||(e={});f=this.getByCid(f)||this.get(f);if(!f){return null}delete this._byId[f.id];delete this._byCid[f.cid];this.models.splice(this.indexOf(f),1);this.length--;e.silent||f.trigger("remove",f,this,e);this._removeReference(f);return f},_removeReference:function(e){this==e.collection&&delete e.collection;e.unbind("all",this._onModelEvent)},_onModelEvent:function(f,e,h,g){(f=="add"||f=="remove")&&h!=this||(f=="destroy"&&this._remove(e,g),e&&f==="change:"+e.idAttribute&&(delete this._byId[e.previous(e.idAttribute)],this._byId[e.id]=e),this.trigger.apply(this,arguments))}});N.each(["forEach","each","map","reduce","reduceRight","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","sortBy","sortedIndex","toArray","size","first","rest","last","without","indexOf","lastIndexOf","isEmpty","groupBy"],function(e){O.Collection.prototype[e]=function(){return N[e].apply(N,[this.models].concat(N.toArray(arguments)))}});O.Router=function(e){e||(e={});if(e.routes){this.routes=e.routes}this._bindRoutes();this.initialize.apply(this,arguments)};var C=/:([\w\d]+)/g,B=/\*([\w\d]+)/g,A=/[-[\]{}()+?.,\\^$|#\s]/g;N.extend(O.Router.prototype,O.Events,{initialize:function(){},route:function(f,e,g){O.history||(O.history=new O.History);N.isRegExp(f)||(f=this._routeToRegExp(f));O.history.route(f,N.bind(function(h){h=this._extractParameters(f,h);g.apply(this,h);this.trigger.apply(this,["route:"+e].concat(h))},this))},navigate:function(f,e){O.history.navigate(f,e)},_bindRoutes:function(){if(this.routes){var f=[],e;for(e in this.routes){f.unshift([e,this.routes[e]])}e=0;for(var g=f.length;e<g;e++){this.route(f[e][0],f[e][1],this[f[e][1]])}}},_routeToRegExp:function(e){e=e.replace(A,"\\$&").replace(C,"([^/]*)").replace(B,"(.*?)");return RegExp("^"+e+"$")},_extractParameters:function(f,e){return f.exec(e).slice(1)}});O.History=function(){this.handlers=[];N.bindAll(this,"checkUrl")};var J=/^#*/,z=/msie [\w.]+/,G=!1;N.extend(O.History.prototype,{interval:50,getFragment:function(f,e){if(f==null){if(this._hasPushState||e){f=window.location.pathname;var g=window.location.search;g&&(f+=g);f.indexOf(this.options.root)==0&&(f=f.substr(this.options.root.length))}else{f=window.location.hash}}return decodeURIComponent(f.replace(J,""))},start:function(f){if(G){throw Error("Backbone.history has already been started")}this.options=N.extend({},{root:"/"},this.options,f);this._wantsPushState=!!this.options.pushState;this._hasPushState=!(!this.options.pushState||!window.history||!window.history.pushState);f=this.getFragment();var e=document.documentMode;if(e=z.exec(navigator.userAgent.toLowerCase())&&(!e||e<=7)){this.iframe=M('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,this.navigate(f)}this._hasPushState?M(window).bind("popstate",this.checkUrl):"onhashchange" in window&&!e?M(window).bind("hashchange",this.checkUrl):setInterval(this.checkUrl,this.interval);this.fragment=f;G=!0;f=window.location;e=f.pathname==this.options.root;if(this._wantsPushState&&!this._hasPushState&&!e){return this.fragment=this.getFragment(null,!0),window.location.replace(this.options.root+"#"+this.fragment),!0}else{if(this._wantsPushState&&this._hasPushState&&e&&f.hash){this.fragment=f.hash.replace(J,""),window.history.replaceState({},document.title,f.protocol+"//"+f.host+this.options.root+this.fragment)}}if(!this.options.silent){return this.loadUrl()}},route:function(f,e){this.handlers.unshift({route:f,callback:e})},checkUrl:function(){var e=this.getFragment();e==this.fragment&&this.iframe&&(e=this.getFragment(this.iframe.location.hash));if(e==this.fragment||e==decodeURIComponent(this.fragment)){return !1}this.iframe&&this.navigate(e);this.loadUrl()||this.loadUrl(window.location.hash)},loadUrl:function(f){var e=this.fragment=this.getFragment(f);return N.any(this.handlers,function(g){if(g.route.test(e)){return g.callback(e),!0}})},navigate:function(f,e){var h=(f||"").replace(J,"");if(!(this.fragment==h||this.fragment==decodeURIComponent(h))){if(this._hasPushState){var g=window.location;h.indexOf(this.options.root)!=0&&(h=this.options.root+h);this.fragment=h;window.history.pushState({},document.title,g.protocol+"//"+g.host+h)}else{if(window.location.hash=this.fragment=h,this.iframe&&h!=this.getFragment(this.iframe.location.hash)){this.iframe.document.open().close(),this.iframe.location.hash=h}}e&&this.loadUrl(f)}}});O.View=function(e){this.cid=N.uniqueId("view");this._configure(e||{});this._ensureElement();this.delegateEvents();this.initialize.apply(this,arguments)};var y=/^(\S+)\s*(.*)$/,F=["model","collection","el","id","attributes","className","tagName"];N.extend(O.View.prototype,O.Events,{tagName:"div",$:function(e){return M(e,this.el)},initialize:function(){},render:function(){return this},remove:function(){M(this.el).remove();return this},make:function(f,e,g){f=document.createElement(f);e&&M(f).attr(e);g&&M(f).html(g);return f},delegateEvents:function(g){if(g||(g=this.events)){for(var f in N.isFunction(g)&&(g=g.call(this)),M(this.el).unbind(".delegateEvents"+this.cid),g){var j=this[g[f]];if(!j){throw Error('Event "'+g[f]+'" does not exist')}var i=f.match(y),h=i[1];i=i[2];j=N.bind(j,this);h+=".delegateEvents"+this.cid;i===""?M(this.el).bind(h,j):M(this.el).delegate(i,h,j)}}},_configure:function(f){this.options&&(f=N.extend({},this.options,f));for(var e=0,h=F.length;e<h;e++){var g=F[e];f[g]&&(this[g]=f[g])}this.options=f},_ensureElement:function(){if(this.el){if(N.isString(this.el)){this.el=M(this.el).get(0)}}else{var e=this.attributes||{};if(this.id){e.id=this.id}if(this.className){e["class"]=this.className}this.el=this.make(this.tagName,e)}}});O.Model.extend=O.Collection.extend=O.Router.extend=O.View.extend=function(f,e){var g=x(this,f,e);g.extend=this.extend;return g};var b={create:"POST",update:"PUT","delete":"DELETE",read:"GET"};O.sync=function(f,e,h){var g=b[f];h=N.extend({type:g,dataType:"json"},h);if(!h.url){h.url=I(e)||H()}if(!h.data&&e&&(f=="create"||f=="update")){h.contentType="application/json",h.data=JSON.stringify(e.toJSON())}if(O.emulateJSON){h.contentType="application/x-www-form-urlencoded",h.data=h.data?{model:h.data}:{}}if(O.emulateHTTP&&(g==="PUT"||g==="DELETE")){if(O.emulateJSON){h.data._method=g}h.type="POST";h.beforeSend=function(i){i.setRequestHeader("X-HTTP-Method-Override",g)}}if(h.type!=="GET"&&!O.emulateJSON){h.processData=!1}return M.ajax(h)};var E=function(){},x=function(f,e,h){var g;g=e&&e.hasOwnProperty("constructor")?e.constructor:function(){return f.apply(this,arguments)};N.extend(g,f);E.prototype=f.prototype;g.prototype=new E;e&&N.extend(g.prototype,e);h&&N.extend(g,h);g.prototype.constructor=g;g.__super__=f.prototype;return g},I=function(e){if(!e||!e.url){return null}return N.isFunction(e.url)?e.url():e.url},H=function(){throw Error('A "url" property or function must be specified')},K=function(f,e,g){return function(h){f?f(e,h,g):e.trigger("error",e,h,g)}}}).call(this);!function(f){f.fn.xdatepicker=f.fn.datepicker;f.xdatepicker=f.datepicker;var b=function(h,g){this.element=f(h);this.format=e.parseFormat(g.format||this.element.data("date-format")||"mm/dd/yyyy");this.picker=f(e.template).appendTo("body").on({click:f.proxy(this.click,this),mousedown:f.proxy(this.mousedown,this)});this.isInput=this.element.is("input");this.component=this.element.is(".date")?this.element.find(".add-on"):false;if(this.isInput){this.element.on({focus:f.proxy(this.show,this),blur:f.proxy(this.hide,this),keyup:f.proxy(this.update,this)})}else{if(this.component){this.component.on("click",f.proxy(this.show,this))}else{this.element.on("click",f.proxy(this.show,this))}}this.viewMode=0;this.weekStart=g.weekStart||this.element.data("date-weekstart")||0;this.weekEnd=this.weekStart==0?6:this.weekStart-1;this.fillDow();this.fillMonths();this.update();this.showMode()};b.prototype={constructor:b,show:function(g){this.picker.show();this.height=this.component?this.component.outerHeight():this.element.outerHeight();this.place();f(window).on("resize",f.proxy(this.place,this));if(g){g.stopPropagation();g.preventDefault()}if(!this.isInput){f(document).on("mousedown",f.proxy(this.hide,this))}this.element.trigger({type:"show",date:this.date})},hide:function(){this.picker.hide();f(window).off("resize",this.place);this.viewMode=0;this.showMode();if(!this.isInput){f(document).off("mousedown",this.hide)}this.setValue();this.element.trigger({type:"hide",date:this.date})},setValue:function(){var g=e.formatDate(this.date,this.format);if(!this.isInput){if(this.component){this.element.find("input").prop("value",g)}this.element.data("date",g)}else{this.element.prop("value",g)}},place:function(){var g=this.component?this.component.offset():this.element.offset();this.picker.css({top:g.top+this.height,left:g.left})},update:function(){this.date=e.parseDate(this.isInput?this.element.prop("value"):this.element.data("date"),this.format);this.viewDate=new Date(this.date);this.fill()},fillDow:function(){var g=this.weekStart;var h="<tr>";while(g<this.weekStart+7){h+='<th class="dow">'+e.dates.daysMin[(g++)%7]+"</th>"}h+="</tr>";this.picker.find(".datepicker-days thead").append(h)},fillMonths:function(){var h="";var g=0;while(g<12){h+='<span class="month">'+e.dates.monthsShort[g++]+"</span>"}this.picker.find(".datepicker-months td").append(h)},fill:function(){var q=new Date(this.viewDate),r=q.getFullYear(),p=q.getMonth(),h=this.date.valueOf();this.picker.find(".datepicker-days th:eq(1)").text(e.dates.months[p]+" "+r);var l=new Date(r,p-1,28,0,0,0,0),s=e.getDaysInMonth(l.getFullYear(),l.getMonth());l.setDate(s);l.setDate(s-(l.getDay()-this.weekStart+7)%7);var n=new Date(l);n.setDate(n.getDate()+42);n=n.valueOf();html=[];var k;while(l.valueOf()<n){if(l.getDay()==this.weekStart){html.push("<tr>")}k="";if(l.getMonth()<p){k+=" old"}else{if(l.getMonth()>p){k+=" new"}}if(l.valueOf()==h){k+=" active"}html.push('<td class="day'+k+'">'+l.getDate()+"</td>");if(l.getDay()==this.weekEnd){html.push("</tr>")}l.setDate(l.getDate()+1)}this.picker.find(".datepicker-days tbody").empty().append(html.join(""));var o=this.date.getFullYear();var g=this.picker.find(".datepicker-months").find("th:eq(1)").text(r).end().find("span").removeClass("active");if(o==r){g.eq(this.date.getMonth()).addClass("active")}html="";r=parseInt(r/10,10)*10;var j=this.picker.find(".datepicker-years").find("th:eq(1)").text(r+"-"+(r+9)).end().find("td");r-=1;for(var m=-1;m<11;m++){html+='<span class="year'+(m==-1||m==10?" old":"")+(o==r?" active":"")+'">'+r+"</span>";r+=1}j.html(html)},click:function(k){k.stopPropagation();k.preventDefault();var j=f(k.target).closest("span, td, th");if(j.length==1){switch(j[0].nodeName.toLowerCase()){case"th":switch(j[0].className){case"switch":this.showMode(1);break;case"prev":case"next":this.viewDate["set"+e.modes[this.viewMode].navFnc].call(this.viewDate,this.viewDate["get"+e.modes[this.viewMode].navFnc].call(this.viewDate)+e.modes[this.viewMode].navStep*(j[0].className=="prev"?-1:1));this.fill();break}break;case"span":if(j.is(".month")){var i=j.parent().find("span").index(j);this.viewDate.setMonth(i)}else{var h=parseInt(j.text(),10)||0;this.viewDate.setFullYear(h)}this.showMode(-1);this.fill();break;case"td":if(j.is(".day")){var g=parseInt(j.text(),10)||1;var i=this.viewDate.getMonth();if(j.is(".old")){i-=1}else{if(j.is(".new")){i+=1}}var h=this.viewDate.getFullYear();this.date=new Date(h,i,g,0,0,0,0);this.viewDate=new Date(h,i,g,0,0,0,0);this.fill();this.setValue();this.element.trigger({type:"changeDate",date:this.date})}break}}},mousedown:function(g){g.stopPropagation();g.preventDefault()},showMode:function(g){if(g){this.viewMode=Math.max(0,Math.min(2,this.viewMode+g))}this.picker.find(">div").hide().filter(".datepicker-"+e.modes[this.viewMode].clsName).show()}};f.fn.datepicker=function(g){return this.each(function(){var j=f(this),i=j.data("datepicker"),h=typeof g=="object"&&g;if(!i){j.data("datepicker",(i=new b(this,f.extend({},f.fn.datepicker.defaults,h))))}if(typeof g=="string"){i[g]()}})};f.fn.datepicker.defaults={};f.fn.datepicker.Constructor=b;var e={modes:[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}],dates:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},isLeapYear:function(g){return(((g%4===0)&&(g%100!==0))||(g%400===0))},getDaysInMonth:function(g,h){return[31,(e.isLeapYear(g)?29:28),31,30,31,30,31,31,30,31,30,31][h]},parseFormat:function(i){var h=i.match(/[.\/-].*?/),g=i.split(/\W+/);if(!h||!g||g.length==0){throw new Error("Invalid date format.")}return{separator:h,parts:g}},parseDate:function(g,l){var k=g.split(l.separator),g=new Date(1970,1,1,0,0,0),m;if(k.length==l.parts.length){for(var j=0,h=l.parts.length;j<h;j++){m=parseInt(k[j],10)||1;switch(l.parts[j]){case"dd":case"d":g.setDate(m);break;case"mm":case"m":g.setMonth(m-1);break;case"yy":g.setFullYear(2000+m);break;case"yyyy":g.setFullYear(m);break}}}return g},formatDate:function(g,k){var l={d:g.getDate(),m:g.getMonth()+1,yy:g.getFullYear().toString().substring(2),yyyy:g.getFullYear()};l.dd=(l.d<10?"0":"")+l.d;l.mm=(l.m<10?"0":"")+l.m;var g=[];for(var j=0,h=k.parts.length;j<h;j++){g.push(l[k.parts[j]])}return g.join(k.separator)},headTemplate:'<thead><tr><th class="prev"><i class="icon-arrow-left"/></th><th colspan="5" class="switch"></th><th class="next"><i class="icon-arrow-right"/></th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>'};e.template='<div class="datepicker dropdown-menu"><div class="datepicker-days"><table class=" table-condensed">'+e.headTemplate+'<tbody></tbody></table></div><div class="datepicker-months"><table class="table-condensed">'+e.headTemplate+e.contTemplate+'</table></div><div class="datepicker-years"><table class="table-condensed">'+e.headTemplate+e.contTemplate+"</table></div></div>"}(window.jQuery);!function(e){var b=function(g,f){this.init("tooltip",g,f)};b.prototype={constructor:b,init:function(i,h,g){var j,f;this.type=i;this.$element=e(h);this.options=this.getOptions(g);this.enabled=true;if(this.options.trigger!="manual"){j=this.options.trigger=="hover"?"mouseenter":"focus";f=this.options.trigger=="hover"?"mouseleave":"blur";this.$element.on(j,this.options.selector,e.proxy(this.enter,this));this.$element.on(f,this.options.selector,e.proxy(this.leave,this))}this.options.selector?(this._options=e.extend({},this.options,{trigger:"manual",selector:""})):this.fixTitle()},getOptions:function(f){f=e.extend({},e.fn[this.type].defaults,f,this.$element.data());if(f.delay&&typeof f.delay=="number"){f.delay={show:f.delay,hide:f.delay}}return f},enter:function(g){var f=e(g.currentTarget)[this.type](this._options).data(this.type);if(!f.options.delay||!f.options.delay.show){f.show()}else{f.hoverState="in";setTimeout(function(){if(f.hoverState=="in"){f.show()}},f.options.delay.show)}},leave:function(g){var f=e(g.currentTarget)[this.type](this._options).data(this.type);if(!f.options.delay||!f.options.delay.hide){f.hide()}else{f.hoverState="out";setTimeout(function(){if(f.hoverState=="out"){f.hide()}},f.options.delay.hide)}},show:function(){var j,f,l,h,k,g,i;if(this.hasContent()&&this.enabled){j=this.tip();this.setContent();if(this.options.animation){j.addClass("fade")}g=typeof this.options.placement=="function"?this.options.placement.call(this,j[0],this.$element[0]):this.options.placement;f=/in/.test(g);j.remove().css({top:0,left:0,display:"block"}).appendTo(f?this.$element:document.body);l=this.getPosition(f);h=j[0].offsetWidth;k=j[0].offsetHeight;switch(f?g.split(" ")[1]:g){case"bottom":i={top:l.top+l.height,left:l.left+l.width/2-h/2};break;case"top":i={top:l.top-k,left:l.left+l.width/2-h/2};break;case"left":i={top:l.top+l.height/2-k/2,left:l.left-h};break;case"right":i={top:l.top+l.height/2-k/2,left:l.left+l.width};break}j.css(i).addClass(g).addClass("in")}},setContent:function(){var f=this.tip();f.find(".tooltip-inner").html(this.getTitle());f.removeClass("fade in top bottom left right")},hide:function(){var f=this,g=this.tip();g.removeClass("in");function h(){var i=setTimeout(function(){g.off(e.support.transition.end).remove()},500);g.one(e.support.transition.end,function(){clearTimeout(i);g.remove()})}e.support.transition&&this.$tip.hasClass("fade")?h():g.remove()},fixTitle:function(){var f=this.$element;if(f.attr("title")||typeof(f.attr("data-original-title"))!="string"){f.attr("data-original-title",f.attr("title")||"").removeAttr("title")}},hasContent:function(){return this.getTitle()},getPosition:function(f){return e.extend({},(f?{top:0,left:0}:this.$element.offset()),{width:this.$element[0].offsetWidth,height:this.$element[0].offsetHeight})},getTitle:function(){var h,f=this.$element,g=this.options;h=f.attr("data-original-title")||(typeof g.title=="function"?g.title.call(f[0]):g.title);h=(h||"").toString().replace(/(^\s*|\s*$)/,"");return h},tip:function(){return this.$tip=this.$tip||e(this.options.template)},validate:function(){if(!this.$element[0].parentNode){this.hide();this.$element=null;this.options=null}},enable:function(){this.enabled=true},disable:function(){this.enabled=false},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(){this[this.tip().hasClass("in")?"hide":"show"]()}};e.fn.tooltip=function(f){return this.each(function(){var i=e(this),h=i.data("tooltip"),g=typeof f=="object"&&f;if(!h){i.data("tooltip",(h=new b(this,g)))}if(typeof f=="string"){h[f]()}})};e.fn.tooltip.Constructor=b;e.fn.tooltip.defaults={animation:true,delay:0,selector:false,placement:"top",trigger:"hover",title:"",template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>'}}(window.jQuery);!function(b){b(function(){b.support.transition=(function(){var e=(function(){var h=document.createElement("bootstrap"),g={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd",transition:"transitionend"},f;for(f in g){if(h.style[f]!==undefined){return g[f]}}}());return e&&{end:e}})()})}(window.jQuery);!function(f){var e='[data-dismiss="alert"]',b=function(g){f(g).on("click",e,this.close)};b.prototype.close=function(k){var j=f(this),h=j.attr("data-target"),i;if(!h){h=j.attr("href");h=h&&h.replace(/.*(?=#[^\s]*$)/,"")}i=f(h);k&&k.preventDefault();i.length||(i=j.hasClass("alert")?j:j.parent());i.trigger(k=f.Event("close"));if(k.isDefaultPrevented()){return}i.removeClass("in");function g(){i.trigger("closed").remove()}f.support.transition&&i.hasClass("fade")?i.on(f.support.transition.end,g):g()};f.fn.alert=function(g){return this.each(function(){var i=f(this),h=i.data("alert");if(!h){i.data("alert",(h=new b(this)))}if(typeof g=="string"){h[g].call(i)}})};f.fn.alert.Constructor=b;f(function(){f("body").on("click.alert.data-api",e,b.prototype.close)})}(window.jQuery);!function(b){var e=function(g,f){this.$element=b(g);this.options=f;this.options.slide&&this.slide(this.options.slide);this.options.pause=="hover"&&this.$element.on("mouseenter",b.proxy(this.pause,this)).on("mouseleave",b.proxy(this.cycle,this))};e.prototype={cycle:function(f){if(!f){this.paused=false}this.options.interval&&!this.paused&&(this.interval=setInterval(b.proxy(this.next,this),this.options.interval));return this},to:function(j){var f=this.$element.find(".active"),g=f.parent().children(),h=g.index(f),i=this;if(j>(g.length-1)||j<0){return}if(this.sliding){return this.$element.one("slid",function(){i.to(j)})}if(h==j){return this.pause().cycle()}return this.slide(j>h?"next":"prev",b(g[j]))},pause:function(f){if(!f){this.paused=true}clearInterval(this.interval);this.interval=null;return this},next:function(){if(this.sliding){return}return this.slide("next")},prev:function(){if(this.sliding){return}return this.slide("prev")},slide:function(l,g){var n=this.$element.find(".active"),f=g||n[l](),k=this.interval,m=l=="next"?"left":"right",h=l=="next"?"first":"last",i=this,j=b.Event("slide");this.sliding=true;k&&this.pause();f=f.length?f:this.$element.find(".item")[h]();if(f.hasClass("active")){return}if(b.support.transition&&this.$element.hasClass("slide")){this.$element.trigger(j);if(j.isDefaultPrevented()){return}f.addClass(l);f[0].offsetWidth;n.addClass(m);f.addClass(m);this.$element.one(b.support.transition.end,function(){f.removeClass([l,m].join(" ")).addClass("active");n.removeClass(["active",m].join(" "));i.sliding=false;setTimeout(function(){i.$element.trigger("slid")},0)})}else{this.$element.trigger(j);if(j.isDefaultPrevented()){return}n.removeClass("active");f.addClass("active");this.sliding=false;this.$element.trigger("slid")}k&&this.cycle();return this}};b.fn.carousel=function(f){return this.each(function(){var i=b(this),h=i.data("carousel"),g=b.extend({},b.fn.carousel.defaults,typeof f=="object"&&f);if(!h){i.data("carousel",(h=new e(this,g)))}if(typeof f=="number"){h.to(f)}else{if(typeof f=="string"||(f=g.slide)){h[f]()}else{if(g.interval){h.cycle()}}}})};b.fn.carousel.defaults={interval:5000,pause:"hover"};b.fn.carousel.Constructor=e;b(function(){b("body").on("click.carousel.data-api","[data-slide]",function(j){var i=b(this),g,f=b(i.attr("data-target")||(g=i.attr("href"))&&g.replace(/.*(?=#[^\s]+$)/,"")),h=!f.data("modal")&&b.extend({},f.data(),i.data());f.carousel(h);j.preventDefault()})})}(window.jQuery);!function(b){var e=function(g,f){this.$element=b(g);this.options=b.extend({},b.fn.collapse.defaults,f);if(this.options.parent){this.$parent=b(this.options.parent)}this.options.toggle&&this.toggle()};e.prototype={constructor:e,dimension:function(){var f=this.$element.hasClass("width");return f?"width":"height"},show:function(){var i,f,h,g;if(this.transitioning){return}i=this.dimension();f=b.camelCase(["scroll",i].join("-"));h=this.$parent&&this.$parent.find("> .accordion-group > .in");if(h&&h.length){g=h.data("collapse");if(g&&g.transitioning){return}h.collapse("hide");g||h.data("collapse",null)}this.$element[i](0);this.transition("addClass",b.Event("show"),"shown");this.$element[i](this.$element[0][f])},hide:function(){var f;if(this.transitioning){return}f=this.dimension();this.reset(this.$element[f]());this.transition("removeClass",b.Event("hide"),"hidden");this.$element[f](0)},reset:function(f){var g=this.dimension();this.$element.removeClass("collapse")[g](f||"auto")[0].offsetWidth;this.$element[f!==null?"addClass":"removeClass"]("collapse");return this},transition:function(j,g,h){var i=this,f=function(){if(g=="show"){i.reset()}i.transitioning=0;i.$element.trigger(h)};this.$element.trigger(g);if(g.isDefaultPrevented()){return}this.transitioning=1;this.$element[j]("in");b.support.transition&&this.$element.hasClass("collapse")?this.$element.one(b.support.transition.end,f):f()},toggle:function(){this[this.$element.hasClass("in")?"hide":"show"]()}};b.fn.collapse=function(f){return this.each(function(){var i=b(this),h=i.data("collapse"),g=typeof f=="object"&&f;if(!h){i.data("collapse",(h=new e(this,g)))}if(typeof f=="string"){h[f]()}})};b.fn.collapse.defaults={toggle:true};b.fn.collapse.Constructor=e;b(function(){b("body").on("click.collapse.data-api","[data-toggle=collapse]",function(j){var i=b(this),f,h=i.attr("data-target")||j.preventDefault()||(f=i.attr("href"))&&f.replace(/.*(?=#[^\s]+$)/,""),g=b(h).data("collapse")?"toggle":i.data();b(h).collapse(g)})})}(window.jQuery);!function(g){var e='[data-toggle="dropdown"]',b=function(i){var h=g(i).on("click.dropdown.data-api",this.toggle);g("html").on("click.dropdown.data-api",function(){h.parent().removeClass("open")})};b.prototype={constructor:b,toggle:function(l){var k=g(this),j,h,i;if(k.is(".disabled, :disabled")){return}h=k.attr("data-target");if(!h){h=k.attr("href");h=h&&h.replace(/.*(?=#[^\s]*$)/,"")}j=g(h);j.length||(j=k.parent());i=j.hasClass("open");f();if(!i){j.toggleClass("open")}return false}};function f(){g(e).parent().removeClass("open")}g.fn.dropdown=function(h){return this.each(function(){var j=g(this),i=j.data("dropdown");if(!i){j.data("dropdown",(i=new b(this)))}if(typeof h=="string"){i[h].call(j)}})};g.fn.dropdown.Constructor=b;g(function(){g("html").on("click.dropdown.data-api",f);g("body").on("click.dropdown",".dropdown form",function(h){h.stopPropagation()}).on("click.dropdown.data-api",e,b.prototype.toggle)})}(window.jQuery);!function(h){var b=function(l,k){this.options=k;this.$element=h(l).delegate('[data-dismiss="modal"]',"click.dismiss.modal",h.proxy(this.hide,this))};b.prototype={constructor:b,toggle:function(){return this[!this.isShown?"show":"hide"]()},show:function(){var k=this,l=h.Event("show");this.$element.trigger(l);if(this.isShown||l.isDefaultPrevented()){return}h("body").addClass("modal-open");this.isShown=true;g.call(this);f.call(this,function(){var m=h.support.transition&&k.$element.hasClass("fade");if(!k.$element.parent().length){k.$element.appendTo(document.body)}k.$element.show();if(m){k.$element[0].offsetWidth}k.$element.addClass("in");m?k.$element.one(h.support.transition.end,function(){k.$element.trigger("shown")}):k.$element.trigger("shown")})},hide:function(l){l&&l.preventDefault();var k=this;l=h.Event("hide");this.$element.trigger(l);if(!this.isShown||l.isDefaultPrevented()){return}this.isShown=false;h("body").removeClass("modal-open");g.call(this);this.$element.removeClass("in");h.support.transition&&this.$element.hasClass("fade")?j.call(this):i.call(this)}};function j(){var k=this,l=setTimeout(function(){k.$element.off(h.support.transition.end);i.call(k)},500);this.$element.one(h.support.transition.end,function(){clearTimeout(l);i.call(k)})}function i(k){this.$element.hide().trigger("hidden");f.call(this)}function f(n){var m=this,l=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var k=h.support.transition&&l;this.$backdrop=h('<div class="modal-backdrop '+l+'" />').appendTo(document.body);if(this.options.backdrop!="static"){this.$backdrop.click(h.proxy(this.hide,this))}if(k){this.$backdrop[0].offsetWidth}this.$backdrop.addClass("in");k?this.$backdrop.one(h.support.transition.end,n):n()}else{if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");h.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(h.support.transition.end,h.proxy(e,this)):e.call(this)}else{if(n){n()}}}}function e(){this.$backdrop.remove();this.$backdrop=null}function g(){var k=this;if(this.isShown&&this.options.keyboard){h(document).on("keyup.dismiss.modal",function(l){l.which==27&&k.hide()})}else{if(!this.isShown){h(document).off("keyup.dismiss.modal")}}}h.fn.modal=function(k){return this.each(function(){var n=h(this),m=n.data("modal"),l=h.extend({},h.fn.modal.defaults,n.data(),typeof k=="object"&&k);if(!m){n.data("modal",(m=new b(this,l)))}if(typeof k=="string"){m[k]()}else{if(l.show){m.show()}}})};h.fn.modal.defaults={backdrop:true,keyboard:true,show:true};h.fn.modal.Constructor=b;h(function(){h("body").on("click.modal.data-api",'[data-toggle="modal"]',function(o){var n=h(this),l,k=h(n.attr("data-target")||(l=n.attr("href"))&&l.replace(/.*(?=#[^\s]+$)/,"")),m=k.data("modal")?"toggle":h.extend({},k.data(),n.data());o.preventDefault();k.modal(m)})})}(window.jQuery);!function(e){var b=function(g,f){this.init("tooltip",g,f)};b.prototype={constructor:b,init:function(i,h,g){var j,f;this.type=i;this.$element=e(h);this.options=this.getOptions(g);this.enabled=true;if(this.options.trigger!="manual"){j=this.options.trigger=="hover"?"mouseenter":"focus";f=this.options.trigger=="hover"?"mouseleave":"blur";this.$element.on(j,this.options.selector,e.proxy(this.enter,this));this.$element.on(f,this.options.selector,e.proxy(this.leave,this))}this.options.selector?(this._options=e.extend({},this.options,{trigger:"manual",selector:""})):this.fixTitle()},getOptions:function(f){f=e.extend({},e.fn[this.type].defaults,f,this.$element.data());if(f.delay&&typeof f.delay=="number"){f.delay={show:f.delay,hide:f.delay}}return f},enter:function(g){var f=e(g.currentTarget)[this.type](this._options).data(this.type);if(!f.options.delay||!f.options.delay.show){return f.show()}clearTimeout(this.timeout);f.hoverState="in";this.timeout=setTimeout(function(){if(f.hoverState=="in"){f.show()}},f.options.delay.show)},leave:function(g){var f=e(g.currentTarget)[this.type](this._options).data(this.type);if(!f.options.delay||!f.options.delay.hide){return f.hide()}clearTimeout(this.timeout);f.hoverState="out";this.timeout=setTimeout(function(){if(f.hoverState=="out"){f.hide()}},f.options.delay.hide)},show:function(){var j,f,l,h,k,g,i;if(this.hasContent()&&this.enabled){j=this.tip();this.setContent();if(this.options.animation){j.addClass("fade")}g=typeof this.options.placement=="function"?this.options.placement.call(this,j[0],this.$element[0]):this.options.placement;f=/in/.test(g);j.remove().css({top:0,left:0,display:"block"}).appendTo(f?this.$element:document.body);l=this.getPosition(f);h=j[0].offsetWidth;k=j[0].offsetHeight;switch(f?g.split(" ")[1]:g){case"bottom":i={top:l.top+l.height,left:l.left+l.width/2-h/2};break;case"top":i={top:l.top-k,left:l.left+l.width/2-h/2};break;case"left":i={top:l.top+l.height/2-k/2,left:l.left-h};break;case"right":i={top:l.top+l.height/2-k/2,left:l.left+l.width};break}j.css(i).addClass(g).addClass("in")}},isHTML:function(f){return typeof f!="string"||(f.charAt(0)==="<"&&f.charAt(f.length-1)===">"&&f.length>=3)||/^(?:[^<]*<[\w\W]+>[^>]*$)/.exec(f)},setContent:function(){var g=this.tip(),f=this.getTitle();g.find(".tooltip-inner")[this.isHTML(f)?"html":"text"](f);g.removeClass("fade in top bottom left right")},hide:function(){var f=this,g=this.tip();g.removeClass("in");function h(){var i=setTimeout(function(){g.off(e.support.transition.end).remove()},500);g.one(e.support.transition.end,function(){clearTimeout(i);g.remove()})}e.support.transition&&this.$tip.hasClass("fade")?h():g.remove()},fixTitle:function(){var f=this.$element;if(f.attr("title")||typeof(f.attr("data-original-title"))!="string"){f.attr("data-original-title",f.attr("title")||"").removeAttr("title")}},hasContent:function(){return this.getTitle()},getPosition:function(f){return e.extend({},(f?{top:0,left:0}:this.$element.offset()),{width:this.$element[0].offsetWidth,height:this.$element[0].offsetHeight})},getTitle:function(){var h,f=this.$element,g=this.options;h=f.attr("data-original-title")||(typeof g.title=="function"?g.title.call(f[0]):g.title);return h},tip:function(){return this.$tip=this.$tip||e(this.options.template)},validate:function(){if(!this.$element[0].parentNode){this.hide();this.$element=null;this.options=null}},enable:function(){this.enabled=true},disable:function(){this.enabled=false},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(){this[this.tip().hasClass("in")?"hide":"show"]()}};e.fn.tooltip=function(f){return this.each(function(){var i=e(this),h=i.data("tooltip"),g=typeof f=="object"&&f;if(!h){i.data("tooltip",(h=new b(this,g)))}if(typeof f=="string"){h[f]()}})};e.fn.tooltip.Constructor=b;e.fn.tooltip.defaults={animation:true,placement:"top",selector:false,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover",title:"",delay:0}}(window.jQuery);!function(e){var b=function(g,f){this.init("popover",g,f)};b.prototype=e.extend({},e.fn.tooltip.Constructor.prototype,{constructor:b,setContent:function(){var h=this.tip(),g=this.getTitle(),f=this.getContent();h.find(".popover-title")[this.isHTML(g)?"html":"text"](g);h.find(".popover-content > *")[this.isHTML(f)?"html":"text"](f);h.removeClass("fade top bottom left right in")},hasContent:function(){return this.getTitle()||this.getContent()},getContent:function(){var g,f=this.$element,h=this.options;g=f.attr("data-content")||(typeof h.content=="function"?h.content.call(f[0]):h.content);return g},tip:function(){if(!this.$tip){this.$tip=e(this.options.template)}return this.$tip}});e.fn.popover=function(f){return this.each(function(){var i=e(this),h=i.data("popover"),g=typeof f=="object"&&f;if(!h){i.data("popover",(h=new b(this,g)))}if(typeof f=="string"){h[f]()}})};e.fn.popover.Constructor=b;e.fn.popover.defaults=e.extend({},e.fn.tooltip.defaults,{placement:"right",content:"",template:'<div class="popover"><div class="arrow"></div><div class="popover-inner"><h3 class="popover-title"></h3><div class="popover-content"><p></p></div></div></div>'})}(window.jQuery);!function(e){function b(i,h){var j=e.proxy(this.process,this),f=e(i).is("body")?e(window):e(i),g;this.options=e.extend({},e.fn.scrollspy.defaults,h);this.$scrollElement=f.on("scroll.scroll.data-api",j);this.selector=(this.options.target||((g=e(i).attr("href"))&&g.replace(/.*(?=#[^\s]+$)/,""))||"")+" .nav li > a";this.$body=e("body").on("click.scroll.data-api",this.selector,j);this.refresh();this.process()}b.prototype={constructor:b,refresh:function(){var f=this,g;this.offsets=e([]);this.targets=e([]);g=this.$body.find(this.selector).map(function(){var i=e(this),h=i.data("target")||i.attr("href"),j=/^#\w/.test(h)&&e(h);return(j&&h.length&&[[j.position().top,h]])||null}).sort(function(i,h){return i[0]-h[0]}).each(function(){f.offsets.push(this[0]);f.targets.push(this[1])})},process:function(){var l=this.$scrollElement.scrollTop()+this.options.offset,h=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight,k=h-this.$scrollElement.height(),j=this.offsets,f=this.targets,m=this.activeTarget,g;if(l>=k){return m!=(g=f.last()[0])&&this.activate(g)}for(g=j.length;g--;){m!=f[g]&&l>=j[g]&&(!j[g+1]||l<=j[g+1])&&this.activate(f[g])}},activate:function(h){var g,f;this.activeTarget=h;e(this.selector).parent(".active").removeClass("active");f=this.selector+'[data-target="'+h+'"],'+this.selector+'[href="'+h+'"]';g=e(f).parent("li").addClass("active");if(g.parent(".dropdown-menu")){g=g.closest("li.dropdown").addClass("active")}g.trigger("activate")}};e.fn.scrollspy=function(f){return this.each(function(){var i=e(this),h=i.data("scrollspy"),g=typeof f=="object"&&f;if(!h){i.data("scrollspy",(h=new b(this,g)))}if(typeof f=="string"){h[f]()}})};e.fn.scrollspy.Constructor=b;e.fn.scrollspy.defaults={offset:10};e(function(){e('[data-spy="scroll"]').each(function(){var f=e(this);f.scrollspy(f.data())})})}(window.jQuery);!function(e){var b=function(f){this.element=e(f)};b.prototype={constructor:b,show:function(){var k=this.element,h=k.closest("ul:not(.dropdown-menu)"),g=k.attr("data-target"),i,f,j;if(!g){g=k.attr("href");g=g&&g.replace(/.*(?=#[^\s]*$)/,"")}if(k.parent("li").hasClass("active")){return}i=h.find(".active a").last()[0];j=e.Event("show",{relatedTarget:i});k.trigger(j);if(j.isDefaultPrevented()){return}f=e(g);this.activate(k.parent("li"),h);this.activate(f,f.parent(),function(){k.trigger({type:"shown",relatedTarget:i})})},activate:function(h,g,k){var f=g.find("> .active"),j=k&&e.support.transition&&f.hasClass("fade");function i(){f.removeClass("active").find("> .dropdown-menu > .active").removeClass("active");h.addClass("active");if(j){h[0].offsetWidth;h.addClass("in")}else{h.removeClass("fade")}if(h.parent(".dropdown-menu")){h.closest("li.dropdown").addClass("active")}k&&k()}j?f.one(e.support.transition.end,i):i();f.removeClass("in")}};e.fn.tab=function(f){return this.each(function(){var h=e(this),g=h.data("tab");if(!g){h.data("tab",(g=new b(this)))}if(typeof f=="string"){g[f]()}})};e.fn.tab.Constructor=b;e(function(){e("body").on("click.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(f){f.preventDefault();e(this).tab("show")})})}(window.jQuery);!function(b){var e=function(g,f){this.$element=b(g);this.options=b.extend({},b.fn.typeahead.defaults,f);this.matcher=this.options.matcher||this.matcher;this.sorter=this.options.sorter||this.sorter;this.highlighter=this.options.highlighter||this.highlighter;this.updater=this.options.updater||this.updater;this.$menu=b(this.options.menu).appendTo("body");this.source=this.options.source;this.shown=false;this.listen()};e.prototype={constructor:e,select:function(){var f=this.$menu.find(".active").attr("data-value");this.$element.val(this.updater(f)).change();return this.hide()},updater:function(f){return f},show:function(){var f=b.extend({},this.$element.position(),{height:this.$element[0].offsetHeight});this.$menu.css({top:f.top+f.height,left:f.left});this.$menu.show();this.shown=true;return this},hide:function(){this.$menu.hide();this.shown=false;return this},lookup:function(h){var g=this,f,i;this.query=this.$element.val();if(!this.query){return this.shown?this.hide():this}f=b.grep(this.source,function(j){return g.matcher(j)});f=this.sorter(f);if(!f.length){return this.shown?this.hide():this}return this.render(f.slice(0,this.options.items)).show()},matcher:function(f){return ~f.toLowerCase().indexOf(this.query.toLowerCase())},sorter:function(h){var i=[],g=[],f=[],j;while(j=h.shift()){if(!j.toLowerCase().indexOf(this.query.toLowerCase())){i.push(j)}else{if(~j.indexOf(this.query)){g.push(j)}else{f.push(j)}}}return i.concat(g,f)},highlighter:function(f){var g=this.query.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");return f.replace(new RegExp("("+g+")","ig"),function(h,i){return"<strong>"+i+"</strong>"})},render:function(f){var g=this;f=b(f).map(function(h,j){h=b(g.options.item).attr("data-value",j);h.find("a").html(g.highlighter(j));return h[0]});f.first().addClass("active");this.$menu.html(f);return this},next:function(g){var h=this.$menu.find(".active").removeClass("active"),f=h.next();if(!f.length){f=b(this.$menu.find("li")[0])}f.addClass("active")},prev:function(g){var h=this.$menu.find(".active").removeClass("active"),f=h.prev();if(!f.length){f=this.$menu.find("li").last()}f.addClass("active")},listen:function(){this.$element.on("blur",b.proxy(this.blur,this)).on("keypress",b.proxy(this.keypress,this)).on("keyup",b.proxy(this.keyup,this));if(b.browser.webkit||b.browser.msie){this.$element.on("keydown",b.proxy(this.keypress,this))}this.$menu.on("click",b.proxy(this.click,this)).on("mouseenter","li",b.proxy(this.mouseenter,this))},keyup:function(f){switch(f.keyCode){case 40:case 38:break;case 9:case 13:if(!this.shown){return}this.select();break;case 27:if(!this.shown){return}this.hide();break;default:this.lookup()}f.stopPropagation();f.preventDefault()},keypress:function(f){if(!this.shown){return}switch(f.keyCode){case 9:case 13:case 27:f.preventDefault();break;case 38:if(f.type!="keydown"){break}f.preventDefault();this.prev();break;case 40:if(f.type!="keydown"){break}f.preventDefault();this.next();break}f.stopPropagation()},blur:function(g){var f=this;setTimeout(function(){f.hide()},150)},click:function(f){f.stopPropagation();f.preventDefault();this.select()},mouseenter:function(f){this.$menu.find(".active").removeClass("active");b(f.currentTarget).addClass("active")}};b.fn.typeahead=function(f){return this.each(function(){var i=b(this),h=i.data("typeahead"),g=typeof f=="object"&&f;if(!h){i.data("typeahead",(h=new e(this,g)))}if(typeof f=="string"){h[f]()}})};b.fn.typeahead.defaults={source:[],items:8,menu:'<ul class="typeahead dropdown-menu"></ul>',item:'<li><a href="#"></a></li>'};b.fn.typeahead.Constructor=e;b(function(){b("body").on("focus.typeahead.data-api",'[data-provide="typeahead"]',function(g){var f=b(this);if(f.data("typeahead")){return}g.preventDefault();f.typeahead(f.data())})})}(window.jQuery);var countries=[{code:"AD",name:"Andorra"},{code:"AE",name:"United Arab Emirates"},{code:"AF",name:"Afghanistan"},{code:"AG",name:"Antigua and Barbuda"},{code:"AI",name:"Anguilla"},{code:"AL",name:"Albania"},{code:"AM",name:"Armenia"},{code:"AN",name:"Netherlands Antilles"},{code:"AO",name:"Angola"},{code:"AQ",name:"Antarctica"},{code:"AR",name:"Argentina"},{code:"AS",name:"American Samoa"},{code:"AT",name:"Austria"},{code:"AU",name:"Australia"},{code:"AW",name:"Aruba"},{code:"AX",name:"Aland Islands"},{code:"AZ",name:"Azerbaijan"},{code:"BA",name:"Bosnia and Herzegovina"},{code:"BB",name:"Barbados"},{code:"BD",name:"Bangladesh"},{code:"BE",name:"Belgium"},{code:"BF",name:"Burkina Faso"},{code:"BG",name:"Bulgaria"},{code:"BH",name:"Bahrain"},{code:"BI",name:"Burundi"},{code:"BJ",name:"Benin"},{code:"BM",name:"Bermuda"},{code:"BN",name:"Brunei Darussalam"},{code:"BO",name:"Bolivia"},{code:"BR",name:"Brazil"},{code:"BS",name:"Bahamas"},{code:"BT",name:"Bhutan"},{code:"BV",name:"Bouvet Island"},{code:"BW",name:"Botswana"},{code:"BY",name:"Belarus"},{code:"BZ",name:"Belize"},{code:"CA",name:"Canada"},{code:"CC",name:"Cocos (Keeling) Islands"},{code:"CD",name:"Democratic Republic of the Congo"},{code:"CF",name:"Central African Republic"},{code:"CG",name:"Congo"},{code:"CH",name:"Switzerland"},{code:"CI",name:"Cote D'Ivoire (Ivory Coast)"},{code:"CK",name:"Cook Islands"},{code:"CL",name:"Chile"},{code:"CM",name:"Cameroon"},{code:"CN",name:"China"},{code:"CO",name:"Colombia"},{code:"CR",name:"Costa Rica"},{code:"CS",name:"Serbia and Montenegro"},{code:"CU",name:"Cuba"},{code:"CV",name:"Cape Verde"},{code:"CX",name:"Christmas Island"},{code:"CY",name:"Cyprus"},{code:"CZ",name:"Czech Republic"},{code:"DE",name:"Germany"},{code:"DJ",name:"Djibouti"},{code:"DK",name:"Denmark"},{code:"DM",name:"Dominica"},{code:"DO",name:"Dominican Republic"},{code:"DZ",name:"Algeria"},{code:"EC",name:"Ecuador"},{code:"EE",name:"Estonia"},{code:"EG",name:"Egypt"},{code:"EH",name:"Western Sahara"},{code:"ER",name:"Eritrea"},{code:"ES",name:"Spain"},{code:"ET",name:"Ethiopia"},{code:"FI",name:"Finland"},{code:"FJ",name:"Fiji"},{code:"FK",name:"Falkland Islands (Malvinas)"},{code:"FM",name:"Federated States of Micronesia"},{code:"FO",name:"Faroe Islands"},{code:"FR",name:"France"},{code:"GA",name:"Gabon"},{code:"GB",name:"Great Britain (UK)"},{code:"GD",name:"Grenada"},{code:"GE",name:"Georgia"},{code:"GF",name:"French Guiana"},{code:"GH",name:"Ghana"},{code:"GI",name:"Gibraltar"},{code:"GL",name:"Greenland"},{code:"GM",name:"Gambia"},{code:"GN",name:"Guinea"},{code:"GP",name:"Guadeloupe"},{code:"GQ",name:"Equatorial Guinea"},{code:"GR",name:"Greece"},{code:"GS",name:"S. Georgia and S. Sandwich Islands"},{code:"GT",name:"Guatemala"},{code:"GU",name:"Guam"},{code:"GW",name:"Guinea-Bissau"},{code:"GY",name:"Guyana"},{code:"HK",name:"Hong Kong"},{code:"HM",name:"Heard Island and McDonald Islands"},{code:"HN",name:"Honduras"},{code:"HR",name:"Croatia (Hrvatska)"},{code:"HT",name:"Haiti"},{code:"HU",name:"Hungary"},{code:"ID",name:"Indonesia"},{code:"IE",name:"Ireland"},{code:"IL",name:"Israel"},{code:"IN",name:"India"},{code:"IO",name:"British Indian Ocean Territory"},{code:"IQ",name:"Iraq"},{code:"IR",name:"Iran"},{code:"IS",name:"Iceland"},{code:"IT",name:"Italy"},{code:"JM",name:"Jamaica"},{code:"JO",name:"Jordan"},{code:"JP",name:"Japan"},{code:"KE",name:"Kenya"},{code:"KG",name:"Kyrgyzstan"},{code:"KH",name:"Cambodia"},{code:"KI",name:"Kiribati"},{code:"KM",name:"Comoros"},{code:"KN",name:"Saint Kitts and Nevis"},{code:"KP",name:"Korea (North)"},{code:"KR",name:"Korea (South)"},{code:"KW",name:"Kuwait"},{code:"KY",name:"Cayman Islands"},{code:"KZ",name:"Kazakhstan"},{code:"LA",name:"Laos"},{code:"LB",name:"Lebanon"},{code:"LC",name:"Saint Lucia"},{code:"LI",name:"Liechtenstein"},{code:"LK",name:"Sri Lanka"},{code:"LR",name:"Liberia"},{code:"LS",name:"Lesotho"},{code:"LT",name:"Lithuania"},{code:"LU",name:"Luxembourg"},{code:"LV",name:"Latvia"},{code:"LY",name:"Libya"},{code:"MA",name:"Morocco"},{code:"MC",name:"Monaco"},{code:"MD",name:"Moldova"},{code:"MG",name:"Madagascar"},{code:"MH",name:"Marshall Islands"},{code:"MK",name:"Macedonia"},{code:"ML",name:"Mali"},{code:"MM",name:"Myanmar"},{code:"MN",name:"Mongolia"},{code:"MO",name:"Macao"},{code:"MP",name:"Northern Mariana Islands"},{code:"MQ",name:"Martinique"},{code:"MR",name:"Mauritania"},{code:"MS",name:"Montserrat"},{code:"MT",name:"Malta"},{code:"MU",name:"Mauritius"},{code:"MV",name:"Maldives"},{code:"MW",name:"Malawi"},{code:"MX",name:"Mexico"},{code:"MY",name:"Malaysia"},{code:"MZ",name:"Mozambique"},{code:"NA",name:"Namibia"},{code:"NC",name:"New Caledonia"},{code:"NE",name:"Niger"},{code:"NF",name:"Norfolk Island"},{code:"NG",name:"Nigeria"},{code:"NI",name:"Nicaragua"},{code:"NL",name:"Netherlands"},{code:"NO",name:"Norway"},{code:"NP",name:"Nepal"},{code:"NR",name:"Nauru"},{code:"NU",name:"Niue"},{code:"NZ",name:"New Zealand (Aotearoa)"},{code:"OM",name:"Oman"},{code:"PA",name:"Panama"},{code:"PE",name:"Peru"},{code:"PF",name:"French Polynesia"},{code:"PG",name:"Papua New Guinea"},{code:"PH",name:"Philippines"},{code:"PK",name:"Pakistan"},{code:"PL",name:"Poland"},{code:"PM",name:"Saint Pierre and Miquelon"},{code:"PN",name:"Pitcairn"},{code:"PR",name:"Puerto Rico"},{code:"PS",name:"Palestinian Territory"},{code:"PT",name:"Portugal"},{code:"PW",name:"Palau"},{code:"PY",name:"Paraguay"},{code:"QA",name:"Qatar"},{code:"RE",name:"Reunion"},{code:"RO",name:"Romania"},{code:"RU",name:"Russian Federation"},{code:"RW",name:"Rwanda"},{code:"SA",name:"Saudi Arabia"},{code:"SB",name:"Solomon Islands"},{code:"SC",name:"Seychelles"},{code:"SD",name:"Sudan"},{code:"SE",name:"Sweden"},{code:"SG",name:"Singapore"},{code:"SH",name:"Saint Helena"},{code:"SI",name:"Slovenia"},{code:"SJ",name:"Svalbard and Jan Mayen"},{code:"SK",name:"Slovakia"},{code:"SL",name:"Sierra Leone"},{code:"SM",name:"San Marino"},{code:"SN",name:"Senegal"},{code:"SO",name:"Somalia"},{code:"SR",name:"Suriname"},{code:"ST",name:"Sao Tome and Principe"},{code:"SV",name:"El Salvador"},{code:"SY",name:"Syria"},{code:"SZ",name:"Swaziland"},{code:"TC",name:"Turks and Caicos Islands"},{code:"TD",name:"Chad"},{code:"TF",name:"French Southern Territories"},{code:"TG",name:"Togo"},{code:"TH",name:"Thailand"},{code:"TJ",name:"Tajikistan"},{code:"TK",name:"Tokelau"},{code:"TL",name:"Timor-Leste"},{code:"TM",name:"Turkmenistan"},{code:"TN",name:"Tunisia"},{code:"TO",name:"Tonga"},{code:"TP",name:"East Timor"},{code:"TR",name:"Turkey"},{code:"TT",name:"Trinidad and Tobago"},{code:"TV",name:"Tuvalu"},{code:"TW",name:"Taiwan"},{code:"TZ",name:"Tanzania"},{code:"UA",name:"Ukraine"},{code:"UG",name:"Uganda"},{code:"UK",name:"United Kingdom"},{code:"UM",name:"United States Minor Outlying Islands"},{code:"US",name:"United States"},{code:"UY",name:"Uruguay"},{code:"UZ",name:"Uzbekistan"},{code:"VA",name:"Vatican City State (Holy See)"},{code:"VC",name:"Saint Vincent and the Grenadines"},{code:"VE",name:"Venezuela"},{code:"VG",name:"Virgin Islands (British)"},{code:"VI",name:"Virgin Islands (U.S.)"},{code:"VN",name:"Viet Nam"},{code:"VU",name:"Vanuatu"},{code:"WF",name:"Wallis and Futuna"},{code:"WS",name:"Samoa"},{code:"YE",name:"Yemen"},{code:"YT",name:"Mayotte"},{code:"YU",name:"Yugoslavia (former)"},{code:"ZA",name:"South Africa"},{code:"ZM",name:"Zambia"},{code:"ZR",name:"Zaire (former)"},{code:"ZW",name:"Zimbabwe"}];(function(){function h4(f,e){try{for(var h in e){Object.defineProperty(f.prototype,h,{value:e[h],enumerable:!1})}}catch(g){f.prototype=e}}function hX(f){var e=-1,h=f.length,g=[];while(++e<h){g.push(f[e])}return g}function hU(b){return Array.prototype.slice.call(b)}function hM(){}function hC(){return this}function hz(f,e,g){return function(){var b=g.apply(e,arguments);return arguments.length?f:b}}function hw(b){return b!=null&&!isNaN(b)}function ht(b){return b.length}function hn(b){return b==null}function hl(b){return b.replace(/(^\s+)|(\s+$)/g,"").replace(/\s+/g," ")}function hh(f){var e=1;while(f*e%1){e*=10}return e}function g9(){}function g6(f){function g(){var k=e,j=-1,i=k.length,b;while(++j<i){(b=k[j].on)&&b.apply(this,arguments)}return f}var e=[],h=new hM;return g.on=function(k,j){var i=h.get(k),b;return arguments.length<2?i&&i.on:(i&&(i.on=null,e=e.slice(0,b=e.indexOf(i)).concat(e.slice(b+1)),h.remove(k)),j&&e.push(h.set(k,{on:j})),f)},g}function jA(f,e){return e-(f?1+Math.floor(Math.log(f+Math.pow(10,1+Math.floor(Math.log(f)/Math.LN10)-e))/Math.LN10):1)}function jx(b){return b+""}function ju(f){var e=f.lastIndexOf("."),h=e>=0?f.substring(e):(e=f.length,""),g=[];while(e>0){g.push(f.substring(e-=3,e+3))}return g.reverse().join(",")+h}function jn(f,e){return{scale:Math.pow(10,(8-e)*3),symbol:f}}function i5(b){return function(e){return e<=0?0:e>=1?1:b(e)}}function i2(b){return function(e){return 1-b(1-e)}}function i0(b){return function(e){return 0.5*(e<0.5?b(2*e):2-b(2-2*e))}}function iX(b){return b}function iT(b){return function(e){return Math.pow(e,b)}}function iQ(b){return 1-Math.cos(b*Math.PI/2)}function iN(b){return Math.pow(2,10*(b-1))}function iK(b){return 1-Math.sqrt(1-b*b)}function iH(f,e){var g;return arguments.length<2&&(e=0.45),arguments.length<1?(f=1,g=e/4):g=e/(2*Math.PI)*Math.asin(1/f),function(b){return 1+f*Math.pow(2,10*-b)*Math.sin((b-g)*2*Math.PI/e)}}function iE(b){return b||(b=1.70158),function(e){return e*e*((b+1)*e-b)}}function iB(b){return b<1/2.75?7.5625*b*b:b<2/2.75?7.5625*(b-=1.5/2.75)*b+0.75:b<2.5/2.75?7.5625*(b-=2.25/2.75)*b+0.9375:7.5625*(b-=2.625/2.75)*b+0.984375}function iy(){d3.event.stopPropagation(),d3.event.preventDefault()}function iv(){var f=d3.event,e;while(e=f.sourceEvent){f=e}return f}function ir(f){var e=new g9,h=0,g=arguments.length;while(++h<g){e[arguments[h]]=g6(e)}return e.of=function(i,b){return function(k){try{var j=k.sourceEvent=d3.event;k.target=f,d3.event=k,e[k.type].apply(i,b)}finally{d3.event=j}}},e}function j3(b){return b=="transform"?d3.interpolateTransform:d3.interpolate}function ij(f,e){return e=e-(f=+f)?1/(e-f):0,function(b){return(b-f)*e}}function jz(f,e){return e=e-(f=+f)?1/(e-f):0,function(b){return Math.max(0,Math.min(1,(b-f)*e))}}function jw(f,e,g){return new js(f,e,g)}function js(f,e,g){this.r=f,this.g=e,this.b=g}function jp(b){return b<16?"0"+Math.max(0,b).toString(16):Math.min(255,b).toString(16)}function jm(r,q,p){var o=0,n=0,m=0,l,k,j;l=/([a-z]+)\((.*)\)/i.exec(r);if(l){k=l[2].split(",");switch(l[1]){case"hsl":return p(parseFloat(k[0]),parseFloat(k[1])/100,parseFloat(k[2])/100);case"rgb":return q(jg(k[0]),jg(k[1]),jg(k[2]))}}return(j=jd.get(r))?q(j.r,j.g,j.b):(r!=null&&r.charAt(0)==="#"&&(r.length===4?(o=r.charAt(1),o+=o,n=r.charAt(2),n+=n,m=r.charAt(3),m+=m):r.length===7&&(o=r.substring(1,3),n=r.substring(3,5),m=r.substring(5,7)),o=parseInt(o,16),n=parseInt(n,16),m=parseInt(m,16)),q(o,n,m))}function jj(r,q,p){var o=Math.min(r/=255,q/=255,p/=255),n=Math.max(r,q,p),m=n-o,l,k,j=(n+o)/2;return m?(k=j<0.5?m/(n+o):m/(2-n-o),r==n?l=(q-p)/m+(q<p?6:0):q==n?l=(p-r)/m+2:l=(r-q)/m+4,l*=60):k=l=0,ja(l,k,j)}function jg(f){var e=parseFloat(f);return f.charAt(f.length-1)==="%"?Math.round(e*2.55):e}function ja(f,e,g){return new i7(f,e,g)}function i7(f,e,g){this.h=f,this.s=e,this.l=g}function i4(i,h,n){function k(b){return b>360?b-=360:b<0&&(b+=360),b<60?m+(l-m)*b/60:b<180?l:b<240?m+(l-m)*(240-b)/60:m}function j(b){return Math.round(k(b)*255)}var m,l;return i%=360,i<0&&(i+=360),h=h<0?0:h>1?1:h,n=n<0?0:n>1?1:n,l=n<=0.5?n*(1+h):n+h-n*h,m=2*n-l,jw(j(i+120),j(i),j(i-120))}function i1(b){return hO(b,iJ),b}function iG(b){return function(){return iY(b,this)}}function iD(b){return function(){return iV(b,this)}}function ix(j,i){function m(){if(f=this.classList){return f.add(j)}var f=this.className,h=f.baseVal!=null,g=h?f.baseVal:f;p.lastIndex=0,p.test(g)||(g=hl(g+" "+j),h?f.baseVal=g:this.className=g)}function l(){if(f=this.classList){return f.remove(j)}var f=this.className,h=f.baseVal!=null,g=h?f.baseVal:f;g=hl(g.replace(p," ")),h?f.baseVal=g:this.className=g}function k(){(i.apply(this,arguments)?m:l).call(this)}var p=new RegExp("(^|\\s+)"+d3.requote(j)+"(\\s+|$)","g");if(arguments.length<2){var o=this.node();if(n=o.classList){return n.contains(j)}var n=o.className;return p.lastIndex=0,p.test(n.baseVal!=null?n.baseVal:n)}return this.each(typeof i=="function"?k:i?m:l)}function iu(b){return{__data__:b}}function iq(b){return function(){return iM(this,b)}}function im(b){return arguments.length||(b=d3.ascending),function(e,f){return b(e&&e.__data__,f&&f.__data__)}}function j5(b){return hO(b,j4),b}function j2(h,g,l){hO(h,jX);var k=new hM,j=d3.dispatch("start","end"),i=jP;return h.id=g,h.time=l,h.tween=function(e,f){return arguments.length<2?k.get(e):(f==null?k.remove(e):k.set(e,f),h)},h.ease=function(e){return arguments.length?(i=typeof e=="function"?e:d3.ease.apply(d3,arguments),h):i},h.each=function(e,f){return arguments.length<2?jO.call(h,e):(j.on(e,f),h)},d3.timer(function(b){return h.each(function(A,z,y){function s(m){return t.active>g?e():(t.active=g,k.forEach(function(o,n){(tween=n.call(w,A,z))&&x.push(tween)}),j.start.call(w,A,z),f(m)||d3.timer(f,0,l),1)}function f(m){if(t.active!==g){return e()}var p=(m-v)/u,o=i(p),n=x.length;while(n>0){x[--n].call(w,o)}if(p>=1){return e(),jV=g,j.end.call(w,A,z),jV=0,1}}function e(){return --t.count||delete w.__transition__,1}var x=[],w=this,v=h[y][z].delay,u=h[y][z].duration,t=w.__transition__||(w.__transition__={active:0,count:0});++t.count,v<=b?s(b):d3.timer(s,v,l)}),1},0,l),h}function jZ(f,e,g){return g!=""&&j0}function jY(g,f){function i(b,m,l){var k=f.call(this,b,m);return k==null?l!=""&&j0:l!=k&&j(l,k)}function h(b,l,k){return k!=f&&j(k,f)}var j=j3(g);return typeof f=="function"?i:f==null?jZ:(f+="",h)}function jO(v){var u=jV,t=jP,s=jR,r=jQ;jV=this.id,jP=this.ease();for(var q=0,p=this.length;q<p;q++){for(var o=this[q],n=0,m=o.length;n<m;n++){var l=o[n];l&&(jR=this[q][n].delay,jQ=this[q][n].duration,v.call(l=l.node,l.__data__,n,q))}}return jV=u,jP=t,jR=s,jQ=r,this}function jK(){var f,e=Date.now(),h=jN;while(h){f=e-h.then,f>=h.delay&&(h.flush=h.callback(f)),h=h.next}var g=jJ()-e;g>24?(isFinite(g)&&(clearTimeout(jL),jL=setTimeout(jK,g)),jM=0):(jM=1,jI(jK))}function jJ(){var f=null,e=jN,g=Infinity;while(e){e.flush?e=f?f.next=e.next:jN=e.next:(g=Math.min(g,e.then+e.delay),e=(f=e).next)}return g}function jH(h){var g=[h.a,h.b],l=[h.c,h.d],k=jF(g),j=jG(g,l),i=jF(jE(l,g,-j))||0;g[0]*l[1]<l[0]*g[1]&&(g[0]*=-1,g[1]*=-1,k*=-1,j*=-1),this.rotate=(k?Math.atan2(g[1],g[0]):Math.atan2(-l[0],l[1]))*j6,this.translate=[h.e,h.f],this.scale=[k,i],this.skew=i?Math.atan2(j,i)*j6:0}function jG(f,e){return f[0]*e[0]+f[1]*e[1]}function jF(f){var e=Math.sqrt(jG(f,f));return e&&(f[0]/=e,f[1]/=e),e}function jE(f,e,g){return f[0]+=g*e[0],f[1]+=g*e[1],f}function ie(h,g){var l=h.ownerSVGElement||h;if(l.createSVGPoint){var k=l.createSVGPoint();if(jD<0&&(window.scrollX||window.scrollY)){l=d3.select(document.body).append("svg").style("position","absolute").style("top",0).style("left",0);var j=l[0][0].getScreenCTM();jD=!j.f&&!j.e,l.remove()}return jD?(k.x=g.pageX,k.y=g.pageY):(k.x=g.clientX,k.y=g.clientY),k=k.matrixTransform(h.getScreenCTM().inverse()),[k.x,k.y]}var i=h.getBoundingClientRect();return[g.clientX-i.left-h.clientLeft,g.clientY-i.top-h.clientTop]}function ia(){}function h7(f){var e=f[0],g=f[f.length-1];return e<g?[e,g]:[g,e]}function h5(b){return b.rangeExtent?b.rangeExtent():h7(b.range())}function h2(i,h){var n=0,m=i.length-1,l=i[n],k=i[m],j;k<l&&(j=n,n=m,m=j,j=l,l=k,k=j);if(j=k-l){h=h(j),i[n]=h.floor(l),i[m]=h.ceil(k)}return i}function hZ(){return Math}function hW(j,i,p,o){function l(){var e=Math.min(j.length,i.length)>2?hB:hE,b=o?jz:ij;return n=e(j,i,b,p),m=e(i,j,b,d3.interpolate),k}function k(b){return n(b)}var n,m;return k.invert=function(b){return m(b)},k.domain=function(e){return arguments.length?(j=e.map(Number),l()):j},k.range=function(b){return arguments.length?(i=b,l()):i},k.rangeRound=function(b){return k.range(b).interpolate(d3.interpolateRound)},k.clamp=function(b){return arguments.length?(o=b,l()):o},k.interpolate=function(b){return arguments.length?(p=b,l()):p},k.ticks=function(e){return hK(j,e)},k.tickFormat=function(e){return hH(j,e)},k.nice=function(){return h2(j,hQ),l()},k.copy=function(){return hW(j,i,p,o)},l()}function hT(f,e){return d3.rebind(f,e,"range","rangeRound","interpolate","clamp")}function hQ(b){return b=Math.pow(10,Math.round(Math.log(b)/Math.LN10)-1),{floor:function(e){return Math.floor(e/b)*b},ceil:function(e){return Math.ceil(e/b)*b}}}function hN(h,g){var l=h7(h),k=l[1]-l[0],j=Math.pow(10,Math.floor(Math.log(k/g)/Math.LN10)),i=g/k*j;return i<=0.15?j*=10:i<=0.35?j*=5:i<=0.75&&(j*=2),l[0]=Math.ceil(l[0]/j)*j,l[1]=Math.floor(l[1]/j)*j+j*0.5,l[2]=j,l}function hK(f,e){return d3.range.apply(d3,hN(f,e))}function hH(f,e){return d3.format(",."+Math.max(0,-Math.floor(Math.log(hN(f,e)[2])/Math.LN10+0.01))+"f")}function hE(h,g,l,k){var j=l(h[0],h[1]),i=k(g[0],g[1]);return function(b){return i(j(b))}}function hB(j,i,p,o){var n=[],m=[],l=0,k=Math.min(j.length,i.length)-1;j[k]<j[0]&&(j=j.slice().reverse(),i=i.slice().reverse());while(++l<=k){n.push(p(j[l-1],j[l])),m.push(o(i[l-1],i[l]))}return function(e){var f=d3.bisect(j,e,1,k)-1;return m[f](n[f](e))}}function hy(f,e){function g(b){return f(e(b))}var h=e.pow;return g.invert=function(i){return h(f.invert(i))},g.domain=function(b){return arguments.length?(e=b[0]<0?hp:hs,h=e.pow,f.domain(b.map(e)),g):f.domain().map(h)},g.nice=function(){return f.domain(h2(f.domain(),hZ)),g},g.ticks=function(){var p=h7(f.domain()),o=[];if(p.every(isFinite)){var n=Math.floor(p[0]),m=Math.ceil(p[1]),l=h(p[0]),k=h(p[1]);if(e===hp){o.push(h(n));for(;n++<m;){for(var b=9;b>0;b--){o.push(h(n)*b)}}}else{for(;n<m;n++){for(var b=1;b<10;b++){o.push(h(n)*b)}}o.push(h(n))}for(n=0;o[n]<l;n++){}for(m=o.length;o[m-1]>k;m--){}o=o.slice(n,m)}return o},g.tickFormat=function(b,l){arguments.length<2&&(l=hv);if(arguments.length<1){return l}var k=b/g.ticks().length,j=e===hp?(i=-1e-12,Math.floor):(i=1e-12,Math.ceil),i;return function(m){return m/h(j(e(m)+i))<k?l(m):""}},g.copy=function(){return hy(f.copy(),e)},hT(g,f)}function hs(b){return Math.log(b<0?0:b)/Math.LN10}function hp(b){return -Math.log(b>0?0:-b)/Math.LN10}function hm(g,f){function h(e){return g(j(e))}var j=hj(f),i=hj(1/f);return h.invert=function(e){return i(g.invert(e))},h.domain=function(e){return arguments.length?(g.domain(e.map(j)),h):g.domain().map(i)},h.ticks=function(b){return hK(h.domain(),b)},h.tickFormat=function(b){return hH(h.domain(),b)},h.nice=function(){return h.domain(h2(h.domain(),hQ))},h.exponent=function(b){if(!arguments.length){return f}var e=h.domain();return j=hj(f=b),i=hj(1/f),h.domain(e)},h.copy=function(){return hm(g.copy(),f)},hT(h,g)}function hj(b){return function(e){return e<0?-Math.pow(-e,b):Math.pow(e,b)}}function hg(i,h){function k(e){return m[((n.get(e)||n.set(e,i.push(e)))-1)%m.length]}function j(e,f){return d3.range(i.length).map(function(b){return e+f*b})}var n,m,l;return k.domain=function(p){if(!arguments.length){return i}i=[],n=new hM;var o=-1,f=p.length,b;while(++o<f){n.has(b=p[o])||n.set(b,i.push(b))}return k[h.t](h.x,h.p)},k.range=function(b){return arguments.length?(m=b,l=0,h={t:"range",x:b},k):m},k.rangePoints=function(o,g){arguments.length<2&&(g=0);var f=o[0],e=o[1],b=(e-f)/(i.length-1+g);return m=j(i.length<2?(f+e)/2:f+b*g/2,b),l=0,h={t:"rangePoints",x:o,p:g},k},k.rangeBands=function(p,o){arguments.length<2&&(o=0);var g=p[1]<p[0],f=p[g-0],e=p[1-g],b=(e-f)/(i.length+o);return m=j(f+b*o,b),g&&m.reverse(),l=b*(1-o),h={t:"rangeBands",x:p,p:o},k},k.rangeRoundBands=function(q,p){arguments.length<2&&(p=0);var o=q[1]<q[0],g=q[o-0],f=q[1-o],e=Math.floor((f-g)/(i.length+p)),b=f-g-(i.length-p)*e;return m=j(g+Math.round(b/2),e),o&&m.reverse(),l=Math.round(e*(1-p)),h={t:"rangeRoundBands",x:q,p:p},k},k.rangeBand=function(){return l},k.rangeExtent=function(){return h7(h.x)},k.copy=function(){return hg(i,h)},k.domain(i)}function g1(g,f){function i(){var k=0,e=g.length,b=f.length;j=[];while(++k<b){j[k-1]=d3.quantile(g,k/b)}return h}function h(b){return isNaN(b=+b)?NaN:f[d3.bisect(j,b)]}var j;return h.domain=function(e){return arguments.length?(g=e.filter(function(b){return !isNaN(b)}).sort(d3.ascending),i()):g},h.range=function(b){return arguments.length?(f=b,i()):f},h.quantiles=function(){return j},h.copy=function(){return g1(g,f)},i()}function jB(i,h,n){function k(e){return n[Math.max(0,Math.min(l,Math.floor(m*(e-i))))]}function j(){return m=n.length/(h-i),l=n.length-1,k}var m,l;return k.domain=function(b){return arguments.length?(i=+b[0],h=+b[b.length-1],j()):[i,h]},k.range=function(b){return arguments.length?(n=b,j()):n},k.copy=function(){return jB(i,h,n)},j()}function jy(f){function e(b){return +b}return e.invert=e,e.domain=e.range=function(b){return arguments.length?(f=b.map(e),e):f},e.ticks=function(g){return hK(f,g)},e.tickFormat=function(g){return hH(f,g)},e.copy=function(){return jy(f)},e}function jo(b){return b.innerRadius}function jl(b){return b.outerRadius}function ji(b){return b.startAngle}function jf(b){return b.endAngle}function jc(i){function j(b){return b.length<1?null:"M"+l(i(i9(this,b,h,n)),k)}var h=i6,n=i3,m=iZ,l=iW.get(m),k=0.7;return j.x=function(b){return arguments.length?(h=b,j):h},j.y=function(b){return arguments.length?(n=b,j):n},j.interpolate=function(b){return arguments.length?(iW.has(b+="")||(b=iZ),l=iW.get(m=b),j):m},j.tension=function(b){return arguments.length?(k=b,j):k},j}function i9(t,s,r,q){var p=[],o=-1,n=s.length,m=typeof r=="function",l=typeof q=="function",k;if(m&&l){while(++o<n){p.push([r.call(t,k=s[o],o),q.call(t,k,o)])}}else{if(m){while(++o<n){p.push([r.call(t,s[o],o),q])}}else{if(l){while(++o<n){p.push([r,q.call(t,s[o],o)])}}else{while(++o<n){p.push([r,q])}}}}return p}function i6(b){return b[0]}function i3(b){return b[1]}function iU(g){var f=0,j=g.length,i=g[0],h=[i[0],",",i[1]];while(++f<j){h.push("L",(i=g[f])[0],",",i[1])}return h.join("")}function iR(g){var f=0,j=g.length,i=g[0],h=[i[0],",",i[1]];while(++f<j){h.push("V",(i=g[f])[1],"H",i[0])}return h.join("")}function iO(g){var f=0,j=g.length,i=g[0],h=[i[0],",",i[1]];while(++f<j){h.push("H",(i=g[f])[0],"V",i[1])}return h.join("")}function iL(f,e){return f.length<4?iU(f):f[1]+iC(f.slice(1,f.length-1),iz(f,e))}function iI(f,e){return f.length<3?iU(f):f[0]+iC((f.push(f[0]),f),iz([f[f.length-2]].concat(f,[f[1]]),e))}function iF(f,e,g){return f.length<3?iU(f):f[0]+iC(f,iz(f,e))}function iC(v,u){if(u.length<1||v.length!=u.length&&v.length!=u.length+2){return iU(v)}var t=v.length!=u.length,s="",r=v[0],q=v[1],p=u[0],o=p,n=1;t&&(s+="Q"+(q[0]-p[0]*2/3)+","+(q[1]-p[1]*2/3)+","+q[0]+","+q[1],r=v[1],n=2);if(u.length>1){o=u[1],q=v[n],n++,s+="C"+(r[0]+p[0])+","+(r[1]+p[1])+","+(q[0]-o[0])+","+(q[1]-o[1])+","+q[0]+","+q[1];for(var m=2;m<u.length;m++,n++){q=v[n],o=u[m],s+="S"+(q[0]-o[0])+","+(q[1]-o[1])+","+q[0]+","+q[1]}}if(t){var l=v[n];s+="Q"+(q[0]+o[0]*2/3)+","+(q[1]+o[1]*2/3)+","+l[0]+","+l[1]}return s}function iz(r,q){var p=[],o=(1-q)/2,n,m=r[0],l=r[1],k=1,j=r.length;while(++k<j){n=m,m=l,l=r[k],p.push([o*(l[0]-n[0]),o*(l[1]-n[1])])}return p}function iw(r){if(r.length<3){return iU(r)}var q=1,p=r.length,o=r[0],n=o[0],m=o[1],l=[n,n,n,(o=r[1])[0]],k=[m,m,m,o[1]],j=[n,",",m];gS(j,l,k);while(++q<p){o=r[q],l.shift(),l.push(o[0]),k.shift(),k.push(o[1]),gS(j,l,k)}q=-1;while(++q<2){l.shift(),l.push(o[0]),k.shift(),k.push(o[1]),gS(j,l,k)}return j.join("")}function it(i){if(i.length<4){return iU(i)}var h=[],n=-1,m=i.length,l,k=[0],j=[0];while(++n<3){l=i[n],k.push(l[0]),j.push(l[1])}h.push(j1(gU,k)+","+j1(gU,j)),--n;while(++n<m){l=i[n],k.shift(),k.push(l[0]),j.shift(),j.push(l[1]),gS(h,k,j)}return h.join("")}function ip(j){var i,p=-1,o=j.length,n=o+4,m,l=[],k=[];while(++p<4){m=j[p%o],l.push(m[0]),k.push(m[1])}i=[j1(gU,l),",",j1(gU,k)],--p;while(++p<n){m=j[p%o],l.shift(),l.push(m[0]),k.shift(),k.push(m[1]),gS(i,l,k)}return i.join("")}function il(t,s){var r=t.length-1,q=t[0][0],p=t[0][1],o=t[r][0]-q,n=t[r][1]-p,m=-1,l,k;while(++m<=r){l=t[m],k=m/r,l[0]=s*l[0]+(1-s)*(q+k*o),l[1]=s*l[1]+(1-s)*(p+k*n)}return iw(t)}function j1(f,e){return f[0]*e[0]+f[1]*e[1]+f[2]*e[2]+f[3]*e[3]}function gS(f,e,g){f.push("C",j1(ii,e),",",j1(ii,g),",",j1(gX,e),",",j1(gX,g),",",j1(gU,e),",",j1(gU,g))}function gQ(f,e){return(e[1]-f[1])/(e[0]-f[0])}function gO(i){var h=0,n=i.length-1,m=[],l=i[0],k=i[1],j=m[0]=gQ(l,k);while(++h<n){m[h]=j+(j=gQ(l=k,k=i[h+1]))}return m[h]=j,m}function gM(r){var q=[],p,o,n,m,l=gO(r),k=-1,j=r.length-1;while(++k<j){p=gQ(r[k],r[k+1]),Math.abs(p)<0.000001?l[k]=l[k+1]=0:(o=l[k]/p,n=l[k+1]/p,m=o*o+n*n,m>9&&(m=p*3/Math.sqrt(m),l[k]=m*o,l[k+1]=m*n))}k=-1;while(++k<=j){m=(r[Math.min(j,k+1)][0]-r[Math.max(0,k-1)][0])/(6*(1+l[k]*l[k])),q.push([m||0,l[k]*m||0])}return q}function gK(b){return b.length<3?iU(b):b[0]+iC(b,gM(b))}function gI(h){var g,l=-1,k=h.length,j,i;while(++l<k){g=h[l],j=g[0],i=g[1]+jt,g[0]=j*Math.cos(i),g[1]=j*Math.sin(i)}return h}function gG(t){function k(g){if(g.length<1){return null}var e=i9(this,g,s,q),b=i9(this,g,s===r?gE(e):r,q===p?gC(e):p);return"M"+n(t(b),l)+"L"+m(t(e.reverse()),l)+"Z"}var s=i6,r=i6,q=0,p=i3,o,n,m,l=0.7;return k.x=function(b){return arguments.length?(s=r=b,k):r},k.x0=function(b){return arguments.length?(s=b,k):s},k.x1=function(b){return arguments.length?(r=b,k):r},k.y=function(b){return arguments.length?(q=p=b,k):p},k.y0=function(b){return arguments.length?(q=b,k):q},k.y1=function(b){return arguments.length?(p=b,k):p},k.interpolate=function(b){return arguments.length?(iW.has(b+="")||(b=iZ),n=iW.get(o=b),m=n.reverse||n,k):o},k.tension=function(b){return arguments.length?(l=b,k):l},k.interpolate("linear")}function gE(b){return function(e,f){return b[f][0]}}function gC(b){return function(e,f){return b[f][1]}}function gA(b){return b.source}function gy(b){return b.target}function gx(b){return b.radius}function gt(b){return b.startAngle}function gr(b){return b.endAngle}function gq(b){return[b.x,b.y]}function f8(b){return function(){var e=b.apply(this,arguments),g=e[0],f=e[1]+jt;return[g*Math.cos(f),g*Math.sin(f)]}}function f6(){return 64}function f4(){return"circle"}function f2(f){var e=Math.sqrt(f/Math.PI);return"M0,"+e+"A"+e+","+e+" 0 1,1 0,"+-e+"A"+e+","+e+" 0 1,1 0,"+e+"Z"}function e5(f,e){f.attr("transform",function(b){return"translate("+e(b)+",0)"})}function ih(f,e){f.attr("transform",function(b){return"translate(0,"+e(b)+")"})}function id(t,s,r){p=[];if(r&&s.length>1){var q=h7(t.domain()),p,o=-1,n=s.length,m=(s[1]-s[0])/++r,l,k;while(++o<n){for(l=r;--l>0;){(k=+s[o]-l*m)>=q[0]&&p.push(k)}}for(--o,l=0;++l<r&&(k=+s[o]+l*m)<q[1];){p.push(k)}}return p}function hY(){h3||(h3=d3.select("body").append("div").style("visibility","hidden").style("top",0).style("height",0).style("width",0).style("overflow-y","scroll").append("div").style("height","2000px").node().parentNode);var f=d3.event,e;try{h3.scrollTop=1000,h3.dispatchEvent(f),e=1000-h3.scrollTop}catch(g){e=f.wheelDelta||-f.detail*5}return e}function hV(h){var g=h.source,l=h.target,k=hP(g,l),j=[g];while(g!==k){g=g.parent,j.push(g)}var i=j.length;while(l!==k){j.splice(i,0,l),l=l.parent}return j}function hS(f){var e=[],g=f.parent;while(g!=null){e.push(f),f=g,g=g.parent}return e.push(f),e}function hP(i,h){if(i===h){return i}var n=hS(i),m=hS(h),l=n.pop(),k=m.pop(),j=null;while(l===k){j=l,l=n.pop(),k=m.pop()}return j}function hG(b){b.fixed|=2}function hD(b){b!==hI&&(b.fixed&=1)}function hA(){hI.fixed&=1,hL=hI=null}function hx(){hI.px=d3.event.x,hI.py=d3.event.y,hL.resume()}function hu(t,s,r){var q=0,p=0;t.charge=0;if(!t.leaf){var o=t.nodes,n=o.length,m=-1,l;while(++m<n){l=o[m];if(l==null){continue}hu(l,s,r),t.charge+=l.charge,q+=l.charge*l.cx,p+=l.charge*l.cy}}if(t.point){t.leaf||(t.point.x+=Math.random()-0.5,t.point.y+=Math.random()-0.5);var k=s*r[t.point.index];t.charge+=t.pointCharge=k,q+=k*t.point.x,p+=k*t.point.y}t.cx=q/t.charge,t.cy=p/t.charge}function hr(b){return 20}function ho(b){return 1}function hi(b){return b.x}function hf(b){return b.y}function hc(f,e,g){f.y0=e,f.y=g}function g3(b){return d3.range(b.length)}function jv(f){var e=-1,h=f[0].length,g=[];while(++e<h){g[e]=0}return g}function g0(h){var g=1,l=0,k=h[0][1],j,i=h.length;for(;g<i;++g){(j=h[g][1])>k&&(l=g,k=j)}return l}function e1(b){return b.reduce(e0,0)}function e0(f,e){return f+e[1]}function d7(f,e){return d6(f,Math.ceil(Math.log(e.length)/Math.LN2+1))}function d6(h,g){var l=-1,k=+h[0],j=(h[1]-k)/g,i=[];while(++l<=g){i[l]=j*l+k}return i}function d4(b){return[d3.min(b),d3.max(b)]}function d1(f,e){return d3.rebind(f,e,"sort","children","value"),f.links=c2,f.nodes=function(g){return c0=!0,(f.nodes=f)(g)},f}function c8(b){return b.children}function c6(b){return b.value}function c4(f,e){return e.value-f.value}function c2(b){return d3.merge(b.map(function(e){return(e.children||[]).map(function(f){return{source:e,target:f}})}))}function b8(f,e){return f.value-e.value}function b6(f,e){var g=f._pack_next;f._pack_next=e,e._pack_prev=f,e._pack_next=g,g._pack_prev=e}function b4(f,e){f._pack_next=e,e._pack_prev=f}function b2(g,f){var j=f.x-g.x,i=f.y-g.y,h=g.r+f.r;return h*h-j*j-i*i>0.001}function b0(N){function C(b){M=Math.min(b.x-b.r,M),L=Math.max(b.x+b.r,L),K=Math.min(b.y-b.r,K),J=Math.max(b.y+b.r,J)}var M=Infinity,L=-Infinity,K=Infinity,J=-Infinity,I=N.length,H,G,F,E,D;N.forEach(a8),H=N[0],H.x=-H.r,H.y=0,C(H);if(I>1){G=N[1],G.x=G.r,G.y=0,C(G);if(I>2){F=N[2],a1(H,G,F),C(F),b6(H,F),H._pack_prev=F,b6(F,G),G=H._pack_next;for(var B=3;B<I;B++){a1(H,G,F=N[B]);var A=0,z=1,y=1;for(E=G._pack_next;E!==G;E=E._pack_next,z++){if(b2(E,F)){A=1;break}}if(A==1){for(D=H._pack_prev;D!==E._pack_prev;D=D._pack_prev,y++){if(b2(D,F)){break}}}A?(z<y||z==y&&G.r<H.r?b4(H,G=E):b4(H=D,G),B--):(b6(H,F),G=F,C(F))}}}var x=(M+L)/2,w=(K+J)/2,v=0;for(var B=0;B<I;B++){var u=N[B];u.x-=x,u.y-=w,v=Math.max(v,u.r+Math.sqrt(u.x*u.x+u.y*u.y))}return N.forEach(a6),v}function a8(b){b._pack_next=b._pack_prev=b}function a6(b){delete b._pack_next,delete b._pack_prev}function a5(f){var e=f.children;e&&e.length?(e.forEach(a5),f.r=b0(e)):f.r=Math.sqrt(f.value)}function a2(i,h,n,m){var l=i.children;i.x=h+=m*i.x,i.y=n+=m*i.y,i.r*=m;if(l){var k=-1,j=l.length;while(++k<j){a2(l[k],h,n,m)}}}function a1(x,w,v){var u=x.r+v.r,t=w.x-x.x,s=w.y-x.y;if(u&&(t||s)){var r=w.r+v.r,q=Math.sqrt(t*t+s*s),p=Math.max(-1,Math.min(1,(u*u+q*q-r*r)/(2*u*q))),o=Math.acos(p),n=p*(u/=q),m=Math.sin(o)*u;v.x=x.x+n*t+m*s,v.y=x.y+n*s-m*t}else{v.x=x.x+u,v.y=x.y}}function aY(b){return 1+d3.max(b,function(e){return e.y})}function aX(b){return b.reduce(function(f,e){return f+e.x},0)/b.length}function aU(f){var e=f.children;return e&&e.length?aU(e[0]):f}function aS(f){var e=f.children,g;return e&&(g=e.length)?aS(e[g-1]):f}function aR(f,e){return f.parent==e.parent?1:2}function gZ(f){var e=f.children;return e&&e.length?e[0]:f._tree.thread}function gY(f){var e=f.children,g;return e&&(g=e.length)?e[g-1]:f._tree.thread}function gV(h,g){var l=h.children;if(l&&(j=l.length)){var k,j,i=-1;while(++i<j){g(k=gV(l[i],g),h)>0&&(h=k)}}return h}function gT(f,e){return f.x-e.x}function gR(f,e){return e.x-f.x}function gP(f,e){return f.depth-e.depth}function gN(f,e){function g(b,o){var n=b.children;if(n&&(j=n.length)){var m,l=null,k=-1,j;while(++k<j){m=n[k],g(m,l),l=m}}e(b,o)}g(f,null)}function gL(h){var g=0,l=0,k=h.children,j=k.length,i;while(--j>=0){i=k[j]._tree,i.prelim+=g,i.mod+=g,g+=i.shift+(l+=i.change)}}function gJ(f,e,h){f=f._tree,e=e._tree;var g=h/(e.number-f.number);f.change+=g,e.change-=g,e.shift+=h,e.prelim+=h,e.mod+=h}function gH(f,e,g){return f._tree.ancestor.parent==e.parent?f._tree.ancestor:g}function gF(b){return{x:b.x,y:b.y,dx:b.dx,dy:b.dy}}function gD(h,g){var l=h.x+g[3],k=h.y+g[0],j=h.dx-g[1]-g[3],i=h.dy-g[0]-g[2];return j<0&&(l+=j/2,j=0),i<0&&(k+=i/2,i=0),{x:l,y:k,dx:j,dy:i}}function gB(b){return b.map(gz).join(",")}function gz(b){return/[",\n]/.test(b)?'"'+b.replace(/\"/g,'""')+'"':b}function gv(f,e){return function(b){return b&&f.hasOwnProperty(b.type)?f[b.type](b):e}}function gu(b){return"m0,"+b+"a"+b+","+b+" 0 1,1 0,"+-2*b+"a"+b+","+b+" 0 1,1 0,"+2*b+"z"}function gs(f,e){gp.hasOwnProperty(f.type)&&gp[f.type](f,e)}function f9(f,e){gs(f.geometry,e)}function f7(g,f){for(var j=g.features,i=0,h=j.length;i<h;i++){gs(j[i].geometry,f)}}function f5(g,f){for(var j=g.geometries,i=0,h=j.length;i<h;i++){gs(j[i],f)}}function f3(g,f){for(var j=g.coordinates,i=0,h=j.length;i<h;i++){f.apply(null,j[i])}}function f1(j,i){for(var p=j.coordinates,o=0,n=p.length;o<n;o++){for(var m=p[o],l=0,k=m.length;l<k;l++){i.apply(null,m[l])}}}function e9(j,i){for(var p=j.coordinates,o=0,n=p.length;o<n;o++){for(var m=p[o][0],l=0,k=m.length;l<k;l++){i.apply(null,m[l])}}}function e7(f,e){e.apply(null,f.coordinates)}function ib(g,f){for(var j=g.coordinates[0],i=0,h=j.length;i<h;i++){f.apply(null,j[i])}}function e4(b){return b.source}function aP(b){return b.target}function aO(H,G){function r(h){var e=Math.sin(t-(h*=t))/s,m=Math.sin(h)/s,k=e*B*E+m*v*y,j=e*B*D+m*v*x,g=e*A+m*u;return[Math.atan2(j,k)/gw,Math.atan2(g,Math.sqrt(k*k+j*j))/gw]}var F=H[0]*gw,E=Math.cos(F),D=Math.sin(F),C=H[1]*gw,B=Math.cos(C),A=Math.sin(C),z=G[0]*gw,y=Math.cos(z),x=Math.sin(z),w=G[1]*gw,v=Math.cos(w),u=Math.sin(w),t=r.d=Math.acos(Math.max(-1,Math.min(1,A*u+B*v*Math.cos(z-F)))),s=Math.sin(t);return r}function aL(f){var e=0,g=0;for(;;){if(f(e,g)){return[e,g]}e===0?(e=g+1,g=0):(e-=1,g+=1)}}function aK(v,u,t,s){var r,q,p,o,n,m,l;return r=s[v],q=r[0],p=r[1],r=s[u],o=r[0],n=r[1],r=s[t],m=r[0],l=r[1],(l-p)*(o-q)-(n-p)*(m-q)>0}function aJ(f,e,g){return(g[0]-e[0])*(f[1]-e[1])<(g[1]-e[1])*(f[0]-e[0])}function aI(L,K,J,I){var H=L[0],G=K[0],F=J[0],E=I[0],D=L[1],C=K[1],B=J[1],A=I[1],z=H-F,y=G-H,x=E-F,w=D-B,v=C-D,u=A-B,t=(x*w-u*z)/(u*y-x*v);return[H+t*y,D+t*v]}function aG(N,M){var L={list:N.map(function(f,e){return{index:e,x:f[0],y:f[1]}}).sort(function(f,e){return f.y<e.y?-1:f.y>e.y?1:f.x<e.x?-1:f.x>e.x?1:0}),bottomSite:null},K={list:[],leftEnd:null,rightEnd:null,init:function(){K.leftEnd=K.createHalfEdge(null,"l"),K.rightEnd=K.createHalfEdge(null,"l"),K.leftEnd.r=K.rightEnd,K.rightEnd.l=K.leftEnd,K.list.unshift(K.leftEnd,K.rightEnd)},createHalfEdge:function(f,e){return{edge:f,side:e,vertex:null,l:null,r:null}},insert:function(f,e){e.l=f,e.r=f.r,f.r.l=e,f.r=e},leftBound:function(f){var e=K.leftEnd;do{e=e.r}while(e!=K.rightEnd&&J.rightOf(e,f));return e=e.l,e},del:function(b){b.l.r=b.r,b.r.l=b.l,b.edge=null},right:function(b){return b.r},left:function(b){return b.l},leftRegion:function(b){return b.edge==null?L.bottomSite:b.edge.region[b.side]},rightRegion:function(b){return b.edge==null?L.bottomSite:b.edge.region[aH[b.side]]}},J={bisect:function(i,h){var n={region:{l:i,r:h},ep:{l:null,r:null}},m=h.x-i.x,l=h.y-i.y,k=m>0?m:-m,j=l>0?l:-l;return n.c=i.x*m+i.y*l+(m*m+l*l)*0.5,k>j?(n.a=1,n.b=l/m,n.c/=m):(n.b=1,n.a=m/l,n.c/=l),n},intersect:function(R,Q){var P=R.edge,O=Q.edge;if(!P||!O||P.region.r==O.region.r){return null}var t=P.a*O.b-P.b*O.a;if(Math.abs(t)<1e-10){return null}var s=(P.c*O.b-O.c*P.b)/t,r=(O.c*P.a-P.c*O.a)/t,q=P.region.r,p=O.region.r,o,n;q.y<p.y||q.y==p.y&&q.x<p.x?(o=R,n=P):(o=Q,n=O);var m=s>=n.region.r.x;return m&&o.side==="l"||!m&&o.side==="r"?null:{x:s,y:r}},rightOf:function(V,U){var T=V.edge,S=T.region.r,R=U.x>S.x;if(R&&V.side==="l"){return 1}if(!R&&V.side==="r"){return 0}if(T.a===1){var Q=U.y-S.y,P=U.x-S.x,O=0,t=0;!R&&T.b<0||R&&T.b>=0?t=O=Q>=T.b*P:(t=U.x+U.y*T.b>T.c,T.b<0&&(t=!t),t||(O=1));if(!O){var s=S.x-T.region.l.x;t=T.b*(P*P-Q*Q)<s*Q*(1+2*P/s+T.b*T.b),T.b<0&&(t=!t)}}else{var r=T.c-T.a*U.x,q=U.y-r,p=U.x-S.x,o=r-S.y;t=q*q>p*p+o*o}return V.side==="l"?t:!t},endPoint:function(b,f,e){b.ep[f]=e;if(!b.ep[aH[f]]){return}M(b)},distance:function(f,e){var h=f.x-e.x,g=f.y-e.y;return Math.sqrt(h*h+g*g)}},I={list:[],insert:function(i,f,n){i.vertex=f,i.ystar=f.y+n;for(var m=0,l=I.list,k=l.length;m<k;m++){var j=l[m];if(i.ystar>j.ystar||i.ystar==j.ystar&&f.x>j.vertex.x){continue}break}l.splice(m,0,i)},del:function(f){for(var e=0,h=I.list,g=h.length;e<g&&h[e]!=f;++e){}h.splice(e,1)},empty:function(){return I.list.length===0},nextEvent:function(f){for(var e=0,h=I.list,g=h.length;e<g;++e){if(h[e]==f){return h[e+1]}}return null},min:function(){var b=I.list[0];return{x:b.vertex.x,y:b.ystar}},extractMin:function(){return I.list.shift()}};K.init(),L.bottomSite=L.list.shift();var H=L.list.shift(),G,F,E,D,C,B,A,z,y,x,w,v,u;for(;;){I.empty()||(G=I.min());if(H&&(I.empty()||H.y<G.y||H.y==G.y&&H.x<G.x)){F=K.leftBound(H),E=K.right(F),A=K.rightRegion(F),v=J.bisect(A,H),B=K.createHalfEdge(v,"l"),K.insert(F,B),x=J.intersect(F,B),x&&(I.del(F),I.insert(F,x,J.distance(x,H))),F=B,B=K.createHalfEdge(v,"r"),K.insert(F,B),x=J.intersect(B,E),x&&I.insert(B,x,J.distance(x,H)),H=L.list.shift()}else{if(!I.empty()){F=I.extractMin(),D=K.left(F),E=K.right(F),C=K.right(E),A=K.leftRegion(F),z=K.rightRegion(E),w=F.vertex,J.endPoint(F.edge,F.side,w),J.endPoint(E.edge,E.side,w),K.del(F),I.del(E),K.del(E),u="l",A.y>z.y&&(y=A,A=z,z=y,u="r"),v=J.bisect(A,z),B=K.createHalfEdge(v,u),K.insert(D,B),J.endPoint(v,aH[u],w),x=J.intersect(D,B),x&&(I.del(D),I.insert(D,x,J.distance(x,A))),x=J.intersect(B,C),x&&I.insert(B,x,J.distance(x,A))}else{break}}}for(F=K.right(K.leftEnd);F!=K.rightEnd;F=K.right(F)){M(F.edge)}}function aF(){return{leaf:!0,nodes:[],point:null}}function aE(r,q,p,o,n,m){if(!r(q,p,o,n,m)){var l=(p+n)*0.5,k=(o+m)*0.5,j=q.nodes;j[0]&&aE(r,j[0],p,o,l,k),j[1]&&aE(r,j[1],l,o,n,k),j[2]&&aE(r,j[2],p,k,l,m),j[3]&&aE(r,j[3],l,k,n,m)}}function aD(b){return{x:b[0],y:b[1]}}function aB(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}function az(r,q,p,o){var n,m,l=0,k=q.length,j=p.length;while(l<k){if(o>=j){return -1}n=q.charCodeAt(l++);if(n==37){m=at[q.charAt(l++)];if(!m||(o=m(r,p,o))<0){return -1}}else{if(n!=p.charCodeAt(o++)){return -1}}}return o}function ar(f,e,g){return ap.test(e.substring(g,g+=3))?g:-1}function aq(f,e,h){e3.lastIndex=0;var g=e3.exec(e.substring(h,h+10));return g?h+=g[0].length:-1}function e2(f,e,h){var g=d9.get(e.substring(h,h+=3).toLowerCase());return g==null?-1:(f.m=g,h)}function d8(f,e,h){d5.lastIndex=0;var g=d5.exec(e.substring(h,h+12));return g?(f.m=d2.get(g[0].toLowerCase()),h+=g[0].length):-1}function c9(f,e,g){return az(f,au.c.toString(),e,g)}function c7(f,e,g){return az(f,au.x.toString(),e,g)}function c5(f,e,g){return az(f,au.X.toString(),e,g)}function c3(f,e,h){a4.lastIndex=0;var g=a4.exec(e.substring(h,h+4));return g?(f.y=+g[0],h+=g[0].length):-1}function c1(f,e,h){a4.lastIndex=0;var g=a4.exec(e.substring(h,h+2));return g?(f.y=b9()+ +g[0],h+=g[0].length):-1}function b9(){return ~~((new Date).getFullYear()/1000)*1000}function b7(f,e,h){a4.lastIndex=0;var g=a4.exec(e.substring(h,h+2));return g?(f.m=g[0]-1,h+=g[0].length):-1}function b5(f,e,h){a4.lastIndex=0;var g=a4.exec(e.substring(h,h+2));return g?(f.d=+g[0],h+=g[0].length):-1}function b3(f,e,h){a4.lastIndex=0;var g=a4.exec(e.substring(h,h+2));return g?(f.H=+g[0],h+=g[0].length):-1}function b1(f,e,h){a4.lastIndex=0;var g=a4.exec(e.substring(h,h+2));return g?(f.M=+g[0],h+=g[0].length):-1}function a9(f,e,h){a4.lastIndex=0;var g=a4.exec(e.substring(h,h+2));return g?(f.S=+g[0],h+=g[0].length):-1}function a7(f,e,h){a4.lastIndex=0;var g=a4.exec(e.substring(h,h+3));return g?(f.L=+g[0],h+=g[0].length):-1}function a3(f,e,h){var g=a0.get(e.substring(h,h+=2).toLowerCase());return g==null?-1:(f.p=g,h)}function aZ(g){var f=g.getTimezoneOffset(),j=f>0?"-":"+",i=~~(Math.abs(f)/60),h=Math.abs(f)%60;return j+ay(i)+ay(h)}function aV(b){return b.toISOString()}function aT(r,q,p){function o(e){var g=r(e),f=m(g,1);return e-g<f-e?g:f}function n(b){return q(b=r(new aC(b-1)),1),b}function m(b,e){return q(b=new aC(+b),e),b}function l(b,t,s){var i=n(b),e=[];if(s>1){while(i<t){p(i)%s||e.push(new Date(+i)),q(i,1)}}else{while(i<t){e.push(new Date(+i)),q(i,1)}}return e}function k(f,e,h){try{aC=aB;var g=new aB;return g._=f,l(g,e,h)}finally{aC=Date}}r.floor=r,r.round=o,r.ceil=n,r.offset=m,r.range=l;var j=r.utc=gW(r);return j.floor=j,j.round=gW(o),j.ceil=gW(n),j.offset=gW(m),j.range=k,r}function gW(b){return function(e,g){try{aC=aB;var f=new aB;return f._=e,b(f,g)._}finally{aC=Date}}}function aQ(f,e,h){function g(i){return f(i)}return g.invert=function(i){return an(f.invert(i))},g.domain=function(i){return arguments.length?(f.domain(i),g):f.domain().map(an)},g.nice=function(j){var i=ao(g.domain());return g.domain([j.floor(i[0]),j.ceil(i[1])])},g.ticks=function(n,m){var l=ao(g.domain());if(typeof n!="function"){var k=l[1]-l[0],j=k/n,b=d3.bisect(aj,j);if(b==aj.length){return e.year(l,n)}if(!b){return f.ticks(n).map(an)}Math.log(j/aj[b-1])<Math.log(aj[b]/j)&&--b,n=e[b],m=n[1],n=n[0].range}return n(l[0],new Date(+l[1]+1),m)},g.tickFormat=function(){return h},g.copy=function(){return aQ(f.copy(),e,h)},d3.rebind(g,f,"range","rangeRound","interpolate","clamp")}function ao(f){var e=f[0],g=f[f.length-1];return e<g?[e,g]:[g,e]}function an(b){return new Date(b)}function am(b){return function(e){var g=b.length-1,f=b[g];while(!f[1](e)){f=b[--g]}return f[0](e)}}function al(f){var e=new Date(f,0,1);return e.setFullYear(f),e}function ak(f){var e=f.getFullYear(),h=al(e),g=al(e+1);return e+(f-h)/(g-h)}function ab(f){var e=new Date(Date.UTC(f,0,1));return e.setUTCFullYear(f),e}function aa(f){var e=f.getUTCFullYear(),h=ab(e),g=ab(e+1);return e+(f-h)/(g-h)}Date.now||(Date.now=function(){return +(new Date)});try{document.createElement("div").style.setProperty("opacity",0,"")}catch(ig){var ic=CSSStyleDeclaration.prototype,h9=ic.setProperty;ic.setProperty=function(f,e,g){h9.call(this,f,e+"",g)}}d3={version:"2.8.1"};var h1=hU;try{h1(document.documentElement.childNodes)[0].nodeType}catch(hR){h1=hX}var hO=[].__proto__?function(f,e){f.__proto__=e}:function(f,e){for(var g in e){f[g]=e[g]}};d3.map=function(f){var e=new hM;for(var g in f){e.set(g,f[g])}return e},h4(hM,{has:function(b){return hJ+b in this},get:function(b){return this[hJ+b]},set:function(f,e){return this[hJ+f]=e},remove:function(b){return b=hJ+b,b in this&&delete this[b]},keys:function(){var b=[];return this.forEach(function(e){b.push(e)}),b},values:function(){var b=[];return this.forEach(function(e,f){b.push(f)}),b},entries:function(){var b=[];return this.forEach(function(e,f){b.push({key:e,value:f})}),b},forEach:function(f){for(var e in this){e.charCodeAt(0)===hF&&f.call(this,e.substring(1),this[e])}}});var hJ="\0",hF=hJ.charCodeAt(0);d3.functor=function(b){return typeof b=="function"?b:function(){return b}},d3.rebind=function(g,f){var j=1,i=arguments.length,h;while(++j<i){g[h=arguments[j]]=hz(g,f,f[h])}return g},d3.ascending=function(f,e){return f<e?-1:f>e?1:f>=e?0:NaN},d3.descending=function(f,e){return e<f?-1:e>f?1:e>=f?0:NaN},d3.mean=function(i,h){var n=i.length,m,l=0,k=-1,j=0;if(arguments.length===1){while(++k<n){hw(m=i[k])&&(l+=(m-l)/++j)}}else{while(++k<n){hw(m=h.call(i,i[k],k))&&(l+=(m-l)/++j)}}return j?l:undefined},d3.median=function(f,e){return arguments.length>1&&(f=f.map(e)),f=f.filter(hw),f.length?d3.quantile(f.sort(d3.ascending),0.5):undefined},d3.min=function(h,g){var l=-1,k=h.length,j,i;if(arguments.length===1){while(++l<k&&((j=h[l])==null||j!=j)){j=undefined}while(++l<k){(i=h[l])!=null&&j>i&&(j=i)}}else{while(++l<k&&((j=g.call(h,h[l],l))==null||j!=j)){j=undefined}while(++l<k){(i=g.call(h,h[l],l))!=null&&j>i&&(j=i)}}return j},d3.max=function(h,g){var l=-1,k=h.length,j,i;if(arguments.length===1){while(++l<k&&((j=h[l])==null||j!=j)){j=undefined}while(++l<k){(i=h[l])!=null&&i>j&&(j=i)}}else{while(++l<k&&((j=g.call(h,h[l],l))==null||j!=j)){j=undefined}while(++l<k){(i=g.call(h,h[l],l))!=null&&i>j&&(j=i)}}return j},d3.extent=function(i,h){var n=-1,m=i.length,l,k,j;if(arguments.length===1){while(++n<m&&((l=j=i[n])==null||l!=l)){l=j=undefined}while(++n<m){(k=i[n])!=null&&(l>k&&(l=k),j<k&&(j=k))}}else{while(++n<m&&((l=j=h.call(i,i[n],n))==null||l!=l)){l=undefined}while(++n<m){(k=h.call(i,i[n],n))!=null&&(l>k&&(l=k),j<k&&(j=k))}}return[l,j]},d3.random={normal:function(f,e){return arguments.length<2&&(e=1),arguments.length<1&&(f=0),function(){var h,g,b;do{h=Math.random()*2-1,g=Math.random()*2-1,b=h*h+g*g}while(!b||b>1);return f+e*h*Math.sqrt(-2*Math.log(b)/b)}}},d3.sum=function(h,g){var l=0,k=h.length,j,i=-1;if(arguments.length===1){while(++i<k){isNaN(j=+h[i])||(l+=j)}}else{while(++i<k){isNaN(j=+g.call(h,h[i],i))||(l+=j)}}return l},d3.quantile=function(h,g){var l=(h.length-1)*g+1,k=Math.floor(l),j=h[k-1],i=l-k;return i?j+i*(h[k]-j):j},d3.transpose=function(b){return d3.zip.apply(d3,b)},d3.zip=function(){if(!(j=arguments.length)){return[]}for(var h=-1,g=d3.min(arguments,ht),l=new Array(g);++h<g;){for(var k=-1,j,i=l[h]=new Array(j);++k<j;){i[k]=arguments[k][h]}}return l},d3.bisector=function(b){return{left:function(g,k,j,i){arguments.length<3&&(j=0),arguments.length<4&&(i=g.length);while(j<i){var h=j+i>>1;b.call(g,g[h],h)<k?j=h+1:i=h}return j},right:function(g,k,j,i){arguments.length<3&&(j=0),arguments.length<4&&(i=g.length);while(j<i){var h=j+i>>1;k<b.call(g,g[h],h)?i=h:j=h+1}return j}}};var hq=d3.bisector(function(b){return b});d3.bisectLeft=hq.left,d3.bisect=d3.bisectRight=hq.right,d3.first=function(h,g){var l=0,k=h.length,j=h[0],i;arguments.length===1&&(g=d3.ascending);while(++l<k){g.call(h,j,i=h[l])>0&&(j=i)}return j},d3.last=function(h,g){var l=0,k=h.length,j=h[0],i;arguments.length===1&&(g=d3.ascending);while(++l<k){g.call(h,j,i=h[l])<=0&&(j=i)}return j},d3.nest=function(){function k(w,v){if(v>=h.length){return l?l.call(i,w):m?w.sort(m):w}var u=-1,t=w.length,s=h[v++],r,q,f=new hM,e,b={};while(++u<t){(e=f.get(r=s(q=w[u])))?e.push(q):f.set(r,[q])}return f.forEach(function(g){b[g]=k(f.get(g),v)}),b}function j(b,q){if(q>=h.length){return b}var p=[],o=n[q++],g;for(g in b){p.push({key:g,values:j(b[g],q)})}return o&&p.sort(function(f,e){return o(f.key,e.key)}),p}var i={},h=[],n=[],m,l;return i.map=function(b){return k(b,0)},i.entries=function(b){return j(k(b,0),0)},i.key=function(b){return h.push(b),i},i.sortKeys=function(b){return n[h.length-1]=b,i},i.sortValues=function(e){return m=e,i},i.rollup=function(e){return l=e,i},i},d3.keys=function(f){var e=[];for(var g in f){e.push(g)}return e},d3.values=function(f){var e=[];for(var g in f){e.push(f[g])}return e},d3.entries=function(f){var e=[];for(var g in f){e.push({key:g,value:f[g]})}return e},d3.permute=function(g,f){var j=[],i=-1,h=f.length;while(++i<h){j[i]=g[f[i]]}return j},d3.merge=function(b){return Array.prototype.concat.apply([],b)},d3.split=function(i,h){var n=[],m=[],l,k=-1,j=i.length;arguments.length<2&&(h=hn);while(++k<j){h.call(m,l=i[k],k)?m=[]:(m.length||n.push(m),m.push(l))}return n},d3.range=function(i,h,n){arguments.length<3&&(n=1,arguments.length<2&&(h=i,i=0));if((h-i)/n===Infinity){throw new Error("infinite range")}var m=[],l=hh(Math.abs(n)),k=-1,j;i*=l,h*=l,n*=l;if(n<0){while((j=i+n*++k)>h){m.push(j/l)}}else{while((j=i+n*++k)<h){m.push(j/l)}}return m},d3.requote=function(b){return b.replace(he,"\\$&")};var he=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;d3.round=function(f,e){return e?Math.round(f*(e=Math.pow(10,e)))/e:Math.round(f)},d3.xhr=function(f,e,h){var g=new XMLHttpRequest;arguments.length<3?(h=e,e=null):e&&g.overrideMimeType&&g.overrideMimeType(e),g.open("GET",f,!0),e&&g.setRequestHeader("Accept",e),g.onreadystatechange=function(){g.readyState===4&&h(g.status<300?g:null)},g.send(null)},d3.text=function(f,e,h){function g(b){h(b&&b.responseText)}arguments.length<3&&(h=e,e=null),d3.xhr(f,e,g)},d3.json=function(f,e){d3.text(f,"application/json",function(b){e(b?JSON.parse(b):null)})},d3.html=function(f,e){d3.text(f,"text/html",function(b){if(b!=null){var g=document.createRange();g.selectNode(document.body),b=g.createContextualFragment(b)}e(b)})},d3.xml=function(f,e,h){function g(b){h(b&&b.responseXML)}arguments.length<3&&(h=e,e=null),d3.xhr(f,e,g)};var hb={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};d3.ns={prefix:hb,qualify:function(f){var e=f.indexOf(":"),g=f;return e>=0&&(g=f.substring(0,e),f=f.substring(e+1)),hb.hasOwnProperty(g)?{space:hb[g],local:f}:f}},d3.dispatch=function(){var f=new g9,e=-1,g=arguments.length;while(++e<g){f[arguments[e]]=g6(f)}return f},g9.prototype.on=function(f,e){var h=f.indexOf("."),g="";return h>0&&(g=f.substring(h+1),f=f.substring(0,h)),arguments.length<2?this[f].on(g):this[f].on(g,e)},d3.format=function(x){var w=g2.exec(x),v=w[1]||" ",u=w[3]||"",t=w[5],s=+w[6],r=w[7],q=w[8],p=w[9],o=1,n="",m=!1;q&&(q=+q.substring(1)),t&&(v="0",r&&(s-=Math.floor((s-1)/4)));switch(p){case"n":r=!0,p="g";break;case"%":o=100,n="%",p="f";break;case"p":o=100,n="%",p="r";break;case"d":m=!0,q=0;break;case"s":o=-1,p="r"}return p=="r"&&!q&&(p="g"),p=jC.get(p)||jx,function(g){if(m&&g%1){return""}var f=g<0&&(g=-g)?"−":u;if(o<0){var e=d3.formatPrefix(g,q);g*=e.scale,n=e.symbol}else{g*=o}g=p(g,q);if(t){var h=g.length+f.length;h<s&&(g=(new Array(s-h+1)).join(v)+g),r&&(g=ju(g)),g=f+g}else{r&&(g=ju(g)),g=f+g;var h=g.length;h<s&&(g=(new Array(s-h+1)).join(v)+g)}return g+n}};var g2=/(?:([^{])?([<>=^]))?([+\- ])?(#)?(0)?([0-9]+)?(,)?(\.[0-9]+)?([a-zA-Z%])?/,jC=d3.map({g:function(f,e){return f.toPrecision(e)},e:function(f,e){return f.toExponential(e)},f:function(f,e){return f.toFixed(e)},r:function(f,e){return d3.round(f,e=jA(f,e)).toFixed(Math.max(0,Math.min(20,e)))}}),jr=["y","z","a","f","p","n","μ","m","","k","M","G","T","P","E","Z","Y"].map(jn);d3.formatPrefix=function(f,e){var g=0;return f&&(f<0&&(f*=-1),e&&(f=d3.round(f,jA(f,e))),g=1+Math.floor(1e-12+Math.log(f)/Math.LN10),g=Math.max(-24,Math.min(24,Math.floor((g<=0?g+1:g-1)/3)*3))),jr[8+g/3]};var jk=iT(2),jh=iT(3),je=function(){return iX},jb=d3.map({linear:je,poly:iT,quad:function(){return jk},cubic:function(){return jh},sin:function(){return iQ},exp:function(){return iN},circle:function(){return iK},elastic:iH,back:iE,bounce:function(){return iB}}),i8=d3.map({"in":iX,out:i2,"in-out":i0,"out-in":function(b){return i0(i2(b))}});d3.ease=function(f){var e=f.indexOf("-"),h=e>=0?f.substring(0,e):f,g=e>=0?f.substring(e+1):"in";return h=jb.get(h)||je,g=i8.get(g)||iX,i5(g(h.apply(null,Array.prototype.slice.call(arguments,1))))},d3.event=null,d3.interpolate=function(f,e){var h=d3.interpolators.length,g;while(--h>=0&&!(g=d3.interpolators[h](f,e))){}return g},d3.interpolateNumber=function(f,e){return e-=f,function(b){return f+e*b}},d3.interpolateRound=function(f,e){return e-=f,function(b){return Math.round(f+e*b)}},d3.interpolateString=function(v,u){var t,s,r,q=0,p=0,o=[],n=[],m,l;io.lastIndex=0;for(s=0;t=io.exec(u);++s){t.index&&o.push(u.substring(q,p=t.index)),n.push({i:o.length,x:t[0]}),o.push(null),q=io.lastIndex}q<u.length&&o.push(u.substring(q));for(s=0,m=n.length;(t=io.exec(v))&&s<m;++s){l=n[s];if(l.x==t[0]){if(l.i){if(o[l.i+1]==null){o[l.i-1]+=l.x,o.splice(l.i,1);for(r=s+1;r<m;++r){n[r].i--}}else{o[l.i-1]+=l.x+o[l.i+1],o.splice(l.i,2);for(r=s+1;r<m;++r){n[r].i-=2}}}else{if(o[l.i+1]==null){o[l.i]=l.x}else{o[l.i]=l.x+o[l.i+1],o.splice(l.i+1,1);for(r=s+1;r<m;++r){n[r].i--}}}n.splice(s,1),m--,s--}else{l.x=d3.interpolateNumber(parseFloat(t[0]),parseFloat(l.x))}}while(s<m){l=n.pop(),o[l.i+1]==null?o[l.i]=l.x:(o[l.i]=l.x+o[l.i+1],o.splice(l.i+1,1)),m--}return o.length===1?o[0]==null?n[0].x:function(){return u}:function(b){for(s=0;s<m;++s){o[(l=n[s]).i]=l.x(b)}return o.join("")}},d3.interpolateTransform=function(D,C){var B=[],A=[],z,y=d3.transform(D),x=d3.transform(C),w=y.translate,v=x.translate,u=y.rotate,t=x.rotate,s=y.skew,r=x.skew,q=y.scale,p=x.scale;return w[0]!=v[0]||w[1]!=v[1]?(B.push("translate(",null,",",null,")"),A.push({i:1,x:d3.interpolateNumber(w[0],v[0])},{i:3,x:d3.interpolateNumber(w[1],v[1])})):v[0]||v[1]?B.push("translate("+v+")"):B.push(""),u!=t?A.push({i:B.push(B.pop()+"rotate(",null,")")-2,x:d3.interpolateNumber(u,t)}):t&&B.push(B.pop()+"rotate("+t+")"),s!=r?A.push({i:B.push(B.pop()+"skewX(",null,")")-2,x:d3.interpolateNumber(s,r)}):r&&B.push(B.pop()+"skewX("+r+")"),q[0]!=p[0]||q[1]!=p[1]?(z=B.push(B.pop()+"scale(",null,",",null,")"),A.push({i:z-4,x:d3.interpolateNumber(q[0],p[0])},{i:z-2,x:d3.interpolateNumber(q[1],p[1])})):(p[0]!=1||p[1]!=1)&&B.push(B.pop()+"scale("+p+")"),z=A.length,function(g){var e=-1,h;while(++e<z){B[(h=A[e]).i]=h.x(g)}return B.join("")}},d3.interpolateRgb=function(j,i){j=d3.rgb(j),i=d3.rgb(i);var p=j.r,o=j.g,n=j.b,m=i.r-p,l=i.g-o,k=i.b-n;return function(b){return"#"+jp(Math.round(p+m*b))+jp(Math.round(o+l*b))+jp(Math.round(n+k*b))}},d3.interpolateHsl=function(j,i){j=d3.hsl(j),i=d3.hsl(i);var p=j.h,o=j.s,n=j.l,m=i.h-p,l=i.s-o,k=i.l-n;return function(b){return i4(p+m*b,o+l*b,n+k*b).toString()}},d3.interpolateArray=function(j,i){var p=[],o=[],n=j.length,m=i.length,l=Math.min(j.length,i.length),k;for(k=0;k<l;++k){p.push(d3.interpolate(j[k],i[k]))}for(;k<n;++k){o[k]=j[k]}for(;k<m;++k){o[k]=i[k]}return function(b){for(k=0;k<l;++k){o[k]=p[k](b)}return o}},d3.interpolateObject=function(g,f){var j={},i={},h;for(h in g){h in f?j[h]=j3(h)(g[h],f[h]):i[h]=g[h]}for(h in f){h in g||(i[h]=f[h])}return function(b){for(h in j){i[h]=j[h](b)}return i}};var io=/[-+]?(?:\d*\.?\d+)(?:[eE][-+]?\d+)?/g;d3.interpolators=[d3.interpolateObject,function(f,e){return e instanceof Array&&d3.interpolateArray(f,e)},function(f,e){return(typeof f=="string"||typeof e=="string")&&d3.interpolateString(f+"",e+"")},function(f,e){return(typeof e=="string"?jd.has(e)||/^(#|rgb\(|hsl\()/.test(e):e instanceof js||e instanceof i7)&&d3.interpolateRgb(f,e)},function(f,e){return !isNaN(f=+f)&&!isNaN(e=+e)&&d3.interpolateNumber(f,e)}],d3.rgb=function(f,e,g){return arguments.length===1?f instanceof js?jw(f.r,f.g,f.b):jm(""+f,jw,i4):jw(~~f,~~e,~~g)},js.prototype.brighter=function(g){g=Math.pow(0.7,arguments.length?g:1);var f=this.r,j=this.g,i=this.b,h=30;return !f&&!j&&!i?jw(h,h,h):(f&&f<h&&(f=h),j&&j<h&&(j=h),i&&i<h&&(i=h),jw(Math.min(255,Math.floor(f/g)),Math.min(255,Math.floor(j/g)),Math.min(255,Math.floor(i/g))))},js.prototype.darker=function(b){return b=Math.pow(0.7,arguments.length?b:1),jw(Math.floor(b*this.r),Math.floor(b*this.g),Math.floor(b*this.b))},js.prototype.hsl=function(){return jj(this.r,this.g,this.b)},js.prototype.toString=function(){return"#"+jp(this.r)+jp(this.g)+jp(this.b)};var jd=d3.map({aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"});jd.forEach(function(f,e){jd.set(f,jm(e,jw,i4))}),d3.hsl=function(f,e,g){return arguments.length===1?f instanceof i7?ja(f.h,f.s,f.l):jm(""+f,jj,ja):ja(+f,+e,+g)},i7.prototype.brighter=function(b){return b=Math.pow(0.7,arguments.length?b:1),ja(this.h,this.s,this.l/b)},i7.prototype.darker=function(b){return b=Math.pow(0.7,arguments.length?b:1),ja(this.h,this.s,b*this.l)},i7.prototype.rgb=function(){return i4(this.h,this.s,this.l)},i7.prototype.toString=function(){return this.rgb().toString()};var iY=function(f,e){return e.querySelector(f)},iV=function(f,e){return e.querySelectorAll(f)},iS=document.documentElement,iP=iS.matchesSelector||iS.webkitMatchesSelector||iS.mozMatchesSelector||iS.msMatchesSelector||iS.oMatchesSelector,iM=function(f,e){return iP.call(f,e)};typeof Sizzle=="function"&&(iY=function(f,e){return Sizzle(f,e)[0]},iV=function(f,e){return Sizzle.uniqueSort(Sizzle(f,e))},iM=Sizzle.matchesSelector);var iJ=[];d3.selection=function(){return ik},d3.selection.prototype=iJ,iJ.select=function(t){var s=[],r,q,p,o;typeof t!="function"&&(t=iG(t));for(var n=-1,m=this.length;++n<m;){s.push(r=[]),r.parentNode=(p=this[n]).parentNode;for(var l=-1,k=p.length;++l<k;){(o=p[l])?(r.push(q=t.call(o,o.__data__,l)),q&&"__data__" in o&&(q.__data__=o.__data__)):r.push(null)}}return i1(s)},iJ.selectAll=function(r){var q=[],p,o;typeof r!="function"&&(r=iD(r));for(var n=-1,m=this.length;++n<m;){for(var l=this[n],k=-1,f=l.length;++k<f;){if(o=l[k]){q.push(p=h1(r.call(o,o.__data__,k))),p.parentNode=o}}}return i1(q)},iJ.attr=function(r,q){function o(){this.removeAttribute(r)}function n(){this.removeAttributeNS(r.space,r.local)}function m(){this.setAttribute(r,q)}function l(){this.setAttributeNS(r.space,r.local,q)}function k(){var b=q.apply(this,arguments);b==null?this.removeAttribute(r):this.setAttribute(r,b)}function j(){var b=q.apply(this,arguments);b==null?this.removeAttributeNS(r.space,r.local):this.setAttributeNS(r.space,r.local,b)}r=d3.ns.qualify(r);if(arguments.length<2){var p=this.node();return r.local?p.getAttributeNS(r.space,r.local):p.getAttribute(r)}return this.each(q==null?r.local?n:o:typeof q=="function"?r.local?j:k:r.local?l:m)},iJ.classed=function(g,f){var j=g.split(iA),i=j.length,h=-1;if(arguments.length>1){while(++h<i){ix.call(this,j[h],f)}return this}while(++h<i){if(!ix.call(this,j[h])){return !1}}return !0};var iA=/\s+/g;iJ.style=function(h,g,l){function k(){this.style.removeProperty(h)}function j(){this.style.setProperty(h,g,l)}function i(){var b=g.apply(this,arguments);b==null?this.style.removeProperty(h):this.style.setProperty(h,b,l)}return arguments.length<3&&(l=""),arguments.length<2?window.getComputedStyle(this.node(),null).getPropertyValue(h):this.each(g==null?k:typeof g=="function"?i:j)},iJ.property=function(g,f){function j(){delete this[g]}function i(){this[g]=f}function h(){var b=f.apply(this,arguments);b==null?delete this[g]:this[g]=b}return arguments.length<2?this.node()[g]:this.each(f==null?j:typeof f=="function"?h:i)},iJ.text=function(b){return arguments.length<1?this.node().textContent:this.each(typeof b=="function"?function(){var e=b.apply(this,arguments);this.textContent=e==null?"":e}:b==null?function(){this.textContent=""}:function(){this.textContent=b})},iJ.html=function(b){return arguments.length<1?this.node().innerHTML:this.each(typeof b=="function"?function(){var e=b.apply(this,arguments);this.innerHTML=e==null?"":e}:b==null?function(){this.innerHTML=""}:function(){this.innerHTML=b})},iJ.append=function(f){function e(){return this.appendChild(document.createElementNS(this.namespaceURI,f))}function g(){return this.appendChild(document.createElementNS(f.space,f.local))}return f=d3.ns.qualify(f),this.select(f.local?g:e)},iJ.insert=function(f,e){function h(){return this.insertBefore(document.createElementNS(this.namespaceURI,f),iY(e,this))}function g(){return this.insertBefore(document.createElementNS(f.space,f.local),iY(e,this))}return f=d3.ns.qualify(f),this.select(f.local?g:h)},iJ.remove=function(){return this.each(function(){var b=this.parentNode;b&&b.removeChild(this)})},iJ.data=function(t,s){function n(D,C){var B,A=D.length,z=C.length,y=Math.min(A,z),x=Math.max(A,z),w=[],v=[],j=[],i,h;if(s){var b=new hM,G=[],F,E=C.length;for(B=-1;++B<A;){F=s.call(i=D[B],i.__data__,B),b.has(F)?j[E++]=i:b.set(F,i),G.push(F)}for(B=-1;++B<z;){F=s.call(C,h=C[B],B),b.has(F)?(w[B]=i=b.get(F),i.__data__=h,v[B]=j[B]=null):(v[B]=iu(h),w[B]=j[B]=null),b.remove(F)}for(B=-1;++B<A;){b.has(G[B])&&(j[B]=D[B])}}else{for(B=-1;++B<y;){i=D[B],h=C[B],i?(i.__data__=h,w[B]=i,v[B]=j[B]=null):(v[B]=iu(h),w[B]=j[B]=null)}for(;B<z;++B){v[B]=iu(C[B]),w[B]=j[B]=null}for(;B<x;++B){j[B]=D[B],v[B]=w[B]=null}}v.update=w,v.parentNode=w.parentNode=j.parentNode=D.parentNode,m.push(v),l.push(w),k.push(j)}var r=-1,q=this.length,p,o;if(!arguments.length){t=new Array(q=(p=this[0]).length);while(++r<q){if(o=p[r]){t[r]=o.__data__}}return t}var m=j5([]),l=i1([]),k=i1([]);if(typeof t=="function"){while(++r<q){n(p=this[r],t.call(p,p.parentNode.__data__,r))}}else{while(++r<q){n(p=this[r],t)}}return l.enter=function(){return m},l.exit=function(){return k},l},iJ.datum=iJ.map=function(b){return arguments.length<1?this.property("__data__"):this.property("__data__",b)},iJ.filter=function(r){var q=[],p,o,n;typeof r!="function"&&(r=iq(r));for(var m=0,l=this.length;m<l;m++){q.push(p=[]),p.parentNode=(o=this[m]).parentNode;for(var k=0,j=o.length;k<j;k++){(n=o[k])&&r.call(n,n.__data__,k)&&p.push(n)}}return i1(q)},iJ.order=function(){for(var h=-1,g=this.length;++h<g;){for(var l=this[h],k=l.length-1,j=l[k],i;--k>=0;){if(i=l[k]){j&&j!==i.nextSibling&&j.parentNode.insertBefore(i,j),j=i}}}return this},iJ.sort=function(f){f=im.apply(this,arguments);for(var e=-1,g=this.length;++e<g;){this[e].sort(f)}return this.order()},iJ.on=function(g,f,j){arguments.length<3&&(j=!1);var i="__on"+g,h=g.indexOf(".");return h>0&&(g=g.substring(0,h)),arguments.length<2?(h=this.node()[i])&&h._:this.each(function(n,m){function b(e){var o=d3.event;d3.event=e;try{f.call(l,l.__data__,m)}finally{d3.event=o}}var l=this,k=l[i];k&&(l.removeEventListener(g,k,k.$),delete l[i]),f&&(l.addEventListener(g,l[i]=b,b.$=j),b._=f)})},iJ.each=function(i){for(var h=-1,n=this.length;++h<n;){for(var m=this[h],l=-1,k=m.length;++l<k;){var j=m[l];j&&i.call(j,j.__data__,l,h)}}return this},iJ.call=function(b){return b.apply(this,(arguments[0]=this,arguments)),this},iJ.empty=function(){return !this.node()},iJ.node=function(i){for(var h=0,n=this.length;h<n;h++){for(var m=this[h],l=0,k=m.length;l<k;l++){var j=m[l];if(j){return j}}}return null},iJ.transition=function(){var j=[],i,p;for(var o=-1,n=this.length;++o<n;){j.push(i=[]);for(var m=this[o],l=-1,k=m.length;++l<k;){i.push((p=m[l])?{node:p,delay:jR,duration:jQ}:null)}}return j2(j,jV||++jW,Date.now())};var ik=i1([[document]]);ik[0].parentNode=iS,d3.select=function(b){return typeof b=="string"?ik.select(b):i1([[b]])},d3.selectAll=function(b){return typeof b=="string"?ik.selectAll(b):i1([h1(b)])};var j4=[];d3.selection.enter=j5,d3.selection.enter.prototype=j4,j4.append=iJ.append,j4.insert=iJ.insert,j4.empty=iJ.empty,j4.node=iJ.node,j4.select=function(v){var u=[],t,s,r,q,p;for(var o=-1,n=this.length;++o<n;){r=(q=this[o]).update,u.push(t=[]),t.parentNode=q.parentNode;for(var m=-1,l=q.length;++m<l;){(p=q[m])?(t.push(r[m]=s=v.call(q.parentNode,p.__data__,m)),s.__data__=p.__data__):t.push(null)}}return i1(u)};var j0={},jX=[],jW=0,jV=0,jU=0,jT=250,jS=d3.ease("cubic-in-out"),jR=jU,jQ=jT,jP=jS;jX.call=iJ.call,d3.transition=function(b){return arguments.length?jV?b.transition():b:ik.transition()},d3.transition.prototype=jX,jX.select=function(t){var s=[],r,q,p;typeof t!="function"&&(t=iG(t));for(var o=-1,n=this.length;++o<n;){s.push(r=[]);for(var m=this[o],l=-1,k=m.length;++l<k;){(p=m[l])&&(q=t.call(p.node,p.node.__data__,l))?("__data__" in p.node&&(q.__data__=p.node.__data__),r.push({node:q,delay:p.delay,duration:p.duration})):r.push(null)}}return j2(s,this.id,this.time).ease(this.ease())},jX.selectAll=function(x){var w=[],v,u,t;typeof x!="function"&&(x=iD(x));for(var s=-1,r=this.length;++s<r;){for(var q=this[s],p=-1,o=q.length;++p<o;){if(t=q[p]){u=x.call(t.node,t.node.__data__,p),w.push(v=[]);for(var n=-1,m=u.length;++n<m;){v.push({node:u[n],delay:t.delay,duration:t.duration})}}}}return j2(w,this.id,this.time).ease(this.ease())},jX.attr=function(f,e){return this.attrTween(f,jY(f,e))},jX.attrTween=function(g,f){function i(b,l){var k=f.call(this,b,l,this.getAttribute(j));return k===j0?(this.removeAttribute(j),null):k&&function(e){this.setAttribute(j,k(e))}}function h(b,l){var k=f.call(this,b,l,this.getAttributeNS(j.space,j.local));return k===j0?(this.removeAttributeNS(j.space,j.local),null):k&&function(e){this.setAttributeNS(j.space,j.local,k(e))}}var j=d3.ns.qualify(g);return this.tween("attr."+g,j.local?h:i)},jX.style=function(f,e,g){return arguments.length<3&&(g=""),this.styleTween(f,jY(f,e),g)},jX.styleTween=function(f,e,g){return arguments.length<3&&(g=""),this.tween("style."+f,function(i,h){var b=e.call(this,i,h,window.getComputedStyle(this,null).getPropertyValue(f));return b===j0?(this.style.removeProperty(f),null):b&&function(j){this.style.setProperty(f,b(j),g)}})},jX.text=function(b){return this.tween("text",function(e,f){this.textContent=typeof b=="function"?b.call(this,e,f):b})},jX.remove=function(){return this.each("end.transition",function(){var b;!this.__transition__&&(b=this.parentNode)&&b.removeChild(this)})},jX.delay=function(f){var e=this;return e.each(typeof f=="function"?function(h,g,b){e[b][g].delay=f.apply(this,arguments)|0}:(f|=0,function(h,g,b){e[b][g].delay=f}))},jX.duration=function(f){var e=this;return e.each(typeof f=="function"?function(h,g,b){e[b][g].duration=Math.max(1,f.apply(this,arguments)|0)}:(f=Math.max(1,f|0),function(h,g,b){e[b][g].duration=f}))},jX.transition=function(){return this.select(hC)};var jN=null,jM,jL;d3.timer=function(h,g,l){var k=!1,j,i=jN;if(arguments.length<3){if(arguments.length<2){g=0}else{if(!isFinite(g)){return}}l=Date.now()}while(i){if(i.callback===h){i.then=l,i.delay=g,k=!0;break}j=i,i=i.next}k||(jN={callback:h,then:l,delay:g,next:jN}),jM||(jL=clearTimeout(jL),jM=1,jI(jK))},d3.timer.flush=function(){var f,e=Date.now(),g=jN;while(g){f=e-g.then,g.delay||(g.flush=g.callback(f)),g=g.next}jJ()};var jI=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(b){setTimeout(b,17)};d3.transform=function(f){var e=document.createElementNS(d3.ns.prefix.svg,"g"),g={a:1,b:0,c:0,d:1,e:0,f:0};return(d3.transform=function(b){e.setAttribute("transform",b);var h=e.transform.baseVal.consolidate();return new jH(h?h.matrix:g)})(f)},jH.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var j6=180/Math.PI;d3.mouse=function(b){return ie(b,iv())};var jD=/WebKit/.test(navigator.userAgent)?-1:0;d3.touches=function(f,e){return arguments.length<2&&(e=iv().touches),e?h1(e).map(function(g){var h=ie(f,g);return h.identifier=g.identifier,h}):[]},d3.scale={},d3.scale.linear=function(){return hW([0,1],[0,1],d3.interpolate,!1)},d3.scale.log=function(){return hy(d3.scale.linear(),hs)};var hv=d3.format(".0e");hs.pow=function(b){return Math.pow(10,b)},hp.pow=function(b){return -Math.pow(10,-b)},d3.scale.pow=function(){return hm(d3.scale.linear(),1)},d3.scale.sqrt=function(){return d3.scale.pow().exponent(0.5)},d3.scale.ordinal=function(){return hg([],{t:"range",x:[]})},d3.scale.category10=function(){return d3.scale.ordinal().range(hd)},d3.scale.category20=function(){return d3.scale.ordinal().range(ha)},d3.scale.category20b=function(){return d3.scale.ordinal().range(g7)},d3.scale.category20c=function(){return d3.scale.ordinal().range(g4)};var hd=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],ha=["#1f77b4","#aec7e8","#ff7f0e","#ffbb78","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5","#8c564b","#c49c94","#e377c2","#f7b6d2","#7f7f7f","#c7c7c7","#bcbd22","#dbdb8d","#17becf","#9edae5"],g7=["#393b79","#5254a3","#6b6ecf","#9c9ede","#637939","#8ca252","#b5cf6b","#cedb9c","#8c6d31","#bd9e39","#e7ba52","#e7cb94","#843c39","#ad494a","#d6616b","#e7969c","#7b4173","#a55194","#ce6dbd","#de9ed6"],g4=["#3182bd","#6baed6","#9ecae1","#c6dbef","#e6550d","#fd8d3c","#fdae6b","#fdd0a2","#31a354","#74c476","#a1d99b","#c7e9c0","#756bb1","#9e9ac8","#bcbddc","#dadaeb","#636363","#969696","#bdbdbd","#d9d9d9"];d3.scale.quantile=function(){return g1([],[])},d3.scale.quantize=function(){return jB(0,1,[0,1])},d3.scale.identity=function(){return jy([0,1])},d3.svg={},d3.svg.arc=function(){function h(){var w=g.apply(this,arguments),v=f.apply(this,arguments),u=j.apply(this,arguments)+jt,t=i.apply(this,arguments)+jt,s=(t<u&&(s=u,u=t,t=s),t-u),r=s<Math.PI?"0":"1",q=Math.cos(u),p=Math.sin(u),o=Math.cos(t),b=Math.sin(t);return s>=jq?w?"M0,"+v+"A"+v+","+v+" 0 1,1 0,"+-v+"A"+v+","+v+" 0 1,1 0,"+v+"M0,"+w+"A"+w+","+w+" 0 1,0 0,"+-w+"A"+w+","+w+" 0 1,0 0,"+w+"Z":"M0,"+v+"A"+v+","+v+" 0 1,1 0,"+-v+"A"+v+","+v+" 0 1,1 0,"+v+"Z":w?"M"+v*q+","+v*p+"A"+v+","+v+" 0 "+r+",1 "+v*o+","+v*b+"L"+w*o+","+w*b+"A"+w+","+w+" 0 "+r+",0 "+w*q+","+w*p+"Z":"M"+v*q+","+v*p+"A"+v+","+v+" 0 "+r+",1 "+v*o+","+v*b+"L0,0Z"}var g=jo,f=jl,j=ji,i=jf;return h.innerRadius=function(e){return arguments.length?(g=d3.functor(e),h):g},h.outerRadius=function(b){return arguments.length?(f=d3.functor(b),h):f},h.startAngle=function(b){return arguments.length?(j=d3.functor(b),h):j},h.endAngle=function(b){return arguments.length?(i=d3.functor(b),h):i},h.centroid=function(){var k=(g.apply(this,arguments)+f.apply(this,arguments))/2,b=(j.apply(this,arguments)+i.apply(this,arguments))/2+jt;return[Math.cos(b)*k,Math.sin(b)*k]},h};var jt=-Math.PI/2,jq=2*Math.PI-0.000001;d3.svg.line=function(){return jc(Object)};var iZ="linear",iW=d3.map({linear:iU,"step-before":iR,"step-after":iO,basis:iw,"basis-open":it,"basis-closed":ip,bundle:il,cardinal:iF,"cardinal-open":iL,"cardinal-closed":iI,monotone:gK}),ii=[0,2/3,1/3,0],gX=[0,1/3,2/3,0],gU=[0,1/6,2/3,1/6];d3.svg.line.radial=function(){var b=jc(gI);return b.radius=b.x,delete b.x,b.angle=b.y,delete b.y,b},iR.reverse=iO,iO.reverse=iR,d3.svg.area=function(){return gG(Object)},d3.svg.area.radial=function(){var b=gG(gI);return b.radius=b.x,delete b.x,b.innerRadius=b.x0,delete b.x0,b.outerRadius=b.x1,delete b.x1,b.angle=b.y,delete b.y,b.startAngle=b.y0,delete b.y0,b.endAngle=b.y1,delete b.y1,b},d3.svg.chord=function(){function o(i,h){var g=n(this,t,i,h),b=n(this,s,i,h);return"M"+g.p0+l(g.r,g.p1,g.a1-g.a0)+(m(g,b)?k(g.r,g.p1,g.r,g.p0):k(g.r,g.p1,b.r,b.p0)+l(b.r,b.p1,b.a1-b.a0)+k(b.r,b.p1,g.r,g.p0))+"Z"}function n(u,e,A,z){var y=e.call(u,A,z),x=r.call(u,y,z),w=q.call(u,y,z)+jt,v=p.call(u,y,z)+jt;return{r:x,a0:w,a1:v,p0:[x*Math.cos(w),x*Math.sin(w)],p1:[x*Math.cos(v),x*Math.sin(v)]}}function m(f,e){return f.a0==e.a0&&f.a1==e.a1}function l(f,e,g){return"A"+f+","+f+" 0 "+ +(g>Math.PI)+",1 "+e}function k(f,e,h,g){return"Q 0,0 "+g}var t=gA,s=gy,r=gx,q=ji,p=jf;return o.radius=function(b){return arguments.length?(r=d3.functor(b),o):r},o.source=function(e){return arguments.length?(t=d3.functor(e),o):t},o.target=function(b){return arguments.length?(s=d3.functor(b),o):s},o.startAngle=function(b){return arguments.length?(q=d3.functor(b),o):q},o.endAngle=function(b){return arguments.length?(p=d3.functor(b),o):p},o},d3.svg.diagonal=function(){function g(n,m){var l=f.call(this,n,m),k=e.call(this,n,m),j=(l.y+k.y)/2,b=[l,{x:l.x,y:j},{x:k.x,y:j},k];return b=b.map(h),"M"+b[0]+"C"+b[1]+" "+b[2]+" "+b[3]}var f=gA,e=gy,h=gq;return g.source=function(i){return arguments.length?(f=d3.functor(i),g):f},g.target=function(b){return arguments.length?(e=d3.functor(b),g):e},g.projection=function(b){return arguments.length?(h=b,g):h},g},d3.svg.diagonal.radial=function(){var f=d3.svg.diagonal(),e=gq,g=f.projection;return f.projection=function(b){return arguments.length?g(f8(e=b)):e},f},d3.svg.mouse=d3.mouse,d3.svg.touches=d3.touches,d3.svg.symbol=function(){function g(h,b){return(f0.get(f.call(this,h,b))||f2)(e.call(this,h,b))}var f=f4,e=f6;return g.type=function(h){return arguments.length?(f=d3.functor(h),g):f},g.size=function(b){return arguments.length?(e=d3.functor(b),g):e},g};var f0=d3.map({circle:f2,cross:function(f){var e=Math.sqrt(f/5)/2;return"M"+-3*e+","+-e+"H"+-e+"V"+-3*e+"H"+e+"V"+-e+"H"+3*e+"V"+e+"H"+e+"V"+3*e+"H"+-e+"V"+e+"H"+-3*e+"Z"},diamond:function(f){var e=Math.sqrt(f/(2*e6)),g=e*e6;return"M0,"+-e+"L"+g+",0 0,"+e+" "+-g+",0Z"},square:function(f){var e=Math.sqrt(f)/2;return"M"+-e+","+-e+"L"+e+","+-e+" "+e+","+e+" "+-e+","+e+"Z"},"triangle-down":function(f){var e=Math.sqrt(f/e8),g=e*e8/2;return"M0,"+g+"L"+e+","+-g+" "+-e+","+-g+"Z"},"triangle-up":function(f){var e=Math.sqrt(f/e8),g=e*e8/2;return"M0,"+-g+"L"+e+","+g+" "+-e+","+g+"Z"}});d3.svg.symbolTypes=f0.keys();var e8=Math.sqrt(3),e6=Math.tan(30*Math.PI/180);d3.svg.axis=function(){function l(b){b.each(function(){var T=d3.select(this),S=o==null?v.ticks?v.ticks.apply(v,p):v.domain():o,R=n==null?v.tickFormat?v.tickFormat.apply(v,p):String:n,Q=id(v,S,m),P=T.selectAll(".minor").data(Q,String),O=P.enter().insert("line","g").attr("class","tick minor").style("opacity",0.000001),M=d3.transition(P.exit()).style("opacity",0.000001).remove(),K=d3.transition(P).style("opacity",1),I=T.selectAll("g").data(S,String),G=I.enter().insert("g","path").style("opacity",0.000001),j=d3.transition(I.exit()).style("opacity",0.000001).remove(),i=d3.transition(I).style("opacity",1),h,g=h5(v),f=T.selectAll(".domain").data([0]),e=f.enter().append("path").attr("class","domain"),N=d3.transition(f),L=v.copy(),J=this.__chart__||L;this.__chart__=L,G.append("line").attr("class","tick"),G.append("text"),i.select("text").text(R);switch(u){case"bottom":h=e5,O.attr("y2",s),K.attr("x2",0).attr("y2",s),G.select("line").attr("y2",t),G.select("text").attr("y",Math.max(t,0)+q),i.select("line").attr("x2",0).attr("y2",t),i.select("text").attr("x",0).attr("y",Math.max(t,0)+q).attr("dy",".71em").attr("text-anchor","middle"),N.attr("d","M"+g[0]+","+r+"V0H"+g[1]+"V"+r);break;case"top":h=e5,O.attr("y2",-s),K.attr("x2",0).attr("y2",-s),G.select("line").attr("y2",-t),G.select("text").attr("y",-(Math.max(t,0)+q)),i.select("line").attr("x2",0).attr("y2",-t),i.select("text").attr("x",0).attr("y",-(Math.max(t,0)+q)).attr("dy","0em").attr("text-anchor","middle"),N.attr("d","M"+g[0]+","+-r+"V0H"+g[1]+"V"+-r);break;case"left":h=ih,O.attr("x2",-s),K.attr("x2",-s).attr("y2",0),G.select("line").attr("x2",-t),G.select("text").attr("x",-(Math.max(t,0)+q)),i.select("line").attr("x2",-t).attr("y2",0),i.select("text").attr("x",-(Math.max(t,0)+q)).attr("y",0).attr("dy",".32em").attr("text-anchor","end"),N.attr("d","M"+-r+","+g[0]+"H0V"+g[1]+"H"+-r);break;case"right":h=ih,O.attr("x2",s),K.attr("x2",s).attr("y2",0),G.select("line").attr("x2",t),G.select("text").attr("x",Math.max(t,0)+q),i.select("line").attr("x2",t).attr("y2",0),i.select("text").attr("x",Math.max(t,0)+q).attr("y",0).attr("dy",".32em").attr("text-anchor","start"),N.attr("d","M"+r+","+g[0]+"H0V"+g[1]+"H"+r)}if(v.ticks){G.call(h,J),i.call(h,L),j.call(h,L),O.call(h,J),K.call(h,L),M.call(h,L)}else{var H=L.rangeBand()/2,F=function(k){return L(k)+H};G.call(h,F),i.call(h,F)}})}var v=d3.scale.linear(),u="bottom",t=6,s=6,r=6,q=3,p=[10],o=null,n,m=0;return l.scale=function(e){return arguments.length?(v=e,l):v},l.orient=function(b){return arguments.length?(u=b,l):u},l.ticks=function(){return arguments.length?(p=arguments,l):p},l.tickValues=function(b){return arguments.length?(o=b,l):o},l.tickFormat=function(b){return arguments.length?(n=b,l):n},l.tickSize=function(h,e,j){if(!arguments.length){return t}var i=arguments.length-1;return t=+h,s=i>1?+e:t,r=i>0?+arguments[i]:t,l},l.tickPadding=function(b){return arguments.length?(q=+b,l):q},l.tickSubdivide=function(b){return arguments.length?(m=+b,l):m},l},d3.svg.brush=function(){function p(b){b.each(function(){var i=d3.select(this),k=i.selectAll(".background").data([0]),j=i.selectAll(".extent").data([0]),h=i.selectAll(".resize").data(s,String),g;i.style("pointer-events","all").on("mousedown.brush",l).on("touchstart.brush",l),k.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),j.enter().append("rect").attr("class","extent").style("cursor","move"),h.enter().append("g").attr("class",function(e){return"resize "+e}).style("cursor",function(e){return h8[e]}).append("rect").attr("x",function(e){return/[ew]$/.test(e)?-3:null}).attr("y",function(e){return/^[ns]/.test(e)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),h.style("display",p.empty()?"none":null),h.exit().remove(),u&&(g=h5(u),k.attr("x",g[0]).attr("width",g[1]-g[0]),n(i)),t&&(g=h5(t),k.attr("y",g[0]).attr("height",g[1]-g[0]),m(i)),o(i)})}function o(b){b.selectAll(".resize").attr("transform",function(e){return"translate("+r[+/e$/.test(e)][0]+","+r[+/^s/.test(e)][1]+")"})}function n(b){b.select(".extent").attr("x",r[0][0]),b.selectAll(".extent,.n>rect,.s>rect").attr("width",r[1][0]-r[0][0])}function m(b){b.select(".extent").attr("y",r[0][1]),b.selectAll(".extent,.e>rect,.w>rect").attr("height",r[1][1]-r[0][1])}function l(){function f(){var k=d3.event.changedTouches;return k?d3.touches(P,k)[0]:d3.mouse(P)}function e(){d3.event.keyCode==32&&(H||(F=null,D[0]-=r[1][0],D[1]-=r[1][1],H=2),iy())}function b(){d3.event.keyCode==32&&H==2&&(D[0]+=r[1][0],D[1]+=r[1][1],H=0,iy())}function I(){var k=f(),w=!1;j&&(k[0]+=j[0],k[1]+=j[1]),H||(d3.event.altKey?(F||(F=[(r[0][0]+r[1][0])/2,(r[0][1]+r[1][1])/2]),D[0]=r[+(k[0]<F[0])][0],D[1]=r[+(k[1]<F[1])][1]):F=null),K&&G(k,u,0)&&(n(M),w=!0),J&&G(k,t,1)&&(m(M),w=!0),w&&(o(M),N({type:"brush",mode:H?"move":"resize"}))}function G(S,R,Q){var C=h5(R),B=C[0],A=C[1],z=D[Q],y=r[1][Q]-r[0][Q],x,w;H&&(B-=z,A-=y+z),x=Math.max(B,Math.min(A,S[Q])),H?w=(x+=z)+y:(F&&(z=Math.max(B,Math.min(A,2*F[Q]-x))),z<x?(w=x,x=z):w=z);if(r[0][Q]!==x||r[1][Q]!==w){return q=null,r[0][Q]=x,r[1][Q]=w,!0}}function E(){I(),M.style("pointer-events","all").selectAll(".resize").style("display",p.empty()?"none":null),d3.select("body").style("cursor",null),i.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),N({type:"brushend"}),iy()}var P=this,O=d3.select(d3.event.target),N=v.of(P,arguments),M=d3.select(P),L=O.datum(),K=!/^(n|s)$/.test(L)&&u,J=!/^(e|w)$/.test(L)&&t,H=O.classed("extent"),F,D=f(),j,i=d3.select(window).on("mousemove.brush",I).on("mouseup.brush",E).on("touchmove.brush",I).on("touchend.brush",E).on("keydown.brush",e).on("keyup.brush",b);if(H){D[0]=r[0][0]-D[0],D[1]=r[0][1]-D[1]}else{if(L){var h=+/w$/.test(L),g=+/^n/.test(L);j=[r[1-h][0]-D[0],r[1-g][1]-D[1]],D[0]=r[h][0],D[1]=r[g][1]}else{d3.event.altKey&&(F=D.slice())}}M.style("pointer-events","none").selectAll(".resize").style("display",null),d3.select("body").style("cursor",O.style("cursor")),N({type:"brushstart"}),I(),iy()}var v=ir(p,"brushstart","brush","brushend"),u=null,t=null,s=h6[0],r=[[0,0],[0,0]],q;return p.x=function(b){return arguments.length?(u=b,s=h6[!u<<1|!t],p):u},p.y=function(b){return arguments.length?(t=b,s=h6[!u<<1|!t],p):t},p.extent=function(b){var x,w,g,f,e;return arguments.length?(q=[[0,0],[0,0]],u&&(x=b[0],w=b[1],t&&(x=x[0],w=w[0]),q[0][0]=x,q[1][0]=w,u.invert&&(x=u(x),w=u(w)),w<x&&(e=x,x=w,w=e),r[0][0]=x|0,r[1][0]=w|0),t&&(g=b[0],f=b[1],u&&(g=g[1],f=f[1]),q[0][1]=g,q[1][1]=f,t.invert&&(g=t(g),f=t(f)),f<g&&(e=g,g=f,f=e),r[0][1]=g|0,r[1][1]=f|0),p):(b=q||r,u&&(x=b[0][0],w=b[1][0],q||(x=r[0][0],w=r[1][0],u.invert&&(x=u.invert(x),w=u.invert(w)),w<x&&(e=x,x=w,w=e))),t&&(g=b[0][1],f=b[1][1],q||(g=r[0][1],f=r[1][1],t.invert&&(g=t.invert(g),f=t.invert(f)),f<g&&(e=g,g=f,f=e))),u&&t?[[x,g],[w,f]]:u?[x,w]:t&&[g,f])},p.clear=function(){return q=null,r[0][0]=r[0][1]=r[1][0]=r[1][1]=0,p},p.empty=function(){return u&&r[0][0]===r[1][0]||t&&r[0][1]===r[1][1]},d3.rebind(p,v,"on")};var h8={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},h6=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]];d3.behavior={},d3.behavior.drag=function(){function h(){this.on("mousedown.drag",g).on("touchstart.drag",g)}function g(){function p(){var j=w.parentNode,i=d3.event.changedTouches;return i?d3.touches(j,i)[0]:d3.mouse(j)}function o(){if(!w.parentNode){return n()}var j=p(),i=j[0]-s[0],k=j[1]-s[1];r|=i|k,s=j,iy(),v({type:"drag",x:j[0]+t[0],y:j[1]+t[1],dx:i,dy:k})}function n(){v({type:"dragend"}),r&&(iy(),d3.event.target===u&&q.on("click.drag",b,!0)),q.on("mousemove.drag",null).on("touchmove.drag",null).on("mouseup.drag",null).on("touchend.drag",null)}function b(){iy(),q.on("click.drag",null)}var w=this,v=f.of(w,arguments),u=d3.event.target,t,s=p(),r=0,q=d3.select(window).on("mousemove.drag",o).on("touchmove.drag",o).on("mouseup.drag",n,!0).on("touchend.drag",n,!0);e?(t=e.apply(w,arguments),t=[t.x-s[0],t.y-s[1]]):t=[0,0],v({type:"dragstart"})}var f=ir(h,"drag","dragstart","dragend"),e=null;return h.origin=function(b){return arguments.length?(e=b,h):e},d3.rebind(h,f,"on")},d3.behavior.zoom=function(){function I(){this.on("mousedown.zoom",C).on("mousewheel.zoom",B).on("mousemove.zoom",A).on("DOMMouseScroll.zoom",B).on("dblclick.zoom",z).on("touchstart.zoom",y).on("touchmove.zoom",x).on("touchend.zoom",y)}function H(e){return[(e[0]-T[0])/R,(e[1]-T[1])/R]}function G(e){return[e[0]*R+T[0],e[1]*R+T[1]]}function F(b){R=Math.max(P[0],Math.min(P[1],b))}function E(e,f){f=G(f),T[0]+=e[0]-f[0],T[1]+=e[1]-f[1]}function D(e){M&&M.domain(N.range().map(function(f){return(f-T[0])/R}).map(N.invert)),K&&K.domain(L.range().map(function(f){return(f-T[1])/R}).map(L.invert)),d3.event.preventDefault(),e({type:"zoom",scale:R,translate:T})}function C(){function l(){o=1,E(d3.mouse(r),m),D(q)}function k(){o&&iy(),n.on("mousemove.zoom",null).on("mouseup.zoom",null),o&&d3.event.target===p&&n.on("click.zoom",f)}function f(){iy(),n.on("click.zoom",null)}var r=this,q=O.of(r,arguments),p=d3.event.target,o=0,n=d3.select(window).on("mousemove.zoom",l).on("mouseup.zoom",k),m=H(d3.mouse(r));window.focus(),iy()}function B(){S||(S=H(d3.mouse(this))),F(Math.pow(2,hY()*0.002)*R),E(d3.mouse(this),S),D(O.of(this,arguments))}function A(){S=null}function z(){var f=d3.mouse(this),e=H(f);F(d3.event.shiftKey?R/2:R*2),E(f,e),D(O.of(this,arguments))}function y(){var b=d3.touches(this),j=Date.now();Q=R,S={},b.forEach(function(e){S[e.identifier]=H(e)}),iy();if(b.length===1&&j-J<500){var i=b[0],f=H(b[0]);F(R*2),E(i,f),D(O.of(this,arguments))}J=j}function x(){var b=d3.touches(this),k=b[0],j=S[k.identifier];if(i=b[1]){var i,f=S[i.identifier];k=[(k[0]+i[0])/2,(k[1]+i[1])/2],j=[(j[0]+f[0])/2,(j[1]+f[1])/2],F(d3.event.scale*Q)}E(k,j),D(O.of(this,arguments))}var T=[0,0],S,R=1,Q,P=h0,O=ir(I,"zoom"),N,M,L,K,J;return I.translate=function(e){return arguments.length?(T=e.map(Number),I):T},I.scale=function(b){return arguments.length?(R=+b,I):R},I.scaleExtent=function(b){return arguments.length?(P=b==null?h0:b.map(Number),I):P},I.x=function(b){return arguments.length?(M=b,N=b.copy(),I):M},I.y=function(b){return arguments.length?(K=b,L=b.copy(),I):K},d3.rebind(I,O,"on")};var h3,h0=[0,Infinity];d3.layout={},d3.layout.bundle=function(){return function(f){var e=[],h=-1,g=f.length;while(++h<g){e.push(hV(f[h]))}return e}},d3.layout.chord=function(){function m(){var C={},z=[],k=d3.range(r),i=[],h,g,f,e,b;u=[],t=[],h=0,e=-1;while(++e<r){g=0,b=-1;while(++b<r){g+=s[e][b]}z.push(g),i.push(d3.range(r)),h+=g}p&&k.sort(function(w,j){return p(z[w],z[j])}),o&&i.forEach(function(w,j){w.sort(function(x,y){return o(s[j][x],s[j][y])})}),h=(2*Math.PI-q*r)/h,g=0,e=-1;while(++e<r){f=g,b=-1;while(++b<r){var H=k[e],G=i[H][b],F=s[H][G],E=g,D=g+=F*h;C[H+"-"+G]={index:H,subindex:G,startAngle:E,endAngle:D,value:F}}t.push({index:H,startAngle:f,endAngle:g,value:(g-f)/h}),g+=q}e=-1;while(++e<r){b=e-1;while(++b<r){var B=C[e+"-"+b],A=C[b+"-"+e];(B.value||A.value)&&u.push(B.value<A.value?{source:A,target:B}:{source:B,target:A})}}n&&l()}function l(){u.sort(function(f,e){return n((f.source.value+f.target.value)/2,(e.source.value+e.target.value)/2)})}var v={},u,t,s,r,q=0,p,o,n;return v.matrix=function(b){return arguments.length?(r=(s=b)&&s.length,u=t=null,v):s},v.padding=function(b){return arguments.length?(q=b,u=t=null,v):q},v.sortGroups=function(b){return arguments.length?(p=b,u=t=null,v):p},v.sortSubgroups=function(b){return arguments.length?(o=b,u=null,v):o},v.sortChords=function(b){return arguments.length?(n=b,u&&l(),v):n},v.chords=function(){return u||m(),u},v.groups=function(){return t||m(),t},v},d3.layout.force=function(){function u(b){return function(s,r,q,p,o){if(s.point!==b){var n=s.cx-b.x,m=s.cy-b.y,l=1/Math.sqrt(n*n+m*m);if((p-r)*l<B){var k=s.charge*l*l;return b.px-=n*k,b.py-=m*k,!0}if(s.point&&isFinite(l)){var k=s.pointCharge*l*l;b.px-=n*k,b.py-=m*k}}return !s.charge}}function t(e){hG(hI=e),hL=L}var L={},K=d3.dispatch("start","tick","end"),J=[1,1],I,H,G=0.9,F=hr,E=ho,D=-30,C=0.1,B=0.8,A,z=[],y=[],x,w,v;return L.tick=function(){if((H*=0.99)<0.005){return K.end({type:"end",alpha:H=0}),!0}var m=z.length,j=y.length,i,f,e,b,r,q,p,o,n;for(f=0;f<j;++f){e=y[f],b=e.source,r=e.target,o=r.x-b.x,n=r.y-b.y;if(q=o*o+n*n){q=H*w[f]*((q=Math.sqrt(q))-x[f])/q,o*=q,n*=q,r.x-=o*(p=b.weight/(r.weight+b.weight)),r.y-=n*p,b.x+=o*(p=1-p),b.y+=n*p}}if(p=H*C){o=J[0]/2,n=J[1]/2,f=-1;if(p){while(++f<m){e=z[f],e.x+=(o-e.x)*p,e.y+=(n-e.y)*p}}}if(D){hu(i=d3.geom.quadtree(z),H,v),f=-1;while(++f<m){(e=z[f]).fixed||i.visit(u(e))}}f=-1;while(++f<m){e=z[f],e.fixed?(e.x=e.px,e.y=e.py):(e.x-=(e.px-(e.px=e.x))*G,e.y-=(e.py-(e.py=e.y))*G)}K.tick({type:"tick",alpha:H})},L.nodes=function(e){return arguments.length?(z=e,L):z},L.links=function(e){return arguments.length?(y=e,L):y},L.size=function(e){return arguments.length?(J=e,L):J},L.linkDistance=function(e){return arguments.length?(F=d3.functor(e),L):F},L.distance=L.linkDistance,L.linkStrength=function(e){return arguments.length?(E=d3.functor(e),L):E},L.friction=function(e){return arguments.length?(G=e,L):G},L.charge=function(e){return arguments.length?(D=typeof e=="function"?e:+e,L):D},L.gravity=function(e){return arguments.length?(C=e,L):C},L.theta=function(e){return arguments.length?(B=e,L):B},L.alpha=function(b){return arguments.length?(H?b>0?H=b:H=0:b>0&&(K.start({type:"start",alpha:H=b}),d3.timer(L.tick)),L):H},L.start=function(){function N(b,s){var r=M(q),l=-1,k=r.length,j;while(++l<k){if(!isNaN(j=r[l][b])){return j}}return Math.random()*s}function M(){if(!h){h=[];for(p=0;p<o;++p){h[p]=[]}for(p=0;p<n;++p){var b=y[p];h[b.source.index].push(b.target),h[b.target.index].push(b.source)}}return h[q]}var q,p,o=z.length,n=y.length,m=J[0],i=J[1],h,g;for(q=0;q<o;++q){(g=z[q]).index=q,g.weight=0}x=[],w=[];for(q=0;q<n;++q){g=y[q],typeof g.source=="number"&&(g.source=z[g.source]),typeof g.target=="number"&&(g.target=z[g.target]),x[q]=F.call(this,g,q),w[q]=E.call(this,g,q),++g.source.weight,++g.target.weight}for(q=0;q<o;++q){g=z[q],isNaN(g.x)&&(g.x=N("x",m)),isNaN(g.y)&&(g.y=N("y",i)),isNaN(g.px)&&(g.px=g.x),isNaN(g.py)&&(g.py=g.y)}v=[];if(typeof D=="function"){for(q=0;q<o;++q){v[q]=+D.call(this,z[q],q)}}else{for(q=0;q<o;++q){v[q]=D}}return L.resume()},L.resume=function(){return L.alpha(0.1)},L.stop=function(){return L.alpha(0)},L.drag=function(){I||(I=d3.behavior.drag().origin(Object).on("dragstart",t).on("drag",hx).on("dragend",hA)),this.on("mouseover.force",hG).on("mouseout.force",hD).call(I)},d3.rebind(L,K,"on")};var hL,hI;d3.layout.partition=function(){function j(s,r,q,p){var o=s.children;s.x=r,s.y=s.depth*p,s.dx=q,s.dy=p;if(o&&(m=o.length)){var n=-1,m,l,k;q=s.value?q/s.value:0;while(++n<m){j(l=o[n],r,k=l.value*q,p),r+=k}}}function i(l){var k=l.children,o=0;if(k&&(m=k.length)){var n=-1,m;while(++n<m){o=Math.max(o,i(k[n]))}}return 1+o}function h(l,k){var b=g.call(this,l,k);return j(b[0],0,f[0],f[1]/i(b[0])),b}var g=d3.layout.hierarchy(),f=[1,1];return h.size=function(b){return arguments.length?(f=b,h):f},d1(h,g)},d3.layout.pie=function(){function i(q,p){var o=q.map(function(l,m){return +h.call(i,l,m)}),n=+(typeof k=="function"?k.apply(this,arguments):k),f=((typeof j=="function"?j.apply(this,arguments):j)-k)/d3.sum(o),e=d3.range(q.length);g!=null&&e.sort(g===hk?function(m,l){return o[l]-o[m]}:function(l,m){return g(q[l],q[m])});var b=[];return e.forEach(function(l){b[l]={data:q[l],value:d=o[l],startAngle:n,endAngle:n+=d*f}}),b}var h=Number,g=hk,k=0,j=2*Math.PI;return i.value=function(e){return arguments.length?(h=e,i):h},i.sort=function(b){return arguments.length?(g=b,i):g},i.startAngle=function(b){return arguments.length?(k=b,i):k},i.endAngle=function(b){return arguments.length?(j=b,i):j},i};var hk={};d3.layout.stack=function(){function j(y,x){var w=y.map(function(o,p){return i.call(j,o,p)}),v=w.map(function(p,o){return p.map(function(r,q){return[l.call(j,r,q),k.call(j,r,q)]})}),u=h.call(j,v,x);w=d3.permute(w,u),v=d3.permute(v,u);var t=n.call(j,v,x),s=w.length,g=w[0].length,f,e,b;for(e=0;e<g;++e){m.call(j,w[0][e],b=t[e],v[0][e][1]);for(f=1;f<s;++f){m.call(j,w[f][e],b+=v[f-1][e][1],v[f][e][1])}}return y}var i=Object,h=g3,n=jv,m=hc,l=hi,k=hf;return j.values=function(e){return arguments.length?(i=e,j):i},j.order=function(b){return arguments.length?(h=typeof b=="function"?b:g8.get(b)||g3,j):h},j.offset=function(b){return arguments.length?(n=typeof b=="function"?b:g5.get(b)||jv,j):n},j.x=function(b){return arguments.length?(l=b,j):l},j.y=function(b){return arguments.length?(k=b,j):k},j.out=function(b){return arguments.length?(m=b,j):m},j};var g8=d3.map({"inside-out":function(v){var u=v.length,t,s,r=v.map(g0),q=v.map(e1),p=d3.range(u).sort(function(f,e){return r[f]-r[e]}),o=0,n=0,m=[],l=[];for(t=0;t<u;++t){s=p[t],o<n?(o+=q[s],m.push(s)):(n+=q[s],l.push(s))}return l.reverse().concat(m)},reverse:function(b){return d3.range(b.length).reverse()},"default":g3}),g5=d3.map({silhouette:function(r){var q=r.length,p=r[0].length,o=[],n=0,m,l,k,j=[];for(l=0;l<p;++l){for(m=0,k=0;m<q;m++){k+=r[m][l][1]}k>n&&(n=k),o.push(k)}for(l=0;l<p;++l){j[l]=(n-o[l])/2}return j},wiggle:function(D){var C=D.length,B=D[0],A=B.length,z=0,y,x,w,v,u,t,s,r,q,p=[];p[0]=r=q=0;for(x=1;x<A;++x){for(y=0,v=0;y<C;++y){v+=D[y][x][1]}for(y=0,u=0,s=B[x][0]-B[x-1][0];y<C;++y){for(w=0,t=(D[y][x][1]-D[y][x-1][1])/(2*s);w<y;++w){t+=(D[w][x][1]-D[w][x-1][1])/s}u+=t*D[y][x][1]}p[x]=r-=v?u/v*s:0,r<q&&(q=r)}for(x=0;x<A;++x){p[x]-=q}return p},expand:function(j){var i=j.length,p=j[0].length,o=1/i,n,m,l,k=[];for(m=0;m<p;++m){for(n=0,l=0;n<i;n++){l+=j[n][m][1]}if(l){for(n=0;n<i;n++){j[n][m][1]/=l}}else{for(n=0;n<i;n++){j[n][m][1]=o}}}for(m=0;m<p;++m){k[m]=0}return k},zero:jv});d3.layout.histogram=function(){function h(y,x){var w=[],v=y.map(f,this),u=j.call(this,v,x),t=i.call(this,u,v,x),s,x=-1,r=v.length,q=t.length-1,p=g?1:1/r,b;while(++x<q){s=w[x]=[],s.dx=t[x+1]-(s.x=t[x]),s.y=0}x=-1;while(++x<r){b=v[x],b>=u[0]&&b<=u[1]&&(s=w[d3.bisect(t,b,1,q)-1],s.y+=p,s.push(y[x]))}return w}var g=!0,f=Number,j=d4,i=d7;return h.value=function(b){return arguments.length?(f=b,h):f},h.range=function(b){return arguments.length?(j=d3.functor(b),h):j},h.bins=function(b){return arguments.length?(i=typeof b=="number"?function(e){return d6(e,b)}:d3.functor(b),h):i},h.frequency=function(e){return arguments.length?(g=!!e,h):g},h},d3.layout.hierarchy=function(){function l(w,v,u){var t=h.call(j,w,v),s=c0?w:{data:w};s.depth=v,u.push(s);if(t&&(q=t.length)){var r=-1,q,g=s.children=[],e=0,b=v+1;while(++r<q){d=l(t[r],b,u),d.parent=s,g.push(d),e+=d.value}i&&g.sort(i),m&&(s.value=e)}else{m&&(s.value=+m.call(j,w,v)||0)}return s}function k(g,f){var r=g.children,q=0;if(r&&(o=r.length)){var p=-1,o,n=f+1;while(++p<o){q+=k(r[p],n)}}else{m&&(q=+m.call(j,c0?g:g.data,f)||0)}return m&&(g.value=q),q}function j(f){var e=[];return l(f,0,e),e}var i=c4,h=c8,m=c6;return j.sort=function(e){return arguments.length?(i=e,j):i},j.children=function(b){return arguments.length?(h=b,j):h},j.value=function(b){return arguments.length?(m=b,j):m},j.revalue=function(b){return k(b,0),b},j};var c0=!1;d3.layout.pack=function(){function g(o,n){var m=f.call(this,o,n),l=m[0];l.x=0,l.y=0,a5(l);var k=e[0],j=e[1],b=1/Math.max(2*l.r/k,2*l.r/j);return a2(l,k/2,j/2,b),m}var f=d3.layout.hierarchy().sort(b8),e=[1,1];return g.size=function(b){return arguments.length?(e=b,g):e},d1(g,f)},d3.layout.cluster=function(){function g(z,y){var x=f.call(this,z,y),w=x[0],v,u=0,t,s;gN(w,function(i){var j=i.children;j&&j.length?(i.x=aX(j),i.y=aY(j)):(i.x=v?u+=e(i,v):0,i.y=0,v=i)});var r=aU(w),q=aS(w),p=r.x-e(r,q)/2,b=q.x+e(q,r)/2;return gN(w,function(i){i.x=(i.x-p)/(b-p)*h[0],i.y=(1-(w.y?i.y/w.y:1))*h[1]}),x}var f=d3.layout.hierarchy().sort(null).value(null),e=aR,h=[1,1];return g.separation=function(b){return arguments.length?(e=b,g):e},g.size=function(b){return arguments.length?(h=b,g):h},d1(g,f)},d3.layout.tree=function(){function g(B,A){function x(J,I){var H=J.children,G=J._tree;if(H&&(F=H.length)){var F,E=H[0],D,C=E,p,o=-1;while(++o<F){p=H[o],x(p,D),C=v(p,D,C),D=p}gL(J);var j=0.5*(E._tree.prelim+p._tree.prelim);I?(G.prelim=I._tree.prelim+e(J,I),G.mod=G.prelim-j):G.prelim=j}else{I&&(G.prelim=I._tree.prelim+e(J,I))}}function w(j,i){j.x=j._tree.prelim+i;var m=j.children;if(m&&(k=m.length)){var l=-1,k;i+=j._tree.mod;while(++l<k){w(m[l],i)}}}function v(K,J,I){if(J){var H=K,G=K,F=J,E=K.parent.children[0],D=H._tree.mod,C=G._tree.mod,p=F._tree.mod,o=E._tree.mod,n;while(F=gY(F),H=gZ(H),F&&H){E=gZ(E),G=gY(G),G._tree.ancestor=K,n=F._tree.prelim+p-H._tree.prelim-D+e(F,H),n>0&&(gJ(gH(F,K,I),K,n),D+=n,C+=n),p+=F._tree.mod,D+=H._tree.mod,o+=E._tree.mod,C+=G._tree.mod}F&&!gY(G)&&(G._tree.thread=F,G._tree.mod+=p-C),H&&!gZ(E)&&(E._tree.thread=H,E._tree.mod+=D-o,I=K)}return I}var z=f.call(this,B,A),y=z[0];gN(y,function(j,i){j._tree={ancestor:j,prelim:0,mod:0,change:0,shift:0,number:i?i._tree.number+1:0}}),x(y),w(y,-y._tree.prelim);var u=gV(y,gR),t=gV(y,gT),s=gV(y,gP),r=u.x-e(u,t)/2,q=t.x+e(t,u)/2,b=s.depth||1;return gN(y,function(i){i.x=(i.x-r)/(q-r)*h[0],i.y=i.depth/b*h[1],delete i._tree}),z}var f=d3.layout.hierarchy().sort(null).value(null),e=aR,h=[1,1];return g.separation=function(b){return arguments.length?(e=b,g):e},g.size=function(b){return arguments.length?(h=b,g):h},d1(g,f)},d3.layout.treemap=function(){function t(h,g){var l=-1,k=h.length,j,i;while(++l<k){i=(j=h[l]).value*(g<0?0:g),j.area=isNaN(i)||i<=0?0:i}}function s(G){var F=G.children;if(F&&F.length){var E=x(G),D=[],C=F.slice(),m,l=Infinity,j,i=Math.min(E.dx,E.dy),e;t(C,E.dx*E.dy/G.value),D.area=0;while((e=C.length)>0){D.push(m=C[e-1]),D.area+=m.area,(j=q(D,i))<=l?(C.pop(),l=j):(D.area-=D.pop().area,p(D,i,E,!1),i=Math.min(E.dx,E.dy),D.length=D.area=0,l=Infinity)}D.length&&(p(D,i,E,!0),D.length=D.area=0),F.forEach(s)}}function r(h){var e=h.children;if(e&&e.length){var l=x(h),k=e.slice(),j,i=[];t(k,l.dx*l.dy/h.value),i.area=0;while(j=k.pop()){i.push(j),i.area+=j.area,j.z!=null&&(p(i,j.z?l.dx:l.dy,l,!k.length),i.length=i.area=0)}e.forEach(r)}}function q(j,h){var D=j.area,C,n=0,m=Infinity,l=-1,k=j.length;while(++l<k){if(!(C=j[l].area)){continue}C<m&&(m=C),C>n&&(n=C)}return D*=D,h*=h,D?Math.max(h*n*u/D,D/(h*m*u)):Infinity}function p(H,G,F,E){var D=-1,C=H.length,n=F.x,m=F.y,l=G?A(H.area/G):0,b;if(G==F.dx){if(E||l>F.dy){l=F.dy}while(++D<C){b=H[D],b.x=n,b.y=m,b.dy=l,n+=b.dx=Math.min(F.x+F.dx-n,l?A(b.area/l):0)}b.z=!0,b.dx+=F.x+F.dx-n,F.y+=l,F.dy-=l}else{if(E||l>F.dx){l=F.dx}while(++D<C){b=H[D],b.x=n,b.y=m,b.dx=l,m+=b.dy=Math.min(F.y+F.dy-m,l?A(b.area/l):0)}b.z=!1,b.dy+=F.y+F.dy-m,F.x+=l,F.dx-=l}}function o(f){var h=v||B(f),g=h[0];return g.x=0,g.y=0,g.dx=z[0],g.dy=z[1],v&&B.revalue(g),t([g],g.dx*g.dy/g.value),(v?r:s)(g),w&&(v=h),h}var B=d3.layout.hierarchy(),A=Math.round,z=[1,1],y=null,x=gF,w=!1,v,u=0.5*(1+Math.sqrt(5));return o.size=function(b){return arguments.length?(z=b,o):z},o.padding=function(g){function e(f){var j=g.call(o,f,f.depth);return j==null?gF(f):gD(f,typeof j=="number"?[j,j,j,j]:j)}function i(f){return gD(f,g)}if(!arguments.length){return y}var h;return x=(y=g)==null?gF:(h=typeof g)==="function"?e:h==="number"?(g=[g,g,g,g],i):i,o},o.round=function(b){return arguments.length?(A=b?Math.round:Number,o):A!=Number},o.sticky=function(b){return arguments.length?(w=b,v=null,o):w},o.ratio=function(b){return arguments.length?(u=b,o):u},d1(o,B)},d3.csv=function(f,e){d3.text(f,"text/csv",function(b){e(b&&d3.csv.parse(b))})},d3.csv.parse=function(f){var e;return d3.csv.parseRows(f,function(b,j){if(j){var i={},h=-1,g=e.length;while(++h<g){i[e[h]]=b[h]}return i}return e=b,null})},d3.csv.parseRows=function(v,u){function m(){if(q.lastIndex>=v.length){return s}if(n){return n=!1,t}var f=q.lastIndex;if(v.charCodeAt(f)===34){var k=f;while(k++<v.length){if(v.charCodeAt(k)===34){if(v.charCodeAt(k+1)!==34){break}k++}}q.lastIndex=k+2;var j=v.charCodeAt(k+1);return j===13?(n=!0,v.charCodeAt(k+2)===10&&q.lastIndex++):j===10&&(n=!0),v.substring(f+1,k).replace(/""/g,'"')}var i=q.exec(v);return i?(n=i[0].charCodeAt(0)!==44,v.substring(f,i.index)):(q.lastIndex=v.length,v.substring(f))}var t={},s={},r=[],q=/\r\n|[,\r\n]/g,p=0,o,n;q.lastIndex=0;while((o=m())!==s){var l=[];while(o!==t&&o!==s){l.push(o),o=m()}if(u&&!(l=u(l,p++))){continue}r.push(l)}return r},d3.csv.format=function(b){return b.map(gB).join("\n")},d3.geo={};var gw=Math.PI/180;d3.geo.azimuthal=function(){function j(A){var z=A[0]*gw-n,y=A[1]*gw,x=Math.cos(z),w=Math.sin(z),v=Math.cos(y),u=Math.sin(y),t=r!=="orthographic"?k*u+l*v*x:null,s,h=r==="stereographic"?1/(1+t):r==="gnomonic"?1/t:r==="equidistant"?(s=Math.acos(t),s?s/Math.sin(s):0):r==="equalarea"?Math.sqrt(2/(1+t)):1,g=h*v*w,e=h*(k*v*x-l*u);return[p*g+o[0],p*e+o[1]]}var r="orthographic",q,p=200,o=[480,250],n,m,l,k;return j.invert=function(g){var v=(g[0]-o[0])/p,u=(g[1]-o[1])/p,t=Math.sqrt(v*v+u*u),s=r==="stereographic"?2*Math.atan(t):r==="gnomonic"?Math.atan(t):r==="equidistant"?t:r==="equalarea"?2*Math.asin(0.5*t):Math.asin(t),h=Math.sin(s),e=Math.cos(s);return[(n+Math.atan2(v*h,t*l*e+u*k*h))/gw,Math.asin(e*k-(t?u*h*l/t:0))/gw]},j.mode=function(e){return arguments.length?(r=e+"",j):r},j.origin=function(b){return arguments.length?(q=b,n=q[0]*gw,m=q[1]*gw,l=Math.cos(m),k=Math.sin(m),j):q},j.scale=function(b){return arguments.length?(p=+b,j):p},j.translate=function(b){return arguments.length?(o=[+b[0],+b[1]],j):o},j.origin([0,0])},d3.geo.albers=function(){function l(f){var e=o*(gw*f[0]-p),g=Math.sqrt(n-2*o*Math.sin(gw*f[1]))/o;return[r*g*Math.sin(e)+q[0],r*(g*Math.cos(e)-m)+q[1]]}function k(){var h=gw*s[0],g=gw*s[1],f=gw*t[1],e=Math.sin(h),b=Math.cos(h);return p=gw*t[0],o=0.5*(e+Math.sin(g)),n=b*b+2*o*e,m=Math.sqrt(n-2*o*Math.sin(f))/o,l}var t=[-98,38],s=[29.5,45.5],r=1000,q=[480,250],p,o,n,m;return l.invert=function(g){var e=(g[0]-q[0])/r,v=(g[1]-q[1])/r,u=m+v,h=Math.atan2(e,u),f=Math.sqrt(e*e+u*u);return[(p+h/o)/gw,Math.asin((n-f*f*o*o)/(2*o))/gw]},l.origin=function(e){return arguments.length?(t=[+e[0],+e[1]],k()):t},l.parallels=function(b){return arguments.length?(s=[+b[0],+b[1]],k()):s},l.scale=function(b){return arguments.length?(r=+b,l):r},l.translate=function(b){return arguments.length?(q=[+b[0],+b[1]],l):q},k()},d3.geo.albersUsa=function(){function h(l){var k=l[0],b=l[1];return(b>50?f:k<-140?j:b<21?i:g)(l)}var g=d3.geo.albers(),f=d3.geo.albers().origin([-160,60]).parallels([55,65]),j=d3.geo.albers().origin([-160,20]).parallels([8,18]),i=d3.geo.albers().origin([-60,10]).parallels([8,18]);return h.scale=function(b){return arguments.length?(g.scale(b),f.scale(b*0.6),j.scale(b),i.scale(b*1.5),h.translate(g.translate())):g.scale()},h.translate=function(l){if(!arguments.length){return g.translate()}var k=g.scale()/1000,e=l[0],b=l[1];return g.translate(l),f.translate([e-400*k,b+170*k]),j.translate([e-190*k,b+200*k]),i.translate([e+580*k,b+430*k]),h},h.scale(g.scale())},d3.geo.bonne=function(){function j(p){var o=p[0]*gw-n,f=p[1]*gw-m;if(l){var e=k+l-f,b=o*Math.cos(f)/e;o=e*Math.sin(b),f=e*Math.cos(b)-k}else{o*=Math.cos(f),f*=-1}return[i*o+h[0],i*f+h[1]]}var i=200,h=[480,250],n,m,l,k;return j.invert=function(p){var o=(p[0]-h[0])/i,f=(p[1]-h[1])/i;if(l){var e=k+f,b=Math.sqrt(o*o+e*e);f=k+l-b,o=n+b*Math.atan2(o,e)/Math.cos(f)}else{f*=-1,o/=Math.cos(f)}return[o/gw,f/gw]},j.parallel=function(b){return arguments.length?(k=1/Math.tan(l=b*gw),j):l/gw},j.origin=function(b){return arguments.length?(n=b[0]*gw,m=b[1]*gw,j):[n/gw,m/gw]},j.scale=function(e){return arguments.length?(i=+e,j):i},j.translate=function(b){return arguments.length?(h=[+b[0],+b[1]],j):h},j.origin([0,0]).parallel(45)},d3.geo.equirectangular=function(){function g(i){var h=i[0]/360,b=-i[1]/360;return[f*h+e[0],f*b+e[1]]}var f=500,e=[480,250];return g.invert=function(i){var h=(i[0]-e[0])/f,b=(i[1]-e[1])/f;return[360*h,-360*b]},g.scale=function(h){return arguments.length?(f=+h,g):f},g.translate=function(b){return arguments.length?(e=[+b[0],+b[1]],g):e},g},d3.geo.mercator=function(){function g(i){var h=i[0]/360,b=-(Math.log(Math.tan(Math.PI/4+i[1]*gw/2))/gw)/360;return[f*h+e[0],f*Math.max(-0.5,Math.min(0.5,b))+e[1]]}var f=500,e=[480,250];return g.invert=function(i){var h=(i[0]-e[0])/f,b=(i[1]-e[1])/f;return[360*h,2*Math.atan(Math.exp(-360*b*gw))/gw-90]},g.scale=function(h){return arguments.length?(f=+h,g):f},g.translate=function(b){return arguments.length?(e=[+b[0],+b[1]],g):e},g},d3.geo.path=function(){function s(e,b){return typeof v=="function"&&(u=gu(v.apply(this,arguments))),q(e)||null}function r(b){return t(b).join(",")}function o(f){var e=l(f[0]),h=0,g=f.length;while(++h<g){e-=l(f[h])}return e}function n(D){var C=d3.geom.polygon(D[0].map(t)),B=C.area(),A=C.centroid(B<0?(B*=-1,1):-1),z=A[0],y=A[1],x=B,w=0,k=D.length;while(++w<k){C=d3.geom.polygon(D[w].map(t)),B=C.area(),A=C.centroid(B<0?(B*=-1,1):-1),z-=A[0],y-=A[1],x-=B}return[z,y,6*x]}function l(b){return Math.abs(d3.geom.polygon(b.map(t)).area())}var v=4.5,u=gu(v),t=d3.geo.albersUsa(),q=gv({FeatureCollection:function(g){var f=[],j=g.features,i=-1,h=j.length;while(++i<h){f.push(q(j[i].geometry))}return f.join("")},Feature:function(b){return q(b.geometry)},Point:function(b){return"M"+r(b.coordinates)+u},MultiPoint:function(b){var j=[],i=b.coordinates,h=-1,e=i.length;while(++h<e){j.push("M",r(i[h]),u)}return j.join("")},LineString:function(g){var e=["M"],j=g.coordinates,i=-1,h=j.length;while(++i<h){e.push(r(j[i]),"L")}return e.pop(),e.join("")},MultiLineString:function(j){var e=[],A=j.coordinates,z=-1,y=A.length,x,w,k;while(++z<y){x=A[z],w=-1,k=x.length,e.push("M");while(++w<k){e.push(r(x[w]),"L")}e.pop()}return e.join("")},Polygon:function(j){var e=[],A=j.coordinates,z=-1,y=A.length,x,w,k;while(++z<y){x=A[z],w=-1;if((k=x.length-1)>0){e.push("M");while(++w<k){e.push(r(x[w]),"L")}e[e.length-1]="Z"}}return e.join("")},MultiPolygon:function(F){var E=[],D=F.coordinates,C=-1,B=D.length,A,z,y,x,w,e;while(++C<B){A=D[C],z=-1,y=A.length;while(++z<y){x=A[z],w=-1;if((e=x.length-1)>0){E.push("M");while(++w<e){E.push(r(x[w]),"L")}E[E.length-1]="Z"}}}return E.join("")},GeometryCollection:function(g){var f=[],j=g.geometries,i=-1,h=j.length;while(++i<h){f.push(q(j[i]))}return f.join("")}}),p=s.area=gv({FeatureCollection:function(g){var f=0,j=g.features,i=-1,h=j.length;while(++i<h){f+=p(j[i])}return f},Feature:function(b){return p(b.geometry)},Polygon:function(b){return o(b.coordinates)},MultiPolygon:function(g){var f=0,j=g.coordinates,i=-1,h=j.length;while(++i<h){f+=o(j[i])}return f},GeometryCollection:function(g){var f=0,j=g.geometries,i=-1,h=j.length;while(++i<h){f+=p(j[i])}return f}},0),m=s.centroid=gv({Feature:function(b){return m(b.geometry)},Polygon:function(f){var e=n(f.coordinates);return[e[0]/e[2],e[1]/e[2]]},MultiPolygon:function(C){var B=0,A=C.coordinates,z,y=0,x=0,w=0,k=-1,i=A.length;while(++k<i){z=n(A[k]),y+=z[0],x+=z[1],w+=z[2]}return[y/w,x/w]}});return s.projection=function(b){return t=b,s},s.pointRadius=function(b){return typeof b=="function"?v=b:(v=+b,u=gu(v)),s},s},d3.geo.bounds=function(g){var f=Infinity,j=Infinity,i=-Infinity,h=-Infinity;return gs(g,function(b,e){b<f&&(f=b),b>i&&(i=b),e<j&&(j=e),e>h&&(h=e)}),[[f,j],[i,h]]};var gp={Feature:f9,FeatureCollection:f7,GeometryCollection:f5,LineString:f3,MultiLineString:f1,MultiPoint:f3,MultiPolygon:e9,Point:e7,Polygon:ib};d3.geo.circle=function(){function n(){}function m(b){return o.distance(b)<p}function k(z){var y=-1,x=z.length,w=[],v,u,t,s,i;while(++y<x){i=o.distance(t=z[y]),i<p?(u&&w.push(aO(u,t)((s-p)/(s-i))),w.push(t),v=u=null):(u=t,!v&&w.length&&(w.push(aO(w[w.length-1],u)((p-s)/(i-s))),v=u)),s=i}return u&&w.length&&(i=o.distance(t=w[0]),w.push(aO(u,t)((s-p)/(s-i)))),j(w)}function j(t){var s=0,z=t.length,y,x,w=z?[t[0]]:t,v,u=o.source();while(++s<z){v=o.source(t[s-1])(t[s]).coordinates;for(y=0,x=v.length;++y<x;){w.push(v[y])}}return o.source(u),w}var r=[0,0],q=89.99,p=q*gw,o=d3.geo.greatArc().target(Object);n.clip=function(e){return o.source(typeof r=="function"?r.apply(this,arguments):r),l(e)};var l=gv({FeatureCollection:function(f){var e=f.features.map(l).filter(Object);return e&&(f=Object.create(f),f.features=e,f)},Feature:function(f){var e=l(f.geometry);return e&&(f=Object.create(f),f.geometry=e,f)},Point:function(b){return m(b.coordinates)&&b},MultiPoint:function(f){var e=f.coordinates.filter(m);return e.length&&{type:f.type,coordinates:e}},LineString:function(f){var e=k(f.coordinates);return e.length&&(f=Object.create(f),f.coordinates=e,f)},MultiLineString:function(f){var e=f.coordinates.map(k).filter(function(b){return b.length});return e.length&&(f=Object.create(f),f.coordinates=e,f)},Polygon:function(f){var e=f.coordinates.map(k);return e[0].length&&(f=Object.create(f),f.coordinates=e,f)},MultiPolygon:function(f){var e=f.coordinates.map(function(b){return b.map(k)}).filter(function(b){return b[0].length});return e.length&&(f=Object.create(f),f.coordinates=e,f)},GeometryCollection:function(f){var e=f.geometries.map(l).filter(Object);return e.length&&(f=Object.create(f),f.geometries=e,f)}});return n.origin=function(e){return arguments.length?(r=e,n):r},n.angle=function(b){return arguments.length?(p=(q=+b)*gw,n):q},n.precision=function(b){return arguments.length?(o.precision(b),n):o.precision()},n},d3.geo.greatArc=function(){function g(){var n=typeof f=="function"?f.apply(this,arguments):f,m=typeof e=="function"?e.apply(this,arguments):e,l=aO(n,m),k=h/l.d,j=0,b=[n];while((j+=k)<1){b.push(l(j))}return b.push(m),{type:"LineString",coordinates:b}}var f=e4,e=aP,h=6*gw;return g.distance=function(){var i=typeof f=="function"?f.apply(this,arguments):f,b=typeof e=="function"?e.apply(this,arguments):e;return aO(i,b).d},g.source=function(i){return arguments.length?(f=i,g):f},g.target=function(b){return arguments.length?(e=b,g):e},g.precision=function(b){return arguments.length?(h=b*gw,g):h/gw},g},d3.geo.greatCircle=d3.geo.circle,d3.geom={},d3.geom.contour=function(v,u){var t=u||aL(v),s=[],r=t[0],q=t[1],p=0,o=0,n=NaN,m=NaN,l=0;do{l=0,v(r-1,q-1)&&(l+=1),v(r,q-1)&&(l+=2),v(r-1,q)&&(l+=4),v(r,q)&&(l+=8),l===6?(p=m===-1?-1:1,o=0):l===9?(p=0,o=n===1?-1:1):(p=aN[l],o=aM[l]),p!=n&&o!=m&&(s.push([r,q]),n=p,m=o),r+=p,q+=o}while(t[0]!=r||t[1]!=q);return s};var aN=[1,0,1,1,-1,0,-1,1,0,0,0,0,-1,0,-1,NaN],aM=[0,-1,0,0,0,-1,0,0,1,-1,1,1,0,-1,0,NaN];d3.geom.hull=function(H){if(H.length<3){return[]}var G=H.length,F=G-1,E=[],D=[],C,B,A=0,z,y,x,w,v,u,t,s;for(C=1;C<G;++C){H[C][1]<H[A][1]?A=C:H[C][1]==H[A][1]&&(A=H[C][0]<H[A][0]?C:A)}for(C=0;C<G;++C){if(C===A){continue}y=H[C][1]-H[A][1],z=H[C][0]-H[A][0],E.push({angle:Math.atan2(y,z),index:C})}E.sort(function(f,e){return f.angle-e.angle}),t=E[0].angle,u=E[0].index,v=0;for(C=1;C<F;++C){B=E[C].index,t==E[C].angle?(z=H[u][0]-H[A][0],y=H[u][1]-H[A][1],x=H[B][0]-H[A][0],w=H[B][1]-H[A][1],z*z+y*y>=x*x+w*w?E[C].index=-1:(E[v].index=-1,t=E[C].angle,v=C,u=B)):(t=E[C].angle,v=C,u=B)}D.push(A);for(C=0,B=0;C<2;++B){E[B].index!==-1&&(D.push(E[B].index),C++)}s=D.length;for(;B<F;++B){if(E[B].index===-1){continue}while(!aK(D[s-2],D[s-1],E[B].index,H)){--s}D[s++]=E[B].index}var r=[];for(C=0;C<s;++C){r.push(H[D[C]])}return r},d3.geom.polygon=function(b){return b.area=function(){var f=0,i=b.length,h=b[i-1][0]*b[0][1],g=b[i-1][1]*b[0][0];while(++f<i){h+=b[f-1][0]*b[f][1],g+=b[f-1][1]*b[f][0]}return(g-h)*0.5},b.centroid=function(j){var q=-1,p=b.length,o=0,n=0,m,l=b[p-1],k;arguments.length||(j=-1/(6*b.area()));while(++q<p){m=l,l=b[q],k=m[0]*l[1]-l[0]*m[1],o+=(m[0]+l[0])*k,n+=(m[1]+l[1])*k}return[o*j,n*j]},b.clip=function(u){var t,s=-1,r=b.length,q,p,o=b[r-1],n,m,l;while(++s<r){t=u.slice(),u.length=0,n=b[s],m=t[(p=t.length)-1],q=-1;while(++q<p){l=t[q],aJ(l,o,n)?(aJ(m,o,n)||u.push(aI(m,l,o,n)),u.push(l)):aJ(m,o,n)&&u.push(aI(m,l,o,n)),m=l}o=n}return u},b},d3.geom.voronoi=function(f){var e=f.map(function(){return[]});return aG(f,function(r){var q,p,o,n,m,l;r.a===1&&r.b>=0?(q=r.ep.r,p=r.ep.l):(q=r.ep.l,p=r.ep.r),r.a===1?(m=q?q.y:-1000000,o=r.c-r.b*m,l=p?p.y:1000000,n=r.c-r.b*l):(o=q?q.x:-1000000,m=r.c-r.a*o,n=p?p.x:1000000,l=r.c-r.a*n);var k=[o,m],b=[n,l];e[r.region.l.index].push(k,b),e[r.region.r.index].push(k,b)}),e.map(function(g,j){var i=f[j][0],h=f[j][1];return g.forEach(function(b){b.angle=Math.atan2(b[0]-i,b[1]-h)}),g.sort(function(l,k){return l.angle-k.angle}).filter(function(b,k){return !k||b.angle-g[k-1].angle>1e-10})})};var aH={l:"r",r:"l"};d3.geom.delaunay=function(f){var e=f.map(function(){return[]}),g=[];return aG(f,function(b){e[b.region.l.index].push(f[b.region.r.index])}),e.forEach(function(j,p){var o=f[p],n=o[0],m=o[1];j.forEach(function(b){b.angle=Math.atan2(b[0]-n,b[1]-m)}),j.sort(function(i,h){return i.angle-h.angle});for(var l=0,k=j.length-1;l<k;l++){g.push([o,j[l],j[l+1]])}}),g},d3.geom.quadtree=function(z,y,x,w,v){function p(i,h,A,m,l,k){if(isNaN(h.x)||isNaN(h.y)){return}if(i.leaf){var j=i.point;j?Math.abs(j.x-h.x)+Math.abs(j.y-h.y)<0.01?o(i,h,A,m,l,k):(i.point=null,o(i,j,A,m,l,k),o(i,h,A,m,l,k)):i.point=h}else{o(i,h,A,m,l,k)}}function o(I,H,G,F,E,D){var C=(G+E)*0.5,B=(F+D)*0.5,A=H.x>=C,m=H.y>=B,k=(m<<1)+A;I.leaf=!1,I=I.nodes[k]||(I.nodes[k]=aF()),A?G=C:E=C,m?F=B:D=B,p(I,H,G,F,E,D)}var u,t=-1,s=z.length;s&&isNaN(z[0].x)&&(z=z.map(aD));if(arguments.length<5){if(arguments.length===3){v=w=x,x=y}else{y=x=Infinity,w=v=-Infinity;while(++t<s){u=z[t],u.x<y&&(y=u.x),u.y<x&&(x=u.y),u.x>w&&(w=u.x),u.y>v&&(v=u.y)}var r=w-y,q=v-x;r>q?v=x+r:w=y+q}}var n=aF();return n.add=function(b){p(n,b,y,x,w,v)},n.visit=function(b){aE(b,n,y,x,w,v)},z.forEach(n.add),n},d3.time={};var aC=Date;aB.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){aA.setUTCDate.apply(this._,arguments)},setDay:function(){aA.setUTCDay.apply(this._,arguments)},setFullYear:function(){aA.setUTCFullYear.apply(this._,arguments)},setHours:function(){aA.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){aA.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){aA.setUTCMinutes.apply(this._,arguments)},setMonth:function(){aA.setUTCMonth.apply(this._,arguments)},setSeconds:function(){aA.setUTCSeconds.apply(this._,arguments)},setTime:function(){aA.setTime.apply(this._,arguments)}};var aA=Date.prototype;d3.time.format=function(f){function g(m){var l=[],k=-1,j=0,i,b;while(++k<e){f.charCodeAt(k)==37&&(l.push(f.substring(j,k),(b=au[i=f.charAt(++k)])?b(m):i),j=k+1)}return l.push(f.substring(j,k)),l.join("")}var e=f.length;return g.parse=function(h){var k={y:1900,m:0,d:1,H:0,M:0,S:0,L:0},j=az(k,f,h,0);if(j!=h.length){return null}"p" in k&&(k.H=k.H%12+k.p*12);var i=new aC;return i.setFullYear(k.y,k.m,k.d),i.setHours(k.H,k.M,k.S,k.L),i},g.toString=function(){return f},g};var ay=d3.format("02d"),ax=d3.format("03d"),aw=d3.format("04d"),av=d3.format("2d"),au={a:function(b){return d3_time_weekdays[b.getDay()].substring(0,3)},A:function(b){return d3_time_weekdays[b.getDay()]},b:function(b){return d0[b.getMonth()].substring(0,3)},B:function(b){return d0[b.getMonth()]},c:d3.time.format("%a %b %e %H:%M:%S %Y"),d:function(b){return ay(b.getDate())},e:function(b){return av(b.getDate())},H:function(b){return ay(b.getHours())},I:function(b){return ay(b.getHours()%12||12)},j:function(b){return ax(1+d3.time.dayOfYear(b))},L:function(b){return ax(b.getMilliseconds())},m:function(b){return ay(b.getMonth()+1)},M:function(b){return ay(b.getMinutes())},p:function(b){return b.getHours()>=12?"PM":"AM"},S:function(b){return ay(b.getSeconds())},U:function(b){return ay(d3.time.sundayOfYear(b))},w:function(b){return b.getDay()},W:function(b){return ay(d3.time.mondayOfYear(b))},x:d3.time.format("%m/%d/%y"),X:d3.time.format("%H:%M:%S"),y:function(b){return ay(b.getFullYear()%100)},Y:function(b){return aw(b.getFullYear()%10000)},Z:aZ,"%":function(b){return"%"}},at={a:ar,A:aq,b:e2,B:d8,c:c9,d:b5,e:b5,H:b3,I:b3,L:a7,m:b7,M:b1,p:a3,S:a9,x:c7,X:c5,y:c1,Y:c3},ap=/^(?:sun|mon|tue|wed|thu|fri|sat)/i,e3=/^(?:Sunday|Monday|Tuesday|Wednesday|Thursday|Friday|Saturday)/i;d3_time_weekdays=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];var d9=d3.map({jan:0,feb:1,mar:2,apr:3,may:4,jun:5,jul:6,aug:7,sep:8,oct:9,nov:10,dec:11}),d5=/^(?:January|February|March|April|May|June|July|August|September|October|November|December)/ig,d2=d3.map({january:0,february:1,march:2,april:3,may:4,june:5,july:6,august:7,september:8,october:9,november:10,december:11}),d0=["January","February","March","April","May","June","July","August","September","October","November","December"],a4=/\s*\d+/,a0=d3.map({am:0,pm:1});d3.time.format.utc=function(f){function g(b){try{aC=aB;var h=new aC;return h._=b,e(h)}finally{aC=Date}}var e=d3.time.format(f);return g.parse=function(b){try{aC=aB;var h=e.parse(b);return h&&h._}finally{aC=Date}},g.toString=e.toString,g};var aW=d3.time.format.utc("%Y-%m-%dT%H:%M:%S.%LZ");d3.time.format.iso=Date.prototype.toISOString?aV:aW,aV.parse=function(b){return new Date(b)},aV.toString=aW.toString,d3.time.second=aT(function(b){return new aC(Math.floor(b/1000)*1000)},function(f,e){f.setTime(f.getTime()+Math.floor(e)*1000)},function(b){return b.getSeconds()}),d3.time.seconds=d3.time.second.range,d3.time.seconds.utc=d3.time.second.utc.range,d3.time.minute=aT(function(b){return new aC(Math.floor(b/60000)*60000)},function(f,e){f.setTime(f.getTime()+Math.floor(e)*60000)},function(b){return b.getMinutes()}),d3.time.minutes=d3.time.minute.range,d3.time.minutes.utc=d3.time.minute.utc.range,d3.time.hour=aT(function(f){var e=f.getTimezoneOffset()/60;return new aC((Math.floor(f/3600000-e)+e)*3600000)},function(f,e){f.setTime(f.getTime()+Math.floor(e)*3600000)},function(b){return b.getHours()}),d3.time.hours=d3.time.hour.range,d3.time.hours.utc=d3.time.hour.utc.range,d3.time.day=aT(function(b){return new aC(b.getFullYear(),b.getMonth(),b.getDate())},function(f,e){f.setDate(f.getDate()+e)},function(b){return b.getDate()-1}),d3.time.days=d3.time.day.range,d3.time.days.utc=d3.time.day.utc.range,d3.time.dayOfYear=function(f){var e=d3.time.year(f);return Math.floor((f-e)/86400000-(f.getTimezoneOffset()-e.getTimezoneOffset())/1440)},d3_time_weekdays.forEach(function(f,e){f=f.toLowerCase(),e=7-e;var g=d3.time[f]=aT(function(b){return(b=d3.time.day(b)).setDate(b.getDate()-(b.getDay()+e)%7),b},function(i,h){i.setDate(i.getDate()+Math.floor(h)*7)},function(b){var h=d3.time.year(b).getDay();return Math.floor((d3.time.dayOfYear(b)+(h+e)%7)/7)-(h!==e)});d3.time[f+"s"]=g.range,d3.time[f+"s"].utc=g.utc.range,d3.time[f+"OfYear"]=function(b){var h=d3.time.year(b).getDay();return Math.floor((d3.time.dayOfYear(b)+(h+e)%7)/7)}}),d3.time.week=d3.time.sunday,d3.time.weeks=d3.time.sunday.range,d3.time.weeks.utc=d3.time.sunday.utc.range,d3.time.weekOfYear=d3.time.sundayOfYear,d3.time.month=aT(function(b){return new aC(b.getFullYear(),b.getMonth(),1)},function(f,e){f.setMonth(f.getMonth()+e)},function(b){return b.getMonth()}),d3.time.months=d3.time.month.range,d3.time.months.utc=d3.time.month.utc.range,d3.time.year=aT(function(b){return new aC(b.getFullYear(),0,1)},function(f,e){f.setFullYear(f.getFullYear()+e)},function(b){return b.getFullYear()}),d3.time.years=d3.time.year.range,d3.time.years.utc=d3.time.year.utc.range;var aj=[1000,5000,15000,30000,60000,300000,900000,1800000,3600000,10800000,21600000,43200000,86400000,172800000,604800000,2592000000,7776000000,31536000000],ai=[[d3.time.second,1],[d3.time.second,5],[d3.time.second,15],[d3.time.second,30],[d3.time.minute,1],[d3.time.minute,5],[d3.time.minute,15],[d3.time.minute,30],[d3.time.hour,1],[d3.time.hour,3],[d3.time.hour,6],[d3.time.hour,12],[d3.time.day,1],[d3.time.day,2],[d3.time.week,1],[d3.time.month,1],[d3.time.month,3],[d3.time.year,1]],ah=[[d3.time.format("%Y"),function(b){return !0}],[d3.time.format("%B"),function(b){return b.getMonth()}],[d3.time.format("%b %d"),function(b){return b.getDate()!=1}],[d3.time.format("%a %d"),function(b){return b.getDay()&&b.getDate()!=1}],[d3.time.format("%I %p"),function(b){return b.getHours()}],[d3.time.format("%I:%M"),function(b){return b.getMinutes()}],[d3.time.format(":%S"),function(b){return b.getSeconds()}],[d3.time.format(".%L"),function(b){return b.getMilliseconds()}]],ag=d3.scale.linear(),af=am(ah);ai.year=function(f,e){return ag.domain(f.map(ak)).ticks(e).map(al)},d3.time.scale=function(){return aQ(d3.scale.linear(),ai,af)};var ae=ai.map(function(b){return[b[0].utc,b[1]]}),ad=[[d3.time.format.utc("%Y"),function(b){return !0}],[d3.time.format.utc("%B"),function(b){return b.getUTCMonth()}],[d3.time.format.utc("%b %d"),function(b){return b.getUTCDate()!=1}],[d3.time.format.utc("%a %d"),function(b){return b.getUTCDay()&&b.getUTCDate()!=1}],[d3.time.format.utc("%I %p"),function(b){return b.getUTCHours()}],[d3.time.format.utc("%I:%M"),function(b){return b.getUTCMinutes()}],[d3.time.format.utc(":%S"),function(b){return b.getUTCSeconds()}],[d3.time.format.utc(".%L"),function(b){return b.getUTCMilliseconds()}]],ac=am(ad);ae.year=function(f,e){return ag.domain(f.map(aa)).ticks(e).map(ab)},d3.time.scale.utc=function(){return aQ(d3.scale.linear(),ae,ac)}})();(function(){function aR(y,t){y||(y={});for(var L in t){y[L]=t[L]}return y}function ac(y,t){return parseInt(y,t||10)}function ax(t){return typeof t=="string"}function aa(t){return typeof t=="object"}function an(t){return typeof t=="number"}function aN(y,t){for(var L=y.length;L--;){if(y[L]==t){y.splice(L,1);break}}}function ao(t){return t!==K&&t!==null}function g(y,t,ab){var V,L;if(ax(t)){if(ao(ab)){y.setAttribute(t,ab)}else{if(y&&y.getAttribute){L=y.getAttribute(t)}}}else{if(ao(t)&&aa(t)){for(V in t){y.setAttribute(V,t[V])}}}return L}function au(t){if(!t||t.constructor!=Array){t=[t]}return t}function O(){var y=arguments,t,V,L=y.length;for(t=0;t<L;t++){V=y[t];if(typeof V!=="undefined"&&V!==null){return V}}}function ai(y){var t="",L;for(L in y){t+=a1(L)+":"+y[L]+";"}return t}function r(y,t){if(a2){if(t&&t.opacity!==K){t.filter="alpha(opacity="+t.opacity*100+")"}}aR(y.style,t)}function k(y,t,ab,V,L){y=aF.createElement(y);t&&aR(y,t);L&&r(y,{padding:0,border:aP,margin:0});ab&&r(y,ab);V&&V.appendChild(y);return y}function G(y,t){aJ=O(y,t.animation)}function aI(){var t=w.global.useUTC;aq=t?Date.UTC:function(y,bc,ad,ab,V,L){return(new Date(y,bc,O(ad,1),O(ab,0),O(V,0),O(L,0))).getTime()};aw=t?"getUTCMinutes":"getMinutes";aG=t?"getUTCHours":"getHours";am=t?"getUTCDay":"getDay";Y=t?"getUTCDate":"getDate";W=t?"getUTCMonth":"getMonth";F=t?"getUTCFullYear":"getFullYear";ap=t?"setUTCMinutes":"setMinutes";U=t?"setUTCHours":"setHours";S=t?"setUTCDate":"setDate";E=t?"setUTCMonth":"setMonth";l=t?"setUTCFullYear":"setFullYear"}function n(t){a7||(a7=k(q));t&&a7.appendChild(t);a7.innerHTML=""}function u(y,t){var L=function(){};L.prototype=new y;aR(L.prototype,t);return L}function a4(y,t,bc,ad){var ab=w.lang;y=y;var V=isNaN(t=aH(t))?2:t;t=bc===undefined?ab.decimalPoint:bc;ad=ad===undefined?ab.thousandsSep:ad;ab=y<0?"-":"";bc=ac(y=aH(+y||0).toFixed(V))+"";var L=(L=bc.length)>3?L%3:0;return ab+(L?bc.substr(0,L)+ad:"")+bc.substr(L).replace(/(\d{3})(?=\d)/g,"$1"+ad)+(V?t+aH(y-bc).toFixed(V).slice(2):"")}function aO(){}function aM(bL,bJ){function bI(dn,dr){function dd(da,dc){this.pos=da;this.minor=dc;this.isNew=true;dc||this.addLabel()}function de(da){if(da){this.options=da;this.id=da.id}return this}function cE(){var da=[],dx=[],dc;dq=df=null;cu=[];Q(cm,function(dC){dc=false;Q(["xAxis","yAxis"],function(dE){if(dC.isCartesian&&(dE=="xAxis"&&ct||dE=="yAxis"&&!ct)&&(dC.options[dE]==dr.index||dC.options[dE]===K&&dr.index===0)){dC[dE]=di;cu.push(dC);dc=true}});if(!dC.visible&&bu.ignoreHiddenSeries){dc=false}if(dc){var dy,dD,dz,dB,dA;if(!ct){dy=dC.options.stacking;cA=dy=="percent";if(dy){dB=dC.type+O(dC.options.stack,"");dA="-"+dB;dC.stackKey=dB;dD=da[dB]||[];da[dB]=dD;dz=dx[dA]||[];dx[dA]=dz}if(cA){dq=0;df=99}}if(dC.isCartesian){Q(dC.data,function(dF){var dI=dF.x,dH=dF.y,dE=dH<0,dG=dE?dz:dD;dE=dE?dA:dB;if(dq===null){dq=df=dF[cK]}if(ct){if(dI>df){df=dI}else{if(dI<dq){dq=dI}}}else{if(ao(dH)){if(dy){dG[dI]=ao(dG[dI])?dG[dI]+dH:dH}dH=dG?dG[dI]:dH;dF=O(dF.low,dH);if(!cA){if(dH>df){df=dH}else{if(dF<dq){dq=dF}}}if(dy){c9[dE]||(c9[dE]={});c9[dE][dI]={total:dH,cum:dH}}}}});if(/(area|column|bar)/.test(dC.type)&&!ct){if(dq>=0){dq=0;cx=true}else{if(df<0){df=0;dk=true}}}}}})}function cT(da,dx){var dc;dh=dx?1:aW.pow(10,bb(aW.log(da)/aW.LN10));dc=da/dh;if(!dx){dx=[1,2,2.5,5,10];if(dr.allowDecimals===false){if(dh==1){dx=[1,2,5,10]}else{if(dh<=0.1){dx=[1/dh]}}}}for(var dy=0;dy<dx.length;dy++){da=dx[dy];if(dc<=(dx[dy]+(dx[dy+1]||dx[dy]))/2){break}}da*=dh;return da}function cI(da){var dc;dc=da;if(ao(dh)){dc=(dh<1?ak(1/dh):1)*10;dc=ak(da*dc)/dc}return dc}function cS(){var dF,dz,dc,dB,dE=dr.tickInterval,dA=dr.tickPixelInterval;dF=dr.maxZoom||(ct?av(dn.smallestInterval*5,df-dq):null);cP=cF?bX:cq;if(c2){dc=dn[ct?"xAxis":"yAxis"][dr.linkedTo];dB=dc.getExtremes();cJ=O(dB.min,dB.dataMin);cC=O(dB.max,dB.dataMax)}else{cJ=O(cv,dr.min,dq);cC=O(dp,dr.max,df)}if(cC-cJ<dF){dB=(dF-cC+cJ)/2;cJ=a9(cJ-dB,O(dr.min,cJ-dB),dq);cC=av(cJ+dF,O(dr.max,cJ+dF),df)}if(!du&&!cA&&!c2&&ao(cJ)&&ao(cC)){dF=cC-cJ||1;if(!ao(dr.min)&&!ao(cv)&&c5&&(dq<0||!cx)){cJ-=dF*c5}if(!ao(dr.max)&&!ao(dp)&&cX&&(df>0||!dk)){cC+=dF*cX}}cL=cJ==cC?1:c2&&!dE&&dA==dc.options.tickPixelInterval?dc.tickInterval:O(dE,du?1:(cC-cJ)*dA/cP);if(!cG&&!ao(dr.tickInterval)){cL=cT(cL)}di.tickInterval=cL;dl=dr.minorTickInterval==="auto"&&cL?cL/5:dr.minorTickInterval;if(cG){cU=[];dE=w.global.useUTC;var dH=1000/Z,dy=60000/Z,dD=3600000/Z;dA=86400000/Z;dF=604800000/Z;dB=2592000000/Z;var dI=31556952000/Z,da=[["second",dH,[1,2,5,10,15,30]],["minute",dy,[1,2,5,10,15,30]],["hour",dD,[1,2,3,4,6,8,12]],["day",dA,[1,2]],["week",dF,[1,2]],["month",dB,[1,2,3,4,6]],["year",dI,null]],dC=da[6],dG=dC[1],dx=dC[2];for(dc=0;dc<da.length;dc++){dC=da[dc];dG=dC[1];dx=dC[2];if(da[dc+1]){if(cL<=(dG*dx[dx.length-1]+da[dc+1][1])/2){break}}}if(dG==dI&&cL<5*dG){dx=[1,2,5]}da=cT(cL/dG,dx);dx=new Date(cJ*Z);dx.setMilliseconds(0);if(dG>=dH){dx.setSeconds(dG>=dy?0:da*bb(dx.getSeconds()/da))}if(dG>=dy){dx[ap](dG>=dD?0:da*bb(dx[aw]()/da))}if(dG>=dD){dx[U](dG>=dA?0:da*bb(dx[aG]()/da))}if(dG>=dA){dx[S](dG>=dB?1:da*bb(dx[Y]()/da))}if(dG>=dB){dx[E](dG>=dI?0:da*bb(dx[W]()/da));dz=dx[F]()}if(dG>=dI){dz-=dz%da;dx[l](dz)}dG==dF&&dx[S](dx[Y]()-dx[am]()+dr.startOfWeek);dc=1;dz=dx[F]();dH=dx.getTime()/Z;dy=dx[W]();for(dD=dx[Y]();dH<cC&&dc<bX;){cU.push(dH);if(dG==dI){dH=aq(dz+dc*da,0)/Z}else{if(dG==dB){dH=aq(dz,dy+dc*da)/Z}else{if(!dE&&(dG==dA||dG==dF)){dH=aq(dz,dy,dD+dc*da*(dG==dA?1:7))}else{dH+=dG*da}}}dc++}cU.push(dH);cZ=dr.dateTimeLabelFormats[dC[0]]}else{dc=bb(cJ/cL)*cL;dz=B(cC/cL)*cL;cU=[];for(dc=cI(dc);dc<=dz;){cU.push(dc);dc=cI(dc+cL)}}if(!c2){if(du||ct&&dn.hasColumn){dz=(du?1:cL)*0.5;if(du||!ao(O(dr.min,cv))){cJ-=dz}if(du||!ao(O(dr.max,dp))){cC+=dz}}dz=cU[0];dc=cU[cU.length-1];if(dr.startOnTick){cJ=dz}else{cJ>dz&&cU.shift()}if(dr.endOnTick){cC=dc}else{cC<dc&&cU.pop()}bm||(bm={x:0,y:0});if(!cG&&cU.length>bm[cK]){bm[cK]=cU.length}}}function dj(){var da,dc;db=cJ;c7=cC;cE();cS();cs=cO;cO=cP/(cC-cJ||1);if(!ct){for(da in c9){for(dc in c9[da]){c9[da][dc].cum=c9[da][dc].total}}}if(!di.isDirty){di.isDirty=cJ!=db||cC!=c7}}function cV(da){da=(new de(da)).render();cH.push(da);return da}function dt(){var da=dr.title,dz=dr.alternateGridColor,dy=dr.lineWidth,dA,dc,dB=dn.hasRendered,dx=dB&&ao(db)&&!isNaN(db);dA=cu.length&&ao(cJ)&&ao(cC);cP=cF?bX:cq;cO=cP/(cC-cJ||1);cY=cF?bR:bo;if(dA||c2){if(dl&&!du){for(dA=cJ+(cU[0]-cJ)%dl;dA<=cC;dA+=dl){cM[dA]||(cM[dA]=new dd(dA,true));dx&&cM[dA].isNew&&cM[dA].render(null,true);cM[dA].isActive=true;cM[dA].render()}}Q(cU,function(dD,dC){if(!c2||dD>=cJ&&dD<=cC){dx&&cw[dD].isNew&&cw[dD].render(dC,true);cw[dD].isActive=true;cw[dD].render(dC)}});dz&&Q(cU,function(dD,dC){if(dC%2===0&&dD<cC){cQ[dD]||(cQ[dD]=new de);cQ[dD].options={from:dD,to:cU[dC+1]!==K?cU[dC+1]:cC,color:dz};cQ[dD].render();cQ[dD].isActive=true}});dB||Q((dr.plotLines||[]).concat(dr.plotBands||[]),function(dC){cH.push((new de(dC)).render())})}Q([cw,cM,cQ],function(dD){for(var dC in dD){if(dD[dC].isActive){dD[dC].isActive=false}else{dD[dC].destroy();delete dD[dC]}}});if(dy){dA=bR+(c3?bX:0)+cB;dc=b7-bo-(c3?cq:0)+cB;dA=ce.crispLine([P,cF?bR:dA,cF?dc:cb,aL,cF?bQ-b8:dA,cF?dc:b7-bo],dy);if(cW){cW.animate({d:dA})}else{cW=ce.path(dA).attr({stroke:dr.lineColor,"stroke-width":dy,zIndex:7}).add()}}if(di.axisTitle){dA=cF?bR:cb;dy=ac(da.style.fontSize||12);dA={low:dA+(cF?0:cP),middle:dA+cP/2,high:dA+(cF?cP:0)}[da.align];dy=(cF?cb+cq:bR)+(cF?1:-1)*(c3?-1:1)*dv+(cN==2?dy:0);di.axisTitle[dB?"animate":"attr"]({x:cF?dA:dy+(c3?bX:0)+cB+(da.x||0),y:cF?dy-(c3?cq:0)+cB:dA+(da.y||0)})}di.isDirty=false}function c0(da){for(var dc=0;dc<cH.length;dc++){cH[dc].id==da&&cH[dc].destroy()}}var ct=dr.isX,c3=dr.opposite,cF=ad?!ct:ct,cN=cF?c3?0:2:c3?1:3,c9={};dr=v(ct?p:a0,[M,x,o,h][cN],dr);var di=this,cG=dr.type=="datetime",cB=dr.offset||0,cK=ct?"x":"y",cP,cO,cs,cY=cF?bR:bo,cz,cD,dg,cy,cW,dq,df,cu,cv,dp,cC=null,cJ=null,db,c7,c5=dr.minPadding,cX=dr.maxPadding,c2=ao(dr.linkedTo),cx,dk,cA,dm=dr.events,cR,cH=[],cL,dl,dh,cU,cw={},cM={},cQ={},dw,c8,dv,cZ,du=dr.categories,c4=dr.labels.formatter||function(){var da=this.value;return cZ?ba(cZ,da):cL%1000000===0?da/1000000+"M":cL%1000===0?da/1000+"k":!du&&da>=1000?a4(da,0):da},c1=cF&&dr.labels.staggerLines,ds=dr.reversed,c6=du&&dr.tickmarkPlacement=="between"?0.5:0;dd.prototype={addLabel:function(){var da=this.pos,dy=dr.labels,dx=!(da==cJ&&!O(dr.showFirstLabel,1)||da==cC&&!O(dr.showLastLabel,0)),dz,dc=this.label;da=c4.call({isFirst:da==cU[0],isLast:da==cU[cU.length-1],dateTimeLabelFormat:cZ,value:du&&du[da]?du[da]:da});dz=dz&&{width:dz-2*(dy.padding||10)+aY};if(dc===K){this.label=ao(da)&&dx&&dy.enabled?ce.text(da,0,0).attr({align:dy.align,rotation:dy.rotation}).css(aR(dz,dy.style)).add(dg):null}else{dc&&dc.attr({text:da}).css(dz)}},getLabelSize:function(){var da=this.label;return da?(this.labelBBox=da.getBBox())[cF?"height":"width"]:0},render:function(dF,dz){var dc=!this.minor,dB=this.label,dE=this.pos,dA=dr.labels,dI=this.gridLine,dy=dc?dr.gridLineWidth:dr.minorGridLineWidth,dD=dc?dr.gridLineColor:dr.minorGridLineColor,dL=dc?dr.gridLineDashStyle:dr.minorGridLineDashStyle,da=this.mark,dC=dc?dr.tickLength:dr.minorTickLength,dG=dc?dr.tickWidth:dr.minorTickWidth||0,dx=dc?dr.tickColor:dr.minorTickColor,dH=dc?dr.tickPosition:dr.minorTickPosition;dc=dA.step;var dK=dz&&b6||b7,dJ;dJ=cF?cz(dE+c6,null,null,dz)+cY:bR+cB+(c3?(dz&&bU||bQ)-b8-bR:0);dK=cF?dK-bo+cB-(c3?cq:0):dK-cz(dE+c6,null,null,dz)-cY;if(dy){dE=cD(dE+c6,dy,dz);if(dI===K){dI={stroke:dD,"stroke-width":dy};if(dL){dI.dashstyle=dL}this.gridLine=dI=dy?ce.path(dE).attr(dI).add(cy):null}dI&&dE&&dI.animate({d:dE})}if(dG){if(dH=="inside"){dC=-dC}if(c3){dC=-dC}dy=ce.crispLine([P,dJ,dK,aL,dJ+(cF?0:-dC),dK+(cF?dC:0)],dG);if(da){da.animate({d:dy})}else{this.mark=ce.path(dy).attr({stroke:dx,"stroke-width":dG}).add(dg)}}if(dB){dJ=dJ+dA.x-(c6&&cF?c6*cO*(ds?-1:1):0);dK=dK+dA.y-(c6&&!cF?c6*cO*(ds?1:-1):0);ao(dA.y)||(dK+=parseInt(dB.styles.lineHeight)*0.9-dB.getBBox().height/2);if(c1){dK+=dF%c1*16}if(dc){dB[dF%dc?"hide":"show"]()}dB[this.isNew?"attr":"animate"]({x:dJ,y:dK})}this.isNew=false},destroy:function(){for(var da in this){this[da]&&this[da].destroy&&this[da].destroy()}}};de.prototype={render:function(){var dF=this,dz=dF.options,dc=dz.label,dB=dF.label,dE=dz.width,dA=dz.to,dI,dy=dz.from,dD=dz.dashStyle,dJ=dF.svgElem,da=[],dC,dG,dx=dz.color;dG=dz.zIndex;var dH=dz.events;if(dE){da=cD(dz.value,dE);dz={stroke:dx,"stroke-width":dE};if(dD){dz.dashstyle=dD}}else{if(ao(dy)&&ao(dA)){dy=a9(dy,cJ);dA=av(dA,cC);dI=cD(dA);if((da=cD(dy))&&dI){da.push(dI[4],dI[5],dI[1],dI[2])}else{da=null}dz={fill:dx}}else{return}}if(ao(dG)){dz.zIndex=dG}if(dJ){if(da){dJ.animate({d:da},null,dJ.onGetPath)}else{dJ.hide();dJ.onGetPath=function(){dJ.show()}}}else{if(da&&da.length){dF.svgElem=dJ=ce.path(da).attr(dz).add();if(dH){dD=function(dK){dJ.on(dK,function(dL){dH[dK].apply(dF,[dL])})};for(dC in dH){dD(dC)}}}}if(dc&&ao(dc.text)&&da&&da.length&&bX>0&&cq>0){dc=v({align:cF&&dI&&"center",x:cF?!dI&&4:10,verticalAlign:!cF&&dI&&"middle",y:cF?dI?16:10:dI?6:-4,rotation:cF&&!dI&&90},dc);if(!dB){dF.label=dB=ce.text(dc.text,0,0).attr({align:dc.textAlign||dc.align,rotation:dc.rotation,zIndex:dG}).css(dc.style).add()}dI=[da[1],da[4],da[6]||da[1]];da=[da[2],da[5],da[7]||da[2]];dC=av.apply(aW,dI);dG=av.apply(aW,da);dB.align(dc,false,{x:dC,y:dG,width:a9.apply(aW,dI)-dC,height:a9.apply(aW,da)-dG});dB.show()}else{dB&&dB.hide()}return dF},destroy:function(){for(var da in this){this[da]&&this[da].destroy&&this[da].destroy();delete this[da]}aN(cH,this)}};cz=function(da,dz,dy,dA){var dc=1,dB=0,dx=dA?cs:cO;dA=dA?db:cJ;dx||(dx=cO);if(dy){dc*=-1;dB=cP}if(ds){dc*=-1;dB-=dc*cP}if(dz){if(ds){da=cP-da}da=da/dx+dA}else{da=dc*(da-dA)*dx+dB}return da};cD=function(dC,dx,da){var dz,dB,dy;dC=cz(dC,null,null,da);var dD=da&&b6||b7,dc=da&&bU||bQ,dA;da=dB=ak(dC+cY);dz=dy=ak(dD-dC-cY);if(isNaN(dC)){dA=true}else{if(cF){dz=cb;dy=dD-bo;if(da<bR||da>bR+bX){dA=true}}else{da=bR;dB=dc-b8;if(dz<cb||dz>cb+cq){dA=true}}}return dA?null:ce.crispLine([P,da,dz,aL,dB,dy],dx||0)};if(ad&&ct&&ds===K){ds=true}aR(di,{addPlotBand:cV,addPlotLine:cV,adjustTickAmount:function(){if(bm&&!cG&&!du&&!c2){var da=dw,dc=cU.length;dw=bm[cK];if(dc<dw){for(;cU.length<dw;){cU.push(cI(cU[cU.length-1]+cL))}cO*=(dc-1)/(dw-1);cC=cU[cU.length-1]}if(ao(da)&&dw!=da){di.isDirty=true}}},categories:du,getExtremes:function(){return{min:cJ,max:cC,dataMin:dq,dataMax:df}},getPlotLinePath:cD,getThreshold:function(da){if(cJ>da){da=cJ}else{if(cC<da){da=cC}}return cz(da,0,1)},isXAxis:ct,options:dr,plotLinesAndBands:cH,getOffset:function(){var da=cu.length&&ao(cJ)&&ao(cC),dz=0,dy=0,dA=dr.title,dc=dr.labels,dB=[-1,1,1,-1][cN];if(!dg){dg=ce.g("axis").attr({zIndex:7}).add();cy=ce.g("grid").attr({zIndex:1}).add()}c8=0;if(da||c2){Q(cU,function(dC){if(cw[dC]){cw[dC].addLabel()}else{cw[dC]=new dd(dC)}if(cN===0||cN==2||{1:"left",3:"right"}[cN]==dc.align){c8=a9(cw[dC].getLabelSize(),c8)}});if(c1){c8+=(c1-1)*16}}else{for(var dx in cw){cw[dx].destroy();delete cw[dx]}}if(dA&&dA.text){if(!di.axisTitle){di.axisTitle=ce.text(dA.text,0,0).attr({zIndex:7,rotation:dA.rotation||0,align:dA.textAlign||{low:"left",middle:"center",high:"right"}[dA.align]}).css(dA.style).add()}dz=di.axisTitle.getBBox()[cF?"height":"width"];dy=O(dA.margin,cF?5:10)}cB=dB*(dr.offset||bs[cN]);dv=c8+(cN!=2&&c8&&dB*dr.labels[cF?"y":"x"])+dy;bs[cN]=a9(bs[cN],dv+dz+dB*cB)},render:dt,setCategories:function(da,dc){di.categories=du=da;Q(cu,function(dx){dx.translate();dx.setTooltipPoints(true)});di.isDirty=true;O(dc,true)&&dn.redraw()},setExtremes:function(da,dx,dc,dy){G(dy,dn);dc=O(dc,true);ae(di,"setExtremes",{min:da,max:dx},function(){cv=da;dp=dx;dc&&dn.redraw()})},setScale:dj,setTickPositions:cS,translate:cz,redraw:function(){cc.resetTracker&&cc.resetTracker();dt();Q(cH,function(da){da.render()});Q(cu,function(da){da.isDirty=true})},removePlotBand:c0,removePlotLine:c0,reversed:ds,stacks:c9});for(cR in dm){ah(di,cR,dm[cR])}dj()}function bH(){var cs={};return{add:function(cv,ct,cu,cw){if(!cs[cv]){ct=ce.text(ct,0,0).css(bL.toolbar.itemStyle).align({align:"right",x:-b8-20,y:cb+30}).on("click",cw).attr({align:"right",zIndex:20}).add();cs[cv]=ct}},remove:function(ct){n(cs[ct].element);cs[ct]=null}}}function bG(cI){function cJ(){var cN=this.points||au(this),cQ=cN[0].series.xAxis,cP=this.x;cQ=cQ&&cQ.options.type=="datetime";var cM=ax(cP)||cQ,cO;cO=cM?['<span style="font-size: 10px">',cQ?ba("%A, %b %e, %Y",cP):cP,"</span><br/>"]:[];Q(cN,function(cR){cO.push(cR.point.tooltipFormatter(cM))});return cO.join("")}function cB(cM,cN){cE=cA?cM:(2*cE+cM)/3;cH=cA?cN:(cH+cN)/2;cG.translate(cE,cH);bx=aH(cM-cE)>1||aH(cN-cH)>1?function(){cB(cM,cN)}:null}function cD(){if(!cA){var cM=bv.hoverPoints;cG.hide();Q(cK,function(cN){cN&&cN.hide()});cM&&Q(cM,function(cN){cN.setState()});bv.hoverPoints=null;cA=true}}var cw,cL=cI.borderWidth,cz=cI.crosshairs,cK=[],ct=cI.style,cs=cI.shared,cu=ac(ct.padding),cC=cL+cu,cA=true,cF,cx,cE=0,cH=0;ct.padding=0;var cG=ce.g("tooltip").attr({zIndex:8}).add(),cy=ce.rect(cC,cC,0,0,cI.borderRadius,cL).attr({fill:cI.backgroundColor,"stroke-width":cL}).add(cG).shadow(cI.shadow),cv=ce.text("",cu+cC,ac(ct.fontSize)+cu+cC).attr({zIndex:1}).css(ct).add(cG);cG.hide();return{shared:cs,refresh:function(cT){var cN,cU,cR,cS=0,cQ={},cP=[];cR=cT.tooltipPos;cN=cI.formatter||cJ;cQ=bv.hoverPoints;var cM=function(cV){return{series:cV.series,point:cV,x:cV.category,y:cV.y,percentage:cV.percentage,total:cV.total||cV.stackTotal}};if(cs){cQ&&Q(cQ,function(cV){cV.setState()});bv.hoverPoints=cT;Q(cT,function(cV){cV.setState(f);cS+=cV.plotY;cP.push(cM(cV))});cU=cT[0].plotX;cS=ak(cS)/cT.length;cQ={x:cT[0].category};cQ.points=cP;cT=cT[0]}else{cQ=cM(cT)}cQ=cN.call(cQ);cw=cT.series;cU=cs?cU:cT.plotX;cS=cs?cS:cT.plotY;cN=ak(cR?cR[0]:ad?bX-cS:cU);cU=ak(cR?cR[1]:ad?cq-cU:cS);cR=cs||!cT.series.isCartesian||bV(cN,cU);if(cQ===false||!cR){cD()}else{if(cA){cG.show();cA=false}cv.attr({text:cQ});cR=cv.getBBox();cF=cR.width;cx=cR.height;cy.attr({width:cF+2*cu,height:cx+2*cu,stroke:cI.borderColor||cT.color||cw.color||"#606060"});cN=cN-cF+bR-25;cU=cU-cx+cb+10;if(cN<7){cN=7;cU-=30}if(cU<5){cU=5}else{if(cU+cx>b7){cU=b7-cx-5}}cB(ak(cN-cC),ak(cU-cC))}if(cz){cz=au(cz);cU=cz.length;for(var cO;cU--;){if(cz[cU]&&(cO=cT.series[cU?"yAxis":"xAxis"])){cN=cO.getPlotLinePath(cT[cU?"y":"x"],1);if(cK[cU]){cK[cU].attr({d:cN,visibility:a3})}else{cR={"stroke-width":cz[cU].width||1,stroke:cz[cU].color||"#C0C0C0",zIndex:2};if(cz[cU].dashStyle){cR.dashstyle=cz[cU].dashStyle}cK[cU]=ce.path(cN).attr(cR).add()}}}}},hide:cD}}function bF(ct,cu){function cC(cJ){var cH;cJ=cJ||ar.event;if(!cJ.target){cJ.target=cJ.srcElement}cH=cJ.touches?cJ.touches.item(0):cJ;if(cJ.type!="mousemove"||ar.opera){for(var cI=bO,cK={left:cI.offsetLeft,top:cI.offsetTop};cI=cI.offsetParent;){cK.left+=cI.offsetLeft;cK.top+=cI.offsetTop;if(cI!=aF.body&&cI!=aF.documentElement){cK.left-=cI.scrollLeft;cK.top-=cI.scrollTop}}bd=cK}if(a2){cJ.chartX=cJ.x;cJ.chartY=cJ.y}else{if(cH.layerX===K){cJ.chartX=cH.pageX-bd.left;cJ.chartY=cH.pageY-bd.top}else{cJ.chartX=cJ.layerX;cJ.chartY=cJ.layerY}}return cJ}function cE(cI){var cH={xAxis:[],yAxis:[]};Q(bj,function(cK){var cL=cK.translate,cJ=cK.isXAxis;cH[cJ?"xAxis":"yAxis"].push({axis:cK,value:cL((ad?!cJ:cJ)?cI.chartX-bR:cq-cI.chartY+cb,true)})});return cH}function cv(){var cI=ct.hoverSeries,cH=ct.hoverPoint;cH&&cH.onMouseOut();cI&&cI.onMouseOut();cp&&cp.hide();bk=null}function cF(){if(cB){var cJ={xAxis:[],yAxis:[]},cH=cB.getBBox(),cI=cH.x-bR,cK=cH.y-cb;if(cs){Q(bj,function(cN){var cM=cN.translate,cP=cN.isXAxis,cO=ad?!cP:cP,cL=cM(cO?cI:cq-cK-cH.height,true);cM=cM(cO?cI+cH.width:cq-cK,true);cJ[cP?"xAxis":"yAxis"].push({axis:cN,min:av(cL,cM),max:a9(cL,cM)})});ae(ct,"selection",cJ,V)}cB=cB.destroy()}ct.mouseIsDown=cn=cs=false;aK(aF,a8?"touchend":"mouseup",cF)}var cz,cG,cs,cB,cD=bu.zoomType,cA=/x/.test(cD),cx=/y/.test(cD),cy=cA&&!ad||cx&&ad,cw=cx&&!ad||cA&&ad;bN=function(){if(br){br.translate(bR,cb);ad&&br.attr({width:ct.plotWidth,height:ct.plotHeight}).invert()}else{ct.trackerGroup=br=ce.g("tracker").attr({zIndex:9}).add()}};bN();if(cu.enabled){ct.tooltip=cp=bG(cu)}(function(){var cI=true;bO.onmousedown=function(cJ){cJ=cC(cJ);ct.mouseIsDown=cn=true;cz=cJ.chartX;cG=cJ.chartY;ah(aF,a8?"touchend":"mouseup",cF)};var cH=function(cR){if(!(cR&&cR.touches&&cR.touches.length>1)){cR=cC(cR);if(!a8){cR.returnValue=false}var cM=cR.chartX,cL=cR.chartY,cP=!bV(cM-bR,cL-cb);if(a8&&cR.type=="touchstart"){if(g(cR.target,"isTracker")){ct.runTrackerClick||cR.preventDefault()}else{!bZ&&!cP&&cR.preventDefault()}}if(cP){cI||cv();if(cM<bR){cM=bR}else{if(cM>bR+bX){cM=bR+bX}}if(cL<cb){cL=cb}else{if(cL>cb+cq){cL=cb+cq}}}if(cn&&cR.type!="touchstart"){if(cs=Math.sqrt(Math.pow(cz-cM,2)+Math.pow(cG-cL,2))>10){if(bz&&(cA||cx)&&bV(cz-bR,cG-cb)){cB||(cB=ce.rect(bR,cb,cy?1:bX,cw?1:cq,0).attr({fill:"rgba(69,114,167,0.25)",zIndex:7}).add())}if(cB&&cy){cM=cM-cz;cB.attr({width:aH(cM),x:(cM>0?0:cM)+cz})}if(cB&&cw){cL=cL-cG;cB.attr({height:aH(cL),y:(cL>0?0:cL)+cG})}}}else{if(!cP){var cJ;cL=ct.hoverPoint;cM=ct.hoverSeries;var cQ,cN,cO=bQ,cK=ad?cR.chartY:cR.chartX-bR;if(cp&&cu.shared){cJ=[];cQ=cm.length;for(cN=0;cN<cQ;cN++){if(cm[cN].visible&&cm[cN].tooltipPoints.length){cR=cm[cN].tooltipPoints[cK];cR._dist=aH(cK-cR.plotX);cO=av(cO,cR._dist);cJ.push(cR)}}for(cQ=cJ.length;cQ--;){cJ[cQ]._dist>cO&&cJ.splice(cQ,1)}if(cJ.length&&cJ[0].plotX!=bk){cp.refresh(cJ);bk=cJ[0].plotX}}if(cM&&cM.tracker){(cR=cM.tooltipPoints[cK])&&cR!=cL&&cR.onMouseOver()}}}return(cI=cP)||!bz}};bO.onmousemove=cH;ah(bO,"mouseleave",cv);bO.ontouchstart=function(cJ){if(cA||cx){bO.onmousedown(cJ)}cH(cJ)};bO.ontouchmove=cH;bO.ontouchend=function(){cs&&cv()};bO.onclick=function(cL){var cM=ct.hoverPoint;cL=cC(cL);cL.cancelBubble=true;if(!cs){if(cM&&g(cL.target,"isTracker")){var cK=cM.plotX,cJ=cM.plotY;aR(cM,{pageX:bd.left+bR+(ad?bX-cJ:cK),pageY:bd.top+cb+(ad?cq-cK:cJ)});ae(cM.series,"click",aR(cL,{point:cM}));cM.firePointEvent("click",cL)}else{aR(cL,cE(cL));bV(cL.chartX-bR,cL.chartY-cb)&&ae(ct,"click",cL)}}cs=false}})();ch=setInterval(function(){bx&&bx()},32);aR(this,{zoomX:cA,zoomY:cx,resetTracker:cv})}function bE(ct){var cv=ct.type||bu.type||bu.defaultSeriesType,cs=aS[cv],cu=bv.hasRendered;if(cu){if(ad&&cv=="column"){cs=aS.bar}else{if(!ad&&cv=="bar"){cs=aS.column}}}cv=new cs;cv.init(bv,ct);if(!cu&&cv.inverted){ad=true}if(cv.isCartesian){bz=cv.isCartesian}cm.push(cv);return cv}function bC(){bu.alignTicks!==false&&Q(bj,function(cs){cs.adjustTickAmount()});bm=null}function bA(ct){var cv=bv.isDirtyLegend,cs,cu=bv.isDirtyBox,cw=cm.length,cx=cw,cy=bv.clipRect;for(G(ct,bv);cx--;){ct=cm[cx];if(ct.isDirty&&ct.options.stacking){cs=true;break}}if(cs){for(cx=cw;cx--;){ct=cm[cx];if(ct.options.stacking){ct.isDirty=true}}}Q(cm,function(cz){if(cz.isDirty){cz.cleanData();cz.getSegments();if(cz.options.legendType=="point"){cv=true}}});if(cv&&cd.renderLegend){cd.renderLegend();bv.isDirtyLegend=false}if(bz){if(!bh){bm=null;Q(bj,function(cz){cz.setScale()})}bC();cg();Q(bj,function(cz){if(cz.isDirty||cu){cz.redraw();cu=true}})}if(cu){bY();bN();if(cy){e(cy);cy.animate({width:bv.plotSizeX,height:bv.plotSizeY})}}Q(cm,function(cz){if(cz.isDirty&&cz.visible&&(!cz.isCartesian||cz.xAxis)){cz.redraw()}});cc&&cc.resetTracker&&cc.resetTracker();ae(bv,"redraw")}function by(){var ct=bL.xAxis||{},cu=bL.yAxis||{},cs;ct=au(ct);Q(ct,function(cv,cw){cv.index=cw;cv.isX=true});cu=au(cu);Q(cu,function(cv,cw){cv.index=cw});bj=ct.concat(cu);bv.xAxis=[];bv.yAxis=[];bj=D(bj,function(cv){cs=new bI(bv,cv);bv[cs.isXAxis?"xAxis":"yAxis"].push(cs);return cs});bC()}function bw(cs,ct){ab=v(bL.title,cs);b4=v(bL.subtitle,ct);Q([["title",cs,ab],["subtitle",ct,b4]],function(cu){var cv=cu[0],cw=bv[cv],cx=cu[1];cu=cu[2];if(cw&&cx){cw.destroy();cw=null}if(cu&&cu.text&&!cw){bv[cv]=ce.text(cu.text,0,0).attr({align:cu.align,"class":"highcharts-"+cv,zIndex:1}).css(cu.style).add().align(cu,false,bM)}})}function bt(){bB=bu.renderTo;b3=ay+X++;if(ax(bB)){bB=aF.getElementById(bB)}bB.innerHTML="";if(!bB.offsetWidth){bi=bB.cloneNode(0);r(bi,{position:a5,top:"-9999px",display:""});aF.body.appendChild(bi)}cj=(bi||bB).offsetWidth;bq=(bi||bB).offsetHeight;bv.chartWidth=bQ=bu.width||cj||600;bv.chartHeight=b7=bu.height||(bq>19?bq:400);bv.container=bO=k(q,{className:"highcharts-container"+(bu.className?" "+bu.className:""),id:b3},aR({position:af,overflow:az,width:bQ+aY,height:b7+aY,textAlign:"left"},bu.style),bi||bB);bv.renderer=ce=bu.renderer=="SVG"?new aD(bO,bQ,b7):new I(bO,bQ,b7);var cs,ct;if(/Firefox/.test(s)&&bO.getBoundingClientRect){cs=function(){r(bO,{left:0,top:0});ct=bO.getBoundingClientRect();r(bO,{left:-ct.left%1+aY,top:-ct.top%1+aY})};cs();ah(ar,"resize",cs);ah(bv,"destroy",function(){aK(ar,"resize",cs)})}}function b0(){function cs(){var cu=bu.width||bB.offsetWidth,cv=bu.height||bB.offsetHeight;if(cu&&cv){if(cu!=cj||cv!=bq){clearTimeout(ct);ct=setTimeout(function(){bn(cu,cv,false)},100)}cj=cu;bq=cv}}var ct;ah(window,"resize",cs);ah(bv,"destroy",function(){aK(window,"resize",cs)})}function bD(){var ct=bL.labels,cu=bL.credits,cs;bw();cd=bv.legend=new b9(bv);cg();Q(bj,function(cv){cv.setTickPositions(true)});bC();cg();bY();bz&&Q(bj,function(cv){cv.render()});if(!bv.seriesGroup){bv.seriesGroup=ce.g("series-group").attr({zIndex:3}).add()}Q(cm,function(cv){cv.translate();cv.setTooltipPoints();cv.render()});ct.items&&Q(ct.items,function(){var cv=aR(ct.style,this.style),cw=ac(cv.left)+bR,cx=ac(cv.top)+cb+12;delete cv.left;delete cv.top;ce.text(this.html,cw,cx).attr({zIndex:2}).css(cv).add()});if(!bv.toolbar){bv.toolbar=bH(bv)}if(cu.enabled&&!bv.credits){cs=cu.href;ce.text(cu.text,0,0).on("click",function(){if(cs){location.href=cs}}).attr({align:cu.position.align,zIndex:8}).css(cu.style).add().align(cu.position)}bN();bv.hasRendered=true;if(bi){bB.appendChild(bO);n(bi)}}function bS(){var cs=cm.length,ct=bO&&bO.parentNode;ae(bv,"destroy");aK(ar,"unload",bS);aK(bv);for(Q(bj,function(cu){aK(cu)});cs--;){cm[cs].destroy()}bO.innerHTML="";aK(bO);ct&&ct.removeChild(bO);bO=null;ce.alignedObjects=null;clearInterval(ch);for(cs in bv){delete bv[cs]}}function bW(){if(!b&&!ar.parent&&aF.readyState!="complete"){aF.attachEvent("onreadystatechange",function(){aF.detachEvent("onreadystatechange",bW);bW()})}else{bt();bc();co();Q(bL.series||[],function(cs){bE(cs)});bv.inverted=ad=O(ad,bL.chart.inverted);by();bv.render=bD;bv.tracker=cc=new bF(bv,bL.tooltip);bD();ae(bv,"load");bJ&&bJ.apply(bv,[bv]);Q(bv.callbacks,function(cs){cs.apply(bv,[bv])})}}p=v(p,w.xAxis);a0=v(a0,w.yAxis);w.xAxis=w.yAxis=null;bL=v(w,bL);var bu=bL.chart,b5=bu.margin;b5=aa(b5)?b5:[b5,b5,b5,b5];var bT=O(bu.marginTop,b5[0]),cl=O(bu.marginRight,b5[1]),L=O(bu.marginBottom,b5[2]),be=O(bu.marginLeft,b5[3]),b1=bu.spacingTop,bl=bu.spacingRight,cf=bu.spacingBottom,bP=bu.spacingLeft,bM,ab,b4,cb,b8,bo,bR,bs,bB,bi,bO,b3,cj,bq,bQ,b7,bU,b6,b2,bK,bp,bf,bv=this,bZ=(b5=bu.events)&&!!b5.click,cr,bV,cp,cn,ca,bg,ci,cq,bX,cc,br,bN,cd,y,ck,bd,bz=bu.showAxes,bh=0,bj=[],bm,cm=[],ad,ce,bx,ch,bk,bY,cg,bc,co,bn,V,t,b9=function(cQ){function cU(c0,c3){var cY=c0.legendItem,cX=c0.legendLine,c2=c0.legendSymbol,cZ=cz.color,c1=c3?cC.itemStyle.color:cZ;cZ=c3?c0.color:cZ;cY&&cY.css({fill:c1});cX&&cX.attr({stroke:cZ});c2&&c2.attr({stroke:cZ,fill:cZ})}function cH(c0,c2,cY){var cX=c0.legendItem,c1=c0.legendLine,cZ=c0.legendSymbol;c0=c0.checkbox;cX&&cX.attr({x:c2,y:cY});c1&&c1.translate(c2,cY-4);cZ&&cZ.attr({x:c2+cZ.xOff,y:cY+cZ.yOff});if(c0){c0.x=c2;c0.y=cY}}function cJ(){Q(cw,function(cX){var cY=cX.checkbox;cY&&r(cY,{left:cT.attr("translateX")+cX.legendItemWidth+cY.x-40+aY,top:cT.attr("translateY")+cY.y-11+aY})})}function cy(c0){var c3,cY,cX,c2,cZ,c1=c0.legendItem;c2=c0.series||c0;if(!c1){cZ=/^(bar|pie|area|column)$/.test(c2.type);c0.legendItem=c1=ce.text(cC.labelFormatter.call(c0),0,0).css(c0.visible?cD:cz).on("mouseover",function(){c0.setState(f);c1.css(cL)}).on("mouseout",function(){c1.css(c0.visible?cD:cz);c0.setState()}).on("click",function(){var c5=function(){c0.setVisible()};c0.firePointEvent?c0.firePointEvent("legendItemClick",null,c5):ae(c0,"legendItemClick",null,c5)}).attr({zIndex:2}).add(cT);if(!cZ&&c0.options&&c0.options.lineWidth){var c4=c0.options;c2={"stroke-width":c4.lineWidth,zIndex:2};if(c4.dashStyle){c2.dashstyle=c4.dashStyle}c0.legendLine=ce.path([P,-ct-cs,0,aL,-cs,0]).attr(c2).add(cT)}if(cZ){c3=ce.rect(cY=-ct-cs,cX=-11,ct,12,2).attr({"stroke-width":0,zIndex:3}).add(cT)}else{if(c0.options&&c0.options.marker&&c0.options.marker.enabled){c3=ce.symbol(c0.symbol,cY=-ct/2-cs,cX=-4,c0.options.marker.radius).attr(c0.pointAttr[T]).attr({zIndex:3}).add(cT)}}if(c3){c3.xOff=cY;c3.yOff=cX}c0.legendSymbol=c3;cU(c0,c0.visible);if(c0.options&&c0.options.showCheckbox){c0.checkbox=k("input",{type:"checkbox",checked:c0.selected,defaultChecked:c0.selected},cC.itemCheckboxStyle,bO);ah(c0.checkbox,"click",function(c5){ae(c0,"checkboxClick",{checked:c5.target.checked},function(){c0.select()})})}}c3=c1.getBBox();cY=c0.legendItemWidth=cC.itemWidth||ct+cs+c3.width+cP;cM=c3.height;if(cV&&cx-cB+cY>(cS||bQ-2*cK-cB)){cx=cB;cG+=cM}cO=cG;cH(c0,cx,cG);if(cV){cx+=cY}else{cG+=cM}cR=cS||a9(cV?cx-cB:cY,cR);cw.push(c0)}function cW(){cx=cB;cG=cN;cO=cR=0;cw=[];cT||(cT=ce.g("legend").attr({zIndex:7}).add());cv&&cE.reverse();Q(cE,function(c0){if(c0.options.showInLegend){Q(c0.options.legendType=="point"?c0.data:[c0],cy)}});cv&&cE.reverse();y=cS||cR;ck=cO-cN+cM;if(cu||cF){y+=2*cK;ck+=2*cK;if(cA){y>0&&ck>0&&cA.animate({width:y,height:ck})}else{cA=ce.rect(0,0,y,ck,cC.borderRadius,cu||0).attr({stroke:cC.borderColor,"stroke-width":cu||0,fill:cF||aP}).add(cT).shadow(cC.shadow)}cA[cw.length?"show":"hide"]()}for(var cY=["left","right","top","bottom"],cZ,cX=4;cX--;){cZ=cY[cX];if(cI[cZ]&&cI[cZ]!="auto"){cC[cX<2?"align":"verticalAlign"]=cZ;cC[cX<2?"x":"y"]=ac(cI[cZ])*(cX%2?-1:1)}}cT.align(aR(cC,{width:y,height:ck}),true,bM);bh||cJ()}var cC=cQ.options.legend;if(cC.enabled){var cV=cC.layout=="horizontal",ct=cC.symbolWidth,cs=cC.symbolPadding,cw,cI=cC.style,cD=cC.itemStyle,cL=cC.itemHoverStyle,cz=cC.itemHiddenStyle,cK=ac(cI.padding),cP=20,cN=18,cB=4+cK+ct+cs,cx,cG,cO,cM=0,cA,cu=cC.borderWidth,cF=cC.backgroundColor,cT,cR,cS=cC.width,cE=cQ.series,cv=cC.reversed;cW();ah(cQ,"endResize",cJ);return{colorizeItem:cU,destroyItem:function(cX){var cY=cX.checkbox;Q(["legendItem","legendLine","legendSymbol"],function(cZ){cX[cZ]&&cX[cZ].destroy()});cY&&n(cX.checkbox)},renderLegend:cW}}};bV=function(cs,ct){return cs>=0&&cs<=bX&&ct>=0&&ct<=cq};t=function(){ae(bv,"selection",{resetSelection:true},V);bv.toolbar.remove("zoom")};V=function(ct){var cu=w.lang,cs=bv.pointCount<100;bv.toolbar.add("zoom",cu.resetZoom,cu.resetZoomTitle,t);!ct||ct.resetSelection?Q(bj,function(cv){cv.setExtremes(null,null,false,cs)}):Q(ct.xAxis.concat(ct.yAxis),function(cv){var cw=cv.axis;if(bv.tracker[cw.isXAxis?"zoomX":"zoomY"]){cw.setExtremes(cv.min,cv.max,false,cs)}});bA()};cg=function(){var ct=bL.legend,cv=O(ct.margin,10),cs=ct.x,cu=ct.y,cw=ct.align,cx=ct.verticalAlign,cy;bc();if((bv.title||bv.subtitle)&&!ao(bT)){if(cy=a9(bv.title&&!ab.floating&&!ab.verticalAlign&&ab.y||0,bv.subtitle&&!b4.floating&&!b4.verticalAlign&&b4.y||0)){cb=a9(cb,cy+O(ab.margin,15)+b1)}}if(ct.enabled&&!ct.floating){if(cw=="right"){ao(cl)||(b8=a9(b8,y-cs+cv+bl))}else{if(cw=="left"){ao(be)||(bR=a9(bR,y+cs+cv+bP))}else{if(cx=="top"){ao(bT)||(cb=a9(cb,ck+cu+cv+b1))}else{if(cx=="bottom"){ao(L)||(bo=a9(bo,ck-cu+cv+cf))}}}}}bz&&Q(bj,function(cz){cz.getOffset()});ao(be)||(bR+=bs[3]);ao(bT)||(cb+=bs[0]);ao(L)||(bo+=bs[2]);ao(cl)||(b8+=bs[1]);co()};bn=function(ct,cv,cs){var cu=bv.title,cw=bv.subtitle;bh+=1;G(cs,bv);b6=b7;bU=bQ;bQ=ak(ct);b7=ak(cv);r(bO,{width:bQ+aY,height:b7+aY});ce.setSize(bQ,b7,cs);bX=bQ-bR-b8;cq=b7-cb-bo;bm=null;Q(bj,function(cx){cx.isDirty=true;cx.setScale()});Q(cm,function(cx){cx.isDirty=true});bv.isDirtyLegend=true;bv.isDirtyBox=true;cg();cu&&cu.align(null,null,bM);cw&&cw.align(null,null,bM);bA(cs);b6=null;ae(bv,"resize");setTimeout(function(){ae(bv,"endResize",null,function(){bh-=1})},aJ&&aJ.duration||500)};co=function(){bv.plotLeft=bR=ak(bR);bv.plotTop=cb=ak(cb);bv.plotWidth=bX=ak(bQ-bR-b8);bv.plotHeight=cq=ak(b7-cb-bo);bv.plotSizeX=ad?cq:bX;bv.plotSizeY=ad?bX:cq;bM={x:bP,y:b1,width:bQ-bP-bl,height:b7-b1-cf}};bc=function(){cb=O(bT,b1);b8=O(cl,bl);bo=O(L,cf);bR=O(be,bP);bs=[0,0,0,0]};bY=function(){var ct=bu.borderWidth||0,cv=bu.backgroundColor,cs=bu.plotBackgroundColor,cu=bu.plotBackgroundImage,cw,cx={x:bR,y:cb,width:bX,height:cq};cw=ct+(bu.shadow?8:0);if(ct||cv){if(b2){b2.animate({width:bQ-cw,height:b7-cw})}else{b2=ce.rect(cw/2,cw/2,bQ-cw,b7-cw,bu.borderRadius,ct).attr({stroke:bu.borderColor,"stroke-width":ct,fill:cv||aP}).add().shadow(bu.shadow)}}if(cs){if(bK){bK.animate(cx)}else{bK=ce.rect(bR,cb,bX,cq,0).attr({fill:cs}).add().shadow(bu.plotShadow)}}if(cu){if(bp){bp.animate(cx)}else{bp=ce.image(cu,bR,cb,bX,cq).add()}}if(bu.plotBorderWidth){if(bf){bf.animate(cx)}else{bf=ce.rect(bR,cb,bX,cq,0,bu.plotBorderWidth).attr({stroke:bu.plotBorderColor,"stroke-width":bu.plotBorderWidth,zIndex:4}).add()}}bv.isDirtyBox=false};N=aQ=0;ah(ar,"unload",bS);bu.reflow!==false&&ah(bv,"load",b0);if(b5){for(cr in b5){ah(bv,cr,b5[cr])}}bv.options=bL;bv.series=cm;bv.addSeries=function(ct,cv,cs){var cu;if(ct){G(cs,bv);cv=O(cv,true);ae(bv,"addSeries",{options:ct},function(){cu=bE(ct);cu.isDirty=true;bv.isDirtyLegend=true;cv&&bv.redraw()})}return cu};bv.animation=O(bu.animation,true);bv.destroy=bS;bv.get=function(ct){var cv,cs,cu;for(cv=0;cv<bj.length;cv++){if(bj[cv].options.id==ct){return bj[cv]}}for(cv=0;cv<cm.length;cv++){if(cm[cv].options.id==ct){return cm[cv]}}for(cv=0;cv<cm.length;cv++){cu=cm[cv].data;for(cs=0;cs<cu.length;cs++){if(cu[cs].id==ct){return cu[cs]}}}return null};bv.getSelectedPoints=function(){var cs=[];Q(cm,function(ct){cs=cs.concat(aA(ct.data,function(cu){return cu.selected}))});return cs};bv.getSelectedSeries=function(){return aA(cm,function(cs){return cs.selected})};bv.hideLoading=function(){z(ca,{opacity:0},{duration:bL.loading.hideDuration,complete:function(){r(ca,{display:aP})}});ci=false};bv.isInsidePlot=bV;bv.redraw=bA;bv.setSize=bn;bv.setTitle=bw;bv.showLoading=function(cs){var ct=bL.loading;if(!ca){ca=k(q,{className:"highcharts-loading"},aR(ct.style,{left:bR+aY,top:cb+aY,width:bX+aY,height:cq+aY,zIndex:10,display:aP}),bO);bg=k("span",null,ct.labelStyle,ca)}bg.innerHTML=cs||bL.lang.loading;if(!ci){r(ca,{opacity:0,display:""});z(ca,{opacity:ct.style.opacity},{duration:ct.showDuration});ci=true}};bv.pointCount=0;bW()}var aF=document,ar=window,aW=Math,ak=aW.round,bb=aW.floor,B=aW.ceil,a9=aW.max,av=aW.min,aH=aW.abs,ag=aW.cos,aV=aW.sin,aE=aW.PI,aT=aE*2/360,s=navigator.userAgent,a2=/msie/i.test(s)&&!ar.opera,aU=aF.documentMode==8,al=/AppleWebKit/.test(s),b=ar.SVGAngle||aF.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1"),a8="ontouchstart" in aF.documentElement,aQ,N,R={},X=0,Z=1,a7,w,ba,aJ,i,K,q="div",a5="absolute",af="relative",az="hidden",ay="highcharts-",a3="visible",aY="px",aP="none",P="M",aL="L",aC="rgba(192,192,192,"+(b?0.000001:0.002)+")",T="",f="hover",aq,aw,aG,am,Y,W,F,ap,U,S,E,l,C=ar.HighchartsAdapter,at=C||{},Q=at.each,aA=at.grep,D=at.map,v=at.merge,a1=at.hyphenate,ah=at.addEvent,aK=at.removeEvent,ae=at.fireEvent,z=at.animate,e=at.stop,aS={};C&&C.init&&C.init();if(!C&&ar.jQuery){var m=jQuery;Q=function(y,t){for(var V=0,L=y.length;V<L;V++){if(t.call(y[V],y[V],V,y)===false){return V}}};aA=m.grep;D=function(y,t){for(var ab=[],V=0,L=y.length;V<L;V++){ab[V]=t.call(y[V],y[V],V,y)}return ab};v=function(){var t=arguments;return m.extend(true,null,t[0],t[1],t[2],t[3])};a1=function(t){return t.replace(/([A-Z])/g,function(y,L){return"-"+L.toLowerCase()})};ah=function(y,t,L){m(y).bind(t,L)};aK=function(y,t,V){var L=aF.removeEventListener?"removeEventListener":"detachEvent";if(aF[L]&&!y[L]){y[L]=function(){}}m(y).unbind(t,V)};ae=function(y,t,ad,ab){var V=m.Event(t),L="detached"+t;aR(V,ad);if(y[t]){y[L]=y[t];y[t]=null}m(y).trigger(V);if(y[L]){y[t]=y[L];y[L]=null}ab&&!V.isDefaultPrevented()&&ab(V)};z=function(y,t,V){var L=m(y);if(t.d){y.toD=t.d;t.d=1}L.stop();L.animate(t,V)};e=function(t){m(t).stop()};m.extend(m.easing,{easeOutQuad:function(y,t,ab,V,L){return -V*(t/=L)*(t-2)+ab}});var A=jQuery.fx.step._default,j=jQuery.fx.prototype.cur;m.fx.step._default=function(y){var t=y.elem;t.attr?t.attr(y.prop,y.now):A.apply(this,arguments)};m.fx.step.d=function(y){var t=y.elem;if(!y.started){var L=i.init(t,t.d,t.toD);y.start=L[0];y.end=L[1];y.started=true}t.attr("d",i.step(y.start,y.end,y.pos,t.toD))};m.fx.prototype.cur=function(){var t=this.elem;return t.attr?t.attr(this.prop):j.apply(this,arguments)}}i={init:function(bf,be,bd){be=be||"";var bc=bf.shift,ad=be.indexOf("C")>-1,ab=ad?7:3,V;be=be.split(" ");bd=[].concat(bd);var L,y,t=function(bg){for(V=bg.length;V--;){bg[V]==P&&bg.splice(V+1,0,bg[V+1],bg[V+2],bg[V+1],bg[V+2])}};if(ad){t(be);t(bd)}if(bf.isArea){L=be.splice(be.length-6,6);y=bd.splice(bd.length-6,6)}if(bc){bd=[].concat(bd).splice(0,ab).concat(bd);bf.shift=false}if(be.length){for(bf=bd.length;be.length<bf;){bc=[].concat(be).splice(be.length-ab,ab);if(ad){bc[ab-6]=bc[ab-2];bc[ab-5]=bc[ab-1]}be=be.concat(bc)}}if(L){be=be.concat(L);bd=bd.concat(y)}return[be,bd]},step:function(y,t,ad,ab){var V=[],L=y.length;if(ad==1){V=ab}else{if(L==t.length&&ad<1){for(;L--;){ab=parseFloat(y[L]);V[L]=isNaN(ab)?y[L]:ad*parseFloat(t[L]-ab)+ab}}else{V=t}}return V}};C={enabled:true,align:"center",x:0,y:15,style:{color:"#666",fontSize:"11px",lineHeight:"14px"}};w={colors:["#4572A7","#AA4643","#89A54E","#80699B","#3D96AE","#DB843D","#92A8CD","#A47D7C","#B5CA92"],symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:["January","February","March","April","May","June","July","August","September","October","November","December"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],decimalPoint:".",resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:","},global:{useUTC:true},chart:{borderColor:"#4572A7",borderRadius:5,defaultSeriesType:"line",ignoreHiddenSeries:true,spacingTop:10,spacingRight:10,spacingBottom:15,spacingLeft:10,style:{fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Verdana, Arial, Helvetica, sans-serif',fontSize:"12px"},backgroundColor:"#FFFFFF",plotBorderColor:"#C0C0C0"},title:{text:"Chart title",align:"center",y:15,style:{color:"#3E576F",fontSize:"16px"}},subtitle:{text:"",align:"center",y:30,style:{color:"#6D869F"}},plotOptions:{line:{allowPointSelect:false,showCheckbox:false,animation:{duration:1000},events:{},lineWidth:2,shadow:true,marker:{enabled:true,lineWidth:0,radius:4,lineColor:"#FFFFFF",states:{hover:{},select:{fillColor:"#FFFFFF",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:v(C,{enabled:false,y:-6,formatter:function(){return this.y}}),showInLegend:true,states:{hover:{marker:{}},select:{marker:{}}},stickyTracking:true}},labels:{style:{position:a5,color:"#3E576F"}},legend:{enabled:true,align:"center",layout:"horizontal",labelFormatter:function(){return this.name},borderWidth:1,borderColor:"#909090",borderRadius:5,shadow:false,style:{padding:"5px"},itemStyle:{cursor:"pointer",color:"#3E576F"},itemHoverStyle:{cursor:"pointer",color:"#000000"},itemHiddenStyle:{color:"#C0C0C0"},itemCheckboxStyle:{position:a5,width:"13px",height:"13px"},symbolWidth:16,symbolPadding:5,verticalAlign:"bottom",x:0,y:0},loading:{hideDuration:100,labelStyle:{fontWeight:"bold",position:af,top:"1em"},showDuration:100,style:{position:a5,backgroundColor:"white",opacity:0.5,textAlign:"center"}},tooltip:{enabled:true,backgroundColor:"rgba(255, 255, 255, .85)",borderWidth:2,borderRadius:5,shadow:true,snap:a8?25:10,style:{color:"#333333",fontSize:"12px",padding:"5px",whiteSpace:"nowrap"}},toolbar:{itemStyle:{color:"#4572A7",cursor:"pointer"}},credits:{enabled:true,text:"Highcharts.com",href:"http://www.highcharts.com",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#909090",fontSize:"10px"}}};var p={dateTimeLabelFormats:{second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%e. %b",week:"%e. %b",month:"%b '%y",year:"%Y"},endOnTick:false,gridLineColor:"#C0C0C0",labels:C,lineColor:"#C0D0E0",lineWidth:1,max:null,min:null,minPadding:0.01,maxPadding:0.01,minorGridLineColor:"#E0E0E0",minorGridLineWidth:1,minorTickColor:"#A0A0A0",minorTickLength:2,minorTickPosition:"outside",startOfWeek:1,startOnTick:false,tickColor:"#C0D0E0",tickLength:5,tickmarkPlacement:"between",tickPixelInterval:100,tickPosition:"outside",tickWidth:1,title:{align:"middle",style:{color:"#6D869F",fontWeight:"bold"}},type:"linear"},a0=v(p,{endOnTick:true,gridLineWidth:1,tickPixelInterval:72,showLastLabel:true,labels:{align:"right",x:-8,y:3},lineWidth:0,maxPadding:0.05,minPadding:0.05,startOnTick:true,tickWidth:0,title:{rotation:270,text:"Y-values"}}),h={labels:{align:"right",x:-8,y:null},title:{rotation:270}},x={labels:{align:"left",x:8,y:null},title:{rotation:90}},o={labels:{align:"center",x:0,y:14},title:{rotation:0}},M=v(o,{labels:{y:-5}}),J=w.plotOptions;C=J.line;J.spline=v(C);J.scatter=v(C,{lineWidth:0,states:{hover:{lineWidth:0}}});J.area=v(C,{});J.areaspline=v(J.area);J.column=v(C,{borderColor:"#FFFFFF",borderWidth:1,borderRadius:0,groupPadding:0.2,marker:null,pointPadding:0.1,minPointLength:0,states:{hover:{brightness:0.1,shadow:false},select:{color:"#C0C0C0",borderColor:"#000000",shadow:false}}});J.bar=v(J.column,{dataLabels:{align:"left",x:5,y:0}});J.pie=v(C,{borderColor:"#FFFFFF",borderWidth:1,center:["50%","50%"],colorByPoint:true,dataLabels:{distance:30,enabled:true,formatter:function(){return this.point.name},y:5},legendType:"point",marker:null,size:"75%",showInLegend:false,slicedOffset:10,states:{hover:{brightness:0.1,shadow:false}}});aI();var aj=function(y){var t=[],L;(function(V){if(L=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/.exec(V)){t=[ac(L[1]),ac(L[2]),ac(L[3]),parseFloat(L[4],10)]}else{if(L=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(V)){t=[ac(L[1],16),ac(L[2],16),ac(L[3],16),1]}}})(y);return{get:function(V){return t&&!isNaN(t[0])?V=="rgb"?"rgb("+t[0]+","+t[1]+","+t[2]+")":V=="a"?t[3]:"rgba("+t.join(",")+")":y},brighten:function(ab){if(an(ab)&&ab!==0){var V;for(V=0;V<3;V++){t[V]+=ac(ab*255);if(t[V]<0){t[V]=0}if(t[V]>255){t[V]=255}}}return this},setOpacity:function(V){t[3]=V;return this}}};ba=function(bh,bg,bf){function bd(bi){return bi.toString().replace(/^([0-9])$/,"0$1")}if(!ao(bg)||isNaN(bg)){return"Invalid date"}bh=O(bh,"%Y-%m-%d %H:%M:%S");bg=new Date(bg*Z);var bc=bg[aG](),ad=bg[am](),ab=bg[Y](),V=bg[W](),L=bg[F](),y=w.lang,t=y.weekdays;y=y.months;bg={a:t[ad].substr(0,3),A:t[ad],d:bd(ab),e:ab,b:y[V].substr(0,3),B:y[V],m:bd(V+1),y:L.toString().substr(2,2),Y:L,H:bd(bc),I:bd(bc%12||12),l:bc%12||12,M:bd(bg[aw]()),p:bc<12?"AM":"PM",P:bc<12?"am":"pm",S:bd(bg.getSeconds())};for(var be in bg){bh=bh.replace("%"+be,bg[be])}return bf?bh.substr(0,1).toUpperCase()+bh.substr(1):bh};aO.prototype={init:function(y,t){this.element=aF.createElementNS("http://www.w3.org/2000/svg",t);this.renderer=y},animate:function(y,t,L){if(t=O(t,aJ,true)){t=v(t);if(L){t.complete=L}z(this,y,t)}else{this.attr(y);L&&L()}},attr:function(bh,bg){var bf,bd,bc,ad,ab=this.element,V=ab.nodeName,L=this.renderer,y,t=this.shadows,be,bi=this;if(ax(bh)&&ao(bg)){bf=bh;bh={};bh[bf]=bg}if(ax(bh)){bf=bh;if(V=="circle"){bf={x:"cx",y:"cy"}[bf]||bf}else{if(bf=="strokeWidth"){bf="stroke-width"}}bi=g(ab,bf)||this[bf]||0;if(bf!="d"&&bf!="visibility"){bi=parseFloat(bi)}}else{for(bf in bh){y=false;bd=bh[bf];if(bf=="d"){if(bd&&bd.join){bd=bd.join(" ")}if(/(NaN| {2}|^$)/.test(bd)){bd="M 0 0"}this.d=bd}else{if(bf=="x"&&V=="text"){for(bc=0;bc<ab.childNodes.length;bc++){ad=ab.childNodes[bc];g(ad,"x")==g(ab,"x")&&g(ad,"x",bd)}if(this.rotation){g(ab,"transform","rotate("+this.rotation+" "+bd+" "+ac(bh.y||g(ab,"y"))+")")}}else{if(bf=="fill"){bd=L.color(bd,ab,bf)}else{if(V=="circle"&&(bf=="x"||bf=="y")){bf={x:"cx",y:"cy"}[bf]||bf}else{if(bf=="translateX"||bf=="translateY"||bf=="rotation"||bf=="verticalAlign"){this[bf]=bd;this.updateTransform();y=true}else{if(bf=="stroke"){bd=L.color(bd,ab,bf)}else{if(bf=="dashstyle"){bf="stroke-dasharray";if(bd){bd=bd.toLowerCase().replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(",");for(bc=bd.length;bc--;){bd[bc]=ac(bd[bc])*bh["stroke-width"]}bd=bd.join(",")}}else{if(bf=="isTracker"){this[bf]=bd}else{if(bf=="width"){bd=ac(bd)}else{if(bf=="align"){bf="text-anchor";bd={left:"start",center:"middle",right:"end"}[bd]}}}}}}}}}}if(bf=="strokeWidth"){bf="stroke-width"}if(al&&bf=="stroke-width"&&bd===0){bd=0.000001}if(this.symbolName&&/^(x|y|r|start|end|innerR)/.test(bf)){if(!be){this.symbolAttr(bh);be=true}y=true}if(t&&/^(width|height|visibility|x|y|d)$/.test(bf)){for(bc=t.length;bc--;){g(t[bc],bf,bd)}}if(bf=="text"){this.textStr=bd;L.buildText(this)}else{y||g(ab,bf,bd)}}}return bi},symbolAttr:function(t){this.x=O(t.x,this.x);this.y=O(t.y,this.y);this.r=O(t.r,this.r);this.start=O(t.start,this.start);this.end=O(t.end,this.end);this.width=O(t.width,this.width);this.height=O(t.height,this.height);this.innerR=O(t.innerR,this.innerR);this.attr({d:this.renderer.symbols[this.symbolName](this.x,this.y,this.r,{start:this.start,end:this.end,width:this.width,height:this.height,innerR:this.innerR})})},clip:function(t){return this.attr("clip-path","url("+this.renderer.url+"#"+t.id+")")},css:function(y){var t=this.element;if(y&&y.color){y.fill=y.color}y=aR(this.styles,y);a2&&!b?r(this.element,y):this.attr({style:ai(y)});this.styles=y;y.width&&t.nodeName=="text"&&this.added&&this.renderer.buildText(this);return this},on:function(y,t){var L=t;if(a8&&y=="click"){y="touchstart";L=function(V){V.preventDefault();t()}}this.element["on"+y]=L;return this},translate:function(y,t){return this.attr({translateX:y,translateY:t})},invert:function(){this.inverted=true;this.updateTransform();return this},updateTransform:function(){var y=this.translateX||0,t=this.translateY||0,ab=this.inverted,V=this.rotation,L=[];if(ab){y+=this.attr("width");t+=this.attr("height")}if(y||t){L.push("translate("+y+","+t+")")}if(ab){L.push("rotate(90) scale(-1,1)")}else{V&&L.push("rotate("+V+" "+this.x+" "+this.y+")")}L.length&&g(this.element,"transform",L.join(" "))},toFront:function(){var t=this.element;t.parentNode.appendChild(t);return this},align:function(y,t,bd){if(y){this.alignOptions=y;this.alignByTranslate=t;bd||this.renderer.alignedObjects.push(this)}else{y=this.alignOptions;t=this.alignByTranslate}bd=O(bd,this.renderer);var bc=y.align,ad=y.verticalAlign,ab=(bd.x||0)+(y.x||0),V=(bd.y||0)+(y.y||0),L={};if(/^(right|center)$/.test(bc)){ab+=(bd.width-(y.width||0))/{right:1,center:2}[bc]}L[t?"translateX":"x"]=ab;if(/^(bottom|middle)$/.test(ad)){V+=(bd.height-(y.height||0))/({bottom:1,middle:2}[ad]||1)}L[t?"translateY":"y"]=V;this[this.placed?"animate":"attr"](L);this.placed=true;return this},getBBox:function(){var y,t,ad,ab=this.rotation,V=ab*aT;try{y=aR({},this.element.getBBox())}catch(L){y={width:0,height:0}}t=y.width;ad=y.height;if(ab){y.width=aH(ad*aV(V))+aH(t*ag(V));y.height=aH(ad*ag(V))+aH(t*aV(V))}return y},show:function(){return this.attr({visibility:a3})},hide:function(){return this.attr({visibility:az})},add:function(be){var bd=this.renderer,bc=be||bd,ad=bc.element||bd.box,ab=ad.childNodes,V=this.element,L=g(V,"zIndex"),y=this.textStr,t;this.parentInverted=be&&be.inverted;if(L){bc.handleZ=true;L=ac(L)}if(bc.handleZ){for(t=0;t<ab.length;t++){be=ab[t];bc=g(be,"zIndex");if(be!=V&&(ac(bc)>L||!ao(L)&&ao(bc))){ad.insertBefore(V,be);return this}}}if(y!==undefined){bd.buildText(this);this.added=true}ad.appendChild(V);return this},destroy:function(){var y=this.element||{},t=this.shadows,V=y.parentNode,L;y.onclick=y.onmouseout=y.onmouseover=y.onmousemove=null;e(this);V&&V.removeChild(y);t&&Q(t,function(ab){(V=ab.parentNode)&&V.removeChild(ab)});aN(this.renderer.alignedObjects,this);for(L in this){delete this[L]}return null},empty:function(){for(var y=this.element,t=y.childNodes,L=t.length;L--;){y.removeChild(t[L])}},shadow:function(y){var t=[],ab,V=this.element,L=this.parentInverted?"(-1,-1)":"(1,1)";if(y){for(y=1;y<=3;y++){ab=V.cloneNode(0);g(ab,{isShadow:"true",stroke:"rgb(0, 0, 0)","stroke-opacity":0.05*y,"stroke-width":7-2*y,transform:"translate"+L,fill:aP});V.parentNode.insertBefore(ab,V);t.push(ab)}this.shadows=t}return this}};var aD=function(){this.init.apply(this,arguments)};aD.prototype={init:function(y,t,ab){var V=location,L;this.Element=aO;L=this.createElement("svg").attr({xmlns:"http://www.w3.org/2000/svg",version:"1.1"});y.appendChild(L.element);this.box=L.element;this.boxWrapper=L;this.alignedObjects=[];this.url=a2?"":V.href.replace(/#.*?$/,"");this.defs=this.createElement("defs").add();this.setSize(t,ab,false)},createElement:function(y){var t=new this.Element;t.init(this,y);return t},buildText:function(bf){var be=bf.element,bd=O(bf.textStr,"").toString().replace(/<(b|strong)>/g,'<span style="font-weight:bold">').replace(/<(i|em)>/g,'<span style="font-style:italic">').replace(/<a/g,"<span").replace(/<\/(b|strong|i|em|a)>/g,"</span>").split(/<br[^>]?>/g),bc=be.childNodes,ad=/style="([^"]+)"/,ab=/href="([^"]+)"/,V=g(be,"x"),L=(bf=bf.styles)&&ac(bf.width),y=bf&&bf.lineHeight,t;for(bf=bc.length;bf--;){be.removeChild(bc[bf])}L&&this.box.appendChild(be);Q(bd,function(bk,bj){var bi,bg=0,bh;bk=bk.replace(/<span/g,"|||<span").replace(/<\/span>/g,"</span>|||");bi=bk.split("|||");Q(bi,function(bn){if(bn!==""||bi.length==1){var bo={},bl=aF.createElementNS("http://www.w3.org/2000/svg","tspan");ad.test(bn)&&g(bl,"style",bn.match(ad)[1].replace(/(;| |^)color([ :])/,"$1fill$2"));if(ab.test(bn)){g(bl,"onclick",'location.href="'+bn.match(ab)[1]+'"');r(bl,{cursor:"pointer"})}bn=bn.replace(/<(.|\n)*?>/g,"")||" ";bl.appendChild(aF.createTextNode(bn));if(bg){bo.dx=3}else{bo.x=V}if(!bg){if(bj){bh=ac(window.getComputedStyle(t,null).getPropertyValue("line-height"));if(isNaN(bh)){bh=y||t.offsetHeight||18}g(bl,"dy",bh)}t=bl}g(bl,bo);be.appendChild(bl);bg++;if(L){bn=bn.replace(/-/g,"- ").split(" ");for(var bp,bm=[];bn.length||bm.length;){bp=be.getBBox().width;bo=bp>L;if(!bo||bn.length==1){bn=bm;bm=[];bl=aF.createElementNS("http://www.w3.org/2000/svg","tspan");g(bl,{x:V,dy:y||16});be.appendChild(bl);if(bp>L){L=bp}}else{bl.removeChild(bl.firstChild);bm.unshift(bn.pop())}bl.appendChild(aF.createTextNode(bn.join(" ").replace(/- /g,"-")))}}}})})},crispLine:function(y,t){if(y[1]==y[4]){y[1]=y[4]=ak(y[1])+t%2/2}if(y[2]==y[5]){y[2]=y[5]=ak(y[2])+t%2/2}return y},path:function(t){return this.createElement("path").attr({d:t,fill:aP})},circle:function(y,t,L){y=aa(y)?y:{x:y,y:t,r:L};return this.createElement("circle").attr(y)},arc:function(y,t,ad,ab,V,L){if(aa(y)){t=y.y;ad=y.r;ab=y.innerR;V=y.start;L=y.end;y=y.x}return this.symbol("arc",y||0,t||0,ad||0,{innerR:ab||0,start:V||0,end:L||0})},rect:function(y,t,bc,ad,ab,V){if(arguments.length>1){var L=(V||0)%2/2;y=ak(y||0)+L;t=ak(t||0)+L;bc=ak((bc||0)-2*L);ad=ak((ad||0)-2*L)}L=aa(y)?y:{x:y,y:t,width:a9(bc,0),height:a9(ad,0)};return this.createElement("rect").attr(aR(L,{rx:ab||L.r,ry:ab||L.r,fill:aP}))},setSize:function(y,t,ab){var V=this.alignedObjects,L=V.length;this.width=y;this.height=t;for(this.boxWrapper[O(ab,true)?"animate":"attr"]({width:y,height:t});L--;){V[L].align()}},g:function(t){return this.createElement("g").attr(ao(t)&&{"class":ay+t})},image:function(y,t,ad,ab,V){var L={preserveAspectRatio:aP};arguments.length>1&&aR(L,{x:t,y:ad,width:ab,height:V});L=this.createElement("image").attr(L);L.element.setAttributeNS("http://www.w3.org/1999/xlink","href",y);return L},symbol:function(y,t,bd,bc,ad){var ab,V=this.symbols[y];V=V&&V(t,bd,bc,ad);var L=/^url\((.*?)\)$/;if(V){ab=this.path(V);aR(ab,{symbolName:y,x:t,y:bd,r:bc});ad&&aR(ab,ad)}else{if(L.test(y)){y=y.match(L)[1];ab=this.image(y).attr({x:t,y:bd});k("img",{onload:function(){var be=R[this.src]||[this.width,this.height];ab.attr({width:be[0],height:be[1]}).translate(-ak(be[0]/2),-ak(be[1]/2))},src:y})}else{ab=this.circle(t,bd,bc)}}return ab},symbols:{square:function(y,t,L){L=0.707*L;return[P,y-L,t-L,aL,y+L,t-L,y+L,t+L,y-L,t+L,"Z"]},triangle:function(y,t,L){return[P,y,t-1.33*L,aL,y+L,t+0.67*L,y-L,t+0.67*L,"Z"]},"triangle-down":function(y,t,L){return[P,y,t+1.33*L,aL,y-L,t-0.67*L,y+L,t-0.67*L,"Z"]},diamond:function(y,t,L){return[P,y,t-L,aL,y+L,t,y,t+L,y-L,t,"Z"]},arc:function(bf,be,bd,bc){var ad=bc.start,ab=bc.end-0.000001,V=bc.innerR,L=ag(ad),y=aV(ad),t=ag(ab);ab=aV(ab);bc=bc.end-ad<aE?0:1;return[P,bf+bd*L,be+bd*y,"A",bd,bd,0,bc,1,bf+bd*t,be+bd*ab,aL,bf+V*t,be+V*ab,"A",V,V,0,bc,0,bf+V*L,be+V*y,"Z"]}},clipRect:function(y,t,ad,ab){var V=ay+X++,L=this.createElement("clipPath").attr({id:V}).add(this.defs);y=this.rect(y,t,ad,ab,0).add(L);y.id=V;return y},color:function(be,bd,bc){var ad,ab=/^rgba/;if(be&&be.linearGradient){var V=this;bd=be.linearGradient;bc=ay+X++;var L,y,t;L=V.createElement("linearGradient").attr({id:bc,gradientUnits:"userSpaceOnUse",x1:bd[0],y1:bd[1],x2:bd[2],y2:bd[3]}).add(V.defs);Q(be.stops,function(bf){if(ab.test(bf[1])){ad=aj(bf[1]);y=ad.get("rgb");t=ad.get("a")}else{y=bf[1];t=1}V.createElement("stop").attr({offset:bf[0],"stop-color":y,"stop-opacity":t}).add(L)});return"url("+this.url+"#"+bc+")"}else{if(ab.test(be)){ad=aj(be);g(bd,bc+"-opacity",ad.get("a"));return ad.get("rgb")}else{return be}}},text:function(y,t,V){var L=w.chart.style;t=ak(O(t,0));V=ak(O(V,0));y=this.createElement("text").attr({x:t,y:V,text:y}).css({"font-family":L.fontFamily,"font-size":L.fontSize});y.x=t;y.y=V;return y}};var H;if(!b){var aZ=u(aO,{init:function(y,t){var V=["<",t,' filled="f" stroked="f"'],L=["position: ",a5,";"];if(t=="shape"||t==q){L.push("left:0;top:0;width:10px;height:10px;")}if(aU){L.push("visibility: ",t==q?az:a3)}V.push(' style="',L.join(""),'"/>');if(t){V=t==q||t=="span"||t=="img"?V.join(""):y.prepVML(V);this.element=k(V)}this.renderer=y},add:function(y){var t=this.renderer,V=this.element,L=t.box;L=y?y.element||y:L;y&&y.inverted&&t.invertChild(V,L);aU&&L.gVis==az&&r(V,{visibility:az});L.appendChild(V);this.added=true;this.alignOnAdd&&this.updateTransform();return this},attr:function(bi,bh){var bg,be,bd,bc=this.element||{},ad=bc.style,ab=bc.nodeName,V=this.renderer,L=this.symbolName,t,bf,bj=this.shadows,y=this;if(ax(bi)&&ao(bh)){bg=bi;bi={};bi[bg]=bh}if(ax(bi)){bg=bi;y=bg=="strokeWidth"||bg=="stroke-width"?this.strokeweight:this[bg]}else{for(bg in bi){be=bi[bg];t=false;if(L&&/^(x|y|r|start|end|width|height|innerR)/.test(bg)){if(!bf){this.symbolAttr(bi);bf=true}t=true}else{if(bg=="d"){be=be||[];this.d=be.join(" ");bd=be.length;for(t=[];bd--;){t[bd]=an(be[bd])?ak(be[bd]*10)-5:be[bd]=="Z"?"x":be[bd]}be=t.join(" ")||"x";bc.path=be;if(bj){for(bd=bj.length;bd--;){bj[bd].path=be}}t=true}else{if(bg=="zIndex"||bg=="visibility"){if(aU&&bg=="visibility"&&ab=="DIV"){bc.gVis=be;t=bc.childNodes;for(bd=t.length;bd--;){r(t[bd],{visibility:be})}if(be==a3){be=null}}if(be){ad[bg]=be}t=true}else{if(/^(width|height)$/.test(bg)){if(this.updateClipping){this[bg]=be;this.updateClipping()}else{ad[bg]=be}t=true}else{if(/^(x|y)$/.test(bg)){this[bg]=be;if(bc.tagName=="SPAN"){this.updateTransform()}else{ad[{x:"left",y:"top"}[bg]]=be}}else{if(bg=="class"){bc.className=be}else{if(bg=="stroke"){be=V.color(be,bc,bg);bg="strokecolor"}else{if(bg=="stroke-width"||bg=="strokeWidth"){bc.stroked=be?true:false;bg="strokeweight";this[bg]=be;if(an(be)){be+=aY}}else{if(bg=="dashstyle"){(bc.getElementsByTagName("stroke")[0]||k(V.prepVML(["<stroke/>"]),null,null,bc))[bg]=be||"solid";this.dashstyle=be;t=true}else{if(bg=="fill"){if(ab=="SPAN"){ad.color=be}else{bc.filled=be!=aP?true:false;be=V.color(be,bc,bg);bg="fillcolor"}}else{if(bg=="translateX"||bg=="translateY"||bg=="rotation"||bg=="align"){if(bg=="align"){bg="textAlign"}this[bg]=be;this.updateTransform();t=true}else{if(bg=="text"){bc.innerHTML=be;t=true}}}}}}}}}}}}if(bj&&bg=="visibility"){for(bd=bj.length;bd--;){bj[bd].style[bg]=be}}if(!t){if(aU){bc[bg]=be}else{g(bc,bg,be)}}}}return y},clip:function(y){var t=this,L=y.members;L.push(t);t.destroyClip=function(){aN(L,t)};return t.css(y.getCSS(t.inverted))},css:function(y){var t=this.element;(t=y&&y.width&&t.tagName=="SPAN")&&aR(y,{display:"block",whiteSpace:"normal"});this.styles=aR(this.styles,y);r(this.element,y);t&&this.updateTransform();return this},destroy:function(){this.destroyClip&&this.destroyClip();aO.prototype.destroy.apply(this)},empty:function(){for(var y=this.element.childNodes,t=y.length,L;t--;){L=y[t];L.parentNode.removeChild(L)}},getBBox:function(){var t=this.element;if(t.nodeName=="text"){t.style.position=a5}return{x:t.offsetLeft,y:t.offsetTop,width:t.offsetWidth,height:t.offsetHeight}},on:function(y,t){this.element["on"+y]=function(){var L=ar.event;L.target=L.srcElement;t(L)};return this},updateTransform:function(){if(this.added){var bk=this,bj=bk.element,bh=bk.translateX||0,bf=bk.translateY||0,be=bk.x||0,bd=bk.y||0,bc=bk.textAlign||"left",ad={left:0,center:0.5,right:1}[bc],ab=bc&&bc!="left";if(bh||bf){bk.css({marginLeft:bh,marginTop:bf})}bk.inverted&&Q(bj.childNodes,function(bn){bk.renderer.invertChild(bn,bj)});if(bj.tagName=="SPAN"){var V,t;bh=bk.rotation;var bg;V=0;bf=1;var bm=0,y,L=bk.xCorr||0,bi=bk.yCorr||0,bl=[bh,bc,bj.innerHTML,bj.style.width].join(",");if(bl!=bk.cTT){if(ao(bh)){V=bh*aT;bf=ag(V);bm=aV(V);r(bj,{filter:bh?["progid:DXImageTransform.Microsoft.Matrix(M11=",bf,", M12=",-bm,", M21=",bm,", M22=",bf,", sizingMethod='auto expand')"].join(""):aP})}V=bj.offsetWidth;t=bj.offsetHeight;bg=ak(ac(bj.style.fontSize||12)*1.2);L=bf<0&&-V;bi=bm<0&&-t;y=bf*bm<0;L+=bm*bg*(y?1-ad:ad);bi-=bf*bg*(bh?y?ad:1-ad:1);if(ab){L-=V*ad*(bf<0?-1:1);if(bh){bi-=t*ad*(bm<0?-1:1)}r(bj,{textAlign:bc})}bk.xCorr=L;bk.yCorr=bi}r(bj,{left:be+L,top:bd+bi});bk.cTT=bl}}else{this.alignOnAdd=true}},shadow:function(y){var t=[],bd=this.element,bc=this.renderer,ad,ab=bd.style,V,L=bd.path;if(""+bd.path===""){L="x"}if(y){for(y=1;y<=3;y++){V=['<shape isShadow="true" strokeweight="',7-2*y,'" filled="false" path="',L,'" coordsize="100,100" style="',bd.style.cssText,'" />'];ad=k(bc.prepVML(V),null,{left:ac(ab.left)+1,top:ac(ab.top)+1});V=['<stroke color="black" opacity="',0.05*y,'"/>'];k(bc.prepVML(V),null,null,ad);bd.parentNode.insertBefore(ad,bd);t.push(ad)}this.shadows=t}return this}});H=function(){this.init.apply(this,arguments)};H.prototype=v(aD.prototype,{isIE8:s.indexOf("MSIE 8.0")>-1,init:function(y,t,V){var L;this.Element=aZ;this.alignedObjects=[];L=this.createElement(q);y.appendChild(L.element);this.box=L.element;this.boxWrapper=L;this.setSize(t,V,false);if(!aF.namespaces.hcv){aF.namespaces.add("hcv","urn:schemas-microsoft-com:vml");aF.createStyleSheet().cssText="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } "}},clipRect:function(y,t,ab,V){var L=this.createElement();return aR(L,{members:[],left:y,top:t,width:ab,height:V,getCSS:function(bf){var be=this.top,bd=this.left,bc=bd+this.width,ad=be+this.height;be={clip:"rect("+ak(bf?bd:be)+"px,"+ak(bf?ad:bc)+"px,"+ak(bf?bc:ad)+"px,"+ak(bf?be:bd)+"px)"};!bf&&aU&&aR(be,{width:bc+aY,height:ad+aY});return be},updateClipping:function(){Q(L.members,function(ad){ad.css(L.getCSS(ad.inverted))})}})},color:function(bh,bg,bf){var bd,bc=/^rgba/;if(bh&&bh.linearGradient){var ad,ab,V=bh.linearGradient,L,y,t,be;Q(bh.stops,function(bj,bi){if(bc.test(bj[1])){bd=aj(bj[1]);ad=bd.get("rgb");ab=bd.get("a")}else{ad=bj[1];ab=1}if(bi){t=ad;be=ab}else{L=ad;y=ab}});bh=90-aW.atan((V[3]-V[1])/(V[2]-V[0]))*180/aE;bf=["<",bf,' colors="0% ',L,",100% ",t,'" angle="',bh,'" opacity="',be,'" o:opacity2="',y,'" type="gradient" focus="100%" />'];k(this.prepVML(bf),null,null,bg)}else{if(bc.test(bh)&&bg.tagName!="IMG"){bd=aj(bh);bf=["<",bf,' opacity="',bd.get("a"),'"/>'];k(this.prepVML(bf),null,null,bg);return bd.get("rgb")}else{return bh}}},prepVML:function(y){var t=this.isIE8;y=y.join("");if(t){y=y.replace("/>",' xmlns="urn:schemas-microsoft-com:vml" />');y=y.indexOf('style="')==-1?y.replace("/>",' style="display:inline-block;behavior:url(#default#VML);" />'):y.replace('style="','style="display:inline-block;behavior:url(#default#VML);')}else{y=y.replace("<","<hcv:")}return y},text:function(y,t,V){var L=w.chart.style;return this.createElement("span").attr({text:y,x:ak(t),y:ak(V)}).css({whiteSpace:"nowrap",fontFamily:L.fontFamily,fontSize:L.fontSize})},path:function(t){return this.createElement("shape").attr({coordsize:"100 100",d:t})},circle:function(y,t,L){return this.path(this.symbols.circle(y,t,L))},g:function(y){var t;if(y){t={className:ay+y,"class":ay+y}}return this.createElement(q).attr(t)},image:function(y,t,ad,ab,V){var L=this.createElement("img").attr({src:y});arguments.length>1&&L.css({left:t,top:ad,width:ab,height:V});return L},rect:function(y,t,bc,ad,ab,V){if(arguments.length>1){var L=(V||0)%2/2;y=ak(y||0)+L;t=ak(t||0)+L;bc=ak((bc||0)-2*L);ad=ak((ad||0)-2*L)}if(aa(y)){t=y.y;bc=y.width;ad=y.height;ab=y.r;y=y.x}return this.symbol("rect",y||0,t||0,ab||0,{width:bc||0,height:ad||0})},invertChild:function(y,t){var L=t.style;r(y,{flip:"x",left:ac(L.width)-10,top:ac(L.height)-10,rotation:-90})},symbols:{arc:function(bf,be,bd,bc){var ad=bc.start,ab=bc.end,V=ag(ad),L=aV(ad),y=ag(ab),t=aV(ab);bc=bc.innerR;if(ab-ad===0){return["x"]}else{if(ab-ad==2*aE){y=-0.07/bd}}return["wa",bf-bd,be-bd,bf+bd,be+bd,bf+bd*V,be+bd*L,bf+bd*y,be+bd*t,"at",bf-bc,be-bc,bf+bc,be+bc,bf+bc*y,be+bc*t,bf+bc*V,be+bc*L,"x","e"]},circle:function(y,t,L){return["wa",y-L,t-L,y+L,t+L,y+L,t,y+L,t,"e"]},rect:function(y,t,bc,ad){var ab=ad.width;ad=ad.height;var V=y+ab,L=t+ad;bc=av(bc,ab,ad);return[P,y+bc,t,aL,V-bc,t,"wa",V-2*bc,t,V,t+2*bc,V-bc,t,V,t+bc,aL,V,L-bc,"wa",V-2*bc,L-2*bc,V,L,V,L-bc,V-bc,L,aL,y+bc,L,"wa",y,L-2*bc,y+2*bc,L,y+bc,L,y,L-bc,aL,y,t+bc,"wa",y,t,y+2*bc,t+2*bc,y,t+bc,y+bc,t,"x","e"]}}})}var I=b?aD:H;aM.prototype.callbacks=[];var aB=function(){};aB.prototype={init:function(y,t){var L;this.series=y;this.applyOptions(t);this.pointAttr={};if(y.options.colorByPoint){L=y.chart.options.colors;if(!this.options){this.options={}}this.color=this.options.color=this.color||L[aQ++];if(aQ>=L.length){aQ=0}}y.chart.pointCount++;return this},applyOptions:function(y){var t=this.series;this.config=y;if(an(y)||y===null){this.y=y}else{if(aa(y)&&!an(y.length)){aR(this,y);this.options=y}else{if(ax(y[0])){this.name=y[0];this.y=y[1]}else{if(an(y[0])){this.x=y[0];this.y=y[1]}}}}if(this.x===K){this.x=t.autoIncrement()}},destroy:function(){var y=this,t=y.series,L;t.chart.pointCount--;y==t.chart.hoverPoint&&y.onMouseOut();t.chart.hoverPoints=null;aK(y);Q(["graphic","tracker","group","dataLabel","connector"],function(V){y[V]&&y[V].destroy()});y.legendItem&&y.series.chart.legend.destroyItem(y);for(L in y){y[L]=null}},select:function(y,t){var V=this,L=V.series.chart;V.selected=y=O(y,!V.selected);V.firePointEvent(y?"select":"unselect");V.setState(y&&"select");t||Q(L.getSelectedPoints(),function(ab){if(ab.selected&&ab!=V){ab.selected=false;ab.setState(T);ab.firePointEvent("unselect")}})},onMouseOver:function(){var y=this.series.chart,t=y.tooltip,L=y.hoverPoint;L&&L!=this&&L.onMouseOut();this.firePointEvent("mouseOver");t&&!t.shared&&t.refresh(this);this.setState(f);y.hoverPoint=this},onMouseOut:function(){this.firePointEvent("mouseOut");this.setState();this.series.chart.hoverPoint=null},tooltipFormatter:function(y){var t=this.series;return['<span style="color:'+t.color+'">',this.name||t.name,"</span>: ",!y?"<b>x = "+(this.name||this.x)+",</b> ":"","<b>",!y?"y = ":"",this.y,"</b><br/>"].join("")},update:function(y,t,ad){var ab=this,V=ab.series,L=V.chart;G(ad,L);t=O(t,true);ab.firePointEvent("update",{options:y},function(){ab.applyOptions(y);V.isDirty=true;t&&L.redraw()})},remove:function(y,t){var ad=this,ab=ad.series,V=ab.chart,L=ab.data;G(t,V);y=O(y,true);ad.firePointEvent("remove",null,function(){aN(L,ad);ad.destroy();ab.isDirty=true;y&&V.redraw()})},firePointEvent:function(y,t,ab){var V=this,L=this.series.options;if(L.point.events[y]||V.options&&V.options.events&&V.options.events[y]){this.importEvents()}if(y=="click"&&L.allowPointSelect){ab=function(ad){V.select(null,ad.ctrlKey||ad.metaKey||ad.shiftKey)}}ae(this,y,t,ab)},importEvents:function(){if(!this.hasImportedEvents){var y=v(this.series.options.point,this.options).events,t;this.events=y;for(t in y){ah(this,t,y[t])}this.hasImportedEvents=true}},setState:function(be){var bd=this.series,bc=bd.options.states,ad=J[bd.type].marker&&bd.options.marker,ab=ad&&!ad.enabled,V=(ad=ad&&ad.states[be])&&ad.enabled===false,L=bd.stateMarkerGraphic,y=bd.chart,t=this.pointAttr;be||(be=T);if(!(be==this.state||this.selected&&be!="select"||bc[be]&&bc[be].enabled===false||be&&(V||ab&&!ad.enabled))){if(this.graphic){this.graphic.attr(t[be])}else{if(be){if(!L){bd.stateMarkerGraphic=L=y.renderer.circle(0,0,t[be].r).attr(t[be]).add(bd.group)}L.translate(this.plotX,this.plotY)}if(L){L[be?"show":"hide"]()}}this.state=be}}};var a6=function(){};a6.prototype={isCartesian:true,type:"line",pointClass:aB,pointAttrToOptions:{stroke:"lineColor","stroke-width":"lineWidth",fill:"fillColor",r:"radius"},init:function(y,t){var V,L;L=y.series.length;this.chart=y;t=this.setOptions(t);aR(this,{index:L,options:t,name:t.name||"Series "+(L+1),state:T,pointAttr:{},visible:t.visible!==false,selected:t.selected===true});L=t.events;for(V in L){ah(this,V,L[V])}if(L&&L.click||t.point&&t.point.events&&t.point.events.click||t.allowPointSelect){y.runTrackerClick=true}this.getColor();this.getSymbol();this.setData(t.data,false)},autoIncrement:function(){var y=this.options,t=this.xIncrement;t=O(t,y.pointStart,0);this.pointInterval=O(this.pointInterval,y.pointInterval,1);this.xIncrement=t+this.pointInterval;return t},cleanData:function(){var y=this.chart,t=this.data,bc,ad,ab=y.smallestInterval,V,L;t.sort(function(be,bd){return be.x-bd.x});for(L=t.length-1;L>=0;L--){t[L-1]&&t[L-1].x==t[L].x&&t.splice(L-1,1)}for(L=t.length-1;L>=0;L--){if(t[L-1]){V=t[L].x-t[L-1].x;if(ad===K||V<ad){ad=V;bc=L}}}if(ab===K||ad<ab){y.smallestInterval=ad}this.closestPoints=bc},getSegments:function(){var y=-1,t=[],L=this.data;Q(L,function(ab,V){if(ab.y===null){V>y+1&&t.push(L.slice(y+1,V));y=V}else{V==L.length-1&&t.push(L.slice(y+1,V+1))}});this.segments=t},setOptions:function(y){var t=this.chart.options.plotOptions;return v(t[this.type],t.series,y)},getColor:function(){var t=this.chart.options.colors;this.color=this.options.color||t[aQ++]||"#0000ff";if(aQ>=t.length){aQ=0}},getSymbol:function(){var t=this.chart.options.symbols;this.symbol=this.options.marker.symbol||t[N++];if(N>=t.length){N=0}},addPoint:function(y,t,bd,bc){var ad=this.data,ab=this.graph,V=this.area,L=this.chart;y=(new this.pointClass).init(this,y);G(bc,L);if(ab&&bd){ab.shift=bd}if(V){V.shift=bd;V.isArea=true}t=O(t,true);ad.push(y);bd&&ad[0].remove(false);this.isDirty=true;t&&L.redraw()},setData:function(y,t){var bc=this,ad=bc.data,ab=bc.initialColor,V=bc.chart,L=ad&&ad.length||0;bc.xIncrement=null;if(ao(ab)){aQ=ab}for(y=D(au(y||[]),function(bd){return(new bc.pointClass).init(bc,bd)});L--;){ad[L].destroy()}bc.data=y;bc.cleanData();bc.getSegments();bc.isDirty=true;V.isDirtyBox=true;O(t,true)&&V.redraw(false)},remove:function(y,t){var V=this,L=V.chart;y=O(y,true);if(!V.isRemoving){V.isRemoving=true;ae(V,"remove",null,function(){V.destroy();L.isDirtyLegend=L.isDirtyBox=true;y&&L.redraw(t)})}V.isRemoving=false},translate:function(){for(var bg=this.chart,bf=this.options.stacking,be=this.xAxis.categories,bd=this.yAxis,bc=this.data,ad=bc.length;ad--;){var ab=bc[ad],V=ab.x,L=ab.y,y=ab.low,t=bd.stacks[(L<0?"-":"")+this.stackKey];ab.plotX=this.xAxis.translate(V);if(bf&&this.visible&&t[V]){y=t[V];V=y.total;y.cum=y=y.cum-L;L=y+L;if(bf=="percent"){y=V?y*100/V:0;L=V?L*100/V:0}ab.percentage=V?ab.y*100/V:0;ab.stackTotal=V}if(ao(y)){ab.yBottom=bd.translate(y,0,1)}if(L!==null){ab.plotY=bd.translate(L,0,1)}ab.clientX=bg.inverted?bg.plotHeight-ab.plotX:ab.plotX;ab.category=be&&be[ab.x]!==K?be[ab.x]:ab.x}},setTooltipPoints:function(y){var t=this.chart,bd=t.inverted,bc=[],ad=ak((bd?t.plotTop:t.plotLeft)+t.plotSizeX),ab,V,L=[];if(y){this.tooltipPoints=null}Q(this.segments,function(be){bc=bc.concat(be)});if(this.xAxis&&this.xAxis.reversed){bc=bc.reverse()}Q(bc,function(bf,be){ab=bc[be-1]?bc[be-1].high+1:0;for(V=bf.high=bc[be+1]?bb((bf.plotX+(bc[be+1]?bc[be+1].plotX:ad))/2):ad;ab<=V;){L[bd?ad-ab++:ab++]=bf}});this.tooltipPoints=L},onMouseOver:function(){var y=this.chart,t=y.hoverSeries;if(!(!a8&&y.mouseIsDown)){t&&t!=this&&t.onMouseOut();this.options.events.mouseOver&&ae(this,"mouseOver");this.tracker&&this.tracker.toFront();this.setState(f);y.hoverSeries=this}},onMouseOut:function(){var y=this.options,t=this.chart,V=t.tooltip,L=t.hoverPoint;L&&L.onMouseOut();this&&y.events.mouseOut&&ae(this,"mouseOut");V&&!y.stickyTracking&&V.hide();this.setState();t.hoverSeries=null},animate:function(y){var t=this.chart,V=this.clipRect,L=this.options.animation;if(L&&!aa(L)){L={}}if(y){if(!V.isAnimating){V.attr("width",0);V.isAnimating=true}}else{V.animate({width:t.plotSizeX},L);this.animate=null}},drawPoints:function(){var be,bd=this.data,bc=this.chart,ad,ab,V,L,y,t;if(this.options.marker.enabled){for(V=bd.length;V--;){L=bd[V];ad=L.plotX;ab=L.plotY;t=L.graphic;if(ab!==K&&!isNaN(ab)){be=L.pointAttr[L.selected?"select":T];y=be.r;if(t){t.animate({x:ad,y:ab,r:y})}else{L.graphic=bc.renderer.symbol(O(L.marker&&L.marker.symbol,this.symbol),ad,ab,y).attr(be).add(this.group)}}}}},convertAttribs:function(y,t,bd,bc){var ad=this.pointAttrToOptions,ab,V,L={};y=y||{};t=t||{};bd=bd||{};bc=bc||{};for(ab in ad){V=ad[ab];L[ab]=O(y[V],t[ab],bd[ab],bc[ab])}return L},getAttribs:function(){var bh=this,bg=J[bh.type].marker?bh.options.marker:bh.options,bf=bg.states,bd=bf[f],bc,ad=bh.color,ab={stroke:ad,fill:ad},V=bh.data,L=[],y,t=bh.pointAttrToOptions;if(bh.options.marker){bd.radius=bd.radius||bg.radius+2;bd.lineWidth=bd.lineWidth||bg.lineWidth+1}else{bd.color=bd.color||aj(bd.color||ad).brighten(bd.brightness).get()}L[T]=bh.convertAttribs(bg,ab);Q([f,"select"],function(bi){L[bi]=bh.convertAttribs(bf[bi],L[T])});bh.pointAttr=L;for(ad=V.length;ad--;){ab=V[ad];if((bg=ab.options&&ab.options.marker||ab.options)&&bg.enabled===false){bg.radius=0}bc=false;if(ab.options){for(var be in t){if(ao(bg[t[be]])){bc=true}}}if(bc){y=[];bf=bg.states||{};bc=bf[f]=bf[f]||{};if(!bh.options.marker){bc.color=aj(bc.color||ab.options.color).brighten(bc.brightness||bd.brightness).get()}y[T]=bh.convertAttribs(bg,L[T]);y[f]=bh.convertAttribs(bf[f],L[f],y[T]);y.select=bh.convertAttribs(bf.select,L.select,y[T])}else{y=L}ab.pointAttr=y}},destroy:function(){var y=this,t=y.chart,ab=/\/5[0-9\.]+ Safari\//.test(s),V,L;aK(y);y.legendItem&&y.chart.legend.destroyItem(y);Q(y.data,function(ad){ad.destroy()});Q(["area","graph","dataLabelsGroup","group","tracker"],function(ad){if(y[ad]){V=ab&&ad=="group"?"hide":"destroy";y[ad][V]()}});if(t.hoverSeries==y){t.hoverSeries=null}aN(t.series,y);for(L in y){delete y[L]}},drawDataLabels:function(){if(this.options.dataLabels.enabled){var bg=this,bf,be,bd=bg.data,bc=bg.options.dataLabels,ad,ab=bg.dataLabelsGroup,V=bg.chart,L=V.inverted,y=bg.type,t;if(!ab){ab=bg.dataLabelsGroup=V.renderer.g(ay+"data-labels").attr({visibility:bg.visible?a3:az,zIndex:5}).translate(V.plotLeft,V.plotTop).add()}t=bc.color;if(t=="auto"){t=null}bc.style.color=O(t,bg.color);Q(bd,function(bl){var bk=bl.barX;bk=bk&&bk+bl.barW/2||bl.plotX||-999;var bi=O(bl.plotY,-999),bj=bl.dataLabel,bh=bc.align;ad=bc.formatter.call({x:bl.x,y:bl.y,series:bg,point:bl,percentage:bl.percentage,total:bl.total||bl.stackTotal});bf=(L?V.plotWidth-bi:bk)+bc.x;be=(L?V.plotHeight-bk:bi)+bc.y;if(y=="column"){bf+={left:-1,right:1}[bh]*bl.barW/2||0}if(bj){bj.animate({x:bf,y:be})}else{if(ad){bj=bl.dataLabel=V.renderer.text(ad,bf,be).attr({align:bh,rotation:bc.rotation,zIndex:1}).css(bc.style).add(ab)}}L&&!bc.y&&bj.attr({y:be+parseInt(bj.styles.lineHeight)*0.9-bj.getBBox().height/2})})}},drawGraph:function(){var bk=this,bj=bk.options,bh=bk.graph,bf=[],be,bd=bk.area,bc=bk.group,ad=bj.lineColor||bk.color,ab=bj.lineWidth,V=bj.dashStyle,t,bg=bk.chart.renderer,bl=bk.yAxis.getThreshold(bj.threshold||0),y=/^area/.test(bk.type),L=[],bi=[];Q(bk.segments,function(bo){t=[];Q(bo,function(bq,br){if(bk.getPointSpline){t.push.apply(t,bk.getPointSpline(bo,bq,br))}else{t.push(br?aL:P);br&&bj.step&&t.push(bq.plotX,bo[br-1].plotY);t.push(bq.plotX,bq.plotY)}});if(bo.length>1){bf=bf.concat(t)}else{L.push(bo[0])}if(y){var bm=[],bp,bn=t.length;for(bp=0;bp<bn;bp++){bm.push(t[bp])}bn==3&&bm.push(aL,t[1],t[2]);if(bj.stacking&&bk.type!="areaspline"){for(bp=bo.length-1;bp>=0;bp--){bm.push(bo[bp].plotX,bo[bp].yBottom)}}else{bm.push(aL,bo[bo.length-1].plotX,bl,aL,bo[0].plotX,bl)}bi=bi.concat(bm)}});bk.graphPath=bf;bk.singlePoints=L;if(y){be=O(bj.fillColor,aj(bk.color).setOpacity(bj.fillOpacity||0.75).get());if(bd){bd.animate({d:bi})}else{bk.area=bk.chart.renderer.path(bi).attr({fill:be}).add(bc)}}if(bh){bh.animate({d:bf})}else{if(ab){bh={stroke:ad,"stroke-width":ab};if(V){bh.dashstyle=V}bk.graph=bg.path(bf).attr(bh).add(bc).shadow(bj.shadow)}}},render:function(){var y=this,t=y.chart,bd,bc,ad=y.options,ab=ad.animation,V=ab&&y.animate;ab=V?ab&&ab.duration||500:0;var L=y.clipRect;bc=t.renderer;if(!L){L=y.clipRect=!t.hasRendered&&t.clipRect?t.clipRect:bc.clipRect(0,0,t.plotSizeX,t.plotSizeY);if(!t.clipRect){t.clipRect=L}}if(!y.group){bd=y.group=bc.g("series");if(t.inverted){bc=function(){bd.attr({width:t.plotWidth,height:t.plotHeight}).invert()};bc();ah(t,"resize",bc)}bd.clip(y.clipRect).attr({visibility:y.visible?a3:az,zIndex:ad.zIndex}).translate(t.plotLeft,t.plotTop).add(t.seriesGroup)}y.drawDataLabels();V&&y.animate(true);y.getAttribs();y.drawGraph&&y.drawGraph();y.drawPoints();y.options.enableMouseTracking!==false&&y.drawTracker();V&&y.animate();setTimeout(function(){L.isAnimating=false;if((bd=y.group)&&L!=t.clipRect&&L.renderer){bd.clip(y.clipRect=t.clipRect);L.destroy()}},ab);y.isDirty=false},redraw:function(){var y=this.chart,t=this.group;if(t){y.inverted&&t.attr({width:y.plotWidth,height:y.plotHeight});t.animate({translateX:y.plotLeft,translateY:y.plotTop})}this.translate();this.setTooltipPoints(true);this.render()},setState:function(y){var t=this.options,V=this.graph,L=t.states;t=t.lineWidth;y=y||T;if(this.state!=y){this.state=y;if(!(L[y]&&L[y].enabled===false)){if(y){t=L[y].lineWidth||t+1}if(V&&!V.dashstyle){V.attr({"stroke-width":t},y?0:500)}}}},setVisible:function(bf,be){var bd=this.chart,bc=this.legendItem,ad=this.group,ab=this.tracker,V=this.dataLabelsGroup,L,y=this.data,t=bd.options.chart.ignoreHiddenSeries;L=this.visible;L=(this.visible=bf=bf===K?!L:bf)?"show":"hide";ad&&ad[L]();if(ab){ab[L]()}else{for(ad=y.length;ad--;){ab=y[ad];ab.tracker&&ab.tracker[L]()}}V&&V[L]();bc&&bd.legend.colorizeItem(this,bf);this.isDirty=true;this.options.stacking&&Q(bd.series,function(bg){if(bg.options.stacking&&bg.visible){bg.isDirty=true}});if(t){bd.isDirtyBox=true}be!==false&&bd.redraw();ae(this,L)},show:function(){this.setVisible(true)},hide:function(){this.setVisible(false)},select:function(t){this.selected=t=t===K?!this.selected:t;if(this.checkbox){this.checkbox.checked=t}ae(this,t?"select":"unselect")},drawTracker:function(){var bf=this,be=bf.options,bd=[].concat(bf.graphPath),bc=bd.length,ad=bf.chart,ab=ad.options.tooltip.snap,V=bf.tracker,L=be.cursor;L=L&&{cursor:L};var y=bf.singlePoints,t;if(bc){for(t=bc+1;t--;){bd[t]==P&&bd.splice(t+1,0,bd[t+1]-ab,bd[t+2],aL);if(t&&bd[t]==P||t==bc){bd.splice(t,0,aL,bd[t-2]+ab,bd[t-1])}}}for(t=0;t<y.length;t++){bc=y[t];bd.push(P,bc.plotX-ab,bc.plotY,aL,bc.plotX+ab,bc.plotY)}if(V){V.attr({d:bd})}else{bf.tracker=ad.renderer.path(bd).attr({isTracker:true,stroke:aC,fill:aP,"stroke-width":be.lineWidth+2*ab,visibility:bf.visible?a3:az,zIndex:1}).on(a8?"touchstart":"mouseover",function(){ad.hoverSeries!=bf&&bf.onMouseOver()}).on("mouseout",function(){be.stickyTracking||bf.onMouseOut()}).css(L).add(ad.trackerGroup)}}};H=u(a6);aS.line=H;H=u(a6,{type:"area"});aS.area=H;H=u(a6,{type:"spline",getPointSpline:function(bh,bg,bf){var bd=bg.plotX,bc=bg.plotY,ad=bh[bf-1],ab=bh[bf+1],V,L,y,t;if(bf&&bf<bh.length-1){bh=ad.plotY;y=ab.plotX;ab=ab.plotY;var be;V=(1.5*bd+ad.plotX)/2.5;L=(1.5*bc+bh)/2.5;y=(1.5*bd+y)/2.5;t=(1.5*bc+ab)/2.5;be=(t-L)*(y-bd)/(y-V)+bc-t;L+=be;t+=be;if(L>bh&&L>bc){L=a9(bh,bc);t=2*bc-L}else{if(L<bh&&L<bc){L=av(bh,bc);t=2*bc-L}}if(t>ab&&t>bc){t=a9(ab,bc);L=2*bc-t}else{if(t<ab&&t<bc){t=av(ab,bc);L=2*bc-t}}bg.rightContX=y;bg.rightContY=t}if(bf){bg=["C",ad.rightContX||ad.plotX,ad.rightContY||ad.plotY,V||bd,L||bc,bd,bc];ad.rightContX=ad.rightContY=null}else{bg=[P,bd,bc]}return bg}});aS.spline=H;H=u(H,{type:"areaspline"});aS.areaspline=H;var aX=u(a6,{type:"column",pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color",r:"borderRadius"},init:function(){a6.prototype.init.apply(this,arguments);var y=this,t=y.chart;t.hasColumn=true;t.hasRendered&&Q(t.series,function(L){if(L.type==y.type){L.isDirty=true}})},translate:function(){var bk=this,bj=bk.chart,bh=0,bf=bk.xAxis.reversed,be=bk.xAxis.categories,bd={},bc,ad;a6.prototype.translate.apply(bk);Q(bj.series,function(bn){if(bn.type==bk.type){if(bn.options.stacking){bc=bn.stackKey;if(bd[bc]===K){bd[bc]=bh++}ad=bd[bc]}else{ad=bh++}bn.columnIndex=ad}});var ab=bk.options,V=bk.data,t=bk.closestPoints;bj=aH(V[1]?V[t].plotX-V[t-1].plotX:bj.plotSizeX/(be?be.length:1));be=bj*ab.groupPadding;t=(bj-2*be)/bh;var bg=ab.pointWidth,bm=ao(bg)?(t-bg)/2:t*ab.pointPadding,y=O(bg,t-2*bm),L=bm+(be+((bf?bh-bk.columnIndex:bk.columnIndex)||0)*t-bj/2)*(bf?-1:1),bi=bk.yAxis.getThreshold(ab.threshold||0),bl=O(ab.minPointLength,5);Q(V,function(bn){var bt=bn.plotY,bo=bn.yBottom||bi,bq=bn.plotX+L,bs=B(av(bt,bo)),br=B(a9(bt,bo)-bs),bp;if(aH(br)<bl){if(bl){br=bl;bs=aH(bs-bi)>bl?bo-bl:bi-(bt<=bi?bl:0)}bp=bs-3}aR(bn,{barX:bq,barY:bs,barW:y,barH:br});bn.shapeType="rect";bn.shapeArgs={x:bq,y:bs,width:y,height:br,r:ab.borderRadius};bn.trackerArgs=ao(bp)&&v(bn.shapeArgs,{height:a9(6,br+3),y:bp})})},getSymbol:function(){},drawGraph:function(){},drawPoints:function(){var y=this,t=y.options,ab=y.chart.renderer,V,L;Q(y.data,function(bc){var ad=bc.plotY;if(ad!==K&&!isNaN(ad)){V=bc.graphic;L=bc.shapeArgs;if(V){e(V);V.animate(L)}else{bc.graphic=ab[bc.shapeType](L).attr(bc.pointAttr[bc.selected?"select":T]).add(y.group).shadow(t.shadow)}}})},drawTracker:function(){var be=this,bd=be.chart,bc=bd.renderer,ad,ab,V=+new Date,L=be.options.cursor,y=L&&{cursor:L},t;Q(be.data,function(bf){ab=bf.tracker;ad=bf.trackerArgs||bf.shapeArgs;if(bf.y!==null){if(ab){ab.attr(ad)}else{bf.tracker=bc[bf.shapeType](ad).attr({isTracker:V,fill:aC,visibility:be.visible?a3:az,zIndex:1}).on(a8?"touchstart":"mouseover",function(bg){t=bg.relatedTarget||bg.fromElement;bd.hoverSeries!=be&&g(t,"isTracker")!=V&&be.onMouseOver();bf.onMouseOver()}).on("mouseout",function(bg){if(!be.options.stickyTracking){t=bg.relatedTarget||bg.toElement;g(t,"isTracker")!=V&&be.onMouseOut()}}).css(y).add(bd.trackerGroup)}}})},animate:function(y){var t=this,L=t.data;if(!y){Q(L,function(ab){var V=ab.graphic;if(V){V.attr({height:0,y:t.yAxis.translate(0,0,1)});V.animate({height:ab.barH,y:ab.barY},t.options.animation)}});t.animate=null}},remove:function(){var y=this,t=y.chart;t.hasRendered&&Q(t.series,function(L){if(L.type==y.type){L.isDirty=true}});a6.prototype.remove.apply(y,arguments)}});aS.column=aX;H=u(aX,{type:"bar",init:function(t){t.inverted=this.inverted=true;aX.prototype.init.apply(this,arguments)}});aS.bar=H;H=u(a6,{type:"scatter",translate:function(){var t=this;a6.prototype.translate.apply(t);Q(t.data,function(y){y.shapeType="circle";y.shapeArgs={x:y.plotX,y:y.plotY,r:t.chart.options.tooltip.snap}})},drawTracker:function(){var y=this,t=y.options.cursor,V=t&&{cursor:t},L;Q(y.data,function(ab){(L=ab.graphic)&&L.attr({isTracker:true}).on("mouseover",function(){y.onMouseOver();ab.onMouseOver()}).on("mouseout",function(){y.options.stickyTracking||y.onMouseOut()}).css(V)})},cleanData:function(){}});aS.scatter=H;H=u(aB,{init:function(){aB.prototype.init.apply(this,arguments);var y=this,t;aR(y,{visible:y.visible!==false,name:O(y.name,"Slice")});t=function(){y.slice()};ah(y,"select",t);ah(y,"unselect",t);return y},setVisible:function(y){var t=this.series.chart,ad=this.tracker,ab=this.dataLabel,V=this.connector,L;L=(this.visible=y=y===K?!this.visible:y)?"show":"hide";this.group[L]();ad&&ad[L]();ab&&ab[L]();V&&V[L]();this.legendItem&&t.legend.colorizeItem(this,y)},slice:function(y,t,ab){var V=this.series.chart,L=this.slicedTranslation;G(ab,V);O(t,true);y=this.sliced=ao(y)?y:!this.sliced;this.group.animate({translateX:y?L[0]:V.plotLeft,translateY:y?L[1]:V.plotTop})}});H=u(a6,{type:"pie",isCartesian:false,pointClass:H,pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color"},getColor:function(){this.initialColor=aQ},animate:function(){var t=this;Q(t.data,function(y){var V=y.graphic;y=y.shapeArgs;var L=-aE/2;if(V){V.attr({r:0,start:L,end:L});V.animate({r:y.r,start:y.start,end:y.end},t.options.animation)}});t.animate=null},translate:function(){var bp=0,bo=-0.25,bn=this.options,bm=bn.slicedOffset,bl=bm+bn.borderWidth,bk=bn.center,bj=this.chart,bi=bj.plotWidth,bh=bj.plotHeight,bg,be,ab,bc=this.data,bf=2*aE,y,V=av(bi,bh),ad,bd,L,t=bn.dataLabels.distance;bk.push(bn.size,bn.innerSize||0);bk=D(bk,function(bq,br){return(ad=/%$/.test(bq))?[bi,bh,V,V][br]*ac(bq)/100:bq});this.getX=function(bq,br){ab=aW.asin((bq-bk[1])/(bk[2]/2+t));return bk[0]+(br?-1:1)*ag(ab)*(bk[2]/2+t)};this.center=bk;Q(bc,function(bq){bp+=bq.y});Q(bc,function(bq){y=bp?bq.y/bp:0;bg=ak(bo*bf*1000)/1000;bo+=y;be=ak(bo*bf*1000)/1000;bq.shapeType="arc";bq.shapeArgs={x:bk[0],y:bk[1],r:bk[2]/2,innerR:bk[3]/2,start:bg,end:be};ab=(be+bg)/2;bq.slicedTranslation=D([ag(ab)*bm+bj.plotLeft,aV(ab)*bm+bj.plotTop],ak);bd=ag(ab)*bk[2]/2;L=aV(ab)*bk[2]/2;bq.tooltipPos=[bk[0]+bd*0.7,bk[1]+L*0.7];bq.labelPos=[bk[0]+bd+ag(ab)*t,bk[1]+L+aV(ab)*t,bk[0]+bd+ag(ab)*bl,bk[1]+L+aV(ab)*bl,bk[0]+bd,bk[1]+L,t<0?"center":ab<bf/4?"left":"right",ab];bq.percentage=y*100;bq.total=bp});this.setTooltipPoints()},render:function(){this.getAttribs();this.drawPoints();this.options.enableMouseTracking!==false&&this.drawTracker();this.drawDataLabels();this.options.animation&&this.animate&&this.animate();this.isDirty=false},drawPoints:function(){var y=this.chart,t=y.renderer,ad,ab,V,L;Q(this.data,function(bc){ab=bc.graphic;L=bc.shapeArgs;V=bc.group;if(!V){V=bc.group=t.g("point").attr({zIndex:5}).add()}ad=bc.sliced?bc.slicedTranslation:[y.plotLeft,y.plotTop];V.translate(ad[0],ad[1]);if(ab){ab.animate(L)}else{bc.graphic=t.arc(L).attr(aR(bc.pointAttr[T],{"stroke-linejoin":"round"})).add(bc.group)}bc.visible===false&&bc.setVisible(false)})},drawDataLabels:function(){var br=this.data,bq,bp=this.chart,bo=this.options.dataLabels,bn=O(bo.connectorPadding,10),bm=O(bo.connectorWidth,1),bl,bk,bj=bo.distance>0,bi,bg,bc=this.center[1],be=[[],[],[],[]],bh,y,ad,bd,bf,L,t,V=4,ab;a6.prototype.drawDataLabels.apply(this);Q(br,function(bt){var bs=bt.labelPos[7];be[bs<0?0:bs<aE/2?1:bs<aE?2:3].push(bt)});be[1].reverse();be[3].reverse();for(t=function(bt,bs){return bt.y>bs.y};V--;){br=0;bq=[].concat(be[V]);bq.sort(t);for(ab=bq.length;ab--;){bq[ab].rank=ab}for(bd=0;bd<2;bd++){bg=(L=V%3)?9999:-9999;bf=L?-1:1;for(ab=0;ab<be[V].length;ab++){bq=be[V][ab];if(bl=bq.dataLabel){bk=bq.labelPos;ad=a3;bh=bk[0];y=bk[1];bi||(bi=bl&&bl.getBBox().height);if(bj){if(bd&&bq.rank<br){ad=az}else{if(!L&&y<bg+bi||L&&y>bg-bi){y=bg+bf*bi;bh=this.getX(y,V>1);if(!L&&y+bi>bc||L&&y-bi<bc){if(bd){ad=az}else{br++}}}}}if(bq.visible===false){ad=az}if(ad==a3){bg=y}if(bd){bl.attr({visibility:ad,align:bk[6]})[bl.moved?"animate":"attr"]({x:bh+bo.x+({left:bn,right:-bn}[bk[6]]||0),y:y+bo.y});bl.moved=true;if(bj&&bm){bl=bq.connector;bk=[P,bh+(bk[6]=="left"?5:-5),y,aL,bh,y,aL,bk[2],bk[3],aL,bk[4],bk[5]];if(bl){bl.animate({d:bk});bl.attr("visibility",ad)}else{bq.connector=bl=this.chart.renderer.path(bk).attr({"stroke-width":bm,stroke:bo.connectorColor||"#606060",visibility:ad,zIndex:3}).translate(bp.plotLeft,bp.plotTop).add()}}}}}}}},drawTracker:aX.prototype.drawTracker,getSymbol:function(){}});aS.pie=H;ar.Highcharts={Chart:aM,dateFormat:ba,pathAnim:i,getOptions:function(){return w},numberFormat:a4,Point:aB,Color:aj,Renderer:I,seriesTypes:aS,setOptions:function(t){w=v(w,t);aI();return w},Series:a6,addEvent:ah,createElement:k,discardElement:n,css:r,each:Q,extend:aR,map:D,merge:v,pick:O,extendClass:u,version:"2.1.2"}})();jQuery.cookie=function(g,h,e){if(arguments.length>1&&(h===null||typeof h!=="object")){e=jQuery.extend({},e);if(h===null){e.expires=-1}if(typeof e.expires==="number"){var j=e.expires,f=e.expires=new Date();f.setDate(f.getDate()+j)}return(document.cookie=[encodeURIComponent(g),"=",e.raw?String(h):encodeURIComponent(String(h)),e.expires?"; expires="+e.expires.toUTCString():"",e.path?"; path="+e.path:"",e.domain?"; domain="+e.domain:"",e.secure?"; secure":""].join(""))}e=h||{};var b,i=e.raw?function(k){return k}:decodeURIComponent;return(b=new RegExp("(?:^|; )"+encodeURIComponent(g)+"=([^;]*)").exec(document.cookie))?i(b[1]):null};(function(i,za,p){i.fn.dataTableSettings=[];var D=i.fn.dataTableSettings;i.fn.dataTableExt={};var n=i.fn.dataTableExt;n.sVersion="1.8.2";n.sErrMode="alert";n.iApiIndex=0;n.oApi={};n.afnFiltering=[];n.aoFeatures=[];n.ofnSearch={};n.afnSortData=[];n.oStdClasses={sPagePrevEnabled:"paginate_enabled_previous",sPagePrevDisabled:"paginate_disabled_previous",sPageNextEnabled:"paginate_enabled_next",sPageNextDisabled:"paginate_disabled_next",sPageJUINext:"",sPageJUIPrev:"",sPageButton:"paginate_button",sPageButtonActive:"paginate_active",sPageButtonStaticDisabled:"paginate_button paginate_button_disabled",sPageFirst:"first",sPagePrevious:"previous",sPageNext:"next",sPageLast:"last",sStripeOdd:"odd",sStripeEven:"even",sRowEmpty:"dataTables_empty",sWrapper:"dataTables_wrapper",sFilter:"dataTables_filter",sInfo:"dataTables_info",sPaging:"dataTables_paginate paging_",sLength:"dataTables_length",sProcessing:"dataTables_processing",sSortAsc:"sorting_asc",sSortDesc:"sorting_desc",sSortable:"sorting",sSortableAsc:"sorting_asc_disabled",sSortableDesc:"sorting_desc_disabled",sSortableNone:"sorting_disabled",sSortColumn:"sorting_",sSortJUIAsc:"",sSortJUIDesc:"",sSortJUI:"",sSortJUIAscAllowed:"",sSortJUIDescAllowed:"",sSortJUIWrapper:"",sSortIcon:"",sScrollWrapper:"dataTables_scroll",sScrollHead:"dataTables_scrollHead",sScrollHeadInner:"dataTables_scrollHeadInner",sScrollBody:"dataTables_scrollBody",sScrollFoot:"dataTables_scrollFoot",sScrollFootInner:"dataTables_scrollFootInner",sFooterTH:""};n.oJUIClasses={sPagePrevEnabled:"fg-button ui-button ui-state-default ui-corner-left",sPagePrevDisabled:"fg-button ui-button ui-state-default ui-corner-left ui-state-disabled",sPageNextEnabled:"fg-button ui-button ui-state-default ui-corner-right",sPageNextDisabled:"fg-button ui-button ui-state-default ui-corner-right ui-state-disabled",sPageJUINext:"ui-icon ui-icon-circle-arrow-e",sPageJUIPrev:"ui-icon ui-icon-circle-arrow-w",sPageButton:"fg-button ui-button ui-state-default",sPageButtonActive:"fg-button ui-button ui-state-default ui-state-disabled",sPageButtonStaticDisabled:"fg-button ui-button ui-state-default ui-state-disabled",sPageFirst:"first ui-corner-tl ui-corner-bl",sPagePrevious:"previous",sPageNext:"next",sPageLast:"last ui-corner-tr ui-corner-br",sStripeOdd:"odd",sStripeEven:"even",sRowEmpty:"dataTables_empty",sWrapper:"dataTables_wrapper",sFilter:"dataTables_filter",sInfo:"dataTables_info",sPaging:"dataTables_paginate fg-buttonset ui-buttonset fg-buttonset-multi ui-buttonset-multi paging_",sLength:"dataTables_length",sProcessing:"dataTables_processing",sSortAsc:"ui-state-default",sSortDesc:"ui-state-default",sSortable:"ui-state-default",sSortableAsc:"ui-state-default",sSortableDesc:"ui-state-default",sSortableNone:"ui-state-default",sSortColumn:"sorting_",sSortJUIAsc:"css_right ui-icon ui-icon-triangle-1-n",sSortJUIDesc:"css_right ui-icon ui-icon-triangle-1-s",sSortJUI:"css_right ui-icon ui-icon-carat-2-n-s",sSortJUIAscAllowed:"css_right ui-icon ui-icon-carat-1-n",sSortJUIDescAllowed:"css_right ui-icon ui-icon-carat-1-s",sSortJUIWrapper:"DataTables_sort_wrapper",sSortIcon:"DataTables_sort_icon",sScrollWrapper:"dataTables_scroll",sScrollHead:"dataTables_scrollHead ui-state-default",sScrollHeadInner:"dataTables_scrollHeadInner",sScrollBody:"dataTables_scrollBody",sScrollFoot:"dataTables_scrollFoot ui-state-default",sScrollFootInner:"dataTables_scrollFootInner",sFooterTH:"ui-state-default"};n.oPagination={two_button:{fnInit:function(g,l,s){var t,w,y;if(g.bJUI){t=p.createElement("a");w=p.createElement("a");y=p.createElement("span");y.className=g.oClasses.sPageJUINext;w.appendChild(y);y=p.createElement("span");y.className=g.oClasses.sPageJUIPrev;t.appendChild(y)}else{t=p.createElement("div");w=p.createElement("div")}t.className=g.oClasses.sPagePrevDisabled;w.className=g.oClasses.sPageNextDisabled;t.title=g.oLanguage.oPaginate.sPrevious;w.title=g.oLanguage.oPaginate.sNext;l.appendChild(t);l.appendChild(w);i(t).bind("click.DT",function(){g.oApi._fnPageChange(g,"previous")&&s(g)});i(w).bind("click.DT",function(){g.oApi._fnPageChange(g,"next")&&s(g)});i(t).bind("selectstart.DT",function(){return false});i(w).bind("selectstart.DT",function(){return false});if(g.sTableId!==""&&typeof g.aanFeatures.p=="undefined"){l.setAttribute("id",g.sTableId+"_paginate");t.setAttribute("id",g.sTableId+"_previous");w.setAttribute("id",g.sTableId+"_next")}},fnUpdate:function(g){if(g.aanFeatures.p){for(var l=g.aanFeatures.p,s=0,t=l.length;s<t;s++){if(l[s].childNodes.length!==0){l[s].childNodes[0].className=g._iDisplayStart===0?g.oClasses.sPagePrevDisabled:g.oClasses.sPagePrevEnabled;l[s].childNodes[1].className=g.fnDisplayEnd()==g.fnRecordsDisplay()?g.oClasses.sPageNextDisabled:g.oClasses.sPageNextEnabled}}}}},iFullNumbersShowPages:5,full_numbers:{fnInit:function(g,l,s){var t=p.createElement("span"),w=p.createElement("span"),y=p.createElement("span"),F=p.createElement("span"),x=p.createElement("span");t.innerHTML=g.oLanguage.oPaginate.sFirst;w.innerHTML=g.oLanguage.oPaginate.sPrevious;F.innerHTML=g.oLanguage.oPaginate.sNext;x.innerHTML=g.oLanguage.oPaginate.sLast;var v=g.oClasses;t.className=v.sPageButton+" "+v.sPageFirst;w.className=v.sPageButton+" "+v.sPagePrevious;F.className=v.sPageButton+" "+v.sPageNext;x.className=v.sPageButton+" "+v.sPageLast;l.appendChild(t);l.appendChild(w);l.appendChild(y);l.appendChild(F);l.appendChild(x);i(t).bind("click.DT",function(){g.oApi._fnPageChange(g,"first")&&s(g)});i(w).bind("click.DT",function(){g.oApi._fnPageChange(g,"previous")&&s(g)});i(F).bind("click.DT",function(){g.oApi._fnPageChange(g,"next")&&s(g)});i(x).bind("click.DT",function(){g.oApi._fnPageChange(g,"last")&&s(g)});i("span",l).bind("mousedown.DT",function(){return false}).bind("selectstart.DT",function(){return false});if(g.sTableId!==""&&typeof g.aanFeatures.p=="undefined"){l.setAttribute("id",g.sTableId+"_paginate");t.setAttribute("id",g.sTableId+"_first");w.setAttribute("id",g.sTableId+"_previous");F.setAttribute("id",g.sTableId+"_next");x.setAttribute("id",g.sTableId+"_last")}},fnUpdate:function(g,l){if(g.aanFeatures.p){var s=n.oPagination.iFullNumbersShowPages,t=Math.floor(s/2),w=Math.ceil(g.fnRecordsDisplay()/g._iDisplayLength),y=Math.ceil(g._iDisplayStart/g._iDisplayLength)+1,F="",x,v=g.oClasses;if(w<s){t=1;x=w}else{if(y<=t){t=1;x=s}else{if(y>=w-t){t=w-s+1;x=w}else{t=y-Math.ceil(s/2)+1;x=t+s-1}}}for(s=t;s<=x;s++){F+=y!=s?'<span class="'+v.sPageButton+'">'+s+"</span>":'<span class="'+v.sPageButtonActive+'">'+s+"</span>"}x=g.aanFeatures.p;var z,$=function(M){g._iDisplayStart=(this.innerHTML*1-1)*g._iDisplayLength;l(g);M.preventDefault()},X=function(){return false};s=0;for(t=x.length;s<t;s++){if(x[s].childNodes.length!==0){z=i("span:eq(2)",x[s]);z.html(F);i("span",z).bind("click.DT",$).bind("mousedown.DT",X).bind("selectstart.DT",X);z=x[s].getElementsByTagName("span");z=[z[0],z[1],z[z.length-2],z[z.length-1]];i(z).removeClass(v.sPageButton+" "+v.sPageButtonActive+" "+v.sPageButtonStaticDisabled);if(y==1){z[0].className+=" "+v.sPageButtonStaticDisabled;z[1].className+=" "+v.sPageButtonStaticDisabled}else{z[0].className+=" "+v.sPageButton;z[1].className+=" "+v.sPageButton}if(w===0||y==w||g._iDisplayLength==-1){z[2].className+=" "+v.sPageButtonStaticDisabled;z[3].className+=" "+v.sPageButtonStaticDisabled}else{z[2].className+=" "+v.sPageButton;z[3].className+=" "+v.sPageButton}}}}}}};n.oSort={"string-asc":function(g,l){if(typeof g!="string"){g=""}if(typeof l!="string"){l=""}g=g.toLowerCase();l=l.toLowerCase();return g<l?-1:g>l?1:0},"string-desc":function(g,l){if(typeof g!="string"){g=""}if(typeof l!="string"){l=""}g=g.toLowerCase();l=l.toLowerCase();return g<l?1:g>l?-1:0},"html-asc":function(g,l){g=g.replace(/<.*?>/g,"").toLowerCase();l=l.replace(/<.*?>/g,"").toLowerCase();return g<l?-1:g>l?1:0},"html-desc":function(g,l){g=g.replace(/<.*?>/g,"").toLowerCase();l=l.replace(/<.*?>/g,"").toLowerCase();return g<l?1:g>l?-1:0},"date-asc":function(g,l){g=Date.parse(g);l=Date.parse(l);if(isNaN(g)||g===""){g=Date.parse("01/01/1970 00:00:00")}if(isNaN(l)||l===""){l=Date.parse("01/01/1970 00:00:00")}return g-l},"date-desc":function(g,l){g=Date.parse(g);l=Date.parse(l);if(isNaN(g)||g===""){g=Date.parse("01/01/1970 00:00:00")}if(isNaN(l)||l===""){l=Date.parse("01/01/1970 00:00:00")}return l-g},"numeric-asc":function(g,l){return(g=="-"||g===""?0:g*1)-(l=="-"||l===""?0:l*1)},"numeric-desc":function(g,l){return(l=="-"||l===""?0:l*1)-(g=="-"||g===""?0:g*1)}};n.aTypes=[function(g){if(typeof g=="number"){return"numeric"}else{if(typeof g!="string"){return null}}var l,s=false;l=g.charAt(0);if("0123456789-".indexOf(l)==-1){return null}for(var t=1;t<g.length;t++){l=g.charAt(t);if("0123456789.".indexOf(l)==-1){return null}if(l=="."){if(s){return null}s=true}}return"numeric"},function(g){var l=Date.parse(g);if(l!==null&&!isNaN(l)||typeof g=="string"&&g.length===0){return"date"}return null},function(g){if(typeof g=="string"&&g.indexOf("<")!=-1&&g.indexOf(">")!=-1){return"html"}return null}];n.fnVersionCheck=function(g){var l=function(x,v){for(;x.length<v;){x+="0"}return x},s=n.sVersion.split(".");g=g.split(".");for(var t="",w="",y=0,F=g.length;y<F;y++){t+=l(s[y],3);w+=l(g[y],3)}return parseInt(t,10)>=parseInt(w,10)};n._oExternConfig={iNextUnique:0};i.fn.dataTable=function(g){function l(){this.fnRecordsTotal=function(){return this.oFeatures.bServerSide?parseInt(this._iRecordsTotal,10):this.aiDisplayMaster.length};this.fnRecordsDisplay=function(){return this.oFeatures.bServerSide?parseInt(this._iRecordsDisplay,10):this.aiDisplay.length};this.fnDisplayEnd=function(){return this.oFeatures.bServerSide?this.oFeatures.bPaginate===false||this._iDisplayLength==-1?this._iDisplayStart+this.aiDisplay.length:Math.min(this._iDisplayStart+this._iDisplayLength,this._iRecordsDisplay):this._iDisplayEnd};this.sInstance=this.oInstance=null;this.oFeatures={bPaginate:true,bLengthChange:true,bFilter:true,bSort:true,bInfo:true,bAutoWidth:true,bProcessing:false,bSortClasses:true,bStateSave:false,bServerSide:false,bDeferRender:false};this.oScroll={sX:"",sXInner:"",sY:"",bCollapse:false,bInfinite:false,iLoadGap:100,iBarWidth:0,bAutoCss:true};this.aanFeatures=[];this.oLanguage={sProcessing:"Processing...",sLengthMenu:"Show _MENU_ entries",sZeroRecords:"No matching records found",sEmptyTable:"No data available in table",sLoadingRecords:"Loading...",sInfo:"Showing _START_ to _END_ of _TOTAL_ entries",sInfoEmpty:"Showing 0 to 0 of 0 entries",sInfoFiltered:"(filtered from _MAX_ total entries)",sInfoPostFix:"",sInfoThousands:",",sSearch:"Search:",sUrl:"",oPaginate:{sFirst:"First",sPrevious:"Previous",sNext:"Next",sLast:"Last"},fnInfoCallback:null};this.aoData=[];this.aiDisplay=[];this.aiDisplayMaster=[];this.aoColumns=[];this.aoHeader=[];this.aoFooter=[];this.iNextId=0;this.asDataSearch=[];this.oPreviousSearch={sSearch:"",bRegex:false,bSmart:true};this.aoPreSearchCols=[];this.aaSorting=[[0,"asc",0]];this.aaSortingFixed=null;this.asStripeClasses=[];this.asDestroyStripes=[];this.sDestroyWidth=0;this.fnFooterCallback=this.fnHeaderCallback=this.fnRowCallback=null;this.aoDrawCallback=[];this.fnInitComplete=this.fnPreDrawCallback=null;this.sTableId="";this.nTableWrapper=this.nTBody=this.nTFoot=this.nTHead=this.nTable=null;this.bInitialised=this.bDeferLoading=false;this.aoOpenRows=[];this.sDom="lfrtip";this.sPaginationType="two_button";this.iCookieDuration=7200;this.sCookiePrefix="SpryMedia_DataTables_";this.fnCookieCallback=null;this.aoStateSave=[];this.aoStateLoad=[];this.sAjaxSource=this.oLoadedState=null;this.sAjaxDataProp="aaData";this.bAjaxDataGet=true;this.jqXHR=null;this.fnServerData=function(a,b,c,d){d.jqXHR=i.ajax({url:a,data:b,success:function(f){i(d.oInstance).trigger("xhr",d);c(f)},dataType:"json",cache:false,error:function(f,e){e=="parsererror"&&alert("DataTables warning: JSON data from server could not be parsed. This is caused by a JSON formatting error.")}})};this.aoServerParams=[];this.fnFormatNumber=function(a){if(a<1000){return a}else{var b=a+"";a=b.split("");var c="";b=b.length;for(var d=0;d<b;d++){if(d%3===0&&d!==0){c=this.oLanguage.sInfoThousands+c}c=a[b-d-1]+c}}return c};this.aLengthMenu=[10,25,50,100];this.bDrawing=this.iDraw=0;this.iDrawError=-1;this._iDisplayLength=10;this._iDisplayStart=0;this._iDisplayEnd=10;this._iRecordsDisplay=this._iRecordsTotal=0;this.bJUI=false;this.oClasses=n.oStdClasses;this.bSortCellsTop=this.bSorted=this.bFiltered=false;this.oInit=null;this.aoDestroyCallback=[]}function s(a){return function(){var b=[A(this[n.iApiIndex])].concat(Array.prototype.slice.call(arguments));return n.oApi[a].apply(this,b)}}function t(a){var b,c,d=a.iInitDisplayStart;if(a.bInitialised===false){setTimeout(function(){t(a)},200)}else{Aa(a);X(a);M(a,a.aoHeader);a.nTFoot&&M(a,a.aoFooter);K(a,true);a.oFeatures.bAutoWidth&&ga(a);b=0;for(c=a.aoColumns.length;b<c;b++){if(a.aoColumns[b].sWidth!==null){a.aoColumns[b].nTh.style.width=q(a.aoColumns[b].sWidth)}}if(a.oFeatures.bSort){R(a)}else{if(a.oFeatures.bFilter){N(a,a.oPreviousSearch)}else{a.aiDisplay=a.aiDisplayMaster.slice();E(a);C(a)}}if(a.sAjaxSource!==null&&!a.oFeatures.bServerSide){c=[];ha(a,c);a.fnServerData.call(a.oInstance,a.sAjaxSource,c,function(f){var e=f;if(a.sAjaxDataProp!==""){e=aa(a.sAjaxDataProp)(f)}for(b=0;b<e.length;b++){v(a,e[b])}a.iInitDisplayStart=d;if(a.oFeatures.bSort){R(a)}else{a.aiDisplay=a.aiDisplayMaster.slice();E(a);C(a)}K(a,false);w(a,f)},a)}else{if(!a.oFeatures.bServerSide){K(a,false);w(a)}}}}function w(a,b){a._bInitComplete=true;if(typeof a.fnInitComplete=="function"){typeof b!="undefined"?a.fnInitComplete.call(a.oInstance,a,b):a.fnInitComplete.call(a.oInstance,a)}}function y(a,b,c){a.oLanguage=i.extend(true,a.oLanguage,b);typeof b.sEmptyTable=="undefined"&&typeof b.sZeroRecords!="undefined"&&o(a.oLanguage,b,"sZeroRecords","sEmptyTable");typeof b.sLoadingRecords=="undefined"&&typeof b.sZeroRecords!="undefined"&&o(a.oLanguage,b,"sZeroRecords","sLoadingRecords");c&&t(a)}function F(a,b){var c=a.aoColumns.length;b={sType:null,_bAutoType:true,bVisible:true,bSearchable:true,bSortable:true,asSorting:["asc","desc"],sSortingClass:a.oClasses.sSortable,sSortingClassJUI:a.oClasses.sSortJUI,sTitle:b?b.innerHTML:"",sName:"",sWidth:null,sWidthOrig:null,sClass:null,fnRender:null,bUseRendered:true,iDataSort:c,mDataProp:c,fnGetData:null,fnSetData:null,sSortDataType:"std",sDefaultContent:null,sContentPadding:"",nTh:b?b:p.createElement("th"),nTf:null};a.aoColumns.push(b);if(typeof a.aoPreSearchCols[c]=="undefined"||a.aoPreSearchCols[c]===null){a.aoPreSearchCols[c]={sSearch:"",bRegex:false,bSmart:true}}else{if(typeof a.aoPreSearchCols[c].bRegex=="undefined"){a.aoPreSearchCols[c].bRegex=true}if(typeof a.aoPreSearchCols[c].bSmart=="undefined"){a.aoPreSearchCols[c].bSmart=true}}x(a,c,null)}function x(a,b,c){b=a.aoColumns[b];if(typeof c!="undefined"&&c!==null){if(typeof c.sType!="undefined"){b.sType=c.sType;b._bAutoType=false}o(b,c,"bVisible");o(b,c,"bSearchable");o(b,c,"bSortable");o(b,c,"sTitle");o(b,c,"sName");o(b,c,"sWidth");o(b,c,"sWidth","sWidthOrig");o(b,c,"sClass");o(b,c,"fnRender");o(b,c,"bUseRendered");o(b,c,"iDataSort");o(b,c,"mDataProp");o(b,c,"asSorting");o(b,c,"sSortDataType");o(b,c,"sDefaultContent");o(b,c,"sContentPadding")}b.fnGetData=aa(b.mDataProp);b.fnSetData=Ba(b.mDataProp);if(!a.oFeatures.bSort){b.bSortable=false}if(!b.bSortable||i.inArray("asc",b.asSorting)==-1&&i.inArray("desc",b.asSorting)==-1){b.sSortingClass=a.oClasses.sSortableNone;b.sSortingClassJUI=""}else{if(b.bSortable||i.inArray("asc",b.asSorting)==-1&&i.inArray("desc",b.asSorting)==-1){b.sSortingClass=a.oClasses.sSortable;b.sSortingClassJUI=a.oClasses.sSortJUI}else{if(i.inArray("asc",b.asSorting)!=-1&&i.inArray("desc",b.asSorting)==-1){b.sSortingClass=a.oClasses.sSortableAsc;b.sSortingClassJUI=a.oClasses.sSortJUIAscAllowed}else{if(i.inArray("asc",b.asSorting)==-1&&i.inArray("desc",b.asSorting)!=-1){b.sSortingClass=a.oClasses.sSortableDesc;b.sSortingClassJUI=a.oClasses.sSortJUIDescAllowed}}}}}function v(a,b){var c;c=i.isArray(b)?b.slice():i.extend(true,{},b);b=a.aoData.length;var d={nTr:null,_iId:a.iNextId++,_aData:c,_anHidden:[],_sRowStripe:""};a.aoData.push(d);for(var f,e=0,h=a.aoColumns.length;e<h;e++){c=a.aoColumns[e];typeof c.fnRender=="function"&&c.bUseRendered&&c.mDataProp!==null&&O(a,b,e,c.fnRender({iDataRow:b,iDataColumn:e,aData:d._aData,oSettings:a}));if(c._bAutoType&&c.sType!="string"){f=G(a,b,e,"type");if(f!==null&&f!==""){f=ia(f);if(c.sType===null){c.sType=f}else{if(c.sType!=f&&c.sType!="html"){c.sType="string"}}}}}a.aiDisplayMaster.push(b);a.oFeatures.bDeferRender||z(a,b);return b}function z(a,b){var c=a.aoData[b],d;if(c.nTr===null){c.nTr=p.createElement("tr");typeof c._aData.DT_RowId!="undefined"&&c.nTr.setAttribute("id",c._aData.DT_RowId);typeof c._aData.DT_RowClass!="undefined"&&i(c.nTr).addClass(c._aData.DT_RowClass);for(var f=0,e=a.aoColumns.length;f<e;f++){var h=a.aoColumns[f];d=p.createElement("td");d.innerHTML=typeof h.fnRender=="function"&&(!h.bUseRendered||h.mDataProp===null)?h.fnRender({iDataRow:b,iDataColumn:f,aData:c._aData,oSettings:a}):G(a,b,f,"display");if(h.sClass!==null){d.className=h.sClass}if(h.bVisible){c.nTr.appendChild(d);c._anHidden[f]=null}else{c._anHidden[f]=d}}}}function $(a){var b,c,d,f,e,h,j,k,m;if(a.bDeferLoading||a.sAjaxSource===null){j=a.nTBody.childNodes;b=0;for(c=j.length;b<c;b++){if(j[b].nodeName.toUpperCase()=="TR"){k=a.aoData.length;a.aoData.push({nTr:j[b],_iId:a.iNextId++,_aData:[],_anHidden:[],_sRowStripe:""});a.aiDisplayMaster.push(k);h=j[b].childNodes;d=e=0;for(f=h.length;d<f;d++){m=h[d].nodeName.toUpperCase();if(m=="TD"||m=="TH"){O(a,k,e,i.trim(h[d].innerHTML));e++}}}}}j=ba(a);h=[];b=0;for(c=j.length;b<c;b++){d=0;for(f=j[b].childNodes.length;d<f;d++){e=j[b].childNodes[d];m=e.nodeName.toUpperCase();if(m=="TD"||m=="TH"){h.push(e)}}}h.length!=j.length*a.aoColumns.length&&J(a,1,"Unexpected number of TD elements. Expected "+j.length*a.aoColumns.length+" and got "+h.length+". DataTables does not support rowspan / colspan in the table body, and there must be one cell for each row/column combination.");d=0;for(f=a.aoColumns.length;d<f;d++){if(a.aoColumns[d].sTitle===null){a.aoColumns[d].sTitle=a.aoColumns[d].nTh.innerHTML}j=a.aoColumns[d]._bAutoType;m=typeof a.aoColumns[d].fnRender=="function";e=a.aoColumns[d].sClass!==null;k=a.aoColumns[d].bVisible;var u,r;if(j||m||e||!k){b=0;for(c=a.aoData.length;b<c;b++){u=h[b*f+d];if(j&&a.aoColumns[d].sType!="string"){r=G(a,b,d,"type");if(r!==""){r=ia(r);if(a.aoColumns[d].sType===null){a.aoColumns[d].sType=r}else{if(a.aoColumns[d].sType!=r&&a.aoColumns[d].sType!="html"){a.aoColumns[d].sType="string"}}}}if(m){r=a.aoColumns[d].fnRender({iDataRow:b,iDataColumn:d,aData:a.aoData[b]._aData,oSettings:a});u.innerHTML=r;a.aoColumns[d].bUseRendered&&O(a,b,d,r)}if(e){u.className+=" "+a.aoColumns[d].sClass}if(k){a.aoData[b]._anHidden[d]=null}else{a.aoData[b]._anHidden[d]=u;u.parentNode.removeChild(u)}}}}}function X(a){var b,c,d;a.nTHead.getElementsByTagName("tr");if(a.nTHead.getElementsByTagName("th").length!==0){b=0;for(d=a.aoColumns.length;b<d;b++){c=a.aoColumns[b].nTh;a.aoColumns[b].sClass!==null&&i(c).addClass(a.aoColumns[b].sClass);if(a.aoColumns[b].sTitle!=c.innerHTML){c.innerHTML=a.aoColumns[b].sTitle}}}else{var f=p.createElement("tr");b=0;for(d=a.aoColumns.length;b<d;b++){c=a.aoColumns[b].nTh;c.innerHTML=a.aoColumns[b].sTitle;a.aoColumns[b].sClass!==null&&i(c).addClass(a.aoColumns[b].sClass);f.appendChild(c)}i(a.nTHead).html("")[0].appendChild(f);Y(a.aoHeader,a.nTHead)}if(a.bJUI){b=0;for(d=a.aoColumns.length;b<d;b++){c=a.aoColumns[b].nTh;f=p.createElement("div");f.className=a.oClasses.sSortJUIWrapper;i(c).contents().appendTo(f);var e=p.createElement("span");e.className=a.oClasses.sSortIcon;f.appendChild(e);c.appendChild(f)}}d=function(){this.onselectstart=function(){return false};return false};if(a.oFeatures.bSort){for(b=0;b<a.aoColumns.length;b++){if(a.aoColumns[b].bSortable!==false){ja(a,a.aoColumns[b].nTh,b);i(a.aoColumns[b].nTh).bind("mousedown.DT",d)}else{i(a.aoColumns[b].nTh).addClass(a.oClasses.sSortableNone)}}}a.oClasses.sFooterTH!==""&&i(a.nTFoot).children("tr").children("th").addClass(a.oClasses.sFooterTH);if(a.nTFoot!==null){c=S(a,null,a.aoFooter);b=0;for(d=a.aoColumns.length;b<d;b++){if(typeof c[b]!="undefined"){a.aoColumns[b].nTf=c[b]}}}}function M(a,b,c){var d,f,e,h=[],j=[],k=a.aoColumns.length;if(typeof c=="undefined"){c=false}d=0;for(f=b.length;d<f;d++){h[d]=b[d].slice();h[d].nTr=b[d].nTr;for(e=k-1;e>=0;e--){!a.aoColumns[e].bVisible&&!c&&h[d].splice(e,1)}j.push([])}d=0;for(f=h.length;d<f;d++){if(h[d].nTr){a=0;for(e=h[d].nTr.childNodes.length;a<e;a++){h[d].nTr.removeChild(h[d].nTr.childNodes[0])}}e=0;for(b=h[d].length;e<b;e++){k=c=1;if(typeof j[d][e]=="undefined"){h[d].nTr.appendChild(h[d][e].cell);for(j[d][e]=1;typeof h[d+c]!="undefined"&&h[d][e].cell==h[d+c][e].cell;){j[d+c][e]=1;c++}for(;typeof h[d][e+k]!="undefined"&&h[d][e].cell==h[d][e+k].cell;){for(a=0;a<c;a++){j[d+a][e+k]=1}k++}h[d][e].cell.rowSpan=c;h[d][e].cell.colSpan=k}}}}function C(a){var b,c,d=[],f=0,e=false;b=a.asStripeClasses.length;c=a.aoOpenRows.length;if(!(a.fnPreDrawCallback!==null&&a.fnPreDrawCallback.call(a.oInstance,a)===false)){a.bDrawing=true;if(typeof a.iInitDisplayStart!="undefined"&&a.iInitDisplayStart!=-1){a._iDisplayStart=a.oFeatures.bServerSide?a.iInitDisplayStart:a.iInitDisplayStart>=a.fnRecordsDisplay()?0:a.iInitDisplayStart;a.iInitDisplayStart=-1;E(a)}if(a.bDeferLoading){a.bDeferLoading=false;a.iDraw++}else{if(a.oFeatures.bServerSide){if(!a.bDestroying&&!Ca(a)){return}}else{a.iDraw++}}if(a.aiDisplay.length!==0){var h=a._iDisplayStart,j=a._iDisplayEnd;if(a.oFeatures.bServerSide){h=0;j=a.aoData.length}for(h=h;h<j;h++){var k=a.aoData[a.aiDisplay[h]];k.nTr===null&&z(a,a.aiDisplay[h]);var m=k.nTr;if(b!==0){var u=a.asStripeClasses[f%b];if(k._sRowStripe!=u){i(m).removeClass(k._sRowStripe).addClass(u);k._sRowStripe=u}}if(typeof a.fnRowCallback=="function"){m=a.fnRowCallback.call(a.oInstance,m,a.aoData[a.aiDisplay[h]]._aData,f,h);if(!m&&!e){J(a,0,"A node was not returned by fnRowCallback");e=true}}d.push(m);f++;if(c!==0){for(k=0;k<c;k++){m==a.aoOpenRows[k].nParent&&d.push(a.aoOpenRows[k].nTr)}}}}else{d[0]=p.createElement("tr");if(typeof a.asStripeClasses[0]!="undefined"){d[0].className=a.asStripeClasses[0]}e=a.oLanguage.sZeroRecords.replace("_MAX_",a.fnFormatNumber(a.fnRecordsTotal()));if(a.iDraw==1&&a.sAjaxSource!==null&&!a.oFeatures.bServerSide){e=a.oLanguage.sLoadingRecords}else{if(typeof a.oLanguage.sEmptyTable!="undefined"&&a.fnRecordsTotal()===0){e=a.oLanguage.sEmptyTable}}b=p.createElement("td");b.setAttribute("valign","top");b.colSpan=Z(a);b.className=a.oClasses.sRowEmpty;b.innerHTML=e;d[f].appendChild(b)}typeof a.fnHeaderCallback=="function"&&a.fnHeaderCallback.call(a.oInstance,i(a.nTHead).children("tr")[0],ca(a),a._iDisplayStart,a.fnDisplayEnd(),a.aiDisplay);typeof a.fnFooterCallback=="function"&&a.fnFooterCallback.call(a.oInstance,i(a.nTFoot).children("tr")[0],ca(a),a._iDisplayStart,a.fnDisplayEnd(),a.aiDisplay);f=p.createDocumentFragment();b=p.createDocumentFragment();if(a.nTBody){e=a.nTBody.parentNode;b.appendChild(a.nTBody);if(!a.oScroll.bInfinite||!a._bInitComplete||a.bSorted||a.bFiltered){c=a.nTBody.childNodes;for(b=c.length-1;b>=0;b--){c[b].parentNode.removeChild(c[b])}}b=0;for(c=d.length;b<c;b++){f.appendChild(d[b])}a.nTBody.appendChild(f);e!==null&&e.appendChild(a.nTBody)}for(b=a.aoDrawCallback.length-1;b>=0;b--){a.aoDrawCallback[b].fn.call(a.oInstance,a)}i(a.oInstance).trigger("draw",a);a.bSorted=false;a.bFiltered=false;a.bDrawing=false;if(a.oFeatures.bServerSide){K(a,false);typeof a._bInitComplete=="undefined"&&w(a)}}}function da(a){if(a.oFeatures.bSort){R(a,a.oPreviousSearch)}else{if(a.oFeatures.bFilter){N(a,a.oPreviousSearch)}else{E(a);C(a)}}}function Ca(a){if(a.bAjaxDataGet){a.iDraw++;K(a,true);var b=Da(a);ha(a,b);a.fnServerData.call(a.oInstance,a.sAjaxSource,b,function(c){Ea(a,c)},a);return false}else{return true}}function Da(a){var b=a.aoColumns.length,c=[],d,f;c.push({name:"sEcho",value:a.iDraw});c.push({name:"iColumns",value:b});c.push({name:"sColumns",value:ka(a)});c.push({name:"iDisplayStart",value:a._iDisplayStart});c.push({name:"iDisplayLength",value:a.oFeatures.bPaginate!==false?a._iDisplayLength:-1});for(f=0;f<b;f++){d=a.aoColumns[f].mDataProp;c.push({name:"mDataProp_"+f,value:typeof d=="function"?"function":d})}if(a.oFeatures.bFilter!==false){c.push({name:"sSearch",value:a.oPreviousSearch.sSearch});c.push({name:"bRegex",value:a.oPreviousSearch.bRegex});for(f=0;f<b;f++){c.push({name:"sSearch_"+f,value:a.aoPreSearchCols[f].sSearch});c.push({name:"bRegex_"+f,value:a.aoPreSearchCols[f].bRegex});c.push({name:"bSearchable_"+f,value:a.aoColumns[f].bSearchable})}}if(a.oFeatures.bSort!==false){d=a.aaSortingFixed!==null?a.aaSortingFixed.length:0;var e=a.aaSorting.length;c.push({name:"iSortingCols",value:d+e});for(f=0;f<d;f++){c.push({name:"iSortCol_"+f,value:a.aaSortingFixed[f][0]});c.push({name:"sSortDir_"+f,value:a.aaSortingFixed[f][1]})}for(f=0;f<e;f++){c.push({name:"iSortCol_"+(f+d),value:a.aaSorting[f][0]});c.push({name:"sSortDir_"+(f+d),value:a.aaSorting[f][1]})}for(f=0;f<b;f++){c.push({name:"bSortable_"+f,value:a.aoColumns[f].bSortable})}}return c}function ha(a,b){for(var c=0,d=a.aoServerParams.length;c<d;c++){a.aoServerParams[c].fn.call(a.oInstance,b)}}function Ea(a,b){if(typeof b.sEcho!="undefined"){if(b.sEcho*1<a.iDraw){return}else{a.iDraw=b.sEcho*1}}if(!a.oScroll.bInfinite||a.oScroll.bInfinite&&(a.bSorted||a.bFiltered)){la(a)}a._iRecordsTotal=b.iTotalRecords;a._iRecordsDisplay=b.iTotalDisplayRecords;var c=ka(a);if(c=typeof b.sColumns!="undefined"&&c!==""&&b.sColumns!=c){var d=Fa(a,b.sColumns)}b=aa(a.sAjaxDataProp)(b);for(var f=0,e=b.length;f<e;f++){if(c){for(var h=[],j=0,k=a.aoColumns.length;j<k;j++){h.push(b[f][d[j]])}v(a,h)}else{v(a,b[f])}}a.aiDisplay=a.aiDisplayMaster.slice();a.bAjaxDataGet=false;C(a);a.bAjaxDataGet=true;K(a,false)}function Aa(a){var b=p.createElement("div");a.nTable.parentNode.insertBefore(b,a.nTable);a.nTableWrapper=p.createElement("div");a.nTableWrapper.className=a.oClasses.sWrapper;a.sTableId!==""&&a.nTableWrapper.setAttribute("id",a.sTableId+"_wrapper");a.nTableReinsertBefore=a.nTable.nextSibling;for(var c=a.nTableWrapper,d=a.sDom.split(""),f,e,h,j,k,m,u,r=0;r<d.length;r++){e=0;h=d[r];if(h=="<"){j=p.createElement("div");k=d[r+1];if(k=="'"||k=='"'){m="";for(u=2;d[r+u]!=k;){m+=d[r+u];u++}if(m=="H"){m="fg-toolbar ui-toolbar ui-widget-header ui-corner-tl ui-corner-tr ui-helper-clearfix"}else{if(m=="F"){m="fg-toolbar ui-toolbar ui-widget-header ui-corner-bl ui-corner-br ui-helper-clearfix"}}if(m.indexOf(".")!=-1){k=m.split(".");j.setAttribute("id",k[0].substr(1,k[0].length-1));j.className=k[1]}else{if(m.charAt(0)=="#"){j.setAttribute("id",m.substr(1,m.length-1))}else{j.className=m}}r+=u}c.appendChild(j);c=j}else{if(h==">"){c=c.parentNode}else{if(h=="l"&&a.oFeatures.bPaginate&&a.oFeatures.bLengthChange){f=Ga(a);e=1}else{if(h=="f"&&a.oFeatures.bFilter){f=Ha(a);e=1}else{if(h=="r"&&a.oFeatures.bProcessing){f=Ia(a);e=1}else{if(h=="t"){f=Ja(a);e=1}else{if(h=="i"&&a.oFeatures.bInfo){f=Ka(a);e=1}else{if(h=="p"&&a.oFeatures.bPaginate){f=La(a);e=1}else{if(n.aoFeatures.length!==0){j=n.aoFeatures;u=0;for(k=j.length;u<k;u++){if(h==j[u].cFeature){if(f=j[u].fnInit(a)){e=1}break}}}}}}}}}}}if(e==1&&f!==null){if(typeof a.aanFeatures[h]!="object"){a.aanFeatures[h]=[]}a.aanFeatures[h].push(f);c.appendChild(f)}}b.parentNode.replaceChild(a.nTableWrapper,b)}function Ja(a){if(a.oScroll.sX===""&&a.oScroll.sY===""){return a.nTable}var b=p.createElement("div"),c=p.createElement("div"),d=p.createElement("div"),f=p.createElement("div"),e=p.createElement("div"),h=p.createElement("div"),j=a.nTable.cloneNode(false),k=a.nTable.cloneNode(false),m=a.nTable.getElementsByTagName("thead")[0],u=a.nTable.getElementsByTagName("tfoot").length===0?null:a.nTable.getElementsByTagName("tfoot")[0],r=typeof g.bJQueryUI!="undefined"&&g.bJQueryUI?n.oJUIClasses:n.oStdClasses;c.appendChild(d);e.appendChild(h);f.appendChild(a.nTable);b.appendChild(c);b.appendChild(f);d.appendChild(j);j.appendChild(m);if(u!==null){b.appendChild(e);h.appendChild(k);k.appendChild(u)}b.className=r.sScrollWrapper;c.className=r.sScrollHead;d.className=r.sScrollHeadInner;f.className=r.sScrollBody;e.className=r.sScrollFoot;h.className=r.sScrollFootInner;if(a.oScroll.bAutoCss){c.style.overflow="hidden";c.style.position="relative";e.style.overflow="hidden";f.style.overflow="auto"}c.style.border="0";c.style.width="100%";e.style.border="0";d.style.width="150%";j.removeAttribute("id");j.style.marginLeft="0";a.nTable.style.marginLeft="0";if(u!==null){k.removeAttribute("id");k.style.marginLeft="0"}d=i(a.nTable).children("caption");h=0;for(k=d.length;h<k;h++){j.appendChild(d[h])}if(a.oScroll.sX!==""){c.style.width=q(a.oScroll.sX);f.style.width=q(a.oScroll.sX);if(u!==null){e.style.width=q(a.oScroll.sX)}i(f).scroll(function(){c.scrollLeft=this.scrollLeft;if(u!==null){e.scrollLeft=this.scrollLeft}})}if(a.oScroll.sY!==""){f.style.height=q(a.oScroll.sY)}a.aoDrawCallback.push({fn:Ma,sName:"scrolling"});a.oScroll.bInfinite&&i(f).scroll(function(){if(!a.bDrawing){if(i(this).scrollTop()+i(this).height()>i(a.nTable).height()-a.oScroll.iLoadGap){if(a.fnDisplayEnd()<a.fnRecordsDisplay()){ma(a,"next");E(a);C(a)}}}});a.nScrollHead=c;a.nScrollFoot=e;return b}function Ma(a){var b=a.nScrollHead.getElementsByTagName("div")[0],c=b.getElementsByTagName("table")[0],d=a.nTable.parentNode,f,e,h,j,k,m,u,r,H=[],L=a.nTFoot!==null?a.nScrollFoot.getElementsByTagName("div")[0]:null,T=a.nTFoot!==null?L.getElementsByTagName("table")[0]:null,B=i.browser.msie&&i.browser.version<=7;h=a.nTable.getElementsByTagName("thead");h.length>0&&a.nTable.removeChild(h[0]);if(a.nTFoot!==null){k=a.nTable.getElementsByTagName("tfoot");k.length>0&&a.nTable.removeChild(k[0])}h=a.nTHead.cloneNode(true);a.nTable.insertBefore(h,a.nTable.childNodes[0]);if(a.nTFoot!==null){k=a.nTFoot.cloneNode(true);a.nTable.insertBefore(k,a.nTable.childNodes[1])}if(a.oScroll.sX===""){d.style.width="100%";b.parentNode.style.width="100%"}var U=S(a,h);f=0;for(e=U.length;f<e;f++){u=Na(a,f);U[f].style.width=a.aoColumns[u].sWidth}a.nTFoot!==null&&P(function(I){I.style.width=""},k.getElementsByTagName("tr"));f=i(a.nTable).outerWidth();if(a.oScroll.sX===""){a.nTable.style.width="100%";if(B&&(d.scrollHeight>d.offsetHeight||i(d).css("overflow-y")=="scroll")){a.nTable.style.width=q(i(a.nTable).outerWidth()-a.oScroll.iBarWidth)}}else{if(a.oScroll.sXInner!==""){a.nTable.style.width=q(a.oScroll.sXInner)}else{if(f==i(d).width()&&i(d).height()<i(a.nTable).height()){a.nTable.style.width=q(f-a.oScroll.iBarWidth);if(i(a.nTable).outerWidth()>f-a.oScroll.iBarWidth){a.nTable.style.width=q(f)}}else{a.nTable.style.width=q(f)}}}f=i(a.nTable).outerWidth();e=a.nTHead.getElementsByTagName("tr");h=h.getElementsByTagName("tr");P(function(I,na){m=I.style;m.paddingTop="0";m.paddingBottom="0";m.borderTopWidth="0";m.borderBottomWidth="0";m.height=0;r=i(I).width();na.style.width=q(r);H.push(r)},h,e);i(h).height(0);if(a.nTFoot!==null){j=k.getElementsByTagName("tr");k=a.nTFoot.getElementsByTagName("tr");P(function(I,na){m=I.style;m.paddingTop="0";m.paddingBottom="0";m.borderTopWidth="0";m.borderBottomWidth="0";m.height=0;r=i(I).width();na.style.width=q(r);H.push(r)},j,k);i(j).height(0)}P(function(I){I.innerHTML="";I.style.width=q(H.shift())},h);a.nTFoot!==null&&P(function(I){I.innerHTML="";I.style.width=q(H.shift())},j);if(i(a.nTable).outerWidth()<f){j=d.scrollHeight>d.offsetHeight||i(d).css("overflow-y")=="scroll"?f+a.oScroll.iBarWidth:f;if(B&&(d.scrollHeight>d.offsetHeight||i(d).css("overflow-y")=="scroll")){a.nTable.style.width=q(j-a.oScroll.iBarWidth)}d.style.width=q(j);b.parentNode.style.width=q(j);if(a.nTFoot!==null){L.parentNode.style.width=q(j)}if(a.oScroll.sX===""){J(a,1,"The table cannot fit into the current element which will cause column misalignment. The table has been drawn at its minimum possible width.")}else{a.oScroll.sXInner!==""&&J(a,1,"The table cannot fit into the current element which will cause column misalignment. Increase the sScrollXInner value or remove it to allow automatic calculation")}}else{d.style.width=q("100%");b.parentNode.style.width=q("100%");if(a.nTFoot!==null){L.parentNode.style.width=q("100%")}}if(a.oScroll.sY===""){if(B){d.style.height=q(a.nTable.offsetHeight+a.oScroll.iBarWidth)}}if(a.oScroll.sY!==""&&a.oScroll.bCollapse){d.style.height=q(a.oScroll.sY);B=a.oScroll.sX!==""&&a.nTable.offsetWidth>d.offsetWidth?a.oScroll.iBarWidth:0;if(a.nTable.offsetHeight<d.offsetHeight){d.style.height=q(i(a.nTable).height()+B)}}B=i(a.nTable).outerWidth();c.style.width=q(B);b.style.width=q(B+a.oScroll.iBarWidth);if(a.nTFoot!==null){L.style.width=q(a.nTable.offsetWidth+a.oScroll.iBarWidth);T.style.width=q(a.nTable.offsetWidth)}if(a.bSorted||a.bFiltered){d.scrollTop=0}}function ea(a){if(a.oFeatures.bAutoWidth===false){return false}ga(a);for(var b=0,c=a.aoColumns.length;b<c;b++){a.aoColumns[b].nTh.style.width=a.aoColumns[b].sWidth}}function Ha(a){var b=a.oLanguage.sSearch;b=b.indexOf("_INPUT_")!==-1?b.replace("_INPUT_",'<input type="text" />'):b===""?'<input type="text" />':b+' <input type="text" />';var c=p.createElement("div");c.className=a.oClasses.sFilter;c.innerHTML="<label>"+b+"</label>";a.sTableId!==""&&typeof a.aanFeatures.f=="undefined"&&c.setAttribute("id",a.sTableId+"_filter");b=i("input",c);b.val(a.oPreviousSearch.sSearch.replace('"',"&quot;"));b.bind("keyup.DT",function(){for(var d=a.aanFeatures.f,f=0,e=d.length;f<e;f++){d[f]!=i(this).parents("div.dataTables_filter")[0]&&i("input",d[f]).val(this.value)}this.value!=a.oPreviousSearch.sSearch&&N(a,{sSearch:this.value,bRegex:a.oPreviousSearch.bRegex,bSmart:a.oPreviousSearch.bSmart})});b.bind("keypress.DT",function(d){if(d.keyCode==13){return false}});return c}function N(a,b,c){Oa(a,b.sSearch,c,b.bRegex,b.bSmart);for(b=0;b<a.aoPreSearchCols.length;b++){Pa(a,a.aoPreSearchCols[b].sSearch,b,a.aoPreSearchCols[b].bRegex,a.aoPreSearchCols[b].bSmart)}n.afnFiltering.length!==0&&Qa(a);a.bFiltered=true;i(a.oInstance).trigger("filter",a);a._iDisplayStart=0;E(a);C(a);oa(a,0)}function Qa(a){for(var b=n.afnFiltering,c=0,d=b.length;c<d;c++){for(var f=0,e=0,h=a.aiDisplay.length;e<h;e++){var j=a.aiDisplay[e-f];if(!b[c](a,fa(a,j,"filter"),j)){a.aiDisplay.splice(e-f,1);f++}}}}function Pa(a,b,c,d,f){if(b!==""){var e=0;b=pa(b,d,f);for(d=a.aiDisplay.length-1;d>=0;d--){f=qa(G(a,a.aiDisplay[d],c,"filter"),a.aoColumns[c].sType);if(!b.test(f)){a.aiDisplay.splice(d,1);e++}}}}function Oa(a,b,c,d,f){var e=pa(b,d,f);if(typeof c=="undefined"||c===null){c=0}if(n.afnFiltering.length!==0){c=1}if(b.length<=0){a.aiDisplay.splice(0,a.aiDisplay.length);a.aiDisplay=a.aiDisplayMaster.slice()}else{if(a.aiDisplay.length==a.aiDisplayMaster.length||a.oPreviousSearch.sSearch.length>b.length||c==1||b.indexOf(a.oPreviousSearch.sSearch)!==0){a.aiDisplay.splice(0,a.aiDisplay.length);oa(a,1);for(c=0;c<a.aiDisplayMaster.length;c++){e.test(a.asDataSearch[c])&&a.aiDisplay.push(a.aiDisplayMaster[c])}}else{var h=0;for(c=0;c<a.asDataSearch.length;c++){if(!e.test(a.asDataSearch[c])){a.aiDisplay.splice(c-h,1);h++}}}}a.oPreviousSearch.sSearch=b;a.oPreviousSearch.bRegex=d;a.oPreviousSearch.bSmart=f}function oa(a,b){if(!a.oFeatures.bServerSide){a.asDataSearch.splice(0,a.asDataSearch.length);b=typeof b!="undefined"&&b==1?a.aiDisplayMaster:a.aiDisplay;for(var c=0,d=b.length;c<d;c++){a.asDataSearch[c]=ra(a,fa(a,b[c],"filter"))}}}function ra(a,b){var c="";if(typeof a.__nTmpFilter=="undefined"){a.__nTmpFilter=p.createElement("div")}for(var d=a.__nTmpFilter,f=0,e=a.aoColumns.length;f<e;f++){if(a.aoColumns[f].bSearchable){c+=qa(b[f],a.aoColumns[f].sType)+"  "}}if(c.indexOf("&")!==-1){d.innerHTML=c;c=d.textContent?d.textContent:d.innerText;c=c.replace(/\n/g," ").replace(/\r/g,"")}return c}function pa(a,b,c){if(c){a=b?a.split(" "):sa(a).split(" ");a="^(?=.*?"+a.join(")(?=.*?")+").*$";return new RegExp(a,"i")}else{a=b?a:sa(a);return new RegExp(a,"i")}}function qa(a,b){if(typeof n.ofnSearch[b]=="function"){return n.ofnSearch[b](a)}else{if(b=="html"){return a.replace(/\n/g," ").replace(/<.*?>/g,"")}else{if(typeof a=="string"){return a.replace(/\n/g," ")}else{if(a===null){return""}}}}return a}function R(a,b){var c,d,f,e,h=[],j=[],k=n.oSort;d=a.aoData;var m=a.aoColumns;if(!a.oFeatures.bServerSide&&(a.aaSorting.length!==0||a.aaSortingFixed!==null)){h=a.aaSortingFixed!==null?a.aaSortingFixed.concat(a.aaSorting):a.aaSorting.slice();for(c=0;c<h.length;c++){var u=h[c][0];f=ta(a,u);e=a.aoColumns[u].sSortDataType;if(typeof n.afnSortData[e]!="undefined"){var r=n.afnSortData[e](a,u,f);f=0;for(e=d.length;f<e;f++){O(a,f,u,r[f])}}}c=0;for(d=a.aiDisplayMaster.length;c<d;c++){j[a.aiDisplayMaster[c]]=c}var H=h.length;a.aiDisplayMaster.sort(function(L,T){var B,U;for(c=0;c<H;c++){B=m[h[c][0]].iDataSort;U=m[B].sType;B=k[(U?U:"string")+"-"+h[c][1]](G(a,L,B,"sort"),G(a,T,B,"sort"));if(B!==0){return B}}return k["numeric-asc"](j[L],j[T])})}if((typeof b=="undefined"||b)&&!a.oFeatures.bDeferRender){V(a)}a.bSorted=true;i(a.oInstance).trigger("sort",a);if(a.oFeatures.bFilter){N(a,a.oPreviousSearch,1)}else{a.aiDisplay=a.aiDisplayMaster.slice();a._iDisplayStart=0;E(a);C(a)}}function ja(a,b,c,d){i(b).bind("click.DT",function(f){if(a.aoColumns[c].bSortable!==false){var e=function(){var h,j;if(f.shiftKey){for(var k=false,m=0;m<a.aaSorting.length;m++){if(a.aaSorting[m][0]==c){k=true;h=a.aaSorting[m][0];j=a.aaSorting[m][2]+1;if(typeof a.aoColumns[h].asSorting[j]=="undefined"){a.aaSorting.splice(m,1)}else{a.aaSorting[m][1]=a.aoColumns[h].asSorting[j];a.aaSorting[m][2]=j}break}}k===false&&a.aaSorting.push([c,a.aoColumns[c].asSorting[0],0])}else{if(a.aaSorting.length==1&&a.aaSorting[0][0]==c){h=a.aaSorting[0][0];j=a.aaSorting[0][2]+1;if(typeof a.aoColumns[h].asSorting[j]=="undefined"){j=0}a.aaSorting[0][1]=a.aoColumns[h].asSorting[j];a.aaSorting[0][2]=j}else{a.aaSorting.splice(0,a.aaSorting.length);a.aaSorting.push([c,a.aoColumns[c].asSorting[0],0])}}R(a)};if(a.oFeatures.bProcessing){K(a,true);setTimeout(function(){e();a.oFeatures.bServerSide||K(a,false)},0)}else{e()}typeof d=="function"&&d(a)}})}function V(a){var b,c,d,f,e,h=a.aoColumns.length,j=a.oClasses;for(b=0;b<h;b++){a.aoColumns[b].bSortable&&i(a.aoColumns[b].nTh).removeClass(j.sSortAsc+" "+j.sSortDesc+" "+a.aoColumns[b].sSortingClass)}f=a.aaSortingFixed!==null?a.aaSortingFixed.concat(a.aaSorting):a.aaSorting.slice();for(b=0;b<a.aoColumns.length;b++){if(a.aoColumns[b].bSortable){e=a.aoColumns[b].sSortingClass;d=-1;for(c=0;c<f.length;c++){if(f[c][0]==b){e=f[c][1]=="asc"?j.sSortAsc:j.sSortDesc;d=c;break}}i(a.aoColumns[b].nTh).addClass(e);if(a.bJUI){c=i("span",a.aoColumns[b].nTh);c.removeClass(j.sSortJUIAsc+" "+j.sSortJUIDesc+" "+j.sSortJUI+" "+j.sSortJUIAscAllowed+" "+j.sSortJUIDescAllowed);c.addClass(d==-1?a.aoColumns[b].sSortingClassJUI:f[d][1]=="asc"?j.sSortJUIAsc:j.sSortJUIDesc)}}else{i(a.aoColumns[b].nTh).addClass(a.aoColumns[b].sSortingClass)}}e=j.sSortColumn;if(a.oFeatures.bSort&&a.oFeatures.bSortClasses){d=Q(a);if(a.oFeatures.bDeferRender){i(d).removeClass(e+"1 "+e+"2 "+e+"3")}else{if(d.length>=h){for(b=0;b<h;b++){if(d[b].className.indexOf(e+"1")!=-1){c=0;for(a=d.length/h;c<a;c++){d[h*c+b].className=i.trim(d[h*c+b].className.replace(e+"1",""))}}else{if(d[b].className.indexOf(e+"2")!=-1){c=0;for(a=d.length/h;c<a;c++){d[h*c+b].className=i.trim(d[h*c+b].className.replace(e+"2",""))}}else{if(d[b].className.indexOf(e+"3")!=-1){c=0;for(a=d.length/h;c<a;c++){d[h*c+b].className=i.trim(d[h*c+b].className.replace(" "+e+"3",""))}}}}}}}j=1;var k;for(b=0;b<f.length;b++){k=parseInt(f[b][0],10);c=0;for(a=d.length/h;c<a;c++){d[h*c+k].className+=" "+e+j}j<3&&j++}}}function La(a){if(a.oScroll.bInfinite){return null}var b=p.createElement("div");b.className=a.oClasses.sPaging+a.sPaginationType;n.oPagination[a.sPaginationType].fnInit(a,b,function(c){E(c);C(c)});typeof a.aanFeatures.p=="undefined"&&a.aoDrawCallback.push({fn:function(c){n.oPagination[c.sPaginationType].fnUpdate(c,function(d){E(d);C(d)})},sName:"pagination"});return b}function ma(a,b){var c=a._iDisplayStart;if(b=="first"){a._iDisplayStart=0}else{if(b=="previous"){a._iDisplayStart=a._iDisplayLength>=0?a._iDisplayStart-a._iDisplayLength:0;if(a._iDisplayStart<0){a._iDisplayStart=0}}else{if(b=="next"){if(a._iDisplayLength>=0){if(a._iDisplayStart+a._iDisplayLength<a.fnRecordsDisplay()){a._iDisplayStart+=a._iDisplayLength}}else{a._iDisplayStart=0}}else{if(b=="last"){if(a._iDisplayLength>=0){b=parseInt((a.fnRecordsDisplay()-1)/a._iDisplayLength,10)+1;a._iDisplayStart=(b-1)*a._iDisplayLength}else{a._iDisplayStart=0}}else{J(a,0,"Unknown paging action: "+b)}}}}i(a.oInstance).trigger("page",a);return c!=a._iDisplayStart}function Ka(a){var b=p.createElement("div");b.className=a.oClasses.sInfo;if(typeof a.aanFeatures.i=="undefined"){a.aoDrawCallback.push({fn:Ra,sName:"information"});a.sTableId!==""&&b.setAttribute("id",a.sTableId+"_info")}return b}function Ra(a){if(!(!a.oFeatures.bInfo||a.aanFeatures.i.length===0)){var b=a._iDisplayStart+1,c=a.fnDisplayEnd(),d=a.fnRecordsTotal(),f=a.fnRecordsDisplay(),e=a.fnFormatNumber(b),h=a.fnFormatNumber(c),j=a.fnFormatNumber(d),k=a.fnFormatNumber(f);if(a.oScroll.bInfinite){e=a.fnFormatNumber(1)}e=a.fnRecordsDisplay()===0&&a.fnRecordsDisplay()==a.fnRecordsTotal()?a.oLanguage.sInfoEmpty+a.oLanguage.sInfoPostFix:a.fnRecordsDisplay()===0?a.oLanguage.sInfoEmpty+" "+a.oLanguage.sInfoFiltered.replace("_MAX_",j)+a.oLanguage.sInfoPostFix:a.fnRecordsDisplay()==a.fnRecordsTotal()?a.oLanguage.sInfo.replace("_START_",e).replace("_END_",h).replace("_TOTAL_",k)+a.oLanguage.sInfoPostFix:a.oLanguage.sInfo.replace("_START_",e).replace("_END_",h).replace("_TOTAL_",k)+" "+a.oLanguage.sInfoFiltered.replace("_MAX_",a.fnFormatNumber(a.fnRecordsTotal()))+a.oLanguage.sInfoPostFix;if(a.oLanguage.fnInfoCallback!==null){e=a.oLanguage.fnInfoCallback(a,b,c,d,f,e)}a=a.aanFeatures.i;b=0;for(c=a.length;b<c;b++){i(a[b]).html(e)}}}function Ga(a){if(a.oScroll.bInfinite){return null}var b='<select size="1" '+(a.sTableId===""?"":'name="'+a.sTableId+'_length"')+">",c,d;if(a.aLengthMenu.length==2&&typeof a.aLengthMenu[0]=="object"&&typeof a.aLengthMenu[1]=="object"){c=0;for(d=a.aLengthMenu[0].length;c<d;c++){b+='<option value="'+a.aLengthMenu[0][c]+'">'+a.aLengthMenu[1][c]+"</option>"}}else{c=0;for(d=a.aLengthMenu.length;c<d;c++){b+='<option value="'+a.aLengthMenu[c]+'">'+a.aLengthMenu[c]+"</option>"}}b+="</select>";var f=p.createElement("div");a.sTableId!==""&&typeof a.aanFeatures.l=="undefined"&&f.setAttribute("id",a.sTableId+"_length");f.className=a.oClasses.sLength;f.innerHTML="<label>"+a.oLanguage.sLengthMenu.replace("_MENU_",b)+"</label>";i('select option[value="'+a._iDisplayLength+'"]',f).attr("selected",true);i("select",f).bind("change.DT",function(){var e=i(this).val(),h=a.aanFeatures.l;c=0;for(d=h.length;c<d;c++){h[c]!=this.parentNode&&i("select",h[c]).val(e)}a._iDisplayLength=parseInt(e,10);E(a);if(a.fnDisplayEnd()==a.fnRecordsDisplay()){a._iDisplayStart=a.fnDisplayEnd()-a._iDisplayLength;if(a._iDisplayStart<0){a._iDisplayStart=0}}if(a._iDisplayLength==-1){a._iDisplayStart=0}C(a)});return f}function Ia(a){var b=p.createElement("div");a.sTableId!==""&&typeof a.aanFeatures.r=="undefined"&&b.setAttribute("id",a.sTableId+"_processing");b.innerHTML=a.oLanguage.sProcessing;b.className=a.oClasses.sProcessing;a.nTable.parentNode.insertBefore(b,a.nTable);return b}function K(a,b){if(a.oFeatures.bProcessing){a=a.aanFeatures.r;for(var c=0,d=a.length;c<d;c++){a[c].style.visibility=b?"visible":"hidden"}}}function Na(a,b){for(var c=-1,d=0;d<a.aoColumns.length;d++){a.aoColumns[d].bVisible===true&&c++;if(c==b){return d}}return null}function ta(a,b){for(var c=-1,d=0;d<a.aoColumns.length;d++){a.aoColumns[d].bVisible===true&&c++;if(d==b){return a.aoColumns[d].bVisible===true?c:null}}return null}function W(a,b){var c,d;c=a._iDisplayStart;for(d=a._iDisplayEnd;c<d;c++){if(a.aoData[a.aiDisplay[c]].nTr==b){return a.aiDisplay[c]}}c=0;for(d=a.aoData.length;c<d;c++){if(a.aoData[c].nTr==b){return c}}return null}function Z(a){for(var b=0,c=0;c<a.aoColumns.length;c++){a.aoColumns[c].bVisible===true&&b++}return b}function E(a){a._iDisplayEnd=a.oFeatures.bPaginate===false?a.aiDisplay.length:a._iDisplayStart+a._iDisplayLength>a.aiDisplay.length||a._iDisplayLength==-1?a.aiDisplay.length:a._iDisplayStart+a._iDisplayLength}function Sa(a,b){if(!a||a===null||a===""){return 0}if(typeof b=="undefined"){b=p.getElementsByTagName("body")[0]}var c=p.createElement("div");c.style.width=q(a);b.appendChild(c);a=c.offsetWidth;b.removeChild(c);return a}function ga(a){var b=0,c,d=0,f=a.aoColumns.length,e,h=i("th",a.nTHead);for(e=0;e<f;e++){if(a.aoColumns[e].bVisible){d++;if(a.aoColumns[e].sWidth!==null){c=Sa(a.aoColumns[e].sWidthOrig,a.nTable.parentNode);if(c!==null){a.aoColumns[e].sWidth=q(c)}b++}}}if(f==h.length&&b===0&&d==f&&a.oScroll.sX===""&&a.oScroll.sY===""){for(e=0;e<a.aoColumns.length;e++){c=i(h[e]).width();if(c!==null){a.aoColumns[e].sWidth=q(c)}}}else{b=a.nTable.cloneNode(false);e=a.nTHead.cloneNode(true);d=p.createElement("tbody");c=p.createElement("tr");b.removeAttribute("id");b.appendChild(e);if(a.nTFoot!==null){b.appendChild(a.nTFoot.cloneNode(true));P(function(k){k.style.width=""},b.getElementsByTagName("tr"))}b.appendChild(d);d.appendChild(c);d=i("thead th",b);if(d.length===0){d=i("tbody tr:eq(0)>td",b)}h=S(a,e);for(e=d=0;e<f;e++){var j=a.aoColumns[e];if(j.bVisible&&j.sWidthOrig!==null&&j.sWidthOrig!==""){h[e-d].style.width=q(j.sWidthOrig)}else{if(j.bVisible){h[e-d].style.width=""}else{d++}}}for(e=0;e<f;e++){if(a.aoColumns[e].bVisible){d=Ta(a,e);if(d!==null){d=d.cloneNode(true);if(a.aoColumns[e].sContentPadding!==""){d.innerHTML+=a.aoColumns[e].sContentPadding}c.appendChild(d)}}}f=a.nTable.parentNode;f.appendChild(b);if(a.oScroll.sX!==""&&a.oScroll.sXInner!==""){b.style.width=q(a.oScroll.sXInner)}else{if(a.oScroll.sX!==""){b.style.width="";if(i(b).width()<f.offsetWidth){b.style.width=q(f.offsetWidth)}}else{if(a.oScroll.sY!==""){b.style.width=q(f.offsetWidth)}}}b.style.visibility="hidden";Ua(a,b);f=i("tbody tr:eq(0)",b).children();if(f.length===0){f=S(a,i("thead",b)[0])}if(a.oScroll.sX!==""){for(e=d=c=0;e<a.aoColumns.length;e++){if(a.aoColumns[e].bVisible){c+=a.aoColumns[e].sWidthOrig===null?i(f[d]).outerWidth():parseInt(a.aoColumns[e].sWidth.replace("px",""),10)+(i(f[d]).outerWidth()-i(f[d]).width());d++}}b.style.width=q(c);a.nTable.style.width=q(c)}for(e=d=0;e<a.aoColumns.length;e++){if(a.aoColumns[e].bVisible){c=i(f[d]).width();if(c!==null&&c>0){a.aoColumns[e].sWidth=q(c)}d++}}a.nTable.style.width=q(i(b).outerWidth());b.parentNode.removeChild(b)}}function Ua(a,b){if(a.oScroll.sX===""&&a.oScroll.sY!==""){i(b).width();b.style.width=q(i(b).outerWidth()-a.oScroll.iBarWidth)}else{if(a.oScroll.sX!==""){b.style.width=q(i(b).outerWidth())}}}function Ta(a,b){var c=Va(a,b);if(c<0){return null}if(a.aoData[c].nTr===null){var d=p.createElement("td");d.innerHTML=G(a,c,b,"");return d}return Q(a,c)[b]}function Va(a,b){for(var c=-1,d=-1,f=0;f<a.aoData.length;f++){var e=G(a,f,b,"display")+"";e=e.replace(/<.*?>/g,"");if(e.length>c){c=e.length;d=f}}return d}function q(a){if(a===null){return"0px"}if(typeof a=="number"){if(a<0){return"0px"}return a+"px"}var b=a.charCodeAt(a.length-1);if(b<48||b>57){return a}return a+"px"}function Za(a,b){if(a.length!=b.length){return 1}for(var c=0;c<a.length;c++){if(a[c]!=b[c]){return 2}}return 0}function ia(a){for(var b=n.aTypes,c=b.length,d=0;d<c;d++){var f=b[d](a);if(f!==null){return f}}return"string"}function A(a){for(var b=0;b<D.length;b++){if(D[b].nTable==a){return D[b]}}return null}function ca(a){for(var b=[],c=a.aoData.length,d=0;d<c;d++){b.push(a.aoData[d]._aData)}return b}function ba(a){for(var b=[],c=0,d=a.aoData.length;c<d;c++){a.aoData[c].nTr!==null&&b.push(a.aoData[c].nTr)}return b}function Q(a,b){var c=[],d,f,e,h,j;f=0;var k=a.aoData.length;if(typeof b!="undefined"){f=b;k=b+1}for(f=f;f<k;f++){j=a.aoData[f];if(j.nTr!==null){b=[];e=0;for(h=j.nTr.childNodes.length;e<h;e++){d=j.nTr.childNodes[e].nodeName.toLowerCase();if(d=="td"||d=="th"){b.push(j.nTr.childNodes[e])}}e=d=0;for(h=a.aoColumns.length;e<h;e++){if(a.aoColumns[e].bVisible){c.push(b[e-d])}else{c.push(j._anHidden[e]);d++}}}}return c}function sa(a){return a.replace(new RegExp("(\\/|\\.|\\*|\\+|\\?|\\||\\(|\\)|\\[|\\]|\\{|\\}|\\\\|\\$|\\^)","g"),"\\$1")}function ua(a,b){for(var c=-1,d=0,f=a.length;d<f;d++){if(a[d]==b){c=d}else{a[d]>b&&a[d]--}}c!=-1&&a.splice(c,1)}function Fa(a,b){b=b.split(",");for(var c=[],d=0,f=a.aoColumns.length;d<f;d++){for(var e=0;e<f;e++){if(a.aoColumns[d].sName==b[e]){c.push(e);break}}}return c}function ka(a){for(var b="",c=0,d=a.aoColumns.length;c<d;c++){b+=a.aoColumns[c].sName+","}if(b.length==d){return""}return b.slice(0,-1)}function J(a,b,c){a=a.sTableId===""?"DataTables warning: "+c:"DataTables warning (table id = '"+a.sTableId+"'): "+c;if(b===0){if(n.sErrMode=="alert"){alert(a)}else{throw a}}else{typeof console!="undefined"&&typeof console.log!="undefined"&&console.log(a)}}function la(a){a.aoData.splice(0,a.aoData.length);a.aiDisplayMaster.splice(0,a.aiDisplayMaster.length);a.aiDisplay.splice(0,a.aiDisplay.length);E(a)}function va(a){if(!(!a.oFeatures.bStateSave||typeof a.bDestroying!="undefined")){var b,c,d,f="{";f+='"iCreate":'+(new Date).getTime()+",";f+='"iStart":'+(a.oScroll.bInfinite?0:a._iDisplayStart)+",";f+='"iEnd":'+(a.oScroll.bInfinite?a._iDisplayLength:a._iDisplayEnd)+",";f+='"iLength":'+a._iDisplayLength+",";f+='"sFilter":"'+encodeURIComponent(a.oPreviousSearch.sSearch)+'",';f+='"sFilterEsc":'+!a.oPreviousSearch.bRegex+",";f+='"aaSorting":[ ';for(b=0;b<a.aaSorting.length;b++){f+="["+a.aaSorting[b][0]+',"'+a.aaSorting[b][1]+'"],'}f=f.substring(0,f.length-1);f+="],";f+='"aaSearchCols":[ ';for(b=0;b<a.aoPreSearchCols.length;b++){f+='["'+encodeURIComponent(a.aoPreSearchCols[b].sSearch)+'",'+!a.aoPreSearchCols[b].bRegex+"],"}f=f.substring(0,f.length-1);f+="],";f+='"abVisCols":[ ';for(b=0;b<a.aoColumns.length;b++){f+=a.aoColumns[b].bVisible+","}f=f.substring(0,f.length-1);f+="]";b=0;for(c=a.aoStateSave.length;b<c;b++){d=a.aoStateSave[b].fn(a,f);if(d!==""){f=d}}f+="}";Wa(a.sCookiePrefix+a.sInstance,f,a.iCookieDuration,a.sCookiePrefix,a.fnCookieCallback)}}function Xa(a,b){if(a.oFeatures.bStateSave){var c,d,f;d=wa(a.sCookiePrefix+a.sInstance);if(d!==null&&d!==""){try{c=typeof i.parseJSON=="function"?i.parseJSON(d.replace(/'/g,'"')):eval("("+d+")")}catch(e){return}d=0;for(f=a.aoStateLoad.length;d<f;d++){if(!a.aoStateLoad[d].fn(a,c)){return}}a.oLoadedState=i.extend(true,{},c);a._iDisplayStart=c.iStart;a.iInitDisplayStart=c.iStart;a._iDisplayEnd=c.iEnd;a._iDisplayLength=c.iLength;a.oPreviousSearch.sSearch=decodeURIComponent(c.sFilter);a.aaSorting=c.aaSorting.slice();a.saved_aaSorting=c.aaSorting.slice();if(typeof c.sFilterEsc!="undefined"){a.oPreviousSearch.bRegex=!c.sFilterEsc}if(typeof c.aaSearchCols!="undefined"){for(d=0;d<c.aaSearchCols.length;d++){a.aoPreSearchCols[d]={sSearch:decodeURIComponent(c.aaSearchCols[d][0]),bRegex:!c.aaSearchCols[d][1]}}}if(typeof c.abVisCols!="undefined"){b.saved_aoColumns=[];for(d=0;d<c.abVisCols.length;d++){b.saved_aoColumns[d]={};b.saved_aoColumns[d].bVisible=c.abVisCols[d]}}}}}function Wa(a,b,c,d,f){var e=new Date;e.setTime(e.getTime()+c*1000);c=za.location.pathname.split("/");a=a+"_"+c.pop().replace(/[\/:]/g,"").toLowerCase();var h;if(f!==null){h=typeof i.parseJSON=="function"?i.parseJSON(b):eval("("+b+")");b=f(a,h,e.toGMTString(),c.join("/")+"/")}else{b=a+"="+encodeURIComponent(b)+"; expires="+e.toGMTString()+"; path="+c.join("/")+"/"}f="";e=9999999999999;if((wa(a)!==null?p.cookie.length:b.length+p.cookie.length)+10>4096){a=p.cookie.split(";");for(var j=0,k=a.length;j<k;j++){if(a[j].indexOf(d)!=-1){var m=a[j].split("=");try{h=eval("("+decodeURIComponent(m[1])+")")}catch(u){continue}if(typeof h.iCreate!="undefined"&&h.iCreate<e){f=m[0];e=h.iCreate}}}if(f!==""){p.cookie=f+"=; expires=Thu, 01-Jan-1970 00:00:01 GMT; path="+c.join("/")+"/"}}p.cookie=b}function wa(a){var b=za.location.pathname.split("/");a=a+"_"+b[b.length-1].replace(/[\/:]/g,"").toLowerCase()+"=";b=p.cookie.split(";");for(var c=0;c<b.length;c++){for(var d=b[c];d.charAt(0)==" ";){d=d.substring(1,d.length)}if(d.indexOf(a)===0){return decodeURIComponent(d.substring(a.length,d.length))}}return null}function Y(a,b){b=i(b).children("tr");var c,d,f,e,h,j,k,m,u=function(L,T,B){for(;typeof L[T][B]!="undefined";){B++}return B};a.splice(0,a.length);d=0;for(j=b.length;d<j;d++){a.push([])}d=0;for(j=b.length;d<j;d++){f=0;for(k=b[d].childNodes.length;f<k;f++){c=b[d].childNodes[f];if(c.nodeName.toUpperCase()=="TD"||c.nodeName.toUpperCase()=="TH"){var r=c.getAttribute("colspan")*1,H=c.getAttribute("rowspan")*1;r=!r||r===0||r===1?1:r;H=!H||H===0||H===1?1:H;m=u(a,d,0);for(h=0;h<r;h++){for(e=0;e<H;e++){a[d+e][m+h]={cell:c,unique:r==1?true:false};a[d+e].nTr=b[d]}}}}}}function S(a,b,c){var d=[];if(typeof c=="undefined"){c=a.aoHeader;if(typeof b!="undefined"){c=[];Y(c,b)}}b=0;for(var f=c.length;b<f;b++){for(var e=0,h=c[b].length;e<h;e++){if(c[b][e].unique&&(typeof d[e]=="undefined"||!a.bSortCellsTop)){d[e]=c[b][e].cell}}}return d}function Ya(){var a=p.createElement("p"),b=a.style;b.width="100%";b.height="200px";b.padding="0px";var c=p.createElement("div");b=c.style;b.position="absolute";b.top="0px";b.left="0px";b.visibility="hidden";b.width="200px";b.height="150px";b.padding="0px";b.overflow="hidden";c.appendChild(a);p.body.appendChild(c);b=a.offsetWidth;c.style.overflow="scroll";a=a.offsetWidth;if(b==a){a=c.clientWidth}p.body.removeChild(c);return b-a}function P(a,b,c){for(var d=0,f=b.length;d<f;d++){for(var e=0,h=b[d].childNodes.length;e<h;e++){if(b[d].childNodes[e].nodeType==1){typeof c!="undefined"?a(b[d].childNodes[e],c[d].childNodes[e]):a(b[d].childNodes[e])}}}}function o(a,b,c,d){if(typeof d=="undefined"){d=c}if(typeof b[c]!="undefined"){a[d]=b[c]}}function fa(a,b,c){for(var d=[],f=0,e=a.aoColumns.length;f<e;f++){d.push(G(a,b,f,c))}return d}function G(a,b,c,d){var f=a.aoColumns[c];if((c=f.fnGetData(a.aoData[b]._aData))===undefined){if(a.iDrawError!=a.iDraw&&f.sDefaultContent===null){J(a,0,"Requested unknown parameter '"+f.mDataProp+"' from the data source for row "+b);a.iDrawError=a.iDraw}return f.sDefaultContent}if(c===null&&f.sDefaultContent!==null){c=f.sDefaultContent}else{if(typeof c=="function"){return c()}}if(d=="display"&&c===null){return""}return c}function O(a,b,c,d){a.aoColumns[c].fnSetData(a.aoData[b]._aData,d)}function aa(a){if(a===null){return function(){return null}}else{if(typeof a=="function"){return function(c){return a(c)}}else{if(typeof a=="string"&&a.indexOf(".")!=-1){var b=a.split(".");return b.length==2?function(c){return c[b[0]][b[1]]}:b.length==3?function(c){return c[b[0]][b[1]][b[2]]}:function(c){for(var d=0,f=b.length;d<f;d++){c=c[b[d]]}return c}}else{return function(c){return c[a]}}}}}function Ba(a){if(a===null){return function(){}}else{if(typeof a=="function"){return function(c,d){return a(c,d)}}else{if(typeof a=="string"&&a.indexOf(".")!=-1){var b=a.split(".");return b.length==2?function(c,d){c[b[0]][b[1]]=d}:b.length==3?function(c,d){c[b[0]][b[1]][b[2]]=d}:function(c,d){for(var f=0,e=b.length-1;f<e;f++){c=c[b[f]]}c[b[b.length-1]]=d}}else{return function(c,d){c[a]=d}}}}}this.oApi={};this.fnDraw=function(a){var b=A(this[n.iApiIndex]);if(typeof a!="undefined"&&a===false){E(b);C(b)}else{da(b)}};this.fnFilter=function(a,b,c,d,f){var e=A(this[n.iApiIndex]);if(e.oFeatures.bFilter){if(typeof c=="undefined"){c=false}if(typeof d=="undefined"){d=true}if(typeof f=="undefined"){f=true}if(typeof b=="undefined"||b===null){N(e,{sSearch:a,bRegex:c,bSmart:d},1);if(f&&typeof e.aanFeatures.f!="undefined"){b=e.aanFeatures.f;c=0;for(d=b.length;c<d;c++){i("input",b[c]).val(a)}}}else{e.aoPreSearchCols[b].sSearch=a;e.aoPreSearchCols[b].bRegex=c;e.aoPreSearchCols[b].bSmart=d;N(e,e.oPreviousSearch,1)}}};this.fnSettings=function(){return A(this[n.iApiIndex])};this.fnVersionCheck=n.fnVersionCheck;this.fnSort=function(a){var b=A(this[n.iApiIndex]);b.aaSorting=a;R(b)};this.fnSortListener=function(a,b,c){ja(A(this[n.iApiIndex]),a,b,c)};this.fnAddData=function(a,b){if(a.length===0){return[]}var c=[],d,f=A(this[n.iApiIndex]);if(typeof a[0]=="object"){for(var e=0;e<a.length;e++){d=v(f,a[e]);if(d==-1){return c}c.push(d)}}else{d=v(f,a);if(d==-1){return c}c.push(d)}f.aiDisplay=f.aiDisplayMaster.slice();if(typeof b=="undefined"||b){da(f)}return c};this.fnDeleteRow=function(a,b,c){var d=A(this[n.iApiIndex]);a=typeof a=="object"?W(d,a):a;var f=d.aoData.splice(a,1),e=i.inArray(a,d.aiDisplay);d.asDataSearch.splice(e,1);ua(d.aiDisplayMaster,a);ua(d.aiDisplay,a);typeof b=="function"&&b.call(this,d,f);if(d._iDisplayStart>=d.aiDisplay.length){d._iDisplayStart-=d._iDisplayLength;if(d._iDisplayStart<0){d._iDisplayStart=0}}if(typeof c=="undefined"||c){E(d);C(d)}return f};this.fnClearTable=function(a){var b=A(this[n.iApiIndex]);la(b);if(typeof a=="undefined"||a){C(b)}};this.fnOpen=function(a,b,c){var d=A(this[n.iApiIndex]);this.fnClose(a);var f=p.createElement("tr"),e=p.createElement("td");f.appendChild(e);e.className=c;e.colSpan=Z(d);if(typeof b.jquery!="undefined"||typeof b=="object"){e.appendChild(b)}else{e.innerHTML=b}b=i("tr",d.nTBody);i.inArray(a,b)!=-1&&i(f).insertAfter(a);d.aoOpenRows.push({nTr:f,nParent:a});return f};this.fnClose=function(a){for(var b=A(this[n.iApiIndex]),c=0;c<b.aoOpenRows.length;c++){if(b.aoOpenRows[c].nParent==a){(a=b.aoOpenRows[c].nTr.parentNode)&&a.removeChild(b.aoOpenRows[c].nTr);b.aoOpenRows.splice(c,1);return 0}}return 1};this.fnGetData=function(a,b){var c=A(this[n.iApiIndex]);if(typeof a!="undefined"){a=typeof a=="object"?W(c,a):a;if(typeof b!="undefined"){return G(c,a,b,"")}return typeof c.aoData[a]!="undefined"?c.aoData[a]._aData:null}return ca(c)};this.fnGetNodes=function(a){var b=A(this[n.iApiIndex]);if(typeof a!="undefined"){return typeof b.aoData[a]!="undefined"?b.aoData[a].nTr:null}return ba(b)};this.fnGetPosition=function(a){var b=A(this[n.iApiIndex]),c=a.nodeName.toUpperCase();if(c=="TR"){return W(b,a)}else{if(c=="TD"||c=="TH"){c=W(b,a.parentNode);for(var d=Q(b,c),f=0;f<b.aoColumns.length;f++){if(d[f]==a){return[c,ta(b,f),f]}}}}return null};this.fnUpdate=function(a,b,c,d,f){var e=A(this[n.iApiIndex]);b=typeof b=="object"?W(e,b):b;if(i.isArray(a)&&typeof a=="object"){e.aoData[b]._aData=a.slice();for(c=0;c<e.aoColumns.length;c++){this.fnUpdate(G(e,b,c),b,c,false,false)}}else{if(a!==null&&typeof a=="object"){e.aoData[b]._aData=i.extend(true,{},a);for(c=0;c<e.aoColumns.length;c++){this.fnUpdate(G(e,b,c),b,c,false,false)}}else{a=a;O(e,b,c,a);if(e.aoColumns[c].fnRender!==null){a=e.aoColumns[c].fnRender({iDataRow:b,iDataColumn:c,aData:e.aoData[b]._aData,oSettings:e});e.aoColumns[c].bUseRendered&&O(e,b,c,a)}if(e.aoData[b].nTr!==null){Q(e,b)[c].innerHTML=a}}}c=i.inArray(b,e.aiDisplay);e.asDataSearch[c]=ra(e,fa(e,b,"filter"));if(typeof f=="undefined"||f){ea(e)}if(typeof d=="undefined"||d){da(e)}return 0};this.fnSetColumnVis=function(a,b,c){var d=A(this[n.iApiIndex]),f,e;e=d.aoColumns.length;var h,j;if(d.aoColumns[a].bVisible!=b){if(b){for(f=j=0;f<a;f++){d.aoColumns[f].bVisible&&j++}j=j>=Z(d);if(!j){for(f=a;f<e;f++){if(d.aoColumns[f].bVisible){h=f;break}}}f=0;for(e=d.aoData.length;f<e;f++){if(d.aoData[f].nTr!==null){j?d.aoData[f].nTr.appendChild(d.aoData[f]._anHidden[a]):d.aoData[f].nTr.insertBefore(d.aoData[f]._anHidden[a],Q(d,f)[h])}}}else{f=0;for(e=d.aoData.length;f<e;f++){if(d.aoData[f].nTr!==null){h=Q(d,f)[a];d.aoData[f]._anHidden[a]=h;h.parentNode.removeChild(h)}}}d.aoColumns[a].bVisible=b;M(d,d.aoHeader);d.nTFoot&&M(d,d.aoFooter);f=0;for(e=d.aoOpenRows.length;f<e;f++){d.aoOpenRows[f].nTr.colSpan=Z(d)}if(typeof c=="undefined"||c){ea(d);C(d)}va(d)}};this.fnPageChange=function(a,b){var c=A(this[n.iApiIndex]);ma(c,a);E(c);if(typeof b=="undefined"||b){C(c)}};this.fnDestroy=function(){var a=A(this[n.iApiIndex]),b=a.nTableWrapper.parentNode,c=a.nTBody,d,f;a.bDestroying=true;d=0;for(f=a.aoDestroyCallback.length;d<f;d++){a.aoDestroyCallback[d].fn()}d=0;for(f=a.aoColumns.length;d<f;d++){a.aoColumns[d].bVisible===false&&this.fnSetColumnVis(d,true)}i(a.nTableWrapper).find("*").andSelf().unbind(".DT");i("tbody>tr>td."+a.oClasses.sRowEmpty,a.nTable).parent().remove();if(a.nTable!=a.nTHead.parentNode){i(a.nTable).children("thead").remove();a.nTable.appendChild(a.nTHead)}if(a.nTFoot&&a.nTable!=a.nTFoot.parentNode){i(a.nTable).children("tfoot").remove();a.nTable.appendChild(a.nTFoot)}a.nTable.parentNode.removeChild(a.nTable);i(a.nTableWrapper).remove();a.aaSorting=[];a.aaSortingFixed=[];V(a);i(ba(a)).removeClass(a.asStripeClasses.join(" "));if(a.bJUI){i("th",a.nTHead).removeClass([n.oStdClasses.sSortable,n.oJUIClasses.sSortableAsc,n.oJUIClasses.sSortableDesc,n.oJUIClasses.sSortableNone].join(" "));i("th span."+n.oJUIClasses.sSortIcon,a.nTHead).remove();i("th",a.nTHead).each(function(){var e=i("div."+n.oJUIClasses.sSortJUIWrapper,this),h=e.contents();i(this).append(h);e.remove()})}else{i("th",a.nTHead).removeClass([n.oStdClasses.sSortable,n.oStdClasses.sSortableAsc,n.oStdClasses.sSortableDesc,n.oStdClasses.sSortableNone].join(" "))}a.nTableReinsertBefore?b.insertBefore(a.nTable,a.nTableReinsertBefore):b.appendChild(a.nTable);d=0;for(f=a.aoData.length;d<f;d++){a.aoData[d].nTr!==null&&c.appendChild(a.aoData[d].nTr)}if(a.oFeatures.bAutoWidth===true){a.nTable.style.width=q(a.sDestroyWidth)}i(c).children("tr:even").addClass(a.asDestroyStripes[0]);i(c).children("tr:odd").addClass(a.asDestroyStripes[1]);d=0;for(f=D.length;d<f;d++){D[d]==a&&D.splice(d,1)}a=null};this.fnAdjustColumnSizing=function(a){var b=A(this[n.iApiIndex]);ea(b);if(typeof a=="undefined"||a){this.fnDraw(false)}else{if(b.oScroll.sX!==""||b.oScroll.sY!==""){this.oApi._fnScrollDraw(b)}}};for(var xa in n.oApi){if(xa){this[xa]=s(xa)}}this.oApi._fnExternApiFunc=s;this.oApi._fnInitialise=t;this.oApi._fnInitComplete=w;this.oApi._fnLanguageProcess=y;this.oApi._fnAddColumn=F;this.oApi._fnColumnOptions=x;this.oApi._fnAddData=v;this.oApi._fnCreateTr=z;this.oApi._fnGatherData=$;this.oApi._fnBuildHead=X;this.oApi._fnDrawHead=M;this.oApi._fnDraw=C;this.oApi._fnReDraw=da;this.oApi._fnAjaxUpdate=Ca;this.oApi._fnAjaxParameters=Da;this.oApi._fnAjaxUpdateDraw=Ea;this.oApi._fnServerParams=ha;this.oApi._fnAddOptionsHtml=Aa;this.oApi._fnFeatureHtmlTable=Ja;this.oApi._fnScrollDraw=Ma;this.oApi._fnAdjustColumnSizing=ea;this.oApi._fnFeatureHtmlFilter=Ha;this.oApi._fnFilterComplete=N;this.oApi._fnFilterCustom=Qa;this.oApi._fnFilterColumn=Pa;this.oApi._fnFilter=Oa;this.oApi._fnBuildSearchArray=oa;this.oApi._fnBuildSearchRow=ra;this.oApi._fnFilterCreateSearch=pa;this.oApi._fnDataToSearch=qa;this.oApi._fnSort=R;this.oApi._fnSortAttachListener=ja;this.oApi._fnSortingClasses=V;this.oApi._fnFeatureHtmlPaginate=La;this.oApi._fnPageChange=ma;this.oApi._fnFeatureHtmlInfo=Ka;this.oApi._fnUpdateInfo=Ra;this.oApi._fnFeatureHtmlLength=Ga;this.oApi._fnFeatureHtmlProcessing=Ia;this.oApi._fnProcessingDisplay=K;this.oApi._fnVisibleToColumnIndex=Na;this.oApi._fnColumnIndexToVisible=ta;this.oApi._fnNodeToDataIndex=W;this.oApi._fnVisbleColumns=Z;this.oApi._fnCalculateEnd=E;this.oApi._fnConvertToWidth=Sa;this.oApi._fnCalculateColumnWidths=ga;this.oApi._fnScrollingWidthAdjust=Ua;this.oApi._fnGetWidestNode=Ta;this.oApi._fnGetMaxLenString=Va;this.oApi._fnStringToCss=q;this.oApi._fnArrayCmp=Za;this.oApi._fnDetectType=ia;this.oApi._fnSettingsFromNode=A;this.oApi._fnGetDataMaster=ca;this.oApi._fnGetTrNodes=ba;this.oApi._fnGetTdNodes=Q;this.oApi._fnEscapeRegex=sa;this.oApi._fnDeleteIndex=ua;this.oApi._fnReOrderIndex=Fa;this.oApi._fnColumnOrdering=ka;this.oApi._fnLog=J;this.oApi._fnClearTable=la;this.oApi._fnSaveState=va;this.oApi._fnLoadState=Xa;this.oApi._fnCreateCookie=Wa;this.oApi._fnReadCookie=wa;this.oApi._fnDetectHeader=Y;this.oApi._fnGetUniqueThs=S;this.oApi._fnScrollBarWidth=Ya;this.oApi._fnApplyToChildren=P;this.oApi._fnMap=o;this.oApi._fnGetRowData=fa;this.oApi._fnGetCellData=G;this.oApi._fnSetCellData=O;this.oApi._fnGetObjectDataFn=aa;this.oApi._fnSetObjectDataFn=Ba;var ya=this;return this.each(function(){var a=0,b,c,d,f;a=0;for(b=D.length;a<b;a++){if(D[a].nTable==this){if(typeof g=="undefined"||typeof g.bRetrieve!="undefined"&&g.bRetrieve===true){return D[a].oInstance}else{if(typeof g.bDestroy!="undefined"&&g.bDestroy===true){D[a].oInstance.fnDestroy();break}else{J(D[a],0,"Cannot reinitialise DataTable.\n\nTo retrieve the DataTables object for this table, please pass either no arguments to the dataTable() function, or set bRetrieve to true. Alternatively, to destory the old table and create a new one, set bDestroy to true (note that a lot of changes to the configuration can be made through the API which is usually much faster).");return}}}if(D[a].sTableId!==""&&D[a].sTableId==this.getAttribute("id")){D.splice(a,1);break}}var e=new l;D.push(e);var h=false,j=false;a=this.getAttribute("id");if(a!==null){e.sTableId=a;e.sInstance=a}else{e.sInstance=n._oExternConfig.iNextUnique++}if(this.nodeName.toLowerCase()!="table"){J(e,0,"Attempted to initialise DataTables on a node which is not a table: "+this.nodeName)}else{e.nTable=this;e.oInstance=ya.length==1?ya:i(this).dataTable();e.oApi=ya.oApi;e.sDestroyWidth=i(this).width();if(typeof g!="undefined"&&g!==null){e.oInit=g;o(e.oFeatures,g,"bPaginate");o(e.oFeatures,g,"bLengthChange");o(e.oFeatures,g,"bFilter");o(e.oFeatures,g,"bSort");o(e.oFeatures,g,"bInfo");o(e.oFeatures,g,"bProcessing");o(e.oFeatures,g,"bAutoWidth");o(e.oFeatures,g,"bSortClasses");o(e.oFeatures,g,"bServerSide");o(e.oFeatures,g,"bDeferRender");o(e.oScroll,g,"sScrollX","sX");o(e.oScroll,g,"sScrollXInner","sXInner");o(e.oScroll,g,"sScrollY","sY");o(e.oScroll,g,"bScrollCollapse","bCollapse");o(e.oScroll,g,"bScrollInfinite","bInfinite");o(e.oScroll,g,"iScrollLoadGap","iLoadGap");o(e.oScroll,g,"bScrollAutoCss","bAutoCss");o(e,g,"asStripClasses","asStripeClasses");o(e,g,"asStripeClasses");o(e,g,"fnPreDrawCallback");o(e,g,"fnRowCallback");o(e,g,"fnHeaderCallback");o(e,g,"fnFooterCallback");o(e,g,"fnCookieCallback");o(e,g,"fnInitComplete");o(e,g,"fnServerData");o(e,g,"fnFormatNumber");o(e,g,"aaSorting");o(e,g,"aaSortingFixed");o(e,g,"aLengthMenu");o(e,g,"sPaginationType");o(e,g,"sAjaxSource");o(e,g,"sAjaxDataProp");o(e,g,"iCookieDuration");o(e,g,"sCookiePrefix");o(e,g,"sDom");o(e,g,"bSortCellsTop");o(e,g,"oSearch","oPreviousSearch");o(e,g,"aoSearchCols","aoPreSearchCols");o(e,g,"iDisplayLength","_iDisplayLength");o(e,g,"bJQueryUI","bJUI");o(e.oLanguage,g,"fnInfoCallback");typeof g.fnDrawCallback=="function"&&e.aoDrawCallback.push({fn:g.fnDrawCallback,sName:"user"});typeof g.fnServerParams=="function"&&e.aoServerParams.push({fn:g.fnServerParams,sName:"user"});typeof g.fnStateSaveCallback=="function"&&e.aoStateSave.push({fn:g.fnStateSaveCallback,sName:"user"});typeof g.fnStateLoadCallback=="function"&&e.aoStateLoad.push({fn:g.fnStateLoadCallback,sName:"user"});if(e.oFeatures.bServerSide&&e.oFeatures.bSort&&e.oFeatures.bSortClasses){e.aoDrawCallback.push({fn:V,sName:"server_side_sort_classes"})}else{e.oFeatures.bDeferRender&&e.aoDrawCallback.push({fn:V,sName:"defer_sort_classes"})}if(typeof g.bJQueryUI!="undefined"&&g.bJQueryUI){e.oClasses=n.oJUIClasses;if(typeof g.sDom=="undefined"){e.sDom='<"H"lfr>t<"F"ip>'}}if(e.oScroll.sX!==""||e.oScroll.sY!==""){e.oScroll.iBarWidth=Ya()}if(typeof g.iDisplayStart!="undefined"&&typeof e.iInitDisplayStart=="undefined"){e.iInitDisplayStart=g.iDisplayStart;e._iDisplayStart=g.iDisplayStart}if(typeof g.bStateSave!="undefined"){e.oFeatures.bStateSave=g.bStateSave;Xa(e,g);e.aoDrawCallback.push({fn:va,sName:"state_save"})}if(typeof g.iDeferLoading!="undefined"){e.bDeferLoading=true;e._iRecordsTotal=g.iDeferLoading;e._iRecordsDisplay=g.iDeferLoading}if(typeof g.aaData!="undefined"){j=true}if(typeof g!="undefined"&&typeof g.aoData!="undefined"){g.aoColumns=g.aoData}if(typeof g.oLanguage!="undefined"){if(typeof g.oLanguage.sUrl!="undefined"&&g.oLanguage.sUrl!==""){e.oLanguage.sUrl=g.oLanguage.sUrl;i.getJSON(e.oLanguage.sUrl,null,function(u){y(e,u,true)});h=true}else{y(e,g.oLanguage,false)}}}else{g={}}if(typeof g.asStripClasses=="undefined"&&typeof g.asStripeClasses=="undefined"){e.asStripeClasses.push(e.oClasses.sStripeOdd);e.asStripeClasses.push(e.oClasses.sStripeEven)}c=false;d=i(this).children("tbody").children("tr");a=0;for(b=e.asStripeClasses.length;a<b;a++){if(d.filter(":lt(2)").hasClass(e.asStripeClasses[a])){c=true;break}}if(c){e.asDestroyStripes=["",""];if(i(d[0]).hasClass(e.oClasses.sStripeOdd)){e.asDestroyStripes[0]+=e.oClasses.sStripeOdd+" "}if(i(d[0]).hasClass(e.oClasses.sStripeEven)){e.asDestroyStripes[0]+=e.oClasses.sStripeEven}if(i(d[1]).hasClass(e.oClasses.sStripeOdd)){e.asDestroyStripes[1]+=e.oClasses.sStripeOdd+" "}if(i(d[1]).hasClass(e.oClasses.sStripeEven)){e.asDestroyStripes[1]+=e.oClasses.sStripeEven}d.removeClass(e.asStripeClasses.join(" "))}c=[];var k;a=this.getElementsByTagName("thead");if(a.length!==0){Y(e.aoHeader,a[0]);c=S(e)}if(typeof g.aoColumns=="undefined"){k=[];a=0;for(b=c.length;a<b;a++){k.push(null)}}else{k=g.aoColumns}a=0;for(b=k.length;a<b;a++){if(typeof g.saved_aoColumns!="undefined"&&g.saved_aoColumns.length==b){if(k[a]===null){k[a]={}}k[a].bVisible=g.saved_aoColumns[a].bVisible}F(e,c?c[a]:null)}if(typeof g.aoColumnDefs!="undefined"){for(a=g.aoColumnDefs.length-1;a>=0;a--){var m=g.aoColumnDefs[a].aTargets;i.isArray(m)||J(e,1,"aTargets must be an array of targets, not a "+typeof m);c=0;for(d=m.length;c<d;c++){if(typeof m[c]=="number"&&m[c]>=0){for(;e.aoColumns.length<=m[c];){F(e)}x(e,m[c],g.aoColumnDefs[a])}else{if(typeof m[c]=="number"&&m[c]<0){x(e,e.aoColumns.length+m[c],g.aoColumnDefs[a])}else{if(typeof m[c]=="string"){b=0;for(f=e.aoColumns.length;b<f;b++){if(m[c]=="_all"||i(e.aoColumns[b].nTh).hasClass(m[c])){x(e,b,g.aoColumnDefs[a])}}}}}}}}if(typeof k!="undefined"){a=0;for(b=k.length;a<b;a++){x(e,a,k[a])}}a=0;for(b=e.aaSorting.length;a<b;a++){if(e.aaSorting[a][0]>=e.aoColumns.length){e.aaSorting[a][0]=0}k=e.aoColumns[e.aaSorting[a][0]];if(typeof e.aaSorting[a][2]=="undefined"){e.aaSorting[a][2]=0}if(typeof g.aaSorting=="undefined"&&typeof e.saved_aaSorting=="undefined"){e.aaSorting[a][1]=k.asSorting[0]}c=0;for(d=k.asSorting.length;c<d;c++){if(e.aaSorting[a][1]==k.asSorting[c]){e.aaSorting[a][2]=c;break}}}V(e);a=i(this).children("thead");if(a.length===0){a=[p.createElement("thead")];this.appendChild(a[0])}e.nTHead=a[0];a=i(this).children("tbody");if(a.length===0){a=[p.createElement("tbody")];this.appendChild(a[0])}e.nTBody=a[0];a=i(this).children("tfoot");if(a.length>0){e.nTFoot=a[0];Y(e.aoFooter,e.nTFoot)}if(j){for(a=0;a<g.aaData.length;a++){v(e,g.aaData[a])}}else{$(e)}e.aiDisplay=e.aiDisplayMaster.slice();e.bInitialised=true;h===false&&t(e)}})}})(jQuery,window,document);
/*!
 * jQuery Form Plugin
 * version: 2.87 (20-OCT-2011)
 * @requires jQuery v1.3.2 or later
 *
 * Examples and documentation at: http://malsup.com/jquery/form/
 * Dual licensed under the MIT and GPL licenses:
 *   http://www.opensource.org/licenses/mit-license.php
 *   http://www.gnu.org/licenses/gpl.html
 */
(function(e){e.fn.ajaxSubmit=function(g){if(!this.length){b("ajaxSubmit: skipping submit process - no element selected");return this}var f,t,i,k=this;if(typeof g=="function"){g={success:g}}f=this.attr("method");t=this.attr("action");i=(typeof t==="string")?e.trim(t):"";i=i||window.location.href||"";if(i){i=(i.match(/^([^#]+)/)||[])[1]}g=e.extend(true,{url:i,success:e.ajaxSettings.success,type:f||"GET",iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},g);var o={};this.trigger("form-pre-serialize",[this,g,o]);if(o.veto){b("ajaxSubmit: submit vetoed via form-pre-serialize trigger");return this}if(g.beforeSerialize&&g.beforeSerialize(this,g)===false){b("ajaxSubmit: submit aborted via beforeSerialize callback");return this}var j=g.traditional;if(j===undefined){j=e.ajaxSettings.traditional}var y,s,m,z=this.formToArray(g.semantic);if(g.data){g.extraData=g.data;y=e.param(g.data,j)}if(g.beforeSubmit&&g.beforeSubmit(z,this,g)===false){b("ajaxSubmit: submit aborted via beforeSubmit callback");return this}this.trigger("form-submit-validate",[z,this,g,o]);if(o.veto){b("ajaxSubmit: submit vetoed via form-submit-validate trigger");return this}var r=e.param(z,j);if(y){r=(r?(r+"&"+y):y)}if(g.type.toUpperCase()=="GET"){g.url+=(g.url.indexOf("?")>=0?"&":"?")+r;g.data=null}else{g.data=r}var A=[];if(g.resetForm){A.push(function(){k.resetForm()})}if(g.clearForm){A.push(function(){k.clearForm(g.includeHidden)})}if(!g.dataType&&g.target){var h=g.success||function(){};A.push(function(q){var n=g.replaceTarget?"replaceWith":"html";e(g.target)[n](q).each(h,arguments)})}else{if(g.success){A.push(g.success)}}g.success=function(C,q,D){var B=g.context||g;for(var v=0,n=A.length;v<n;v++){A[v].apply(B,[C,q,D||k,k])}};var w=e("input:file",this).length>0;var u="multipart/form-data";var p=(k.attr("enctype")==u||k.attr("encoding")==u);if(g.iframe!==false&&(w||g.iframe||p)){if(g.closeKeepAlive){e.get(g.closeKeepAlive,function(){l(z)})}else{l(z)}}else{if(e.browser.msie&&f=="get"&&typeof g.type==="undefined"){var x=k[0].getAttribute("method");if(typeof x==="string"){g.type=x}}e.ajax(g)}this.trigger("form-submit-notify",[this,g]);return this;function l(X){var C=k[0],B,T,N,V,Q,E,I,G,H,R,U,L;var F=!!e.fn.prop;if(X){if(F){for(T=0;T<X.length;T++){B=e(C[X[T].name]);B.prop("disabled",false)}}else{for(T=0;T<X.length;T++){B=e(C[X[T].name]);B.removeAttr("disabled")}}}if(e(":input[name=submit],:input[id=submit]",C).length){alert('Error: Form elements must not have name or id of "submit".');return}N=e.extend(true,{},e.ajaxSettings,g);N.context=N.context||N;Q="jqFormIO"+(new Date().getTime());if(N.iframeTarget){E=e(N.iframeTarget);R=E.attr("name");if(R==null){E.attr("name",Q)}else{Q=R}}else{E=e('<iframe name="'+Q+'" src="'+N.iframeSrc+'" />');E.css({position:"absolute",top:"-1000px",left:"-1000px"})}I=E[0];G={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(n){var aa=(n==="timeout"?"timeout":"aborted");b("aborting upload... "+aa);this.aborted=1;E.attr("src",N.iframeSrc);G.error=aa;N.error&&N.error.call(N.context,G,aa,n);V&&e.event.trigger("ajaxError",[G,N,aa]);N.complete&&N.complete.call(N.context,G,aa)}};V=N.global;if(V&&!e.active++){e.event.trigger("ajaxStart")}if(V){e.event.trigger("ajaxSend",[G,N])}if(N.beforeSend&&N.beforeSend.call(N.context,G,N)===false){if(N.global){e.active--}return}if(G.aborted){return}H=C.clk;if(H){R=H.name;if(R&&!H.disabled){N.extraData=N.extraData||{};N.extraData[R]=H.value;if(H.type=="image"){N.extraData[R+".x"]=C.clk_x;N.extraData[R+".y"]=C.clk_y}}}var M=1;var J=2;function K(aa){var n=aa.contentWindow?aa.contentWindow.document:aa.contentDocument?aa.contentDocument:aa.document;return n}function S(){var ac=k.attr("target"),aa=k.attr("action");C.setAttribute("target",Q);if(!f){C.setAttribute("method","POST")}if(aa!=N.url){C.setAttribute("action",N.url)}if(!N.skipEncodingOverride&&(!f||/post/i.test(f))){k.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"})}if(N.timeout){L=setTimeout(function(){U=true;P(M)},N.timeout)}function ad(){try{var n=K(I).readyState;b("state = "+n);if(n.toLowerCase()=="uninitialized"){setTimeout(ad,50)}}catch(af){b("Server abort: ",af," (",af.name,")");P(J);L&&clearTimeout(L);L=undefined}}var ab=[];try{if(N.extraData){for(var ae in N.extraData){ab.push(e('<input type="hidden" name="'+ae+'" />').attr("value",N.extraData[ae]).appendTo(C)[0])}}if(!N.iframeTarget){E.appendTo("body");I.attachEvent?I.attachEvent("onload",P):I.addEventListener("load",P,false)}setTimeout(ad,15);C.submit()}finally{C.setAttribute("action",aa);if(ac){C.setAttribute("target",ac)}else{k.removeAttr("target")}e(ab).remove()}}if(N.forceSync){S()}else{setTimeout(S,10)}var Y,Z,W=50,D;function P(ae){if(G.aborted||D){return}try{Z=K(I)}catch(ah){b("cannot access response document: ",ah);ae=J}if(ae===M&&G){G.abort("timeout");return}else{if(ae==J&&G){G.abort("server abort");return}}if(!Z||Z.location.href==N.iframeSrc){if(!U){return}}I.detachEvent?I.detachEvent("onload",P):I.removeEventListener("load",P,false);var ac="success",ag;try{if(U){throw"timeout"}var ab=N.dataType=="xml"||Z.XMLDocument||e.isXMLDoc(Z);b("isXml="+ab);if(!ab&&window.opera&&(Z.body==null||Z.body.innerHTML=="")){if(--W){b("requeing onLoad callback, DOM not available");setTimeout(P,250);return}}var ai=Z.body?Z.body:Z.documentElement;G.responseText=ai?ai.innerHTML:null;G.responseXML=Z.XMLDocument?Z.XMLDocument:Z;if(ab){N.dataType="xml"}G.getResponseHeader=function(al){var ak={"content-type":N.dataType};return ak[al]};if(ai){G.status=Number(ai.getAttribute("status"))||G.status;G.statusText=ai.getAttribute("statusText")||G.statusText}var n=(N.dataType||"").toLowerCase();var af=/(json|script|text)/.test(n);if(af||N.textarea){var ad=Z.getElementsByTagName("textarea")[0];if(ad){G.responseText=ad.value;G.status=Number(ad.getAttribute("status"))||G.status;G.statusText=ad.getAttribute("statusText")||G.statusText}else{if(af){var aa=Z.getElementsByTagName("pre")[0];var aj=Z.getElementsByTagName("body")[0];if(aa){G.responseText=aa.textContent?aa.textContent:aa.innerText}else{if(aj){G.responseText=aj.textContent?aj.textContent:aj.innerText}}}}}else{if(n=="xml"&&!G.responseXML&&G.responseText!=null){G.responseXML=O(G.responseText)}}try{Y=q(G,n,N)}catch(ae){ac="parsererror";G.error=ag=(ae||ac)}}catch(ae){b("error caught: ",ae);ac="error";G.error=ag=(ae||ac)}if(G.aborted){b("upload aborted");ac=null}if(G.status){ac=(G.status>=200&&G.status<300||G.status===304)?"success":"error"}if(ac==="success"){N.success&&N.success.call(N.context,Y,"success",G);V&&e.event.trigger("ajaxSuccess",[G,N])}else{if(ac){if(ag==undefined){ag=G.statusText}N.error&&N.error.call(N.context,G,ac,ag);V&&e.event.trigger("ajaxError",[G,N,ag])}}V&&e.event.trigger("ajaxComplete",[G,N]);if(V&&!--e.active){e.event.trigger("ajaxStop")}N.complete&&N.complete.call(N.context,G,ac);D=true;if(N.timeout){clearTimeout(L)}setTimeout(function(){if(!N.iframeTarget){E.remove()}G.responseXML=null},100)}var O=e.parseXML||function(n,aa){if(window.ActiveXObject){aa=new ActiveXObject("Microsoft.XMLDOM");aa.async="false";aa.loadXML(n)}else{aa=(new DOMParser()).parseFromString(n,"text/xml")}return(aa&&aa.documentElement&&aa.documentElement.nodeName!="parsererror")?aa:null};var v=e.parseJSON||function(n){return window["eval"]("("+n+")")};var q=function(ae,ac,ab){var aa=ae.getResponseHeader("content-type")||"",n=ac==="xml"||!ac&&aa.indexOf("xml")>=0,ad=n?ae.responseXML:ae.responseText;if(n&&ad.documentElement.nodeName==="parsererror"){e.error&&e.error("parsererror")}if(ab&&ab.dataFilter){ad=ab.dataFilter(ad,ac)}if(typeof ad==="string"){if(ac==="json"||!ac&&aa.indexOf("json")>=0){ad=v(ad)}else{if(ac==="script"||!ac&&aa.indexOf("javascript")>=0){e.globalEval(ad)}}}return ad}}};e.fn.ajaxForm=function(f){if(this.length===0){var g={s:this.selector,c:this.context};if(!e.isReady&&g.s){b("DOM not ready, queuing ajaxForm");e(function(){e(g.s,g.c).ajaxForm(f)});return this}b("terminating; zero elements found by selector"+(e.isReady?"":" (DOM not ready)"));return this}return this.ajaxFormUnbind().bind("submit.form-plugin",function(h){if(!h.isDefaultPrevented()){h.preventDefault();e(this).ajaxSubmit(f)}}).bind("click.form-plugin",function(l){var k=l.target;var i=e(k);if(!(i.is(":submit,input:image"))){var h=i.closest(":submit");if(h.length==0){return}k=h[0]}var j=this;j.clk=k;if(k.type=="image"){if(l.offsetX!=undefined){j.clk_x=l.offsetX;j.clk_y=l.offsetY}else{if(typeof e.fn.offset=="function"){var m=i.offset();j.clk_x=l.pageX-m.left;j.clk_y=l.pageY-m.top}else{j.clk_x=l.pageX-k.offsetLeft;j.clk_y=l.pageY-k.offsetTop}}}setTimeout(function(){j.clk=j.clk_x=j.clk_y=null},100)})};e.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")};e.fn.formToArray=function(t){var s=[];if(this.length===0){return s}var g=this[0];var l=t?g.getElementsByTagName("*"):g.elements;if(!l){return s}var o,m,k,u,h,q,f;for(o=0,q=l.length;o<q;o++){h=l[o];k=h.name;if(!k){continue}if(t&&g.clk&&h.type=="image"){if(!h.disabled&&g.clk==h){s.push({name:k,value:e(h).val()});s.push({name:k+".x",value:g.clk_x},{name:k+".y",value:g.clk_y})}continue}u=e.fieldValue(h,true);if(u&&u.constructor==Array){for(m=0,f=u.length;m<f;m++){s.push({name:k,value:u[m]})}}else{if(u!==null&&typeof u!="undefined"){s.push({name:k,value:u})}}}if(!t&&g.clk){var p=e(g.clk),r=p[0];k=r.name;if(k&&!r.disabled&&r.type=="image"){s.push({name:k,value:p.val()});s.push({name:k+".x",value:g.clk_x},{name:k+".y",value:g.clk_y})}}return s};e.fn.formSerialize=function(f){return e.param(this.formToArray(f))};e.fn.fieldSerialize=function(g){var f=[];this.each(function(){var l=this.name;if(!l){return}var j=e.fieldValue(this,g);if(j&&j.constructor==Array){for(var k=0,h=j.length;k<h;k++){f.push({name:l,value:j[k]})}}else{if(j!==null&&typeof j!="undefined"){f.push({name:this.name,value:j})}}});return e.param(f)};e.fn.fieldValue=function(l){for(var k=[],h=0,f=this.length;h<f;h++){var j=this[h];var g=e.fieldValue(j,l);if(g===null||typeof g=="undefined"||(g.constructor==Array&&!g.length)){continue}g.constructor==Array?e.merge(k,g):k.push(g)}return k};e.fieldValue=function(f,m){var h=f.name,s=f.type,u=f.tagName.toLowerCase();if(m===undefined){m=true}if(m&&(!h||f.disabled||s=="reset"||s=="button"||(s=="checkbox"||s=="radio")&&!f.checked||(s=="submit"||s=="image")&&f.form&&f.form.clk!=f||u=="select"&&f.selectedIndex==-1)){return null}if(u=="select"){var o=f.selectedIndex;if(o<0){return null}var q=[],g=f.options;var k=(s=="select-one");var p=(k?o+1:g.length);for(var j=(k?o:0);j<p;j++){var l=g[j];if(l.selected){var r=l.value;if(!r){r=(l.attributes&&l.attributes.value&&!(l.attributes.value.specified))?l.text:l.value}if(k){return r}q.push(r)}}return q}return e(f).val()};e.fn.clearForm=function(f){return this.each(function(){e("input,select,textarea",this).clearFields(f)})};e.fn.clearFields=e.fn.clearInputs=function(f){var g=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each(function(){var i=this.type,h=this.tagName.toLowerCase();if(g.test(i)||h=="textarea"||(f&&/hidden/.test(i))){this.value=""}else{if(i=="checkbox"||i=="radio"){this.checked=false}else{if(h=="select"){this.selectedIndex=-1}}}})};e.fn.resetForm=function(){return this.each(function(){if(typeof this.reset=="function"||(typeof this.reset=="object"&&!this.reset.nodeType)){this.reset()}})};e.fn.enable=function(f){if(f===undefined){f=true}return this.each(function(){this.disabled=!f})};e.fn.selected=function(f){if(f===undefined){f=true}return this.each(function(){var g=this.type;if(g=="checkbox"||g=="radio"){this.checked=f}else{if(this.tagName.toLowerCase()=="option"){var h=e(this).parent("select");if(f&&h[0]&&h[0].type=="select-one"){h.find("option").selected(false)}this.selected=f}}})};e.fn.ajaxSubmit.debug=false;function b(){if(!e.fn.ajaxSubmit.debug){return}var f="[jquery.form] "+Array.prototype.join.call(arguments,"");if(window.console&&window.console.log){window.console.log(f)}else{if(window.opera&&window.opera.postError){window.opera.postError(f)}}}})(jQuery);(function(j){function h(){}function y(I){g=[I]}function r(M,J,K,L){try{L=M&&M.apply(J.context||J,K)}catch(I){L=!1}return L}function q(I){return/\?/.test(I)?"&":"?"}var s="async",w="charset",u="",G="error",x="insertBefore",v="_jqjsp",D="on",k=D+"click",n=D+G,t=D+"load",B=D+"readystatechange",e="readyState",F="removeChild",m="<script>",C="success",E="timeout",i=window,b=j.Deferred,l=j("head")[0]||document.documentElement,f=l.firstChild,A={},p=0,g,o={callback:v,url:location.href},z=i.opera;function H(M){M=j.extend({},o,M);var K=M.success,R=M.error,J=M.complete,aa=M.dataFilter,ac=M.callbackParameter,S=M.callback,ab=M.cache,I=M.pageCache,L=M.charset,N=M.url,ae=M.data,U=M.timeout,Q,Y=0,W=h,T,P,ad,O,X;b&&b(function(af){af.done(K).fail(R);K=af.resolve;R=af.reject}).promise(M);M.abort=function(){!(Y++)&&W()};if(r(M.beforeSend,M,[M])===!1||Y){return M}N=N||u;ae=ae?((typeof ae)=="string"?ae:j.param(ae,M.traditional)):u;N+=ae?(q(N)+ae):u;ac&&(N+=q(N)+encodeURIComponent(ac)+"=?");!ab&&!I&&(N+=q(N)+"_"+(new Date()).getTime()+"=");N=N.replace(/=\?(&|$)/,"="+S+"$1");function Z(af){if(!(Y++)){W();I&&(A[N]={s:[af]});aa&&(af=aa.apply(M,[af]));r(K,M,[af,C]);r(J,M,[M,C])}}function V(af){if(!(Y++)){W();I&&af!=E&&(A[N]=af);r(R,M,[M,af]);r(J,M,[M,af])}}if(I&&(Q=A[N])){Q.s?Z(Q.s[0]):V(Q)}else{i[S]=y;ad=j(m)[0];ad.id=v+p++;if(L){ad[w]=L}z&&z.version()<11.6?((O=j(m)[0]).text="document.getElementById('"+ad.id+"')."+n+"()"):(ad[s]=s);if(B in ad){ad.htmlFor=ad.id;ad.event=k}ad[t]=ad[n]=ad[B]=function(af){if(!ad[e]||!/i/.test(ad[e])){try{ad[k]&&ad[k]()}catch(ag){}af=g;g=0;af?Z(af[0]):V(G)}};ad.src=N;W=function(af){X&&clearTimeout(X);ad[B]=ad[t]=ad[n]=null;l[F](ad);O&&l[F](O)};l[x](ad,f);O&&l[x](O,f);X=U>0&&setTimeout(function(){V(E)},U)}return M}H.setup=function(I){j.extend(o,I)};j.jsonp=H})(jQuery);
/*!
 * HTML5 Placeholder jQuery Plugin v1.8.2
 * @link http://github.com/mathiasbynens/Placeholder-jQuery-Plugin
 * @author Mathias Bynens <http://mathiasbynens.be/>
 */
(function(i){var j="placeholder" in document.createElement("input"),h="placeholder" in document.createElement("textarea");if(j&&h){i.fn.placeholder=function(){return this};i.fn.placeholder.input=i.fn.placeholder.textarea=true}else{i.fn.placeholder=function(){return this.filter((j?"textarea":":input")+"[placeholder]").bind("focus.placeholder",g).bind("blur.placeholder",k).trigger("blur.placeholder").end()};i.fn.placeholder.input=j;i.fn.placeholder.textarea=h}function l(e){var f={},b=/^jQuery\d+$/;i.each(e.attributes,function(m,n){if(n.specified&&!b.test(n.name)){f[n.name]=n.value}});return f}function g(){var b=i(this);if(b.val()===b.attr("placeholder")&&b.hasClass("placeholder")){if(b.data("placeholder-password")){b.hide().next().attr("id",b.removeAttr("id").data("placeholder-id")).show().focus()}else{b.val("").removeClass("placeholder")}}}function k(n){var b,e=i(this),o=e,f=this.id;if(e.val()===""){if(e.is(":password")){if(!e.data("placeholder-textinput")){try{b=e.clone().attr({type:"text"})}catch(m){b=i("<input>").attr(i.extend(l(this),{type:"text"}))}b.removeAttr("name").data("placeholder-password",true).data("placeholder-id",f).bind("focus.placeholder",g);e.data("placeholder-textinput",b).data("placeholder-id",f).before(b)}e=e.removeAttr("id").hide().prev().attr("id",f).show()}e.addClass("placeholder").val(e.attr("placeholder"))}else{e.removeClass("placeholder")}}i(function(){i("form").bind("submit.placeholder",function(){var b=i(".placeholder",this).each(g);setTimeout(function(){b.each(k)},10)})});i(window).bind("unload.placeholder",function(){i(".placeholder").val("")})}(jQuery));(function(i){var h={common:{type:"line",lineColor:"#00f",fillColor:"#cdf",defaultPixelsPerValue:3,width:"auto",height:"auto",composite:false,tagValuesAttribute:"values",tagOptionsPrefix:"spark",enableTagOptions:false},line:{spotColor:"#f80",spotRadius:1.5,minSpotColor:"#f80",maxSpotColor:"#f80",lineWidth:1,normalRangeMin:undefined,normalRangeMax:undefined,normalRangeColor:"#ccc",drawNormalOnTop:false,chartRangeMin:undefined,chartRangeMax:undefined,chartRangeMinX:undefined,chartRangeMaxX:undefined},bar:{barColor:"#00f",negBarColor:"#f44",zeroColor:undefined,nullColor:undefined,zeroAxis:undefined,barWidth:4,barSpacing:1,chartRangeMax:undefined,chartRangeMin:undefined,chartRangeClip:false,colorMap:undefined},tristate:{barWidth:4,barSpacing:1,posBarColor:"#6f6",negBarColor:"#f44",zeroBarColor:"#999",colorMap:{}},discrete:{lineHeight:"auto",thresholdColor:undefined,thresholdValue:0,chartRangeMax:undefined,chartRangeMin:undefined,chartRangeClip:false},bullet:{targetColor:"red",targetWidth:3,performanceColor:"blue",rangeColors:["#D3DAFE","#A8B6FF","#7F94FF"],base:undefined},pie:{sliceColors:["#f00","#0f0","#00f"]},box:{raw:false,boxLineColor:"black",boxFillColor:"#cdf",whiskerColor:"black",outlierLineColor:"#333",outlierFillColor:"white",medianColor:"red",showOutliers:true,outlierIQR:1.5,spotRadius:1.5,target:undefined,targetColor:"#4a2",chartRangeMax:undefined,chartRangeMin:undefined}};var l,e,f;i.fn.simpledraw=function(o,n,p){if(p&&this[0].VCanvas){return this[0].VCanvas}if(o===undefined){o=i(this).innerWidth()}if(n===undefined){n=i(this).innerHeight()}if(i.browser.hasCanvas){return new e(o,n,this)}else{if(i.browser.msie){return new f(o,n,this)}else{return false}}};var b=[];i.fn.sparkline=function(n,o){return this.each(function(){var p=new i.fn.sparkline.options(this,o);var q=function(){var s,u,r;if(n==="html"||n===undefined){var v=this.getAttribute(p.get("tagValuesAttribute"));if(v===undefined||v===null){v=i(this).html()}s=v.replace(/(^\s*<!--)|(-->\s*$)|\s+/g,"").split(",")}else{s=n}u=p.get("width")=="auto"?s.length*p.get("defaultPixelsPerValue"):p.get("width");if(p.get("height")=="auto"){if(!p.get("composite")||!this.VCanvas){var t=document.createElement("span");t.innerHTML="a";i(this).html(t);r=i(t).innerHeight();i(t).remove()}}else{r=p.get("height")}i.fn.sparkline[p.get("type")].call(this,s,p,u,r)};if((i(this).html()&&i(this).is(":hidden"))||(i.fn.jquery<"1.3.0"&&i(this).parents().is(":hidden"))||!i(this).parents("body").length){b.push([this,q])}else{q.call(this)}})};i.fn.sparkline.defaults=h;i.sparkline_display_visible=function(){for(var n=b.length-1;n>=0;n--){var o=b[n][0];if(i(o).is(":visible")&&!i(o).parents().is(":hidden")){b[n][1].call(o);b.splice(n,1)}}};var j={};var g=function(o){switch(o){case"undefined":o=undefined;break;case"null":o=null;break;case"true":o=true;break;case"false":o=false;break;default:var n=parseFloat(o);if(o==n){o=n}}return o};i.fn.sparkline.options=function(n,s){var r;this.userOptions=s=s||{};this.tag=n;this.tagValCache={};var q=i.fn.sparkline.defaults;var p=q.common;this.tagOptionsPrefix=s.enableTagOptions&&(s.tagOptionsPrefix||p.tagOptionsPrefix);var o=this.getTagSetting("type");if(o===j){r=q[s.type||p.type]}else{r=q[o]}this.mergedOptions=i.extend({},p,r,s)};i.fn.sparkline.options.prototype.getTagSetting=function(p){var s,o,r=this.tagOptionsPrefix;if(r===false||r===undefined){return j}if(this.tagValCache.hasOwnProperty(p)){s=this.tagValCache.key}else{s=this.tag.getAttribute(r+p);if(s===undefined||s===null){s=j}else{if(s.substr(0,1)=="["){s=s.substr(1,s.length-2).split(",");for(o=s.length;o--;){s[o]=g(s[o].replace(/(^\s*)|(\s*$)/g,""))}}else{if(s.substr(0,1)=="{"){var q=s.substr(1,s.length-2).split(",");s={};for(o=q.length;o--;){var n=q[o].split(":",2);s[n[0].replace(/(^\s*)|(\s*$)/g,"")]=g(n[1].replace(/(^\s*)|(\s*$)/g,""))}}else{s=g(s)}}}this.tagValCache.key=s}return s};i.fn.sparkline.options.prototype.get=function(o){var n=this.getTagSetting(o);if(n!==j){return n}return this.mergedOptions[o]};i.fn.sparkline.line=function(aa,I,o,p){var z=[],w=[],H=[];for(var Z=0;Z<aa.length;Z++){var K=aa[Z];var t=typeof(aa[Z])=="string";var T=typeof(aa[Z])=="object"&&aa[Z] instanceof Array;var B=t&&aa[Z].split(":");if(t&&B.length==2){z.push(Number(B[0]));w.push(Number(B[1]));H.push(Number(B[1]))}else{if(T){z.push(K[0]);w.push(K[1]);H.push(K[1])}else{z.push(Z);if(aa[Z]===null||aa[Z]=="null"){w.push(null)}else{w.push(Number(K));H.push(Number(K))}}}}if(I.get("xvalues")){z=I.get("xvalues")}var r=Math.max.apply(Math,H);var R=r;var F=Math.min.apply(Math,H);var N=F;var s=Math.max.apply(Math,z);var G=Math.min.apply(Math,z);var M=I.get("normalRangeMin");var q=I.get("normalRangeMax");if(M!==undefined){if(M<F){F=M}if(q>r){r=q}}if(I.get("chartRangeMin")!==undefined&&(I.get("chartRangeClip")||I.get("chartRangeMin")<F)){F=I.get("chartRangeMin")}if(I.get("chartRangeMax")!==undefined&&(I.get("chartRangeClip")||I.get("chartRangeMax")>r)){r=I.get("chartRangeMax")}if(I.get("chartRangeMinX")!==undefined&&(I.get("chartRangeClipX")||I.get("chartRangeMinX")<G)){G=I.get("chartRangeMinX")}if(I.get("chartRangeMaxX")!==undefined&&(I.get("chartRangeClipX")||I.get("chartRangeMaxX")>s)){s=I.get("chartRangeMaxX")}var C=s-G===0?1:s-G;var A=r-F===0?1:r-F;var E=w.length-1;if(E<1){this.innerHTML="";return}var n=i(this).simpledraw(o,p,I.get("composite"));if(n){var Q=n.pixel_width;var V=n.pixel_height;var J=0;var v=0;var Y=I.get("spotRadius");if(Y&&(Q<(Y*4)||V<(Y*4))){Y=0}if(Y){if(I.get("minSpotColor")||(I.get("spotColor")&&w[E]==F)){V-=Math.ceil(Y)}if(I.get("maxSpotColor")||(I.get("spotColor")&&w[E]==r)){V-=Math.ceil(Y);J+=Math.ceil(Y)}if(I.get("minSpotColor")||I.get("maxSpotColor")&&(w[0]==F||w[0]==r)){v+=Math.ceil(Y);Q-=Math.ceil(Y)}if(I.get("spotColor")||(I.get("minSpotColor")||I.get("maxSpotColor")&&(w[E]==F||w[E]==r))){Q-=Math.ceil(Y)}}V--;var L=function(){if(M!==undefined){var y=J+Math.round(V-(V*((q-F)/A)));var x=Math.round((V*(q-M))/A);n.drawRect(v,y,Q,x,undefined,I.get("normalRangeColor"))}};if(!I.get("drawNormalOnTop")){L()}var W=[];var O=[W];var U,S,X=w.length;for(Z=0;Z<X;Z++){U=z[Z];S=w[Z];if(S===null){if(Z){if(w[Z-1]!==null){W=[];O.push(W)}}}else{if(S<F){S=F}if(S>r){S=r}if(!W.length){W.push([v+Math.round((U-G)*(Q/C)),J+V])}W.push([v+Math.round((U-G)*(Q/C)),J+Math.round(V-(V*((S-F)/A)))])}}var P=[];var u=[];var D=O.length;for(Z=0;Z<D;Z++){W=O[Z];if(!W.length){continue}if(I.get("fillColor")){W.push([W[W.length-1][0],J+V-1]);u.push(W.slice(0));W.pop()}if(W.length>2){W[0]=[W[0][0],W[1][1]]}P.push(W)}D=u.length;for(Z=0;Z<D;Z++){n.drawShape(u[Z],undefined,I.get("fillColor"))}if(I.get("drawNormalOnTop")){L()}D=P.length;for(Z=0;Z<D;Z++){n.drawShape(P[Z],I.get("lineColor"),undefined,I.get("lineWidth"))}if(Y&&I.get("spotColor")){n.drawCircle(v+Math.round(z[z.length-1]*(Q/C)),J+Math.round(V-(V*((w[E]-F)/A))),Y,undefined,I.get("spotColor"))}if(r!=N){if(Y&&I.get("minSpotColor")){U=z[i.inArray(N,w)];n.drawCircle(v+Math.round((U-G)*(Q/C)),J+Math.round(V-(V*((N-F)/A))),Y,undefined,I.get("minSpotColor"))}if(Y&&I.get("maxSpotColor")){U=z[i.inArray(R,w)];n.drawCircle(v+Math.round((U-G)*(Q/C)),J+Math.round(V-(V*((R-F)/A))),Y,undefined,I.get("maxSpotColor"))}}}else{this.innerHTML=""}};i.fn.sparkline.bar=function(n,p,A,w){A=(n.length*p.get("barWidth"))+((n.length-1)*p.get("barSpacing"));var q=[];for(var G=0,s=n.length;G<s;G++){if(n[G]=="null"||n[G]===null){n[G]=null}else{n[G]=Number(n[G]);q.push(Number(n[G]))}}var F=Math.max.apply(Math,q),B=Math.min.apply(Math,q);if(p.get("chartRangeMin")!==undefined&&(p.get("chartRangeClip")||p.get("chartRangeMin")<B)){B=p.get("chartRangeMin")}if(p.get("chartRangeMax")!==undefined&&(p.get("chartRangeClip")||p.get("chartRangeMax")>F)){F=p.get("chartRangeMax")}var E=p.get("zeroAxis");if(E===undefined){E=B<0}var v=F-B===0?1:F-B;var r,z;if(i.isArray(p.get("colorMap"))){r=p.get("colorMap");z=null}else{r=null;z=p.get("colorMap")}var H=i(this).simpledraw(A,w,p.get("composite"));if(H){var C,D=H.pixel_height,o=B<0&&E?D-Math.round(D*(Math.abs(B)/v))-1:D-1;for(G=n.length;G--;){var u=G*(p.get("barWidth")+p.get("barSpacing")),t,I=n[G];if(I===null){if(p.get("nullColor")){C=p.get("nullColor");I=(E&&B<0)?0:B;w=1;t=(E&&B<0)?o:D-w}else{continue}}else{if(I<B){I=B}if(I>F){I=F}C=(I<0)?p.get("negBarColor"):p.get("barColor");if(E&&B<0){w=Math.round(D*((Math.abs(I)/v)))+1;t=(I<0)?o:o-w}else{w=Math.round(D*((I-B)/v))+1;t=D-w}if(I===0&&p.get("zeroColor")!==undefined){C=p.get("zeroColor")}if(z&&z[I]){C=z[I]}else{if(r&&r.length>G){C=r[G]}}if(C===null){continue}}H.drawRect(u,t,p.get("barWidth")-1,w-1,C,C)}}else{this.innerHTML=""}};i.fn.sparkline.tristate=function(z,B,o,A){z=i.map(z,Number);o=(z.length*B.get("barWidth"))+((z.length-1)*B.get("barSpacing"));var s,w;if(i.isArray(B.get("colorMap"))){s=B.get("colorMap");w=null}else{s=null;w=B.get("colorMap")}var t=i(this).simpledraw(o,A,B.get("composite"));if(t){var n=t.pixel_height,r=Math.round(n/2);for(var q=z.length;q--;){var v=q*(B.get("barWidth")+B.get("barSpacing")),u,p;if(z[q]<0){u=r;A=r-1;p=B.get("negBarColor")}else{if(z[q]>0){u=0;A=r-1;p=B.get("posBarColor")}else{u=r-1;A=2;p=B.get("zeroBarColor")}}if(w&&w[z[q]]){p=w[z[q]]}else{if(s&&s.length>q){p=s[q]}}if(p===null){continue}t.drawRect(v,u,B.get("barWidth")-1,A-1,p,p)}}else{this.innerHTML=""}};i.fn.sparkline.discrete=function(B,D,o,C){B=i.map(B,Number);o=D.get("width")=="auto"?B.length*2:o;var q=Math.floor(o/B.length);var w=i(this).simpledraw(o,C,D.get("composite"));if(w){var n=w.pixel_height,A=D.get("lineHeight")=="auto"?Math.round(n*0.3):D.get("lineHeight"),v=n-A,s=Math.min.apply(Math,B),y=Math.max.apply(Math,B);if(D.get("chartRangeMin")!==undefined&&(D.get("chartRangeClip")||D.get("chartRangeMin")<s)){s=D.get("chartRangeMin")}if(D.get("chartRangeMax")!==undefined&&(D.get("chartRangeClip")||D.get("chartRangeMax")>y)){y=D.get("chartRangeMax")}var u=y-s;for(var t=B.length;t--;){var r=B[t];if(r<s){r=s}if(r>y){r=y}var z=(t*q),p=Math.round(v-v*((r-s)/u));w.drawLine(z,p,z,p+A,(D.get("thresholdColor")&&r<D.get("thresholdValue"))?D.get("thresholdColor"):D.get("lineColor"))}}else{this.innerHTML=""}};i.fn.sparkline.bullet=function(p,r,A,y){p=i.map(p,Number);A=r.get("width")=="auto"?"4.0em":A;var H=i(this).simpledraw(A,y,r.get("composite"));if(H&&p.length>1){var G=H.pixel_width-Math.ceil(r.get("targetWidth")/2),C=H.pixel_height,B=Math.min.apply(Math,p),D=Math.max.apply(Math,p);if(r.get("base")===undefined){B=B<0?B:0}else{B=r.get("base")}var v=D-B;for(var E=2,t=p.length;E<t;E++){var s=p[E],o=Math.round(G*((s-B)/v));H.drawRect(0,0,o-1,C-1,r.get("rangeColors")[E-2],r.get("rangeColors")[E-2])}var z=p[1],n=Math.round(G*((z-B)/v));H.drawRect(0,Math.round(C*0.3),n-1,Math.round(C*0.4)-1,r.get("performanceColor"),r.get("performanceColor"));var w=p[0],u=Math.round(G*((w-B)/v)-(r.get("targetWidth")/2)),q=Math.round(C*0.1),F=C-(q*2);H.drawRect(u,q,r.get("targetWidth")-1,F-1,r.get("targetColor"),r.get("targetColor"))}else{this.innerHTML=""}};i.fn.sparkline.pie=function(z,B,q,A){z=i.map(z,Number);q=B.get("width")=="auto"?A:q;var v=i(this).simpledraw(q,A,B.get("composite"));if(v&&z.length>1){var w=v.pixel_width,n=v.pixel_height,u=Math.floor(Math.min(w,n)/2),x=0,t=0,o=2*Math.PI;for(var s=z.length;s--;){x+=z[s]}if(B.get("offset")){t+=(2*Math.PI)*(B.get("offset")/360)}var y=z.length;for(s=0;s<y;s++){var p=t;var r=t;if(x>0){r=t+(o*(z[s]/x))}v.drawPieSlice(u,u,u,p,r,undefined,B.get("sliceColors")[s%B.get("sliceColors").length]);t=r}}};var k=function(o,p){if(p==2){var n=Math.floor(o.length/2);return o.length%2?o[n]:(o[n]+o[n+1])/2}else{var r=Math.floor(o.length/4);return o.length%2?(o[r*p]+o[r*p+1])/2:o[r*p]}};i.fn.sparkline.box=function(o,q,B,z){o=i.map(o,Number);B=q.get("width")=="auto"?"4.0em":B;var r=q.get("chartRangeMin")===undefined?Math.min.apply(Math,o):q.get("chartRangeMin"),A=q.get("chartRangeMax")===undefined?Math.max.apply(Math,o):q.get("chartRangeMax"),I=i(this).simpledraw(B,z,q.get("composite")),t=o.length,x,G,w,v,u,n,s;if(I&&o.length>1){var F=I.pixel_width,C=I.pixel_height;if(q.get("raw")){if(q.get("showOutliers")&&o.length>5){G=o[0];x=o[1];w=o[2];v=o[3];u=o[4];n=o[5];s=o[6]}else{x=o[0];w=o[1];v=o[2];u=o[3];n=o[4]}}else{o.sort(function(K,J){return K-J});w=k(o,1);v=k(o,2);u=k(o,3);var p=u-w;if(q.get("showOutliers")){x=undefined;n=undefined;for(var D=0;D<t;D++){if(x===undefined&&o[D]>w-(p*q.get("outlierIQR"))){x=o[D]}if(o[D]<u+(p*q.get("outlierIQR"))){n=o[D]}}G=o[0];s=o[t-1]}else{x=o[0];n=o[t-1]}}var H=F/(A-r+1),E=0;if(q.get("showOutliers")){E=Math.ceil(q.get("spotRadius"));F-=2*Math.ceil(q.get("spotRadius"));H=F/(A-r+1);if(G<x){I.drawCircle((G-r)*H+E,C/2,q.get("spotRadius"),q.get("outlierLineColor"),q.get("outlierFillColor"))}if(s>n){I.drawCircle((s-r)*H+E,C/2,q.get("spotRadius"),q.get("outlierLineColor"),q.get("outlierFillColor"))}}I.drawRect(Math.round((w-r)*H+E),Math.round(C*0.1),Math.round((u-w)*H),Math.round(C*0.8),q.get("boxLineColor"),q.get("boxFillColor"));I.drawLine(Math.round((x-r)*H+E),Math.round(C/2),Math.round((w-r)*H+E),Math.round(C/2),q.get("lineColor"));I.drawLine(Math.round((x-r)*H+E),Math.round(C/4),Math.round((x-r)*H+E),Math.round(C-C/4),q.get("whiskerColor"));I.drawLine(Math.round((n-r)*H+E),Math.round(C/2),Math.round((u-r)*H+E),Math.round(C/2),q.get("lineColor"));I.drawLine(Math.round((n-r)*H+E),Math.round(C/4),Math.round((n-r)*H+E),Math.round(C-C/4),q.get("whiskerColor"));I.drawLine(Math.round((v-r)*H+E),Math.round(C*0.1),Math.round((v-r)*H+E),Math.round(C*0.9),q.get("medianColor"));if(q.get("target")){var y=Math.ceil(q.get("spotRadius"));I.drawLine(Math.round((q.get("target")-r)*H+E),Math.round((C/2)-y),Math.round((q.get("target")-r)*H+E),Math.round((C/2)+y),q.get("targetColor"));I.drawLine(Math.round((q.get("target")-r)*H+E-y),Math.round(C/2),Math.round((q.get("target")-r)*H+E+y),Math.round(C/2),q.get("targetColor"))}}else{this.innerHTML=""}};if(i.browser.msie&&!document.namespaces.v){document.namespaces.add("v","urn:schemas-microsoft-com:vml","#default#VML")}if(i.browser.hasCanvas===undefined){var m=document.createElement("canvas");i.browser.hasCanvas=m.getContext!==undefined}l=function(o,n,p){};l.prototype={init:function(o,n,p){this.width=o;this.height=n;this.target=p;if(p[0]){p=p[0]}p.VCanvas=this},drawShape:function(p,o,q,n){alert("drawShape not implemented")},drawLine:function(p,r,o,q,s,n){return this.drawShape([[p,r],[o,q]],s,n)},drawCircle:function(o,r,n,p,q){alert("drawCircle not implemented")},drawPieSlice:function(o,t,n,q,p,r,s){alert("drawPieSlice not implemented")},drawRect:function(o,s,p,n,q,r){alert("drawRect not implemented")},getElement:function(){return this.canvas},_insert:function(n,o){i(o).html(n)}};e=function(o,n,p){return this.init(o,n,p)};e.prototype=i.extend(new l(),{_super:l.prototype,init:function(o,n,p){this._super.init(o,n,p);this.canvas=document.createElement("canvas");if(p[0]){p=p[0]}p.VCanvas=this;i(this.canvas).css({display:"inline-block",width:o,height:n,verticalAlign:"top"});this._insert(this.canvas,p);this.pixel_height=i(this.canvas).height();this.pixel_width=i(this.canvas).width();this.canvas.width=this.pixel_width;this.canvas.height=this.pixel_height;i(this.canvas).css({width:this.pixel_width,height:this.pixel_height})},_getContext:function(p,q,n){var o=this.canvas.getContext("2d");if(p!==undefined){o.strokeStyle=p}o.lineWidth=n===undefined?1:n;if(q!==undefined){o.fillStyle=q}return o},drawShape:function(s,r,t,n){var p=this._getContext(r,t,n);p.beginPath();p.moveTo(s[0][0]+0.5,s[0][1]+0.5);for(var o=1,q=s.length;o<q;o++){p.lineTo(s[o][0]+0.5,s[o][1]+0.5)}if(r!==undefined){p.stroke()}if(t!==undefined){p.fill()}},drawCircle:function(o,s,n,q,r){var p=this._getContext(q,r);p.beginPath();p.arc(o,s,n,0,2*Math.PI,false);if(q!==undefined){p.stroke()}if(r!==undefined){p.fill()}},drawPieSlice:function(o,u,n,r,p,s,t){var q=this._getContext(s,t);q.beginPath();q.moveTo(o,u);q.arc(o,u,n,r,p,false);q.lineTo(o,u);q.closePath();if(s!==undefined){q.stroke()}if(t){q.fill()}},drawRect:function(o,s,p,n,q,r){return this.drawShape([[o,s],[o+p,s],[o+p,s+n],[o,s+n],[o,s]],q,r)}});f=function(o,n,p){return this.init(o,n,p)};f.prototype=i.extend(new l(),{_super:l.prototype,init:function(o,n,q){this._super.init(o,n,q);if(q[0]){q=q[0]}q.VCanvas=this;this.canvas=document.createElement("span");i(this.canvas).css({display:"inline-block",position:"relative",overflow:"hidden",width:o,height:n,margin:"0px",padding:"0px",verticalAlign:"top"});this._insert(this.canvas,q);this.pixel_height=i(this.canvas).height();this.pixel_width=i(this.canvas).width();this.canvas.width=this.pixel_width;this.canvas.height=this.pixel_height;var p='<v:group coordorigin="0 0" coordsize="'+this.pixel_width+" "+this.pixel_height+'" style="position:absolute;top:0;left:0;width:'+this.pixel_width+"px;height="+this.pixel_height+'px;"></v:group>';this.canvas.insertAdjacentHTML("beforeEnd",p);this.group=i(this.canvas).children()[0]},drawShape:function(y,t,n,q){var u=[];for(var p=0,o=y.length;p<o;p++){u[p]=""+(y[p][0])+","+(y[p][1])}var s=u.splice(0,1);q=q===undefined?1:q;var x=t===undefined?' stroked="false" ':' strokeWeight="'+q+'" strokeColor="'+t+'" ';var w=n===undefined?' filled="false"':' fillColor="'+n+'" filled="true" ';var r=u[0]==u[u.length-1]?"x ":"";var v='<v:shape coordorigin="0 0" coordsize="'+this.pixel_width+" "+this.pixel_height+'" '+x+w+' style="position:absolute;left:0px;top:0px;height:'+this.pixel_height+"px;width:"+this.pixel_width+'px;padding:0px;margin:0px;"  path="m '+s+" l "+u.join(", ")+" "+r+'e"> </v:shape>';this.group.insertAdjacentHTML("beforeEnd",v)},drawCircle:function(o,u,n,s,t){o-=n+1;u-=n+1;var r=s===undefined?' stroked="false" ':' strokeWeight="1" strokeColor="'+s+'" ';var q=t===undefined?' filled="false"':' fillColor="'+t+'" filled="true" ';var p="<v:oval "+r+q+' style="position:absolute;top:'+u+"px; left:"+o+"px; width:"+(n*2)+"px; height:"+(n*2)+'px"></v:oval>';this.group.insertAdjacentHTML("beforeEnd",p)},drawPieSlice:function(A,w,t,u,q,z,p){if(u==q){return}if((q-u)==(2*Math.PI)){u=0;q=(2*Math.PI)}var o=A+Math.round(Math.cos(u)*t);var n=w+Math.round(Math.sin(u)*t);var s=A+Math.round(Math.cos(q)*t);var r=w+Math.round(Math.sin(q)*t);if(o==s&&n==r&&(q-u)<Math.PI){return}var v=[A-t,w-t,A+t,w+t,o,n,s,r];var D=z===undefined?' stroked="false" ':' strokeWeight="1" strokeColor="'+z+'" ';var C=p===undefined?' filled="false"':' fillColor="'+p+'" filled="true" ';var B='<v:shape coordorigin="0 0" coordsize="'+this.pixel_width+" "+this.pixel_height+'" '+D+C+' style="position:absolute;left:0px;top:0px;height:'+this.pixel_height+"px;width:"+this.pixel_width+'px;padding:0px;margin:0px;"  path="m '+A+","+w+" wa "+v.join(", ")+' x e"> </v:shape>';this.group.insertAdjacentHTML("beforeEnd",B)},drawRect:function(o,s,p,n,q,r){return this.drawShape([[o,s],[o,s+n],[o+p,s+n],[o+p,s],[o,s]],q,r)}})})(jQuery);(function($){$.extend({tablesorter:new function(){var parsers=[],widgets=[];this.defaults={cssHeader:"header",cssAsc:"headerSortUp",cssDesc:"headerSortDown",cssChildRow:"expand-child",sortInitialOrder:"asc",sortMultiSortKey:"shiftKey",sortForce:null,sortAppend:null,sortLocaleCompare:true,textExtraction:"simple",parsers:{},widgets:[],widgetZebra:{css:["even","odd"]},headers:{},widthFixed:false,cancelSelection:true,sortList:[],headerList:[],dateFormat:"us",decimal:"/.|,/g",onRenderHeader:null,selectorHeaders:"thead th",debug:false};function benchmark(s,d){log(s+","+(new Date().getTime()-d.getTime())+"ms")}this.benchmark=benchmark;function log(s){if(typeof console!="undefined"&&typeof console.debug!="undefined"){console.log(s)}else{alert(s)}}function buildParserCache(table,$headers){if(table.config.debug){var parsersDebug=""}if(table.tBodies.length==0){return}var rows=table.tBodies[0].rows;if(rows[0]){var list=[],cells=rows[0].cells,l=cells.length;for(var i=0;i<l;i++){var p=false;if($.metadata&&($($headers[i]).metadata()&&$($headers[i]).metadata().sorter)){p=getParserById($($headers[i]).metadata().sorter)}else{if((table.config.headers[i]&&table.config.headers[i].sorter)){p=getParserById(table.config.headers[i].sorter)}}if(!p){p=detectParserForColumn(table,rows,-1,i)}if(table.config.debug){parsersDebug+="column:"+i+" parser:"+p.id+"\n"}list.push(p)}}if(table.config.debug){log(parsersDebug)}return list}function detectParserForColumn(table,rows,rowIndex,cellIndex){var l=parsers.length,node=false,nodeValue=false,keepLooking=true;while(nodeValue==""&&keepLooking){rowIndex++;if(rows[rowIndex]){node=getNodeFromRowAndCellIndex(rows,rowIndex,cellIndex);nodeValue=trimAndGetNodeText(table.config,node);if(table.config.debug){log("Checking if value was empty on row:"+rowIndex)}}else{keepLooking=false}}for(var i=1;i<l;i++){if(parsers[i].is(nodeValue,table,node)){return parsers[i]}}return parsers[0]}function getNodeFromRowAndCellIndex(rows,rowIndex,cellIndex){return rows[rowIndex].cells[cellIndex]}function trimAndGetNodeText(config,node){return $.trim(getElementText(config,node))}function getParserById(name){var l=parsers.length;for(var i=0;i<l;i++){if(parsers[i].id.toLowerCase()==name.toLowerCase()){return parsers[i]}}return false}function buildCache(table){if(table.config.debug){var cacheTime=new Date()}var totalRows=(table.tBodies[0]&&table.tBodies[0].rows.length)||0,totalCells=(table.tBodies[0].rows[0]&&table.tBodies[0].rows[0].cells.length)||0,parsers=table.config.parsers,cache={row:[],normalized:[]};for(var i=0;i<totalRows;++i){var c=$(table.tBodies[0].rows[i]),cols=[];if(c.hasClass(table.config.cssChildRow)){cache.row[cache.row.length-1]=cache.row[cache.row.length-1].add(c);continue}cache.row.push(c);for(var j=0;j<totalCells;++j){cols.push(parsers[j].format(getElementText(table.config,c[0].cells[j]),table,c[0].cells[j]))}cols.push(cache.normalized.length);cache.normalized.push(cols);cols=null}if(table.config.debug){benchmark("Building cache for "+totalRows+" rows:",cacheTime)}return cache}function getElementText(config,node){var text="";if(!node){return""}if(!config.supportsTextContent){config.supportsTextContent=node.textContent||false}if(config.textExtraction=="simple"){if(config.supportsTextContent){text=node.textContent}else{if(node.childNodes[0]&&node.childNodes[0].hasChildNodes()){text=node.childNodes[0].innerHTML}else{text=node.innerHTML}}}else{if(typeof(config.textExtraction)=="function"){text=config.textExtraction(node)}else{text=$(node).text()}}return text}function appendToTable(table,cache){if(table.config.debug){var appendTime=new Date()}var c=cache,r=c.row,n=c.normalized,totalRows=n.length,checkCell=(n[0].length-1),tableBody=$(table.tBodies[0]),rows=[];for(var i=0;i<totalRows;i++){var pos=n[i][checkCell];rows.push(r[pos]);if(!table.config.appender){var l=r[pos].length;for(var j=0;j<l;j++){tableBody[0].appendChild(r[pos][j])}}}if(table.config.appender){table.config.appender(table,rows)}rows=null;if(table.config.debug){benchmark("Rebuilt table:",appendTime)}applyWidget(table);setTimeout(function(){$(table).trigger("sortEnd")},0)}function buildHeaders(table){if(table.config.debug){var time=new Date()}var meta=($.metadata)?true:false;var header_index=computeTableHeaderCellIndexes(table);$tableHeaders=$(table.config.selectorHeaders,table).each(function(index){this.column=header_index[this.parentNode.rowIndex+"-"+this.cellIndex];this.order=formatSortingOrder(table.config.sortInitialOrder);this.count=this.order;if(checkHeaderMetadata(this)||checkHeaderOptions(table,index)){this.sortDisabled=true}if(checkHeaderOptionsSortingLocked(table,index)){this.order=this.lockedOrder=checkHeaderOptionsSortingLocked(table,index)}if(!this.sortDisabled){var $th=$(this).addClass(table.config.cssHeader);if(table.config.onRenderHeader){table.config.onRenderHeader.apply($th)}}table.config.headerList[index]=this});if(table.config.debug){benchmark("Built headers:",time);log($tableHeaders)}return $tableHeaders}function computeTableHeaderCellIndexes(t){var matrix=[];var lookup={};var thead=t.getElementsByTagName("THEAD")[0];var trs=thead.getElementsByTagName("TR");for(var i=0;i<trs.length;i++){var cells=trs[i].cells;for(var j=0;j<cells.length;j++){var c=cells[j];var rowIndex=c.parentNode.rowIndex;var cellId=rowIndex+"-"+c.cellIndex;var rowSpan=c.rowSpan||1;var colSpan=c.colSpan||1;var firstAvailCol;if(typeof(matrix[rowIndex])=="undefined"){matrix[rowIndex]=[]}for(var k=0;k<matrix[rowIndex].length+1;k++){if(typeof(matrix[rowIndex][k])=="undefined"){firstAvailCol=k;break}}lookup[cellId]=firstAvailCol;for(var k=rowIndex;k<rowIndex+rowSpan;k++){if(typeof(matrix[k])=="undefined"){matrix[k]=[]}var matrixrow=matrix[k];for(var l=firstAvailCol;l<firstAvailCol+colSpan;l++){matrixrow[l]="x"}}}}return lookup}function checkCellColSpan(table,rows,row){var arr=[],r=table.tHead.rows,c=r[row].cells;for(var i=0;i<c.length;i++){var cell=c[i];if(cell.colSpan>1){arr=arr.concat(checkCellColSpan(table,headerArr,row++))}else{if(table.tHead.length==1||(cell.rowSpan>1||!r[row+1])){arr.push(cell)}}}return arr}function checkHeaderMetadata(cell){if(($.metadata)&&($(cell).metadata().sorter===false)){return true}return false}function checkHeaderOptions(table,i){if((table.config.headers[i])&&(table.config.headers[i].sorter===false)){return true}return false}function checkHeaderOptionsSortingLocked(table,i){if((table.config.headers[i])&&(table.config.headers[i].lockedOrder)){return table.config.headers[i].lockedOrder}return false}function applyWidget(table){var c=table.config.widgets;var l=c.length;for(var i=0;i<l;i++){getWidgetById(c[i]).format(table)}}function getWidgetById(name){var l=widgets.length;for(var i=0;i<l;i++){if(widgets[i].id.toLowerCase()==name.toLowerCase()){return widgets[i]}}}function formatSortingOrder(v){if(typeof(v)!="Number"){return(v.toLowerCase()=="desc")?1:0}else{return(v==1)?1:0}}function isValueInArray(v,a){var l=a.length;for(var i=0;i<l;i++){if(a[i][0]==v){return true}}return false}function setHeadersCss(table,$headers,list,css){$headers.removeClass(css[0]).removeClass(css[1]);var h=[];$headers.each(function(offset){if(!this.sortDisabled){h[this.column]=$(this)}});var l=list.length;for(var i=0;i<l;i++){h[list[i][0]].addClass(css[list[i][1]])}}function fixColumnWidth(table,$headers){var c=table.config;if(c.widthFixed){var colgroup=$("<colgroup>");$("tr:first td",table.tBodies[0]).each(function(){colgroup.append($("<col>").css("width",$(this).width()))});$(table).prepend(colgroup)}}function updateHeaderSortCount(table,sortList){var c=table.config,l=sortList.length;for(var i=0;i<l;i++){var s=sortList[i],o=c.headerList[s[0]];o.count=s[1];o.count++}}function multisort(table,sortList,cache){if(table.config.debug){var sortTime=new Date()}var dynamicExp="var sortWrapper = function(a,b) {",l=sortList.length;for(var i=0;i<l;i++){var c=sortList[i][0];var order=sortList[i][1];var s=(table.config.parsers[c].type=="text")?((order==0)?makeSortFunction("text","asc",c):makeSortFunction("text","desc",c)):((order==0)?makeSortFunction("numeric","asc",c):makeSortFunction("numeric","desc",c));var e="e"+i;dynamicExp+="var "+e+" = "+s;dynamicExp+="if("+e+") { return "+e+"; } ";dynamicExp+="else { "}var orgOrderCol=cache.normalized[0].length-1;dynamicExp+="return a["+orgOrderCol+"]-b["+orgOrderCol+"];";for(var i=0;i<l;i++){dynamicExp+="}; "}dynamicExp+="return 0; ";dynamicExp+="}; ";if(table.config.debug){benchmark("Evaling expression:"+dynamicExp,new Date())}eval(dynamicExp);cache.normalized.sort(sortWrapper);if(table.config.debug){benchmark("Sorting on "+sortList.toString()+" and dir "+order+" time:",sortTime)}return cache}function makeSortFunction(type,direction,index){var a="a["+index+"]",b="b["+index+"]";if(type=="text"&&direction=="asc"){return"("+a+" == "+b+" ? 0 : ("+a+" === null ? Number.POSITIVE_INFINITY : ("+b+" === null ? Number.NEGATIVE_INFINITY : ("+a+" < "+b+") ? -1 : 1 )));"}else{if(type=="text"&&direction=="desc"){return"("+a+" == "+b+" ? 0 : ("+a+" === null ? Number.POSITIVE_INFINITY : ("+b+" === null ? Number.NEGATIVE_INFINITY : ("+b+" < "+a+") ? -1 : 1 )));"}else{if(type=="numeric"&&direction=="asc"){return"("+a+" === null && "+b+" === null) ? 0 :("+a+" === null ? Number.POSITIVE_INFINITY : ("+b+" === null ? Number.NEGATIVE_INFINITY : "+a+" - "+b+"));"}else{if(type=="numeric"&&direction=="desc"){return"("+a+" === null && "+b+" === null) ? 0 :("+a+" === null ? Number.POSITIVE_INFINITY : ("+b+" === null ? Number.NEGATIVE_INFINITY : "+b+" - "+a+"));"}}}}}function makeSortText(i){return"((a["+i+"] < b["+i+"]) ? -1 : ((a["+i+"] > b["+i+"]) ? 1 : 0));"}function makeSortTextDesc(i){return"((b["+i+"] < a["+i+"]) ? -1 : ((b["+i+"] > a["+i+"]) ? 1 : 0));"}function makeSortNumeric(i){return"a["+i+"]-b["+i+"];"}function makeSortNumericDesc(i){return"b["+i+"]-a["+i+"];"}function sortText(a,b){if(table.config.sortLocaleCompare){return a.localeCompare(b)}return((a<b)?-1:((a>b)?1:0))}function sortTextDesc(a,b){if(table.config.sortLocaleCompare){return b.localeCompare(a)}return((b<a)?-1:((b>a)?1:0))}function sortNumeric(a,b){return a-b}function sortNumericDesc(a,b){return b-a}function getCachedSortType(parsers,i){return parsers[i].type}this.construct=function(settings){return this.each(function(){if(!this.tHead||!this.tBodies){return}var $this,$document,$headers,cache,config,shiftDown=0,sortOrder;this.config={};config=$.extend(this.config,$.tablesorter.defaults,settings);$this=$(this);$.data(this,"tablesorter",config);$headers=buildHeaders(this);this.config.parsers=buildParserCache(this,$headers);cache=buildCache(this);var sortCSS=[config.cssDesc,config.cssAsc];fixColumnWidth(this);$headers.click(function(e){var totalRows=($this[0].tBodies[0]&&$this[0].tBodies[0].rows.length)||0;if(!this.sortDisabled&&totalRows>0){$this.trigger("sortStart");var $cell=$(this);var i=this.column;this.order=this.count++%2;if(this.lockedOrder){this.order=this.lockedOrder}if(!e[config.sortMultiSortKey]){config.sortList=[];if(config.sortForce!=null){var a=config.sortForce;for(var j=0;j<a.length;j++){if(a[j][0]!=i){config.sortList.push(a[j])}}}config.sortList.push([i,this.order])}else{if(isValueInArray(i,config.sortList)){for(var j=0;j<config.sortList.length;j++){var s=config.sortList[j],o=config.headerList[s[0]];if(s[0]==i){o.count=s[1];o.count++;s[1]=o.count%2}}}else{config.sortList.push([i,this.order])}}setTimeout(function(){setHeadersCss($this[0],$headers,config.sortList,sortCSS);appendToTable($this[0],multisort($this[0],config.sortList,cache))},1);return false}}).mousedown(function(){if(config.cancelSelection){this.onselectstart=function(){return false};return false}});$this.bind("update",function(){var me=this;setTimeout(function(){me.config.parsers=buildParserCache(me,$headers);cache=buildCache(me)},1)}).bind("updateCell",function(e,cell){var config=this.config;var pos=[(cell.parentNode.rowIndex-1),cell.cellIndex];cache.normalized[pos[0]][pos[1]]=config.parsers[pos[1]].format(getElementText(config,cell),cell)}).bind("sorton",function(e,list){$(this).trigger("sortStart");config.sortList=list;var sortList=config.sortList;updateHeaderSortCount(this,sortList);setHeadersCss(this,$headers,sortList,sortCSS);appendToTable(this,multisort(this,sortList,cache))}).bind("appendCache",function(){appendToTable(this,cache)}).bind("applyWidgetId",function(e,id){getWidgetById(id).format(this)}).bind("applyWidgets",function(){applyWidget(this)});if($.metadata&&($(this).metadata()&&$(this).metadata().sortlist)){config.sortList=$(this).metadata().sortlist}if(config.sortList.length>0){$this.trigger("sorton",[config.sortList])}applyWidget(this)})};this.addParser=function(parser){var l=parsers.length,a=true;for(var i=0;i<l;i++){if(parsers[i].id.toLowerCase()==parser.id.toLowerCase()){a=false}}if(a){parsers.push(parser)}};this.addWidget=function(widget){widgets.push(widget)};this.formatFloat=function(s){var i=parseFloat(s);return(isNaN(i))?0:i};this.formatInt=function(s){var i=parseInt(s);return(isNaN(i))?0:i};this.isDigit=function(s,config){return/^[-+]?\d*$/.test($.trim(s.replace(/[,.']/g,"")))};this.clearTableBody=function(table){if($.browser.msie){function empty(){while(this.firstChild){this.removeChild(this.firstChild)}}empty.apply(table.tBodies[0])}else{table.tBodies[0].innerHTML=""}}}});$.fn.extend({tablesorter:$.tablesorter.construct});var ts=$.tablesorter;ts.addParser({id:"text",is:function(s){return true},format:function(s){return $.trim(s.toLocaleLowerCase())},type:"text"});ts.addParser({id:"digit",is:function(s,table){var c=table.config;return $.tablesorter.isDigit(s,c)},format:function(s){return $.tablesorter.formatFloat(s)},type:"numeric"});ts.addParser({id:"currency",is:function(s){return/^[Â£$â‚¬?.]/.test(s)},format:function(s){return $.tablesorter.formatFloat(s.replace(new RegExp(/[Â£$â‚¬]/g),""))},type:"numeric"});ts.addParser({id:"ipAddress",is:function(s){return/^\d{2,3}[\.]\d{2,3}[\.]\d{2,3}[\.]\d{2,3}$/.test(s)},format:function(s){var a=s.split("."),r="",l=a.length;for(var i=0;i<l;i++){var item=a[i];if(item.length==2){r+="0"+item}else{r+=item}}return $.tablesorter.formatFloat(r)},type:"numeric"});ts.addParser({id:"url",is:function(s){return/^(https?|ftp|file):\/\/$/.test(s)},format:function(s){return jQuery.trim(s.replace(new RegExp(/(https?|ftp|file):\/\//),""))},type:"text"});ts.addParser({id:"isoDate",is:function(s){return/^\d{4}[\/-]\d{1,2}[\/-]\d{1,2}$/.test(s)},format:function(s){return $.tablesorter.formatFloat((s!="")?new Date(s.replace(new RegExp(/-/g),"/")).getTime():"0")},type:"numeric"});ts.addParser({id:"percent",is:function(s){return/\%$/.test($.trim(s))},format:function(s){return $.tablesorter.formatFloat(s.replace(new RegExp(/%/g),""))},type:"numeric"});ts.addParser({id:"usLongDate",is:function(s){return s.match(new RegExp(/^[A-Za-z]{3,10}\.? [0-9]{1,2}, ([0-9]{4}|'?[0-9]{2}) (([0-2]?[0-9]:[0-5][0-9])|([0-1]?[0-9]:[0-5][0-9]\s(AM|PM)))$/))},format:function(s){return $.tablesorter.formatFloat(new Date(s).getTime())},type:"numeric"});ts.addParser({id:"shortDate",is:function(s){return/\d{1,2}[\/\-]\d{1,2}[\/\-]\d{2,4}/.test(s)},format:function(s,table){var c=table.config;s=s.replace(/\-/g,"/");if(c.dateFormat=="us"){s=s.replace(/(\d{1,2})[\/\-](\d{1,2})[\/\-](\d{4})/,"$3/$1/$2")}else{if(c.dateFormat=="uk"){s=s.replace(/(\d{1,2})[\/\-](\d{1,2})[\/\-](\d{4})/,"$3/$2/$1")}else{if(c.dateFormat=="dd/mm/yy"||c.dateFormat=="dd-mm-yy"){s=s.replace(/(\d{1,2})[\/\-](\d{1,2})[\/\-](\d{2})/,"$1/$2/$3")}}}return $.tablesorter.formatFloat(new Date(s).getTime())},type:"numeric"});ts.addParser({id:"time",is:function(s){return/^(([0-2]?[0-9]:[0-5][0-9])|([0-1]?[0-9]:[0-5][0-9]\s(am|pm)))$/.test(s)},format:function(s){return $.tablesorter.formatFloat(new Date("2000/01/01 "+s).getTime())},type:"numeric"});ts.addParser({id:"metadata",is:function(s){return false},format:function(s,table,cell){var c=table.config,p=(!c.parserMetadataName)?"sortValue":c.parserMetadataName;return $(cell).metadata()[p]},type:"numeric"});ts.addWidget({id:"zebra",format:function(table){if(table.config.debug){var time=new Date()}var $tr,row=-1,odd;$("tr:visible",table.tBodies[0]).each(function(i){$tr=$(this);if(!$tr.hasClass(table.config.cssChildRow)){row++}odd=(row%2==0);$tr.removeClass(table.config.widgetZebra.css[odd?0:1]).addClass(table.config.widgetZebra.css[odd?1:0])});if(table.config.debug){$.tablesorter.benchmark("Applying Zebra widget",time)}}})})(jQuery);(function(h){var e=document.documentElement.style,g=("textOverflow" in e||"OTextOverflow" in e),f=function(l,b){var j=0,m=[],k=function(o){var i=0,n;if(j>b){return}for(i=0;i<o.length;i+=1){if(o[i].nodeType===1){n=o[i].cloneNode(false);m[m.length-1].appendChild(n);m.push(n);k(o[i].childNodes);m.pop()}else{if(o[i].nodeType===3){if(j+o[i].length<b){m[m.length-1].appendChild(o[i].cloneNode(false))}else{n=o[i].cloneNode(false);n.textContent=h.trim(n.textContent.substring(0,b-j));m[m.length-1].appendChild(n)}j+=o[i].length}else{m.appendChild(o[i].cloneNode(false))}}}};m.push(l.cloneNode(false));k(l.childNodes);return h(m.pop().childNodes)};h.extend(h.fn,{textOverflow:function(b,j){var i=b||"&#x2026;";if(!g){return this.each(function(){var u=h(this),t=u.clone(),q=u.clone(),v=u.text(),y=u.width(),s=0,r=0,w=v.length,x=function(){if(y!==u.width()){u.replaceWith(q);u=q;q=u.clone();u.textOverflow(b,false);y=u.width()}};u.after(t.hide().css({position:"absolute",width:"auto",overflow:"visible","max-width":"inherit"}));if(t.width()>y){while(s<w){r=Math.floor(s+((w-s)/2));t.empty().append(f(q.get(0),r)).append(i);if(t.width()<y){s=r+1}else{w=r}}if(s<v.length){u.empty().append(f(q.get(0),s-1)).append(i)}}t.remove();if(j){setInterval(x,200)}})}else{return this}}})})(jQuery);(function(b){b.widget("ui.selectmenu",{getter:"value",version:"1.8",eventPrefix:"selectmenu",options:{transferClasses:true,typeAhead:"sequential",style:"dropdown",positionOptions:{my:"left top",at:"left bottom",offset:null},width:null,menuWidth:null,handleWidth:26,maxHeight:null,icons:null,format:null,bgImage:function(){},wrapperElement:""},_create:function(){var e=this,i=this.options;var h=this.element.attr("id")||"ui-selectmenu-"+Math.random().toString(16).slice(2,10);this.ids=[h+"-button",h+"-menu"];this._safemouseup=true;if(b.browser.msie){i.typeAhead=""}this.newelement=b('<a class="'+this.widgetBaseClass+' ui-widget ui-state-default ui-corner-all" id="'+this.ids[0]+'" role="button" href="#" tabindex="0" aria-haspopup="true" aria-owns="'+this.ids[1]+'"></a>').insertAfter(this.element);this.newelement.wrap(i.wrapperElement);var g=this.element.attr("tabindex");if(g){this.newelement.attr("tabindex",g)}this.newelement.data("selectelement",this.element);this.selectmenuIcon=b('<span class="'+this.widgetBaseClass+'-icon ui-icon"></span>').prependTo(this.newelement);this.newelement.prepend('<span class="'+e.widgetBaseClass+'-status" />');b('label[for="'+this.element.attr("id")+'"]').attr("for",this.ids[0]).bind("click.selectmenu",function(){e.newelement[0].focus();return false});this.newelement.bind("mousedown.selectmenu",function(j){e._toggle(j,true);if(i.style=="popup"){e._safemouseup=false;setTimeout(function(){e._safemouseup=true},300)}return false}).bind("click.selectmenu",function(){return false}).bind("keydown.selectmenu",function(k){var j=false;switch(k.keyCode){case b.ui.keyCode.ENTER:j=true;break;case b.ui.keyCode.SPACE:e._toggle(k);break;case b.ui.keyCode.UP:if(k.altKey){e.open(k)}else{e._moveSelection(-1)}break;case b.ui.keyCode.DOWN:if(k.altKey){e.open(k)}else{e._moveSelection(1)}break;case b.ui.keyCode.LEFT:e._moveSelection(-1);break;case b.ui.keyCode.RIGHT:e._moveSelection(1);break;case b.ui.keyCode.TAB:j=true;break;default:j=true;e._typeAhead(k.keyCode,"mouseup");break}return j}).bind("mouseover.selectmenu focus.selectmenu",function(){if(!i.disabled){b(this).addClass(e.widgetBaseClass+"-focus ui-state-hover")}}).bind("mouseout.selectmenu blur.selectmenu",function(){if(!i.disabled){b(this).removeClass(e.widgetBaseClass+"-focus ui-state-hover")}});b(document).bind("mousedown.selectmenu",function(j){e.close(j)});this.element.bind("click.selectmenu",function(){e._refreshValue()}).bind("focus.selectmenu",function(){if(e.newelement){e.newelement[0].focus()}});var f=this.element.width();this.newelement.width(i.width?i.width:f);this.element.hide();this.list=b('<ul class="'+e.widgetBaseClass+'-menu ui-widget ui-widget-content" aria-hidden="true" role="listbox" aria-labelledby="'+this.ids[0]+'" id="'+this.ids[1]+'"></ul>').appendTo("body");this.list.wrap(i.wrapperElement);this.list.bind("keydown.selectmenu",function(k){var j=false;switch(k.keyCode){case b.ui.keyCode.UP:if(k.altKey){e.close(k,true)}else{e._moveFocus(-1)}break;case b.ui.keyCode.DOWN:if(k.altKey){e.close(k,true)}else{e._moveFocus(1)}break;case b.ui.keyCode.LEFT:e._moveFocus(-1);break;case b.ui.keyCode.RIGHT:e._moveFocus(1);break;case b.ui.keyCode.HOME:e._moveFocus(":first");break;case b.ui.keyCode.PAGE_UP:e._scrollPage("up");break;case b.ui.keyCode.PAGE_DOWN:e._scrollPage("down");break;case b.ui.keyCode.END:e._moveFocus(":last");break;case b.ui.keyCode.ENTER:case b.ui.keyCode.SPACE:e.close(k,true);b(k.target).parents("li:eq(0)").trigger("mouseup");break;case b.ui.keyCode.TAB:j=true;e.close(k,true);b(k.target).parents("li:eq(0)").trigger("mouseup");break;case b.ui.keyCode.ESCAPE:e.close(k,true);break;default:j=true;e._typeAhead(k.keyCode,"focus");break}return j});b(window).bind("resize.selectmenu",b.proxy(e._refreshPosition,this))},_init:function(){var r=this,h=this.options;var e=[];this.element.find("option").each(function(){e.push({value:b(this).attr("value"),text:r._formatText(b(this).text()),selected:b(this).attr("selected"),disabled:b(this).attr("disabled"),classes:b(this).attr("class"),typeahead:b(this).attr("typeahead"),parentOptGroup:b(this).parent("optgroup"),bgImage:h.bgImage.call(b(this))})});var p=(r.options.style=="popup")?" ui-state-active":"";this.list.html("");for(var m=0;m<e.length;m++){var g=b('<li role="presentation"'+(e[m].disabled?' class="'+this.namespace+'-state-disabled"':"")+'><a href="#" tabindex="-1" role="option"'+(e[m].disabled?' aria-disabled="true"':"")+' aria-selected="false"'+(e[m].typeahead?' typeahead="'+e[m].typeahead+'"':"")+">"+e[m].text+"</a></li>").data("index",m).addClass(e[m].classes).data("optionClasses",e[m].classes||"").bind("mouseup.selectmenu",function(i){if(r._safemouseup&&!r._disabled(i.currentTarget)&&!r._disabled(b(i.currentTarget).parents("ul>li."+r.widgetBaseClass+"-group "))){var j=b(this).data("index")!=r._selectedIndex();r.index(b(this).data("index"));r.select(i);if(j){r.change(i)}r.close(i,true)}return false}).bind("click.selectmenu",function(){return false}).bind("mouseover.selectmenu focus.selectmenu",function(i){if(!b(i.currentTarget).hasClass(r.namespace+"-state-disabled")){r._selectedOptionLi().addClass(p);r._focusedOptionLi().removeClass(r.widgetBaseClass+"-item-focus ui-state-hover");b(this).removeClass("ui-state-active").addClass(r.widgetBaseClass+"-item-focus ui-state-hover")}}).bind("mouseout.selectmenu blur.selectmenu",function(){if(b(this).is(r._selectedOptionLi().selector)){b(this).addClass(p)}b(this).removeClass(r.widgetBaseClass+"-item-focus ui-state-hover")});if(e[m].parentOptGroup.length){var n=r.widgetBaseClass+"-group-"+this.element.find("optgroup").index(e[m].parentOptGroup);if(this.list.find("li."+n).length){this.list.find("li."+n+":last ul").append(g)}else{b(' <li role="presentation" class="'+r.widgetBaseClass+"-group "+n+(e[m].parentOptGroup.attr("disabled")?" "+this.namespace+'-state-disabled" aria-disabled="true"':'"')+'><span class="'+r.widgetBaseClass+'-group-label">'+e[m].parentOptGroup.attr("label")+"</span><ul></ul></li> ").appendTo(this.list).find("ul").append(g)}}else{g.appendTo(this.list)}this.list.bind("mousedown.selectmenu mouseup.selectmenu",function(){return false});if(h.icons){for(var l in h.icons){if(g.is(h.icons[l].find)){g.data("optionClasses",e[m].classes+" "+r.widgetBaseClass+"-hasIcon").addClass(r.widgetBaseClass+"-hasIcon");var q=h.icons[l].icon||"";g.find("a:eq(0)").prepend('<span class="'+r.widgetBaseClass+"-item-icon ui-icon "+q+'"></span>');if(e[m].bgImage){g.find("span").css("background-image",e[m].bgImage)}}}}}var f=(h.style=="dropdown");this.newelement.toggleClass(r.widgetBaseClass+"-dropdown",f).toggleClass(r.widgetBaseClass+"-popup",!f);this.list.toggleClass(r.widgetBaseClass+"-menu-dropdown ui-corner-bottom",f).toggleClass(r.widgetBaseClass+"-menu-popup ui-corner-all",!f).find("li:first").toggleClass("ui-corner-top",!f).end().find("li:last").addClass("ui-corner-bottom");this.selectmenuIcon.toggleClass("ui-icon-triangle-1-s",f).toggleClass("ui-icon-triangle-2-n-s",!f);if(h.transferClasses){var s=this.element.attr("class")||"";this.newelement.add(this.list).addClass(s)}var k=this.element.width();if(h.style=="dropdown"){this.list.width(h.menuWidth?h.menuWidth:(h.width?h.width:k))}else{this.list.width(h.menuWidth?h.menuWidth:(h.width?h.width-h.handleWidth:k-h.handleWidth))}if(h.maxHeight){if(h.maxHeight<this.list.height()){this.list.height(h.maxHeight)}}else{if(!h.format&&(b(window).height()/3)<this.list.height()){h.maxHeight=b(window).height()/3;this.list.height(h.maxHeight)}}this._optionLis=this.list.find("li:not(."+r.widgetBaseClass+"-group)");if(this.element.attr("disabled")===true){this.disable()}this.index(this._selectedIndex());window.setTimeout(function(){r._refreshPosition()},200)},destroy:function(){this.element.removeData(this.widgetName).removeClass(this.widgetBaseClass+"-disabled "+this.namespace+"-state-disabled").removeAttr("aria-disabled").unbind(".selectmenu");b(window).unbind(".selectmenu");b(document).unbind(".selectmenu");b("label[for="+this.newelement.attr("id")+"]").attr("for",this.element.attr("id")).unbind(".selectmenu");if(this.options.wrapperElement){this.newelement.find(this.options.wrapperElement).remove();this.list.find(this.options.wrapperElement).remove()}else{this.newelement.remove();this.list.remove()}this.element.show();b.Widget.prototype.destroy.apply(this,arguments)},_typeAhead:function(h,g){var e=this,f=false,l=String.fromCharCode(h);c=l.toLowerCase();if(e.options.typeAhead=="sequential"){window.clearTimeout("ui.selectmenu-"+e.selectmenuId);var k=typeof(e._prevChar)=="undefined"?"":e._prevChar.join("");function i(m,n,o){f=true;b(m).trigger(g);typeof(e._prevChar)=="undefined"?e._prevChar=[o]:e._prevChar[e._prevChar.length]=o}this.list.find("li a").each(function(m){if(!f){var n=b(this).attr("typeahead")||b(this).text();if(n.indexOf(k+l)==0){i(this,m,l)}else{if(n.indexOf(k+c)==0){i(this,m,c)}}}});window.setTimeout(function(m){m._prevChar=undefined},1000,e)}else{if(!e._prevChar){e._prevChar=["",0]}var f=false;function j(m,n){f=true;b(m).trigger(g);e._prevChar[1]=n}this.list.find("li a").each(function(m){if(!f){var n=b(this).text();if(n.indexOf(l)==0||n.indexOf(c)==0){if(e._prevChar[0]==l){if(e._prevChar[1]<m){j(this,m)}}else{j(this,m)}}}});this._prevChar[0]=l}},_uiHash:function(){var e=this.index();return{index:e,option:b("option",this.element).get(e),value:this.element[0].value}},open:function(f){var e=this;if(this.newelement.attr("aria-disabled")!="true"){this._closeOthers(f);this.newelement.addClass("ui-state-active");if(e.options.wrapperElement){this.list.parent().appendTo("body")}else{this.list.appendTo("body")}this.list.addClass(e.widgetBaseClass+"-open").attr("aria-hidden",false);this._refreshPosition();this.list.find("li:not(."+e.widgetBaseClass+"-group):eq("+this._selectedIndex()+") a")[0].focus();if(this.options.style=="dropdown"){this.newelement.removeClass("ui-corner-all").addClass("ui-corner-top")}this._trigger("open",f,this._uiHash())}},close:function(f,e){if(this.newelement.is(".ui-state-active")){this.newelement.removeClass("ui-state-active");this.list.attr("aria-hidden",true).removeClass(this.widgetBaseClass+"-open");if(this.options.style=="dropdown"){this.newelement.removeClass("ui-corner-top").addClass("ui-corner-all")}if(e){this.newelement.focus()}this._trigger("close",f,this._uiHash())}},change:function(e){this.element.trigger("change");this._trigger("change",e,this._uiHash())},select:function(e){this._trigger("select",e,this._uiHash())},_closeOthers:function(e){b("."+this.widgetBaseClass+".ui-state-active").not(this.newelement).each(function(){b(this).data("selectelement").selectmenu("close",e)});b("."+this.widgetBaseClass+".ui-state-hover").trigger("mouseout")},_toggle:function(f,e){if(this.list.is("."+this.widgetBaseClass+"-open")){this.close(f,e)}else{this.open(f)}},_formatText:function(e){return(this.options.format?this.options.format(e):e)},_selectedIndex:function(){return this.element[0].selectedIndex},_selectedOptionLi:function(){return this._optionLis.eq(this._selectedIndex())},_focusedOptionLi:function(){return this.list.find("."+this.widgetBaseClass+"-item-focus")},_moveSelection:function(g){var f=parseInt(this._selectedOptionLi().data("index"),10);var e=f+g;if(e>=0){return this._optionLis.eq(e).trigger("mouseup")}},_moveFocus:function(h){if(!isNaN(h)){var g=parseInt(this._focusedOptionLi().data("index")||0,10);var f=g+h}else{var f=parseInt(this._optionLis.filter(h).data("index"),10)}if(f<0){f=0}if(f>this._optionLis.size()-1){f=this._optionLis.size()-1}var e=this.widgetBaseClass+"-item-"+Math.round(Math.random()*1000);this._focusedOptionLi().find("a:eq(0)").attr("id","");if(this._optionLis.eq(f).hasClass(this.namespace+"-state-disabled")){(h>0)?h++:h--;this._moveFocus(h,f)}else{this._optionLis.eq(f).find("a:eq(0)").attr("id",e).focus()}this.list.attr("aria-activedescendant",e)},_scrollPage:function(f){var e=Math.floor(this.list.outerHeight()/this.list.find("li:first").outerHeight());e=(f=="up"?-e:e);this._moveFocus(e)},_setOption:function(e,f){this.options[e]=f;if(e=="disabled"){this.close();this.element.add(this.newelement).add(this.list)[f?"addClass":"removeClass"](this.widgetBaseClass+"-disabled "+this.namespace+"-state-disabled").attr("aria-disabled",f)}},disable:function(e,f){if(typeof(e)=="undefined"){this._setOption("disabled",true)}else{if(f=="optgroup"){this._disableOptgroup(e)}else{this._disableOption(e)}}},enable:function(e,f){if(typeof(e)=="undefined"){this._setOption("disabled",false)}else{if(f=="optgroup"){this._enableOptgroup(e)}else{this._enableOption(e)}}},_disabled:function(e){return b(e).hasClass(this.namespace+"-state-disabled")},_disableOption:function(e){var f=this._optionLis.eq(e);if(f){f.addClass(this.namespace+"-state-disabled").find("a").attr("aria-disabled",true);this.element.find("option").eq(e).attr("disabled","disabled")}},_enableOption:function(e){var f=this._optionLis.eq(e);if(f){f.removeClass(this.namespace+"-state-disabled").find("a").attr("aria-disabled",false);this.element.find("option").eq(e).removeAttr("disabled")}},_disableOptgroup:function(f){var e=this.list.find("li."+this.widgetBaseClass+"-group-"+f);if(e){e.addClass(this.namespace+"-state-disabled").attr("aria-disabled",true);this.element.find("optgroup").eq(f).attr("disabled","disabled")}},_enableOptgroup:function(f){var e=this.list.find("li."+this.widgetBaseClass+"-group-"+f);if(e){e.removeClass(this.namespace+"-state-disabled").attr("aria-disabled",false);this.element.find("optgroup").eq(f).removeAttr("disabled")}},index:function(e){if(arguments.length){if(!this._disabled(b(this._optionLis[e]))){this.element[0].selectedIndex=e;this._refreshValue()}else{return false}}else{return this._selectedIndex()}},value:function(e){if(arguments.length){this.element[0].value=e;this._refreshValue()}else{return this.element[0].value}},_refreshValue:function(){var g=(this.options.style=="popup")?" ui-state-active":"";var f=this.widgetBaseClass+"-item-"+Math.round(Math.random()*1000);this.list.find("."+this.widgetBaseClass+"-item-selected").removeClass(this.widgetBaseClass+"-item-selected"+g).find("a").attr("aria-selected","false").attr("id","");this._selectedOptionLi().addClass(this.widgetBaseClass+"-item-selected"+g).find("a").attr("aria-selected","true").attr("id",f);var e=(this.newelement.data("optionClasses")?this.newelement.data("optionClasses"):"");var h=(this._selectedOptionLi().data("optionClasses")?this._selectedOptionLi().data("optionClasses"):"");this.newelement.removeClass(e).data("optionClasses",h).addClass(h).find("."+this.widgetBaseClass+"-status").html(this._selectedOptionLi().find("a:eq(0)").html());this.list.attr("aria-activedescendant",f)},_refreshPosition:function(){var g=this.options;if(g.style=="popup"&&!g.positionOptions.offset){var f=this._selectedOptionLi();var e="0 -"+(f.outerHeight()+f.offset().top-this.list.offset().top)}this.list.css({zIndex:this.element.zIndex()}).position({of:g.positionOptions.of||this.newelement,my:g.positionOptions.my,at:g.positionOptions.at,offset:g.positionOptions.offset||e})}})})(jQuery);(function(b){b.extend(b.fn,{validate:function(e){if(!this.length){e&&e.debug&&window.console&&console.warn("nothing selected, can't validate, returning nothing");return}var f=b.data(this[0],"validator");if(f){return f}f=new b.validator(e,this[0]);b.data(this[0],"validator",f);if(f.settings.onsubmit){this.find("input, button").filter(".cancel").click(function(){f.cancelSubmit=true});if(f.settings.submitHandler){this.find("input, button").filter(":submit").click(function(){f.submitButton=this})}this.submit(function(g){if(f.settings.debug){g.preventDefault()}function h(){if(f.settings.submitHandler){if(f.submitButton){var i=b("<input type='hidden'/>").attr("name",f.submitButton.name).val(f.submitButton.value).appendTo(f.currentForm)}f.settings.submitHandler.call(f,f.currentForm);if(f.submitButton){i.remove()}return false}return true}if(f.cancelSubmit){f.cancelSubmit=false;return h()}if(f.form()){if(f.pendingRequest){f.formSubmitted=true;return false}return h()}else{f.focusInvalid();return false}})}return f},valid:function(){if(b(this[0]).is("form")){return this.validate().form()}else{var f=true;var e=b(this[0].form).validate();this.each(function(){f&=e.element(this)});return f}},removeAttrs:function(g){var e={},f=this;b.each(g.split(/\s/),function(h,i){e[i]=f.attr(i);f.removeAttr(i)});return e},rules:function(h,e){var j=this[0];if(h){var g=b.data(j.form,"validator").settings;var l=g.rules;var m=b.validator.staticRules(j);switch(h){case"add":b.extend(m,b.validator.normalizeRule(e));l[j.name]=m;if(e.messages){g.messages[j.name]=b.extend(g.messages[j.name],e.messages)}break;case"remove":if(!e){delete l[j.name];return m}var k={};b.each(e.split(/\s/),function(n,o){k[o]=m[o];delete m[o]});return k}}var i=b.validator.normalizeRules(b.extend({},b.validator.metadataRules(j),b.validator.classRules(j),b.validator.attributeRules(j),b.validator.staticRules(j)),j);if(i.required){var f=i.required;delete i.required;i=b.extend({required:f},i)}return i}});b.extend(b.expr[":"],{blank:function(e){return !b.trim(""+e.value)},filled:function(e){return !!b.trim(""+e.value)},unchecked:function(e){return !e.checked}});b.validator=function(e,f){this.settings=b.extend(true,{},b.validator.defaults,e);this.currentForm=f;this.init()};b.validator.format=function(e,f){if(arguments.length==1){return function(){var g=b.makeArray(arguments);g.unshift(e);return b.validator.format.apply(this,g)}}if(arguments.length>2&&f.constructor!=Array){f=b.makeArray(arguments).slice(1)}if(f.constructor!=Array){f=[f]}b.each(f,function(g,h){e=e.replace(new RegExp("\\{"+g+"\\}","g"),h)});return e};b.extend(b.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"label",focusInvalid:true,errorContainer:b([]),errorLabelContainer:b([]),onsubmit:true,ignore:[],ignoreTitle:false,onfocusin:function(e){this.lastActive=e;if(this.settings.focusCleanup&&!this.blockFocusCleanup){this.settings.unhighlight&&this.settings.unhighlight.call(this,e,this.settings.errorClass,this.settings.validClass);this.errorsFor(e).hide()}},onfocusout:function(e){if(!this.checkable(e)&&(e.name in this.submitted||!this.optional(e))){this.element(e)}},onkeyup:function(e){if(e.name in this.submitted||e==this.lastElement){this.element(e)}},onclick:function(e){if(e.name in this.submitted){this.element(e)}else{if(e.parentNode.name in this.submitted){this.element(e.parentNode)}}},highlight:function(g,e,f){b(g).addClass(e).removeClass(f)},unhighlight:function(g,e,f){b(g).removeClass(e).addClass(f)}},setDefaults:function(e){b.extend(b.validator.defaults,e)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",accept:"Please enter a value with a valid extension.",maxlength:b.validator.format("Please enter no more than {0} characters."),minlength:b.validator.format("Please enter at least {0} characters."),rangelength:b.validator.format("Please enter a value between {0} and {1} characters long."),range:b.validator.format("Please enter a value between {0} and {1}."),max:b.validator.format("Please enter a value less than or equal to {0}."),min:b.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:false,prototype:{init:function(){this.labelContainer=b(this.settings.errorLabelContainer);this.errorContext=this.labelContainer.length&&this.labelContainer||b(this.currentForm);this.containers=b(this.settings.errorContainer).add(this.settings.errorLabelContainer);this.submitted={};this.valueCache={};this.pendingRequest=0;this.pending={};this.invalid={};this.reset();var e=(this.groups={});b.each(this.settings.groups,function(h,i){b.each(i.split(/\s/),function(k,j){e[j]=h})});var g=this.settings.rules;b.each(g,function(h,i){g[h]=b.validator.normalizeRule(i)});function f(j){var i=b.data(this[0].form,"validator"),h="on"+j.type.replace(/^validate/,"");i.settings[h]&&i.settings[h].call(i,this[0])}b(this.currentForm).validateDelegate(":text, :password, :file, select, textarea","focusin focusout keyup",f).validateDelegate(":radio, :checkbox, select, option","click",f);if(this.settings.invalidHandler){b(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler)}},form:function(){this.checkForm();b.extend(this.submitted,this.errorMap);this.invalid=b.extend({},this.errorMap);if(!this.valid()){b(this.currentForm).triggerHandler("invalid-form",[this])}this.showErrors();return this.valid()},checkForm:function(){this.prepareForm();for(var e=0,f=(this.currentElements=this.elements());f[e];e++){this.check(f[e])}return this.valid()},element:function(f){f=this.clean(f);this.lastElement=f;this.prepareElement(f);this.currentElements=b(f);var e=this.check(f);if(e){delete this.invalid[f.name]}else{this.invalid[f.name]=true}if(!this.numberOfInvalids()){this.toHide=this.toHide.add(this.containers)}this.showErrors();return e},showErrors:function(f){if(f){b.extend(this.errorMap,f);this.errorList=[];for(var e in f){this.errorList.push({message:f[e],element:this.findByName(e)[0]})}this.successList=b.grep(this.successList,function(g){return !(g.name in f)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){if(b.fn.resetForm){b(this.currentForm).resetForm()}this.submitted={};this.prepareForm();this.hideErrors();this.elements().removeClass(this.settings.errorClass)},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(g){var f=0;for(var e in g){f++}return f},hideErrors:function(){this.addWrapper(this.toHide).hide()},valid:function(){return this.size()==0},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid){try{b(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(f){}}},findLastActive:function(){var e=this.lastActive;return e&&b.grep(this.errorList,function(f){return f.element.name==e.name}).length==1&&e},elements:function(){var f=this,e={};return b([]).add(this.currentForm.elements).filter(":input").not(":submit, :reset, :image, [disabled]").not(this.settings.ignore).filter(function(){!this.name&&f.settings.debug&&window.console&&console.error("%o has no name assigned",this);if(this.name in e||!f.objectLength(b(this).rules())){return false}e[this.name]=true;return true})},clean:function(e){return b(e)[0]},errors:function(){return b(this.settings.errorElement+"."+this.settings.errorClass,this.errorContext)},reset:function(){this.successList=[];this.errorList=[];this.errorMap={};this.toShow=b([]);this.toHide=b([]);this.currentElements=b([])},prepareForm:function(){this.reset();this.toHide=this.errors().add(this.containers)},prepareElement:function(e){this.reset();this.toHide=this.errorsFor(e)},check:function(g){g=this.clean(g);if(this.checkable(g)){g=this.findByName(g.name)[0]}var k=b(g).rules();var h=false;for(method in k){var j={method:method,parameters:k[method]};try{var f=b.validator.methods[method].call(this,g.value.replace(/\r/g,""),g,j.parameters);if(f=="dependency-mismatch"){h=true;continue}h=false;if(f=="pending"){this.toHide=this.toHide.not(this.errorsFor(g));return}if(!f){this.formatAndAdd(g,j);return false}}catch(i){this.settings.debug&&window.console&&console.log("exception occured when checking element "+g.id+", check the '"+j.method+"' method",i);throw i}}if(h){return}if(this.objectLength(k)){this.successList.push(g)}return true},customMetaMessage:function(e,g){if(!b.metadata){return}var f=this.settings.meta?b(e).metadata()[this.settings.meta]:b(e).metadata();return f&&f.messages&&f.messages[g]},customMessage:function(f,g){var e=this.settings.messages[f];return e&&(e.constructor==String?e:e[g])},findDefined:function(){for(var e=0;e<arguments.length;e++){if(arguments[e]!==undefined){return arguments[e]}}return undefined},defaultMessage:function(e,f){return this.findDefined(this.customMessage(e.name,f),this.customMetaMessage(e,f),!this.settings.ignoreTitle&&e.title||undefined,b.validator.messages[f],"<strong>Warning: No message defined for "+e.name+"</strong>")},formatAndAdd:function(f,h){var g=this.defaultMessage(f,h.method),e=/\$?\{(\d+)\}/g;if(typeof g=="function"){g=g.call(this,h.parameters,f)}else{if(e.test(g)){g=jQuery.format(g.replace(e,"{$1}"),h.parameters)}}this.errorList.push({message:g,element:f});this.errorMap[f.name]=g;this.submitted[f.name]=g},addWrapper:function(e){if(this.settings.wrapper){e=e.add(e.parent(this.settings.wrapper))}return e},defaultShowErrors:function(){for(var f=0;this.errorList[f];f++){var e=this.errorList[f];this.settings.highlight&&this.settings.highlight.call(this,e.element,this.settings.errorClass,this.settings.validClass);this.showLabel(e.element,e.message)}if(this.errorList.length){this.toShow=this.toShow.add(this.containers)}if(this.settings.success){for(var f=0;this.successList[f];f++){this.showLabel(this.successList[f])}}if(this.settings.unhighlight){for(var f=0,g=this.validElements();g[f];f++){this.settings.unhighlight.call(this,g[f],this.settings.errorClass,this.settings.validClass)}}this.toHide=this.toHide.not(this.toShow);this.hideErrors();this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return b(this.errorList).map(function(){return this.element})},showLabel:function(f,g){var e=this.errorsFor(f);if(e.length){e.removeClass().addClass(this.settings.errorClass);e.attr("generated")&&e.html(g)}else{e=b("<"+this.settings.errorElement+"/>").attr({"for":this.idOrName(f),generated:true}).addClass(this.settings.errorClass).html(g||"");if(this.settings.wrapper){e=e.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()}if(!this.labelContainer.append(e).length){this.settings.errorPlacement?this.settings.errorPlacement(e,b(f)):e.insertAfter(f)}}if(!g&&this.settings.success){e.text("");typeof this.settings.success=="string"?e.addClass(this.settings.success):this.settings.success(e)}this.toShow=this.toShow.add(e)},errorsFor:function(f){var e=this.idOrName(f);return this.errors().filter(function(){return b(this).attr("for")==e})},idOrName:function(e){return this.groups[e.name]||(this.checkable(e)?e.name:e.id||e.name)},checkable:function(e){return/radio|checkbox/i.test(e.type)},findByName:function(e){var f=this.currentForm;return b(document.getElementsByName(e)).map(function(g,h){return h.form==f&&h.name==e&&h||null})},getLength:function(f,e){switch(e.nodeName.toLowerCase()){case"select":return b("option:selected",e).length;case"input":if(this.checkable(e)){return this.findByName(e.name).filter(":checked").length}}return f.length},depend:function(f,e){return this.dependTypes[typeof f]?this.dependTypes[typeof f](f,e):true},dependTypes:{"boolean":function(f,e){return f},string:function(f,e){return !!b(f,e.form).length},"function":function(f,e){return f(e)}},optional:function(e){return !b.validator.methods.required.call(this,b.trim(e.value),e)&&"dependency-mismatch"},startRequest:function(e){if(!this.pending[e.name]){this.pendingRequest++;this.pending[e.name]=true}},stopRequest:function(e,f){this.pendingRequest--;if(this.pendingRequest<0){this.pendingRequest=0}delete this.pending[e.name];if(f&&this.pendingRequest==0&&this.formSubmitted&&this.form()){b(this.currentForm).submit();this.formSubmitted=false}else{if(!f&&this.pendingRequest==0&&this.formSubmitted){b(this.currentForm).triggerHandler("invalid-form",[this]);this.formSubmitted=false}}},previousValue:function(e){return b.data(e,"previousValue")||b.data(e,"previousValue",{old:null,valid:true,message:this.defaultMessage(e,"remote")})}},classRuleSettings:{required:{required:true},email:{email:true},url:{url:true},date:{date:true},dateISO:{dateISO:true},dateDE:{dateDE:true},number:{number:true},numberDE:{numberDE:true},digits:{digits:true},creditcard:{creditcard:true}},addClassRules:function(e,f){e.constructor==String?this.classRuleSettings[e]=f:b.extend(this.classRuleSettings,e)},classRules:function(f){var g={};var e=b(f).attr("class");e&&b.each(e.split(" "),function(){if(this in b.validator.classRuleSettings){b.extend(g,b.validator.classRuleSettings[this])}});return g},attributeRules:function(f){var h={};var e=b(f);for(method in b.validator.methods){var g=e.attr(method);if(g){h[method]=g}}if(h.maxlength&&/-1|2147483647|524288/.test(h.maxlength)){delete h.maxlength}return h},metadataRules:function(e){if(!b.metadata){return{}}var f=b.data(e.form,"validator").settings.meta;return f?b(e).metadata()[f]:b(e).metadata()},staticRules:function(f){var g={};var e=b.data(f.form,"validator");if(e.settings.rules){g=b.validator.normalizeRule(e.settings.rules[f.name])||{}}return g},normalizeRules:function(f,e){b.each(f,function(i,h){if(h===false){delete f[i];return}if(h.param||h.depends){var g=true;switch(typeof h.depends){case"string":g=!!b(h.depends,e.form).length;break;case"function":g=h.depends.call(e,e);break}if(g){f[i]=h.param!==undefined?h.param:true}else{delete f[i]}}});b.each(f,function(g,h){f[g]=b.isFunction(h)?h(e):h});b.each(["minlength","maxlength","min","max"],function(){if(f[this]){f[this]=Number(f[this])}});b.each(["rangelength","range"],function(){if(f[this]){f[this]=[Number(f[this][0]),Number(f[this][1])]}});if(b.validator.autoCreateRanges){if(f.min&&f.max){f.range=[f.min,f.max];delete f.min;delete f.max}if(f.minlength&&f.maxlength){f.rangelength=[f.minlength,f.maxlength];delete f.minlength;delete f.maxlength}}if(f.messages){delete f.messages}return f},normalizeRule:function(f){if(typeof f=="string"){var e={};b.each(f.split(/\s/),function(){e[this]=true});f=e}return f},addMethod:function(e,g,f){b.validator.methods[e]=g;b.validator.messages[e]=f!=undefined?f:b.validator.messages[e];if(g.length<3){b.validator.addClassRules(e,b.validator.normalizeRule(e))}},methods:{required:function(f,e,h){if(!this.depend(h,e)){return"dependency-mismatch"}switch(e.nodeName.toLowerCase()){case"select":var g=b(e).val();return g&&g.length>0;case"input":if(this.checkable(e)){return this.getLength(f,e)>0}default:return b.trim(f).length>0}},remote:function(i,f,j){if(this.optional(f)){return"dependency-mismatch"}var g=this.previousValue(f);if(!this.settings.messages[f.name]){this.settings.messages[f.name]={}}g.originalMessage=this.settings.messages[f.name].remote;this.settings.messages[f.name].remote=g.message;j=typeof j=="string"&&{url:j}||j;if(g.old!==i){g.old=i;var e=this;this.startRequest(f);var h={};h[f.name]=i;b.ajax(b.extend(true,{url:j,mode:"abort",port:"validate"+f.name,dataType:"json",data:h,success:function(l){e.settings.messages[f.name].remote=g.originalMessage;var n=l===true;if(n){var k=e.formSubmitted;e.prepareElement(f);e.formSubmitted=k;e.successList.push(f);e.showErrors()}else{var o={};var m=(g.message=l||e.defaultMessage(f,"remote"));o[f.name]=b.isFunction(m)?m(i):m;e.showErrors(o)}g.valid=n;e.stopRequest(f,n)}},j));return"pending"}else{if(this.pending[f.name]){return"pending"}}return g.valid},minlength:function(f,e,g){return this.optional(e)||this.getLength(b.trim(f),e)>=g},maxlength:function(f,e,g){return this.optional(e)||this.getLength(b.trim(f),e)<=g},rangelength:function(g,e,h){var f=this.getLength(b.trim(g),e);return this.optional(e)||(f>=h[0]&&f<=h[1])},min:function(f,e,g){return this.optional(e)||f>=g},max:function(f,e,g){return this.optional(e)||f<=g},range:function(f,e,g){return this.optional(e)||(f>=g[0]&&f<=g[1])},email:function(f,e){return this.optional(e)||/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i.test(f)},url:function(f,e){return this.optional(e)||/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(f)},date:function(f,e){return this.optional(e)||!/Invalid|NaN/.test(new Date(f))},dateISO:function(f,e){return this.optional(e)||/^\d{4}[\/-]\d{1,2}[\/-]\d{1,2}$/.test(f)},number:function(f,e){return this.optional(e)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)(?:\.\d+)?$/.test(f)},digits:function(f,e){return this.optional(e)||/^\d+$/.test(f)},creditcard:function(i,f){if(this.optional(f)){return"dependency-mismatch"}if(/[^0-9-]+/.test(i)){return false}var j=0,h=0,e=false;i=i.replace(/\D/g,"");for(var k=i.length-1;k>=0;k--){var g=i.charAt(k);var h=parseInt(g,10);if(e){if((h*=2)>9){h-=9}}j+=h;e=!e}return(j%10)==0},accept:function(f,e,g){g=typeof g=="string"?g.replace(/,/g,"|"):"png|jpe?g|gif";return this.optional(e)||f.match(new RegExp(".("+g+")$","i"))},equalTo:function(f,e,h){var g=b(h).unbind(".validate-equalTo").bind("blur.validate-equalTo",function(){b(e).valid()});return f==g.val()}}});b.format=b.validator.format})(jQuery);(function(f){var e=f.ajax;var b={};f.ajax=function(h){h=f.extend(h,f.extend({},f.ajaxSettings,h));var g=h.port;if(h.mode=="abort"){if(b[g]){b[g].abort()}return(b[g]=e.apply(this,arguments))}return e.apply(this,arguments)}})(jQuery);(function(b){if(!jQuery.event.special.focusin&&!jQuery.event.special.focusout&&document.addEventListener){b.each({focus:"focusin",blur:"focusout"},function(f,e){b.event.special[e]={setup:function(){this.addEventListener(f,g,true)},teardown:function(){this.removeEventListener(f,g,true)},handler:function(h){arguments[0]=b.event.fix(h);arguments[0].type=e;return b.event.handle.apply(this,arguments)}};function g(h){h=b.event.fix(h);h.type=e;return b.event.handle.call(this,h)}})}b.extend(b.fn,{validateDelegate:function(g,f,e){return this.bind(f,function(h){var i=b(h.target);if(i.is(g)){return e.apply(i,arguments)}})}})})(jQuery);window.Modernizr=function(Z,ac,I){function K(f,e){return(""+f).indexOf(e)!==-1}function T(f,e){for(var h in f){if(Y[f[h]]!==I&&(!e||e(f[h],J))){return true}}}function W(f,e){var h=f.charAt(0).toUpperCase()+f.substr(1);h=(f+" "+C.join(h+" ")+h).split(" ");return !!T(h,e)}function b(){ab.input=function(f){for(var e=0,h=f.length;e<h;e++){x[f[e]]=!!(f[e] in aa)}return x}("autocomplete autofocus list placeholder max min multiple pattern required step".split(" "));ab.inputtypes=function(f){for(var e=0,i,h=f.length;e<h;e++){aa.setAttribute("type",f[e]);if(i=aa.type!=="text"){aa.value=t;if(/^range$/.test(aa.type)&&aa.style.WebkitAppearance!==I){X.appendChild(aa);i=ac.defaultView;i=i.getComputedStyle&&i.getComputedStyle(aa,null).WebkitAppearance!=="textfield"&&aa.offsetHeight!==0;X.removeChild(aa)}else{/^(search|tel)$/.test(aa.type)||(i=/^(url|email)$/.test(aa.type)?aa.checkValidity&&aa.checkValidity()===false:aa.value!=t)}}r[f[e]]=!!i}return r}("search tel url email datetime date month week time datetime-local number range color".split(" "))}var ab={},X=ac.documentElement,J=ac.createElement("modernizr"),Y=J.style,aa=ac.createElement("input"),t=":)",p=Object.prototype.toString,U=" -webkit- -moz- -o- -ms- -khtml- ".split(" "),C="Webkit Moz O ms Khtml".split(" "),B={svg:"http://www.w3.org/2000/svg"},ad={},r={},x={},m=[],z,k=function(f){var e=document.createElement("style"),h=ac.createElement("div");e.textContent=f+"{#modernizr{height:3px}}";(ac.head||ac.getElementsByTagName("head")[0]).appendChild(e);h.id="modernizr";X.appendChild(h);f=h.offsetHeight===3;e.parentNode.removeChild(e);h.parentNode.removeChild(h);return !!f},V=function(){var e={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return function(f,i){i=i||document.createElement(e[f]||"div");f="on"+f;var h=f in i;if(!h){i.setAttribute||(i=document.createElement("div"));if(i.setAttribute&&i.removeAttribute){i.setAttribute(f,"");h=typeof i[f]=="function";if(typeof i[f]!="undefined"){i[f]=I}i.removeAttribute(f)}}return h}}(),A={}.hasOwnProperty,g;g=typeof A!=="undefined"&&typeof A.call!=="undefined"?function(f,e){return A.call(f,e)}:function(f,e){return e in f&&typeof f.constructor.prototype[e]==="undefined"};ad.flexbox=function(){var f=ac.createElement("div"),e=ac.createElement("div");(function(j,n,l,i){n+=":";j.style.cssText=(n+U.join(l+";"+n)).slice(0,-n.length)+(i||"")})(f,"display","box","width:42px;padding:0;");e.style.cssText=U.join("box-flex:1;")+"width:10px;";f.appendChild(e);X.appendChild(f);var h=e.offsetWidth===42;f.removeChild(e);X.removeChild(f);return h};ad.canvas=function(){var e=ac.createElement("canvas");return !!(e.getContext&&e.getContext("2d"))};ad.canvastext=function(){return !!(ab.canvas&&typeof ac.createElement("canvas").getContext("2d").fillText=="function")};ad.webgl=function(){var f=ac.createElement("canvas");try{if(f.getContext("webgl")){return true}}catch(e){}try{if(f.getContext("experimental-webgl")){return true}}catch(h){}return false};ad.touch=function(){return"ontouchstart" in Z||k("@media ("+U.join("touch-enabled),(")+"modernizr)")};ad.geolocation=function(){return !!navigator.geolocation};ad.postmessage=function(){return !!Z.postMessage};ad.websqldatabase=function(){return !!Z.openDatabase};ad.indexedDB=function(){for(var f=-1,e=C.length;++f<e;){var h=C[f].toLowerCase();if(Z[h+"_indexedDB"]||Z[h+"IndexedDB"]){return true}}return false};ad.hashchange=function(){return V("hashchange",Z)&&(document.documentMode===I||document.documentMode>7)};ad.history=function(){return !!(Z.history&&history.pushState)};ad.draganddrop=function(){return V("drag")&&V("dragstart")&&V("dragenter")&&V("dragover")&&V("dragleave")&&V("dragend")&&V("drop")};ad.websockets=function(){return"WebSocket" in Z};ad.rgba=function(){Y.cssText="background-color:rgba(150,255,150,.5)";return K(Y.backgroundColor,"rgba")};ad.hsla=function(){Y.cssText="background-color:hsla(120,40%,100%,.5)";return K(Y.backgroundColor,"rgba")||K(Y.backgroundColor,"hsla")};ad.multiplebgs=function(){Y.cssText="background:url(//:),url(//:),red url(//:)";return/(url\s*\(.*?){3}/.test(Y.background)};ad.backgroundsize=function(){return W("backgroundSize")};ad.borderimage=function(){return W("borderImage")};ad.borderradius=function(){return W("borderRadius","",function(e){return K(e,"orderRadius")})};ad.boxshadow=function(){return W("boxShadow")};ad.textshadow=function(){return ac.createElement("div").style.textShadow===""};ad.opacity=function(){var e=U.join("opacity:.5;")+"";Y.cssText=e;return K(Y.opacity,"0.5")};ad.cssanimations=function(){return W("animationName")};ad.csscolumns=function(){return W("columnCount")};ad.cssgradients=function(){var e=("background-image:"+U.join("gradient(linear,left top,right bottom,from(#9f9),to(white));background-image:")+U.join("linear-gradient(left top,#9f9, white);background-image:")).slice(0,-17);Y.cssText=e;return K(Y.backgroundImage,"gradient")};ad.cssreflections=function(){return W("boxReflect")};ad.csstransforms=function(){return !!T(["transformProperty","WebkitTransform","MozTransform","OTransform","msTransform"])};ad.csstransforms3d=function(){var e=!!T(["perspectiveProperty","WebkitPerspective","MozPerspective","OPerspective","msPerspective"]);if(e){e=k("@media ("+U.join("transform-3d),(")+"modernizr)")}return e};ad.csstransitions=function(){return W("transitionProperty")};ad.fontface=function(){var f,e=ac.head||ac.getElementsByTagName("head")[0]||X,i=ac.createElement("style"),h=ac.implementation||{hasFeature:function(){return false}};i.type="text/css";e.insertBefore(i,e.firstChild);f=i.sheet||i.styleSheet;e=h.hasFeature("CSS2","")?function(n){if(!(f&&n)){return false}var l=false;try{f.insertRule(n,0);l=!/unknown/i.test(f.cssRules[0].cssText);f.deleteRule(f.cssRules.length-1)}catch(j){}return l}:function(j){if(!(f&&j)){return false}f.cssText=j;return f.cssText.length!==0&&!/unknown/i.test(f.cssText)&&f.cssText.replace(/\r+|\n+/g,"").indexOf(j.split(" ")[0])===0};ab._fontfaceready=function(j){j(ab.fontface)};return e('@font-face { font-family: "font"; src: "font.ttf"; }')};ad.video=function(){var f=ac.createElement("video"),e=!!f.canPlayType;if(e){e=new Boolean(e);e.ogg=f.canPlayType('video/ogg; codecs="theora"');e.h264=f.canPlayType('video/mp4; codecs="avc1.42E01E"')||f.canPlayType('video/mp4; codecs="avc1.42E01E, mp4a.40.2"');e.webm=f.canPlayType('video/webm; codecs="vp8, vorbis"')}return e};ad.audio=function(){var f=ac.createElement("audio"),e=!!f.canPlayType;if(e){e=new Boolean(e);e.ogg=f.canPlayType('audio/ogg; codecs="vorbis"');e.mp3=f.canPlayType("audio/mpeg;");e.wav=f.canPlayType('audio/wav; codecs="1"');e.m4a=f.canPlayType("audio/x-m4a;")||f.canPlayType("audio/aac;")}return e};ad.localstorage=function(){try{return"localStorage" in Z&&Z.localStorage!==null}catch(e){return false}};ad.sessionstorage=function(){try{return"sessionStorage" in Z&&Z.sessionStorage!==null}catch(e){return false}};ad.webWorkers=function(){return !!Z.Worker};ad.applicationcache=function(){return !!Z.applicationCache};ad.svg=function(){return !!ac.createElementNS&&!!ac.createElementNS(B.svg,"svg").createSVGRect};ad.inlinesvg=function(){var e=document.createElement("div");e.innerHTML="<svg/>";return(e.firstChild&&e.firstChild.namespaceURI)==B.svg};ad.smil=function(){return !!ac.createElementNS&&/SVG/.test(p.call(ac.createElementNS(B.svg,"animate")))};ad.svgclippaths=function(){return !!ac.createElementNS&&/SVG/.test(p.call(ac.createElementNS(B.svg,"clipPath")))};for(var y in ad){if(g(ad,y)){z=y.toLowerCase();ab[z]=ad[y]();m.push((ab[z]?"":"no-")+z)}}ab.input||b();ab.crosswindowmessaging=ab.postmessage;ab.historymanagement=ab.history;ab.addTest=function(f,e){f=f.toLowerCase();if(!ab[f]){e=!!e();X.className+=" "+(e?"":"no-")+f;ab[f]=e;return ab}};Y.cssText="";J=aa=null;Z.attachEvent&&function(){var e=ac.createElement("div");e.innerHTML="<elem></elem>";return e.childNodes.length!==1}()&&function(v,u){function q(E){for(var D=-1;++D<e;){E.createElement(n[D])}}function l(H,D){for(var F=H.length,G=-1,L,E=[];++G<F;){L=H[G];D=L.media||D;E.push(l(L.imports,D));E.push(L.cssText)}return E.join("")}var n="abbr|article|aside|audio|canvas|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video".split("|"),e=n.length,w=RegExp("<(/*)(abbr|article|aside|audio|canvas|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video)","gi"),j=RegExp("\\b(abbr|article|aside|audio|canvas|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video)\\b(?!.*[;}])","gi"),o=u.createDocumentFragment(),i=u.documentElement,s=i.firstChild,h=u.createElement("style"),f=u.createElement("body");h.media="all";q(u);q(o);v.attachEvent("onbeforeprint",function(){for(var G=-1;++G<e;){for(var D=u.getElementsByTagName(n[G]),E=D.length,F=-1;++F<E;){if(D[F].className.indexOf("iepp_")<0){D[F].className+=" iepp_"+n[G]}}}s.insertBefore(h,s.firstChild);h.styleSheet.cssText=l(u.styleSheets,"all").replace(j,".iepp_$1");o.appendChild(u.body);i.appendChild(f);f.innerHTML=o.firstChild.innerHTML.replace(w,"<$1bdo")});v.attachEvent("onafterprint",function(){f.innerHTML="";i.removeChild(f);s.removeChild(h);i.appendChild(o.firstChild)})}(this,document);ab._enableHTML5=true;ab._version="1.6";X.className=X.className.replace(/\bno-js\b/,"")+" js";X.className+=" "+m.join(" ");return ab}(this,this.document);(function(an,am){function O(f,e){this._d=f,this._isUTC=!!e}function M(f,e){var g=f+"";while(g.length<e){g="0"+g}return g}function K(u,t,s,r){var q=typeof t=="string",p=q?{}:t,o,n,m,l;return q&&r&&(p[t]=+r),o=(p.ms||p.milliseconds||0)+(p.s||p.seconds||0)*1000+(p.m||p.minutes||0)*60000+(p.h||p.hours||0)*3600000,n=(p.d||p.days||0)+(p.w||p.weeks||0)*7,m=(p.M||p.months||0)+(p.y||p.years||0)*12,o&&u.setTime(+u+o*s),n&&u.setDate(u.getDate()+n*s),m&&(l=u.getDate(),u.setDate(1),u.setMonth(u.getMonth()+m*s),u.setDate(Math.min((new an(u.getFullYear(),u.getMonth()+1,0)).getDate(),l))),u}function J(b){return Object.prototype.toString.call(b)==="[object Array]"}function I(e){return new an(e[0],e[1]||0,e[2]||1,e[3]||0,e[4]||0,e[5]||0,e[6]||0)}function H(B,A){function j(f){var b,e;switch(f){case"M":return z+1;case"Mo":return z+1+l(z+1);case"MM":return M(z+1,2);case"MMM":return al.monthsShort[z];case"MMMM":return al.months[z];case"D":return y;case"Do":return y+l(y);case"DD":return M(y,2);case"DDD":return b=new an(x,z,y),e=new an(x,0,1),~~((b-e)/86400000+1.5);case"DDDo":return b=j("DDD"),b+l(b);case"DDDD":return M(j("DDD"),3);case"d":return w;case"do":return w+l(w);case"ddd":return al.weekdaysShort[w];case"dddd":return al.weekdays[w];case"w":return b=new an(x,z,y-w+5),e=new an(b.getFullYear(),0,4),~~((b-e)/86400000/7+1.5);case"wo":return b=j("w"),b+l(b);case"ww":return M(j("w"),2);case"YY":return M(x%100,2);case"YYYY":return x;case"a":return v>11?k.pm:k.am;case"A":return v>11?k.PM:k.AM;case"H":return v;case"HH":return M(v,2);case"h":return v%12||12;case"hh":return M(v%12||12,2);case"m":return u;case"mm":return M(u,2);case"s":return t;case"ss":return M(t,2);case"zz":case"z":return(B._d.toString().match(ac)||[""])[0].replace(ad,"");case"Z":return(s<0?"-":"+")+M(~~(Math.abs(s)/60),2)+":"+M(~~(Math.abs(s)%60),2);case"ZZ":return(s<0?"-":"+")+M(~~(10*Math.abs(s)/6),4);case"L":case"LL":case"LLL":case"LLLL":case"LT":return H(B,al.longDateFormat[f]);default:return f.replace(/(^\[)|(\\)|\]$/g,"")}}var z=B.month(),y=B.date(),x=B.year(),w=B.day(),v=B.hours(),u=B.minutes(),t=B.seconds(),s=-B.zone(),l=al.ordinal,k=al.meridiem;return A.replace(ae,j)}function Y(z,y){function m(f,e){var g;switch(f){case"M":case"MM":x[1]=~~e-1;break;case"MMM":case"MMMM":for(g=0;g<12;g++){if(al.monthsParse[g].test(e)){x[1]=g;break}}break;case"D":case"DD":case"DDD":case"DDDD":x[2]=~~e;break;case"YY":e=~~e,x[0]=e+(e>70?1900:2000);break;case"YYYY":x[0]=~~Math.abs(e);break;case"a":case"A":n=e.toLowerCase()==="pm";break;case"H":case"HH":case"h":case"hh":x[3]=~~e;break;case"m":case"mm":x[4]=~~e;break;case"s":case"ss":x[5]=~~e;break;case"Z":case"ZZ":u=!0,g=(e||"").match(T),g&&g[1]&&(w=~~g[1]),g&&g[2]&&(v=~~g[2]),g&&g[0]==="+"&&(w=-w,v=-v)}}var x=[0,0,1,0,0,0,0],w=0,v=0,u=!1,t=z.match(aa),s=y.match(ab),r=Math.min(t.length,s.length),q,n;for(q=0;q<r;q++){m(s[q],t[q])}return n&&x[3]<12&&(x[3]+=12),n===!1&&x[3]===12&&(x[3]=0),x[3]+=w,x[4]+=v,u?new an(an.UTC.apply({},x)):I(x)}function W(h,g){var l=Math.min(h.length,g.length),k=Math.abs(h.length-g.length),j=0,i;for(i=0;i<l;i++){~~h[i]!==~~g[i]&&j++}return j+k}function U(r,q){var p,o=r.match(aa),n=[],m=99,l,k,j;for(l=0;l<q.length;l++){k=Y(r,q[l]),j=W(o,H(new O(k),q[l]).match(aa)),j<m&&(m=j,p=k)}return p}function S(e){var g="YYYY-MM-DDT",f;if(Z.exec(e)){for(f=0;f<3;f++){if(V[f][1].exec(e)){g+=V[f][0];break}}return Y(e,g+"Z")}return new an(e)}function Q(g,f,i){var h=al.relativeTime[g];return typeof h=="function"?h(f||1,!!i,g):h.replace(/%d/i,f||1)}function N(k,j){var q=ak(Math.abs(k)/1000),p=ak(q/60),o=ak(p/60),n=ak(o/24),m=ak(n/365),l=q<45&&["s",q]||p===1&&["m"]||p<45&&["mm",p]||o===1&&["h"]||o<22&&["hh",o]||n===1&&["d"]||n<=25&&["dd",n]||n<=45&&["M"]||n<345&&["MM",ak(n/30)]||m===1&&["y"]||["yy",m];return l[2]=j,Q.apply({},l)}function L(f,e){al.fn[f]=function(b){var g=this._isUTC?"UTC":"";return b!=null?(this._d["set"+g+e](b),this):this._d["get"+g+e]()}}var al,ak=Math.round,aj={},ai=typeof module!="undefined",ah="months|monthsShort|monthsParse|weekdays|weekdaysShort|longDateFormat|calendar|relativeTime|ordinal|meridiem".split("|"),ag,af=/^\/?Date\((\-?\d+)/i,ae=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|dddd?|do?|w[o|w]?|YYYY|YY|a|A|hh?|HH?|mm?|ss?|zz?|ZZ?|LT|LL?L?L?)/g,ad=/[^A-Z]/g,ac=/\([A-Za-z ]+\)|:[0-9]{2} [A-Z]{3} /g,ab=/(\\)?(MM?M?M?|dd?d?d|DD?D?D?|YYYY|YY|a|A|hh?|HH?|mm?|ss?|ZZ?|T)/g,aa=/(\\)?([0-9]+|([a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+|([\+\-]\d\d:?\d\d))/gi,Z=/\d{4}.\d\d.\d\d(T(\d\d(.\d\d(.\d\d)?)?)?([\+\-]\d\d:?\d\d)?)?/,X="YYYY-MM-DDTHH:mm:ssZ",V=[["HH:mm:ss",/T\d\d:\d\d:\d\d/],["HH:mm",/T\d\d:\d\d/],["HH",/T\d\d/]],T=/([\+\-]|\d\d)/gi,R="1.5.0",P="Month|Date|Hours|Minutes|Seconds|Milliseconds".split("|");al=function(i,h){if(i===null||i===""){return null}var g,b;return i&&i._d instanceof an?g=new an(+i._d):h?J(h)?g=U(i,h):g=Y(i,h):(b=af.exec(i),g=i===am?new an:b?new an(+b[1]):i instanceof an?i:J(i)?I(i):typeof i=="string"?S(i):new an(i)),new O(g)},al.utc=function(e,f){return J(e)?new O(new an(an.UTC.apply({},e)),!0):f&&e?al(e+" 0",f+" Z").utc():al(e).utc()},al.humanizeDuration=function(i,h,m){var l=+i,k=al.relativeTime,j;switch(h){case"seconds":l*=1000;break;case"minutes":l*=60000;break;case"hours":l*=3600000;break;case"days":l*=86400000;break;case"weeks":l*=604800000;break;case"months":l*=2592000000;break;case"years":l*=31536000000;break;default:m=!!h}return j=N(l,!m),m?(l<=0?k.past:k.future).replace(/%s/i,j):j},al.version=R,al.defaultFormat=X,al.lang=function(f,e){var m,l,k,g=[];if(e){for(m=0;m<12;m++){g[m]=new RegExp("^"+e.months[m]+"|^"+e.monthsShort[m].replace(".",""),"i")}e.monthsParse=e.monthsParse||g,aj[f]=e}if(aj[f]){for(m=0;m<ah.length;m++){l=ah[m],al[l]=aj[f][l]||al[l]}}else{ai&&(k=require("./lang/"+f),al.lang(f,k))}},al.lang("en",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},meridiem:{AM:"AM",am:"am",PM:"PM",pm:"pm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},ordinal:function(f){var e=f%10;return ~~(f%100/10)===1?"th":e===1?"st":e===2?"nd":e===3?"rd":"th"}}),al.isMoment=function(b){return b instanceof O},al.fn=O.prototype={clone:function(){return al(this)},valueOf:function(){return +this._d},"native":function(){return this._d},toString:function(){return this._d.toString()},toDate:function(){return this._d},utc:function(){return this._isUTC=!0,this},local:function(){return this._isUTC=!1,this},format:function(b){return H(this,b?b:al.defaultFormat)},add:function(f,e){return this._d=K(this._d,f,1,e),this},subtract:function(f,e){return this._d=K(this._d,f,-1,e),this},diff:function(v,u,t){var s=al(v),r=(this.zone()-s.zone())*60000,q=this._d-s._d-r,p=this.year()-s.year(),o=this.month()-s.month(),n=this.date()-s.date(),m;return u==="months"?m=p*12+o+n/30:u==="years"?m=p+o/12:m=u==="seconds"?q/1000:u==="minutes"?q/60000:u==="hours"?q/3600000:u==="days"?q/86400000:u==="weeks"?q/604800000:q,t?m:ak(m)},from:function(f,e){return al.humanizeDuration(this.diff(f),!e)},fromNow:function(b){return this.from(al(),b)},calendar:function(){var g=this.diff(al().sod(),"days",!0),f=al.calendar,i=f.sameElse,h=g<-6?i:g<-1?f.lastWeek:g<0?f.lastDay:g<1?f.sameDay:g<2?f.nextDay:g<7?f.nextWeek:i;return this.format(typeof h=="function"?h.apply(this):h)},isLeapYear:function(){var b=this.year();return b%4===0&&b%100!==0||b%400===0},isDST:function(){return this.zone()<al([this.year()]).zone()||this.zone()<al([this.year(),5]).zone()},day:function(f){var e=this._d.getDay();return f==null?e:this.add({d:f-e})},sod:function(){return this.clone().hours(0).minutes(0).seconds(0).milliseconds(0)},eod:function(){return this.sod().add({d:1,ms:-1})},zone:function(){return this._isUTC?0:this._d.getTimezoneOffset()},daysInMonth:function(){return this.clone().month(this.month()+1).date(0).date()}};for(ag=0;ag<P.length;ag++){L(P[ag].toLowerCase(),P[ag])}L("year","FullYear"),ai&&(module.exports=al),typeof window!="undefined"&&(window.moment=al),typeof define=="function"&&define.amd&&define("moment",[],function(){return al})})(Date);var Mustache=function(){var b={};var e=function(){};e.prototype={otag:"{{",ctag:"}}",pragmas:{},buffer:[],pragmas_implemented:{"IMPLICIT-ITERATOR":true},context:{},render:function(i,h,g,j){if(!j){this.context=h;this.buffer=[]}if(!this.includes("",i)){if(j){return i}else{this.send(i);return}}i=this.render_pragmas(i);var f=this.render_section(i,h,g);if(f===false){f=this.render_tags(i,h,g,j)}if(j){return f}else{this.sendLines(f)}},send:function(f){if(f!==""){this.buffer.push(f)}},sendLines:function(h){if(h){var f=h.split("\n");for(var g=0;g<f.length;g++){this.send(f[g])}}},render_pragmas:function(f){if(!this.includes("%",f)){return f}var h=this;var g=this.getCachedRegex("render_pragmas",function(j,i){return new RegExp(j+"%([\\w-]+) ?([\\w]+=[\\w]+)?"+i,"g")});return f.replace(g,function(k,i,j){if(!h.pragmas_implemented[i]){throw ({message:"This implementation of mustache doesn't understand the '"+i+"' pragma"})}h.pragmas[i]={};if(j){var l=j.split("=");h.pragmas[i][l[0]]=l[1]}return""})},render_partial:function(f,h,g){f=this.trim(f);if(!g||g[f]===undefined){throw ({message:"unknown_partial '"+f+"'"})}if(typeof(h[f])!="object"){return this.render(g[f],h,g,true)}return this.render(g[f],h[f],g,true)},render_section:function(h,g,f){if(!this.includes("#",h)&&!this.includes("^",h)){return false}var j=this;var i=this.getCachedRegex("render_section",function(l,k){return new RegExp("^([\\s\\S]*?)"+l+"(\\^|\\#)\\s*(.+)\\s*"+k+"\n*([\\s\\S]*?)"+l+"\\/\\s*\\3\\s*"+k+"\\s*([\\s\\S]*)$","g")});return h.replace(i,function(n,r,q,m,o,l){var t=r?j.render_tags(r,g,f,true):"",p=l?j.render(l,g,f,true):"",k,s=j.find(m,g);if(q==="^"){if(!s||j.is_array(s)&&s.length===0){k=j.render(o,g,f,true)}else{k=""}}else{if(q==="#"){if(j.is_array(s)){k=j.map(s,function(u){return j.render(o,j.create_context(u),f,true)}).join("")}else{if(j.is_object(s)){k=j.render(o,j.create_context(s),f,true)}else{if(typeof s==="function"){k=s.call(g,o,function(u){return j.render(u,g,f,true)})}else{if(s){k=j.render(o,g,f,true)}else{k=""}}}}}}return t+k+p})},render_tags:function(o,f,h,k){var j=this;var n=function(){return j.getCachedRegex("render_tags",function(q,i){return new RegExp(q+"(=|!|>|\\{|%)?([^\\/#\\^]+?)\\1?"+i+"+","g")})};var l=n();var m=function(r,i,q){switch(i){case"!":return"";case"=":j.set_delimiters(q);l=n();return"";case">":return j.render_partial(q,f,h);case"{":return j.find(q,f);default:return j.escape(j.find(q,f))}};var p=o.split("\n");for(var g=0;g<p.length;g++){p[g]=p[g].replace(l,m,this);if(!k){this.send(p[g])}}if(k){return p.join("\n")}},set_delimiters:function(g){var f=g.split(" ");this.otag=this.escape_regex(f[0]);this.ctag=this.escape_regex(f[1])},escape_regex:function(g){if(!arguments.callee.sRE){var f=["/",".","*","+","?","|","(",")","[","]","{","}","\\"];arguments.callee.sRE=new RegExp("(\\"+f.join("|\\")+")","g")}return g.replace(arguments.callee.sRE,"\\$1")},find:function(h,i){h=this.trim(h);function g(k){return k===false||k===0||k}var j;if(h.match(/([a-z_]+)\./ig)){var f=this.walk_context(h,i);if(g(f)){j=f}}else{if(g(i[h])){j=i[h]}else{if(g(this.context[h])){j=this.context[h]}}}if(typeof j==="function"){return j.apply(i)}if(j!==undefined){return j}return""},walk_context:function(f,g){var j=f.split(".");var i=(g[j[0]]!=undefined)?g:this.context;var h=i[j.shift()];while(h!=undefined&&j.length>0){i=h;h=h[j.shift()]}if(typeof h==="function"){return h.apply(i)}return h},includes:function(g,f){return f.indexOf(this.otag+g)!=-1},escape:function(f){f=String(f===null?"":f);return f.replace(/&(?!\w+;)|["'<>\\]/g,function(g){switch(g){case"&":return"&amp;";case'"':return"&quot;";case"'":return"&#39;";case"<":return"&lt;";case">":return"&gt;";default:return g}})},create_context:function(g){if(this.is_object(g)){return g}else{var h=".";if(this.pragmas["IMPLICIT-ITERATOR"]){h=this.pragmas["IMPLICIT-ITERATOR"].iterator}var f={};f[h]=g;return f}},is_object:function(f){return f&&typeof f=="object"},is_array:function(f){return Object.prototype.toString.call(f)==="[object Array]"},trim:function(f){return f.replace(/^\s*|\s*$/g,"")},map:function(k,h){if(typeof k.map=="function"){return k.map(h)}else{var j=[];var f=k.length;for(var g=0;g<f;g++){j.push(h(k[g]))}return j}},getCachedRegex:function(g,j){var i=b[this.otag];if(!i){i=b[this.otag]={}}var f=i[this.ctag];if(!f){f=i[this.ctag]={}}var h=f[g];if(!h){h=f[g]=j(this.otag,this.ctag)}return h}};return({name:"mustache.js",version:"0.4.0-dev",to_html:function(h,f,g,j){var i=new e();if(j){i.send=j}i.render(h,f||{},g);if(!j){return i.buffer.join("\n")}}})}();Rickshaw={namespace:function(g,k){var j=g.split(".");var b=typeof global!="undefined"?global:window;var f=b.Rickshaw;for(var e=1,h=j.length;e<h;e++){currentPart=j[e];f[currentPart]=f[currentPart]||{};f=f[currentPart]}return f},keys:function(f){var e=[];for(var b in f){e.push(b)}return e}};(function(y){var v=Object.prototype.toString,u="Null",l="Undefined",q="Boolean",f="Number",o="String",w="Object",p="[object Function]";function b(z){return v.call(z)===p}function t(z,B){for(var A in B){if(B.hasOwnProperty(A)){z[A]=B[A]}}return z}function n(z){if(k(z)!==w){throw new TypeError()}var A=[];for(var B in z){if(z.hasOwnProperty(B)){A.push(B)}}return A}function k(A){switch(A){case null:return u;case (void 0):return l}var z=typeof A;switch(z){case"boolean":return q;case"number":return f;case"string":return o}return w}function e(z){return typeof z==="undefined"}var r=Array.prototype.slice;function h(z){var A=z.toString().match(/^[\s\(]*function[^(]*\(([^)]*)\)/)[1].replace(/\/\/.*?[\r\n]|\/\*(?:.|[\r\n])*?\*\//g,"").replace(/\s+/g,"").split(",");return A.length==1&&!A[0]?[]:A}function j(A,B){var z=A;return function(){var C=i([x(z,this)],arguments);return B.apply(this,C)}}function i(C,z){var B=C.length,A=z.length;while(A--){C[B+A]=z[A]}return C}function g(A,z){A=r.call(A,0);return i(A,z)}function x(C,B){if(arguments.length<2&&e(arguments[0])){return this}var z=C,A=r.call(arguments,2);return function(){var D=g(A,arguments);return z.apply(B,D)}}var m=function(){};var s=(function(){var C=(function(){for(var D in {toString:1}){if(D==="toString"){return false}}return true})();function z(){}function A(){var G=null,F=[].slice.apply(arguments);if(b(F[0])){G=F.shift()}function D(){this.initialize.apply(this,arguments)}t(D,s.Methods);D.superclass=G;D.subclasses=[];if(G){z.prototype=G.prototype;D.prototype=new z;try{G.subclasses.push(D)}catch(I){}}for(var E=0,H=F.length;E<H;E++){D.addMethods(F[E])}if(!D.prototype.initialize){D.prototype.initialize=m}D.prototype.constructor=D;return D}function B(J){var F=this.superclass&&this.superclass.prototype,E=n(J);if(C){if(J.toString!=Object.prototype.toString){E.push("toString")}if(J.valueOf!=Object.prototype.valueOf){E.push("valueOf")}}for(var D=0,G=E.length;D<G;D++){var I=E[D],H=J[I];if(F&&b(H)&&h(H)[0]=="$super"){var K=H;H=j((function(L){return function(){return F[L].apply(this,arguments)}})(I),K);H.valueOf=x(K.valueOf,K);H.toString=x(K.toString,K)}this.prototype[I]=H}return this}return{create:A,Methods:{addMethods:B}}})();if(y.exports){y.exports.Class=s}else{y.Class=s}})(Rickshaw);Rickshaw.namespace("Rickshaw.Compat.ClassList");Rickshaw.Compat.ClassList=function(){if(typeof document!=="undefined"&&!("classList" in document.createElement("a"))){(function(m){var b="classList",i="prototype",p=(m.HTMLElement||m.Element)[i],e=Object,n=String[i].trim||function(){return this.replace(/^\s+|\s+$/g,"")},f=Array[i].indexOf||function(t){var s=0,r=this.length;for(;s<r;s++){if(s in this&&this[s]===t){return s}}return -1},q=function(r,s){this.name=r;this.code=DOMException[r];this.message=s},j=function(s,r){if(r===""){throw new q("SYNTAX_ERR","An invalid or illegal string was specified")}if(/\s/.test(r)){throw new q("INVALID_CHARACTER_ERR","String contains an invalid character")}return f.call(s,r)},g=function(v){var u=n.call(v.className),t=u?u.split(/\s+/):[],s=0,r=t.length;for(;s<r;s++){this.push(t[s])}this._updateClassName=function(){v.className=this.toString()}},h=g[i]=[],l=function(){return new g(this)};q[i]=Error[i];h.item=function(r){return this[r]||null};h.contains=function(r){r+="";return j(this,r)!==-1};h.add=function(r){r+="";if(j(this,r)===-1){this.push(r);this._updateClassName()}};h.remove=function(s){s+="";var r=j(this,s);if(r!==-1){this.splice(r,1);this._updateClassName()}};h.toggle=function(r){r+="";if(j(this,r)===-1){this.add(r)}else{this.remove(r)}};h.toString=function(){return this.join(" ")};if(e.defineProperty){var o={get:l,enumerable:true,configurable:true};try{e.defineProperty(p,b,o)}catch(k){if(k.number===-2146823252){o.enumerable=false;e.defineProperty(p,b,o)}}}else{if(e[i].__defineGetter__){p.__defineGetter__(b,l)}}}(self))}};if((typeof RICKSHAW_NO_COMPAT!=="undefined"&&!RICKSHAW_NO_COMPAT)||typeof RICKSHAW_NO_COMPAT==="undefined"){new Rickshaw.Compat.ClassList()}Rickshaw.namespace("Rickshaw.Graph");Rickshaw.Graph=function(e){this.element=e.element;this.interpolation=e.interpolation||"cardinal";this.series=e.series;this.offset="zero";this.stroke=e.stroke||false;var g=window.getComputedStyle(this.element,null);var h=parseInt(g.getPropertyValue("width"));var f=parseInt(g.getPropertyValue("height"));this.width=e.width||h||400;this.height=e.height||f||250;this.min=e.min;this.max=e.max;this.window={};this.updateCallbacks=[];var b=this;this.initialize=function(j){this.validateSeries(j.series);this.series.active=function(){return b.series.filter(function(k){return !k.disabled})};this.element.classList.add("rickshaw_graph");this.vis=d3.select(this.element).append("svg:svg").attr("width",this.width).attr("height",this.height);var i=[Rickshaw.Graph.Renderer.Stack,Rickshaw.Graph.Renderer.Line,Rickshaw.Graph.Renderer.Bar,Rickshaw.Graph.Renderer.Area,Rickshaw.Graph.Renderer.ScatterPlot];i.forEach(function(k){if(!k){return}b.registerRenderer(new k({graph:b}))});this.setRenderer(j.renderer||"stack");this.discoverRange()};this.validateSeries=function(j){if(!(j instanceof Array)&&!(j instanceof Rickshaw.Series)){var i=Object.prototype.toString.apply(j);throw"series is not an array: "+i}var k;j.forEach(function(l){if(!(l instanceof Object)){throw"series element is not an object: "+l}if(!(l.data)){throw"series has no data: "+JSON.stringify(l)}if(!(l.data instanceof Array)){throw"series data is not an array: "+JSON.stringify(l.data)}k=k||l.data.length;if(k&&l.data.length!=k){throw"series cannot have differing numbers of points: "+k+" vs "+l.data.length+"; see Rickshaw.Series.zeroFill()"}var n=typeof l.data[0].x;var m=typeof l.data[0].y;if(n!="number"||m!="number"){throw"x and y properties of points should be numbers instead of "+n+" and "+m}})};this.dataDomain=function(){var i=this.series[0].data;return[i[0].x,i.slice(-1).shift().x]};this.discoverRange=function(){var i=this.renderer.domain();this.x=d3.scale.linear().domain(i.x).range([0,this.width]);this.y=d3.scale.linear().domain(i.y).range([this.height,0]);this.y.magnitude=d3.scale.linear().domain(i.y).range([0,this.height])};this.render=function(){var i=this.stackData();this.discoverRange();this.renderer.render();this.updateCallbacks.forEach(function(j){j()})};this.update=this.render;this.stackData=function(){var m=this.series.active().map(function(i){return i.data}).map(function(i){return i.filter(function(n){return this._slice(n)},this)},this);this.stackData.hooks.data.forEach(function(i){m=i.f.apply(b,[m])});var l=d3.layout.stack();l.offset(b.offset);var k=l(m);this.stackData.hooks.after.forEach(function(i){k=i.f.apply(b,[m])});var j=0;this.series.forEach(function(i){if(i.disabled){return}i.stack=k[j++]});this.stackedData=k;return k};this.stackData.hooks={data:[],after:[]};this._slice=function(j){if(this.window.xMin||this.window.xMax){var i=true;if(this.window.xMin&&j.x<this.window.xMin){i=false}if(this.window.xMax&&j.x>this.window.xMax){i=false}return i}return true};this.onUpdate=function(i){this.updateCallbacks.push(i)};this.registerRenderer=function(i){this._renderers=this._renderers||{};this._renderers[i.name]=i};this.setRenderer=function(i){if(!this._renderers[i]){throw"couldn't find renderer "+i}this.renderer=this._renderers[i]};this.initialize(e)};Rickshaw.namespace("Rickshaw.Fixtures.Color");Rickshaw.Fixtures.Color=function(){this.schemes={};this.schemes.spectrum14=["#ecb796","#dc8f70","#b2a470","#92875a","#716c49","#d2ed82","#bbe468","#a1d05d","#e7cbe6","#d8aad6","#a888c2","#9dc2d3","#649eb9","#387aa3"].reverse();this.schemes.spectrum2000=["#57306f","#514c76","#646583","#738394","#6b9c7d","#84b665","#a7ca50","#bfe746","#e2f528","#fff726","#ecdd00","#d4b11d","#de8800","#de4800","#c91515","#9a0000","#7b0429","#580839","#31082b"];this.schemes.spectrum2001=["#2f243f","#3c2c55","#4a3768","#565270","#6b6b7c","#72957f","#86ad6e","#a1bc5e","#b8d954","#d3e04e","#ccad2a","#cc8412","#c1521d","#ad3821","#8a1010","#681717","#531e1e","#3d1818","#320a1b"];this.schemes.classic9=["#423d4f","#4a6860","#848f39","#a2b73c","#ddcb53","#c5a32f","#7d5836","#963b20","#7c2626","#491d37","#2f254a"].reverse();this.schemes.httpStatus={503:"#ea5029",502:"#d23f14",500:"#bf3613",410:"#efacea",409:"#e291dc",403:"#f457e8",408:"#e121d2",401:"#b92dae",405:"#f47ceb",404:"#a82a9f",400:"#b263c6",301:"#6fa024",302:"#87c32b",307:"#a0d84c",304:"#28b55c",200:"#1a4f74",206:"#27839f",201:"#52adc9",202:"#7c979f",203:"#a5b8bd",204:"#c1cdd1"};this.schemes.colorwheel=["#b5b6a9","#858772","#785f43","#96557e","#4682b4","#65b9ac","#73c03a","#cb513a"].reverse();this.schemes.cool=["#5e9d2f","#73c03a","#4682b4","#7bc3b8","#a9884e","#c1b266","#a47493","#c09fb5"];this.schemes.munin=["#00cc00","#0066b3","#ff8000","#ffcc00","#330099","#990099","#ccff00","#ff0000","#808080","#008f00","#00487d","#b35a00","#b38f00","#6b006b","#8fb300","#b30000","#bebebe","#80ff80","#80c9ff","#ffc080","#ffe680","#aa80ff","#ee00cc","#ff8080","#666600","#ffbfff","#00ffcc","#cc6699","#999900"]};Rickshaw.namespace("Rickshaw.Fixtures.RandomData");Rickshaw.Fixtures.RandomData=function(e){var g;e=e||1;var b=200;var f=Math.floor(new Date().getTime()/1000);this.addData=function(k){var j=Math.random()*100+15+b;var i=k[0].length;var h=1;k.forEach(function(m){var n=Math.random()*20;var l=j/25+h+++(Math.cos((i*h*11)/960)+2)*15+(Math.cos(i/7)+2)*7+(Math.cos(i/17)+2)*1;m.push({x:(i*e)+f,y:l+n})});b=j*0.85}};Rickshaw.namespace("Rickshaw.Fixtures.Time");Rickshaw.Fixtures.Time=function(){var b=new Date().getTimezoneOffset()*60;var e=this;this.months=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];this.units=[{name:"decade",seconds:86400*365.25*10,formatter:function(f){return(parseInt(f.getUTCFullYear()/10)*10)}},{name:"year",seconds:86400*365.25,formatter:function(f){return f.getUTCFullYear()}},{name:"month",seconds:86400*30.5,formatter:function(f){return e.months[f.getUTCMonth()]}},{name:"week",seconds:86400*7,formatter:function(f){return e.formatDate(f)}},{name:"day",seconds:86400,formatter:function(f){return f.getUTCDate()}},{name:"6 hour",seconds:3600*6,formatter:function(f){return e.formatTime(f)}},{name:"hour",seconds:3600,formatter:function(f){return e.formatTime(f)}},{name:"15 minute",seconds:60*15,formatter:function(f){return e.formatTime(f)}},{name:"minute",seconds:60,formatter:function(f){return f.getUTCMinutes()}},{name:"15 second",seconds:15,formatter:function(f){return f.getUTCSeconds()+"s"}},{name:"second",seconds:1,formatter:function(f){return f.getUTCSeconds()+"s"}}];this.unit=function(f){return this.units.filter(function(g){return f==g.name}).shift()};this.formatDate=function(f){return f.toUTCString().match(/, (\w+ \w+ \w+)/)[1]};this.formatTime=function(f){return f.toUTCString().match(/(\d+:\d+):/)[1]};this.ceil=function(h,f){if(f.name=="month"){var g=new Date((h+f.seconds-1)*1000);return new Date(g.getUTCFullYear(),g.getUTCMonth()+1,1,0,0,0,0).getTime()/1000}if(f.name=="year"){var g=new Date((h+f.seconds-1)*1000);return new Date(g.getUTCFullYear(),1,1,0,0,0,0).getTime()/1000}return Math.ceil(h/f.seconds)*f.seconds}};Rickshaw.namespace("Rickshaw.Fixtures.Number");Rickshaw.Fixtures.Number.formatKMBT=function(b){if(b>=1000000000000){return b/1000000000000+"T"}else{if(b>=1000000000){return b/1000000000+"B"}else{if(b>=1000000){return b/1000000+"M"}else{if(b>=1000){return b/1000+"K"}else{if(b<1&&b>0){return b.toFixed(2)}else{if(b==0){return""}else{return b}}}}}}};Rickshaw.Fixtures.Number.formatBase1024KMGTP=function(b){if(b>=1125899906842624){return b/1125899906842624+"P"}else{if(b>=1099511627776){return b/1099511627776+"T"}else{if(b>=1073741824){return b/1073741824+"G"}else{if(b>=1048576){return b/1048576+"M"}else{if(b>=1024){return b/1024+"K"}else{if(b<1&&b>0){return b.toFixed(2)}else{if(b==0){return""}else{return b}}}}}}}};Rickshaw.namespace("Rickshaw.Color.Palette");Rickshaw.Color.Palette=function(e){var b=new Rickshaw.Fixtures.Color();e=e||{};this.schemes={};this.scheme=b.schemes[e.scheme]||e.scheme||b.schemes.colorwheel;this.runningIndex=0;this.color=function(f){return this.scheme[f]||this.scheme[this.runningIndex++]||"#808080"}};Rickshaw.namespace("Graph.Ajax");Rickshaw.Graph.Ajax=function(e){var b=this;this.dataURL=e.dataURL;$.ajax({url:this.dataURL,complete:function(g,f){if(f==="error"){console.log("error loading dataURL: "+this.dataURL)}var i=JSON.parse(g.responseText);if(typeof e.onData==="function"){var h=e.onData(i);i=h}if(e.series){e.series.forEach(function(k){var j=k.key||k.name;if(!j){throw"series needs a key or a name"}i.forEach(function(n){var m=n.key||n.name;if(!m){throw"data needs a key or a name"}if(j==m){var l=["color","name","data"];l.forEach(function(o){k[o]=k[o]||n[o]})}})})}else{e.series=i}b.graph=new Rickshaw.Graph(e);b.graph.render();if(typeof e.onComplete=="function"){e.onComplete(b)}}})};Rickshaw.namespace("Rickshaw.Graph.Annotate");Rickshaw.Graph.Annotate=function(e){var f=this.graph=e.graph;this.elements={timeline:e.element};var b=this;this.data={};this.elements.timeline.classList.add("rickshaw_annotation_timeline");this.add=function(h,g){b.data[h]=b.data[h]||{boxes:[]};b.data[h].boxes.push({content:g})};this.update=function(){Rickshaw.keys(b.data).forEach(function(j){var g=b.data[j];var i=b.graph.x(j);if(i>b.graph.x.range()[1]){if(g.element){g.element.style.display="none"}return}if(!g.element){var h=g.element=document.createElement("div");h.classList.add("annotation");this.elements.timeline.appendChild(h);h.addEventListener("click",function(k){h.classList.toggle("active");g.line.classList.toggle("active")},false)}g.element.style.left=i+"px";g.element.style.display="block";g.boxes.forEach(function(l){var k=l.element;if(!k){k=l.element=document.createElement("div");k.classList.add("content");k.innerHTML=l.content;g.element.appendChild(k);g.line=document.createElement("div");g.line.classList.add("annotation_line");b.graph.element.appendChild(g.line)}g.line.style.left=i+"px"})},this)};this.graph.onUpdate(function(){b.update()})};Rickshaw.namespace("Rickshaw.Graph.Axis.Time");Rickshaw.Graph.Axis.Time=function(e){var b=this;this.graph=e.graph;this.elements=[];this.ticksTreatment=e.ticksTreatment||"plain";this.fixedTimeUnit=e.timeUnit;var f=new Rickshaw.Fixtures.Time();this.appropriateTimeUnit=function(){var i;var h=f.units;var j=this.graph.x.domain();var g=j[1]-j[0];h.forEach(function(k){if(Math.floor(g/k.seconds)>=2){i=i||k}});return(i||f.units[f.units.length-1])};this.tickOffsets=function(){var m=this.graph.x.domain();var l=this.fixedTimeUnit||this.appropriateTimeUnit();var k=Math.ceil((m[1]-m[0])/l.seconds);var g=m[0];var j=[];for(var h=0;h<k;h++){tickValue=f.ceil(g,l);g=tickValue+l.seconds/2;j.push({value:tickValue,unit:l})}return j};this.render=function(){this.elements.forEach(function(h){h.parentNode.removeChild(h)});this.elements=[];var g=this.tickOffsets();g.forEach(function(j){if(b.graph.x(j.value)>b.graph.x.range()[1]){return}var h=document.createElement("div");h.style.left=b.graph.x(j.value)+"px";h.classList.add("x_tick");h.classList.add(b.ticksTreatment);var i=document.createElement("div");i.classList.add("title");i.innerHTML=j.unit.formatter(new Date(j.value*1000));h.appendChild(i);b.graph.element.appendChild(h);b.elements.push(h)})};this.graph.onUpdate(function(){b.render()})};Rickshaw.namespace("Rickshaw.Graph.Axis.Y");Rickshaw.Graph.Axis.Y=function(f){var e=this;this.graph=f.graph;this.orientation=f.orientation||"right";var k=75;this.ticks=f.ticks||Math.floor(this.graph.height/k);this.tickSize=f.tickSize||4;this.ticksTreatment=f.ticksTreatment||"plain";if(f.element){var g=0.1;if(!f.width||!f.height){var i=window.getComputedStyle(f.element,null);var j=parseInt(i.getPropertyValue("width"));var h=parseInt(i.getPropertyValue("height"))}this.width=f.width||j||this.graph.width*g;this.height=f.height||h||this.graph.height;this.vis=d3.select(f.element).append("svg:svg").attr("class","rickshaw_graph y_axis").attr("width",this.width).attr("height",this.height*(1+g));this.element=this.vis[0][0];this.element.style.position="relative";var b=this.height*g;this.element.style.top=-1*b+"px";this.element.style.paddingTop=b+"px"}else{this.vis=this.graph.vis}this.render=function(){var n=d3.svg.axis().scale(this.graph.y).orient(this.orientation);n.tickFormat(f.tickFormat||function(o){return o});if(this.orientation=="left"){var m="translate("+this.width+", 0)"}if(this.element){this.vis.selectAll("*").remove()}this.vis.append("svg:g").attr("class",["y_ticks",this.ticksTreatment].join(" ")).attr("transform",m).call(n.ticks(this.ticks).tickSubdivide(0).tickSize(this.tickSize));var l=(this.orientation=="right"?1:-1)*this.graph.width;this.graph.vis.append("svg:g").attr("class","y_grid").call(n.ticks(this.ticks).tickSubdivide(0).tickSize(l))};this.graph.onUpdate(function(){e.render()})};Rickshaw.namespace("Rickshaw.Graph.Behavior.Series.Highlight");Rickshaw.Graph.Behavior.Series.Highlight=function(e){this.graph=e.graph;this.legend=e.legend;var b=this;var f={};this.addHighlightEvents=function(g){g.element.addEventListener("mouseover",function(h){b.legend.lines.forEach(function(i){if(g===i){return}f[i.series.name]=f[i.series.name]||i.series.color;i.series.color=d3.interpolateRgb(i.series.color,d3.rgb("#d8d8d8"))(0.8).toString()});b.graph.update()},false);g.element.addEventListener("mouseout",function(h){b.legend.lines.forEach(function(i){if(f[i.series.name]){i.series.color=f[i.series.name]}});b.graph.update()},false)};if(this.legend){this.legend.lines.forEach(function(g){b.addHighlightEvents(g)})}};Rickshaw.namespace("Rickshaw.Graph.Behavior.Series.Order");Rickshaw.Graph.Behavior.Series.Order=function(e){this.graph=e.graph;this.legend=e.legend;var b=this;$(function(){$(b.legend.list).sortable({containment:"parent",tolerance:"pointer",update:function(h,j){var g=[];$(b.legend.list).find("li").each(function(i,k){if(!k.series){return}g.push(k.series)});for(var f=b.graph.series.length-1;f>=0;f--){b.graph.series[f]=g.shift()}b.graph.update()}});$(b.legend.list).disableSelection()});this.graph.onUpdate(function(){var f=window.getComputedStyle(b.legend.element).height;b.legend.element.style.height=f})};Rickshaw.namespace("Rickshaw.Graph.Behavior.Series.Toggle");Rickshaw.Graph.Behavior.Series.Toggle=function(e){this.graph=e.graph;this.legend=e.legend;var b=this;this.addAnchor=function(f){var h=document.createElement("a");h.innerHTML="&#10004;";h.classList.add("action");f.element.insertBefore(h,f.element.firstChild);h.onclick=function(i){if(f.series.disabled){f.series.enable();f.element.classList.remove("disabled")}else{f.series.disable();f.element.classList.add("disabled")}};var g=f.element.getElementsByTagName("span")[0];g.onclick=function(n){var m=f.series.disabled;if(!m){for(var k=0;k<b.legend.lines.length;k++){var j=b.legend.lines[k];if(f.series===j.series){}else{if(j.series.disabled){}else{m=true;break}}}}if(m){f.series.enable();f.element.classList.remove("disabled");b.legend.lines.forEach(function(i){if(f.series===i.series){}else{i.series.disable();i.element.classList.add("disabled")}})}else{b.legend.lines.forEach(function(i){i.series.enable();i.element.classList.remove("disabled")})}}};if(this.legend){$(this.legend.list).sortable({start:function(f,g){g.item.bind("no.onclick",function(h){h.preventDefault()})},stop:function(f,g){setTimeout(function(){g.item.unbind("no.onclick")},250)}});this.legend.lines.forEach(function(f){b.addAnchor(f)})}this._addBehavior=function(){this.graph.series.forEach(function(f){f.disable=function(){if(b.graph.series.length<=1){throw ("only one series left")}f.disabled=true;b.graph.update()};f.enable=function(){f.disabled=false;b.graph.update()}})};this._addBehavior();this.updateBehaviour=function(){this._addBehavior()}};Rickshaw.namespace("Rickshaw.Graph.HoverDetail");Rickshaw.Graph.HoverDetail=function(f){var i=this.graph=f.graph;var e=f.xFormatter||function(j){return new Date(j*1000).toUTCString()};var h=f.yFormatter||function(j){return j.toFixed(2)};var g=this.element=document.createElement("div");g.className="detail";this.visible=true;i.element.appendChild(g);var b=this;this.lastEvent=null;this.update=function(q){q=q||this.lastEvent;if(!q){return}this.lastEvent=q;if(q.target.nodeName!="path"&&q.target.nodeName!="svg"){return}var k=q.offsetX||q.layerX;var j=q.offsetY||q.layerY;var l=i.x.invert(k);var t=i.stackedData;var m=t.slice(-1).shift();var o=d3.scale.linear().domain([m[0].x,m.slice(-1).shift().x]).range([0,m.length]);var s=Math.floor(o(l));var r=s||0;for(var n=s;n<t[0].length-1;){if(t[0][n].x<=l&&t[0][n+1].x>l){r=n;break}if(t[0][n+1]<l){n++}else{n--}}l=t[0][r].x;var p=i.series.active().map(function(u){return{name:u.name,value:u.stack[r]}});if(this.visible){b.render.call(b,l,p,k,j)}};this.graph.element.addEventListener("mousemove",function(j){b.visible=true;b.update(j)},false);this.graph.onUpdate(function(){b.update()});this.graph.element.addEventListener("mouseout",function(j){if(j.relatedTarget&&!(j.relatedTarget.compareDocumentPosition(b.graph.element)&Node.DOCUMENT_POSITION_CONTAINS)){b.hide()}},false);this.hide=function(){this.visible=false;this.element.classList.add("inactive")};this.show=function(){this.visible=true;this.element.classList.remove("inactive")};this.render=function(n,m,l,k){this.element.innerHTML="";this.element.style.left=i.x(n)+"px";var j=document.createElement("div");j.className="x_label";j.innerHTML=e(n);this.element.appendChild(j);var p=null;var o=function(r,q){return(r.value.y0+r.value.y)-(q.value.y0+q.value.y)};m.sort(o).forEach(function(t){var s=(h.constructor==Array)?h[m.indexOf(t)](t.value.y):h(t.value.y);var r=document.createElement("div");r.className="item";r.innerHTML=t.name+":&nbsp;"+s;r.style.top=i.y(t.value.y0+t.value.y)+"px";var u=i.y.magnitude.invert(i.element.offsetHeight-k);this.element.appendChild(r);var q=document.createElement("div");q.className="dot";q.style.top=r.style.top;this.element.appendChild(q);if(u>t.value.y0&&u<t.value.y0+t.value.y&&!p){p=r;r.className="item active";q.className="dot active"}},this);this.show()}};Rickshaw.namespace("Rickshaw.Graph.JSONP");Rickshaw.Graph.JSONP=function(e){var b=this;this.dataURL=e.dataURL;$.ajax({url:this.dataURL,dataType:"jsonp",success:function(i,f,g){if(f==="error"){console.log("error loading dataURL: "+this.dataURL)}if(typeof e.onData==="function"){var h=e.onData(i);i=h}if(e.series){e.series.forEach(function(k){var j=k.key||k.name;if(!j){throw"series needs a key or a name"}i.forEach(function(n){var m=n.key||n.name;if(!m){throw"data needs a key or a name"}if(j==m){var l=["color","name","data"];l.forEach(function(o){k[o]=k[o]||n[o]})}})})}else{e.series=i}b.graph=new Rickshaw.Graph(e);b.graph.render();if(typeof e.onComplete=="function"){e.onComplete(b)}}})};Rickshaw.namespace("Rickshaw.Graph.Legend");Rickshaw.Graph.Legend=function(e){var g=this.element=e.element;var i=this.graph=e.graph;var b=this;g.classList.add("rickshaw_legend");var h=this.list=document.createElement("ul");g.appendChild(h);var f=i.series.map(function(j){return j}).reverse();this.lines=[];this.addLine=function(l){var j=document.createElement("li");j.className="line";var m=document.createElement("div");m.className="swatch";m.style.backgroundColor=l.color;j.appendChild(m);var k=document.createElement("span");k.className="label";k.innerHTML=l.name;j.appendChild(k);h.appendChild(j);j.series=l;if(l.noLegend){j.style.display="none"}var n={element:j,series:l};if(b.shelving){b.shelving.addAnchor(n);b.shelving.updateBehaviour()}if(b.highlighter){b.highlighter.addHighlightEvents(n)}b.lines.push(n)};f.forEach(function(j){b.addLine(j)});i.onUpdate(function(){})};Rickshaw.namespace("Rickshaw.Graph.RangeSlider");Rickshaw.Graph.RangeSlider=function(b){var e=this.element=b.element;var f=this.graph=b.graph;$(function(){$(e).slider({range:true,min:f.dataDomain()[0],max:f.dataDomain()[1],values:[f.dataDomain()[0],f.dataDomain()[1],],slide:function(g,h){f.window.xMin=h.values[0];f.window.xMax=h.values[1];f.update();if(f.dataDomain()[0]==h.values[0]){f.window.xMin=undefined}if(f.dataDomain()[1]==h.values[1]){f.window.xMax=undefined}}})});e[0].style.width=f.width+"px";f.onUpdate(function(){var g=$(e).slider("option","values");$(e).slider("option","min",f.dataDomain()[0]);$(e).slider("option","max",f.dataDomain()[1]);if(f.window.xMin==undefined){g[0]=f.dataDomain()[0]}if(f.window.xMax==undefined){g[1]=f.dataDomain()[1]}$(e).slider("option","values",g)})};Rickshaw.namespace("Rickshaw.Graph.Renderer");Rickshaw.Graph.Renderer=Rickshaw.Class.create({name:undefined,tension:0.8,strokeWidth:2,unstack:true,padding:{top:0.025,right:0,bottom:0,left:0},stroke:false,fill:false,initialize:function(b){this.graph=b.graph;this.tension=b.tension||this.tension;this.graph.unstacker=this.graph.unstacker||new Rickshaw.Graph.Unstacker({graph:this.graph})},seriesPathFactory:function(){},seriesStrokeFactory:function(){},domain:function(){var e=[];var h=this.graph.stackedData||this.graph.stackData();var g=this.unstack?h:[h.slice(-1).shift()];g.forEach(function(k){k.forEach(function(l){e.push(l.y+l.y0)})});var f=h[0][0].x;var j=h[0][h[0].length-1].x;f-=(j-f)*(this.padding.left);j+=(j-f)*(this.padding.right);var b=(this.graph.min==="auto"?d3.min(e):this.graph.min||0);var i=this.graph.max||d3.max(e)*(1+this.padding.top);return{x:[f,j],y:[b,i]}},render:function(){var f=this.graph;f.vis.selectAll("*").remove();var b=f.vis.selectAll("path").data(this.graph.stackedData).enter().append("svg:path").attr("d",this.seriesPathFactory());var e=0;f.series.forEach(function(g){if(g.disabled){return}g.path=b[0][e++];this._styleSeries(g)},this)},_styleSeries:function(b){var f=this.fill?b.color:"none";var e=this.stroke?b.color:"none";b.path.setAttribute("fill",f);b.path.setAttribute("stroke",e);b.path.setAttribute("stroke-width",this.strokeWidth);b.path.setAttribute("class",b.className)},setStrokeWidth:function(b){if(b!==undefined){this.strokeWidth=b}},setTension:function(b){if(b!==undefined){this.tension=b}}});Rickshaw.namespace("Rickshaw.Graph.Renderer.Line");Rickshaw.Graph.Renderer.Line=Rickshaw.Class.create(Rickshaw.Graph.Renderer,{name:"line",unstack:true,fill:false,stroke:true,seriesPathFactory:function(){var b=this.graph;return d3.svg.line().x(function(e){return b.x(e.x)}).y(function(e){return b.y(e.y)}).interpolate(this.graph.interpolation).tension(this.tension)}});Rickshaw.namespace("Rickshaw.Graph.Renderer.Stack");Rickshaw.Graph.Renderer.Stack=Rickshaw.Class.create(Rickshaw.Graph.Renderer,{name:"stack",fill:true,stroke:false,unstack:false,seriesPathFactory:function(){var b=this.graph;return d3.svg.area().x(function(e){return b.x(e.x)}).y0(function(e){return b.y(e.y0)}).y1(function(e){return b.y(e.y+e.y0)}).interpolate(this.graph.interpolation).tension(this.tension)}});Rickshaw.namespace("Rickshaw.Graph.Renderer.Bar");Rickshaw.Graph.Renderer.Bar=Rickshaw.Class.create(Rickshaw.Graph.Renderer,{name:"bar",gapSize:0.05,unstack:false,initialize:function($super,b){b=b||{};this.gapSize=b.gapSize||this.gapSize;$super(b)},domain:function($super){var e=$super();var b=this._frequentInterval();e.x[1]+=parseInt(b.magnitude);return e},barWidth:function(){var e=this.graph.stackedData||this.graph.stackData();var g=e.slice(-1).shift();var b=this._frequentInterval();var f=this.graph.x(g[0].x+b.magnitude*(1-this.gapSize));return f},render:function(){var g=this.graph;g.vis.selectAll("*").remove();var e=this.barWidth();var f=0;var h=g.series.filter(function(i){return !i.disabled}).length;var b=this.unstack?e/h:e;g.series.forEach(function(j){if(j.disabled){return}var i=g.vis.selectAll("path").data(j.stack).enter().append("svg:rect").attr("x",function(k){return g.x(k.x)+f}).attr("y",function(k){return g.y(k.y0+k.y)}).attr("width",b).attr("height",function(k){return g.y.magnitude(k.y)});Array.prototype.forEach.call(i[0],function(k){k.setAttribute("fill",j.color)});if(this.unstack){f+=b}},this)},_frequentInterval:function(){var g=this.graph.stackedData||this.graph.stackData();var j=g.slice(-1).shift();var h={};for(var f=0;f<j.length-1;f++){var b=j[f+1].x-j[f].x;h[b]=h[b]||0;h[b]++}var e={count:0};Rickshaw.keys(h).forEach(function(k){if(e.count<h[k]){e={count:h[k],magnitude:k}}});this._frequentInterval=function(){return e};return e}});Rickshaw.namespace("Rickshaw.Graph.Renderer.Area");Rickshaw.Graph.Renderer.Area=Rickshaw.Class.create(Rickshaw.Graph.Renderer,{name:"area",unstack:false,seriesPathFactory:function(){var b=this.graph;return d3.svg.area().x(function(e){return b.x(e.x)}).y0(function(e){return b.y(e.y0)}).y1(function(e){return b.y(e.y+e.y0)}).interpolate(b.interpolation).tension(this.tension)},seriesStrokeFactory:function(){var b=this.graph;return d3.svg.line().x(function(e){return b.x(e.x)}).y(function(e){return b.y(e.y+e.y0)}).interpolate(b.interpolation).tension(this.tension)},render:function(){var f=this.graph;f.vis.selectAll("*").remove();var b=f.vis.selectAll("path").data(this.graph.stackedData).enter().insert("svg:g","g");b.append("svg:path").attr("d",this.seriesPathFactory()).attr("class","area");if(this.graph.stroke){b.append("svg:path").attr("d",this.seriesStrokeFactory()).attr("class","line")}var e=0;f.series.forEach(function(g){if(g.disabled){return}g.path=b[0][e++];a;this._styleSeries(g)},this)},_styleSeries:function(b){if(!b.path){return}d3.select(b.path).select(".area").attr("fill",b.color);if(this.graph.stroke){d3.select(b.path).select(".line").attr("fill","none").attr("stroke",b.stroke||d3.interpolateRgb(b.color,"black")(0.125)).attr("stroke-width",this.strokeWidth)}if(b.className){b.path.setAttribute("class",b.className)}}});Rickshaw.namespace("Rickshaw.Graph.Renderer.ScatterPlot");Rickshaw.Graph.Renderer.ScatterPlot=Rickshaw.Class.create(Rickshaw.Graph.Renderer,{name:"scatterplot",unstack:true,fill:true,stroke:false,padding:{top:0.025,right:0.025,bottom:0,left:0.025},initialize:function($super,b){$super(b);this.dotSize=b.dotSize||4},render:function(){var b=this.graph;b.vis.selectAll("*").remove();b.series.forEach(function(f){if(f.disabled){return}var e=b.vis.selectAll("path").data(f.stack).enter().append("svg:circle").attr("cx",function(g){return b.x(g.x)}).attr("cy",function(g){return b.y(g.y)}).attr("r",this.dotSize);Array.prototype.forEach.call(e[0],function(g){g.setAttribute("fill",f.color)})},this)}});Rickshaw.namespace("Rickshaw.Graph.Smoother");Rickshaw.Graph.Smoother=function(e){this.graph=e.graph;this.element=e.element;var b=this;this.aggregationScale=1;if(this.element){$(function(){$(b.element).slider({min:1,max:100,slide:function(f,g){b.setScale(g.value);b.graph.update()}})})}b.graph.stackData.hooks.data.push({name:"smoother",orderPosition:50,f:function(g){var f=[];g.forEach(function(k){var h=[];while(k.length){var j=0,i=0;var l=k.splice(0,b.aggregationScale);l.forEach(function(m){j+=m.x/l.length;i+=m.y/l.length});h.push({x:j,y:i})}f.push(h)});return f}});this.setScale=function(f){if(f<1){throw"scale out of range: "+f}this.aggregationScale=f;this.graph.update()}};Rickshaw.namespace("Rickshaw.Graph.Unstacker");Rickshaw.Graph.Unstacker=function(e){this.graph=e.graph;var b=this;this.graph.stackData.hooks.after.push({name:"unstacker",f:function(f){if(!b.graph.renderer.unstack){return f}f.forEach(function(g){g.forEach(function(h){h.y0=0})});return f}})};Rickshaw.namespace("Rickshaw.Series");Rickshaw.Series=Rickshaw.Class.create(Array,{initialize:function(f,b,e){e=e||{};this.palette=new Rickshaw.Color.Palette(b);this.timeBase=typeof(e.timeBase)==="undefined"?Math.floor(new Date().getTime()/1000):e.timeBase;if(f&&(typeof(f)=="object")&&(f instanceof Array)){f.forEach(function(g){this.addItem(g)},this)}},addItem:function(b){if(typeof(b.name)==="undefined"){throw ("addItem() needs a name")}b.color=(b.color||this.palette.color(b.name));b.data=(b.data||[]);if((b.data.length==0)&&this.length&&(this.getIndex()>0)){this[0].data.forEach(function(e){b.data.push({x:e.x,y:0})})}else{if(b.data.length==0){b.data.push({x:this.timeBase-(this.timeInterval||0),y:0})}}this.push(b);if(this.legend){this.legend.addLine(this.itemByName(b.name))}},addData:function(e){var b=this.getIndex();Rickshaw.keys(e).forEach(function(f){if(!this.itemByName(f)){this.addItem({name:f})}},this);this.forEach(function(f){f.data.push({x:(b*this.timeInterval||1)+this.timeBase,y:(e[f.name]||0)})},this)},getIndex:function(){return(this[0]&&this[0].data&&this[0].data.length)?this[0].data.length:0},itemByName:function(b){for(var e=0;e<this.length;e++){if(this[e].name==b){return this[e]}}},setTimeInterval:function(b){this.timeInterval=b/1000},setTimeBase:function(b){this.timeBase=b},dump:function(){var b={timeBase:this.timeBase,timeInterval:this.timeInterval,items:[],};this.forEach(function(f){var e={color:f.color,name:f.name,data:[]};f.data.forEach(function(g){e.data.push({x:g.x,y:g.y})});b.items.push(e)});return b},load:function(b){if(b.timeInterval){this.timeInterval=b.timeInterval}if(b.timeBase){this.timeBase=b.timeBase}if(b.items){b.items.forEach(function(e){this.push(e);if(this.legend){this.legend.addLine(this.itemByName(e.name))}},this)}}});Rickshaw.Series.zeroFill=function(f){var b;var e=0;var g=f.map(function(h){return h.data});while(e<Math.max.apply(null,g.map(function(h){return h.length}))){b=Math.min.apply(null,g.filter(function(h){return h[e]}).map(function(h){return h[e].x}));g.forEach(function(h){if(!h[e]||h[e].x!=b){h.splice(e,0,{x:b,y:0})}});e++}};Rickshaw.namespace("Rickshaw.Series.FixedDuration");Rickshaw.Series.FixedDuration=Rickshaw.Class.create(Rickshaw.Series,{initialize:function(g,b,e){var e=e||{};if(typeof(e.timeInterval)==="undefined"){throw new Error("FixedDuration series requires timeInterval")}if(typeof(e.maxDataPoints)==="undefined"){throw new Error("FixedDuration series requires maxDataPoints")}this.palette=new Rickshaw.Color.Palette(b);this.timeBase=typeof(e.timeBase)==="undefined"?Math.floor(new Date().getTime()/1000):e.timeBase;this.setTimeInterval(e.timeInterval);if(this[0]&&this[0].data&&this[0].data.length){this.currentSize=this[0].data.length;this.currentIndex=this[0].data.length}else{this.currentSize=0;this.currentIndex=0}this.maxDataPoints=e.maxDataPoints;if(g&&(typeof(g)=="object")&&(g instanceof Array)){g.forEach(function(h){this.addItem(h)},this);this.currentSize+=1;this.currentIndex+=1}this.timeBase-=(this.maxDataPoints-this.currentSize)*this.timeInterval;if((typeof(this.maxDataPoints)!=="undefined")&&(this.currentSize<this.maxDataPoints)){for(var f=this.maxDataPoints-this.currentSize-1;f>0;f--){this.currentSize+=1;this.currentIndex+=1;this.forEach(function(h){h.data.unshift({x:((f-1)*this.timeInterval||1)+this.timeBase,y:0,i:f})},this)}}},addData:function($super,b){$super(b);this.currentSize+=1;this.currentIndex+=1;if(this.maxDataPoints!==undefined){while(this.currentSize>this.maxDataPoints){this.dropData()}}},dropData:function(){this.forEach(function(b){b.data.splice(0,1)});this.currentSize-=1},getIndex:function(){return this.currentIndex}});Rickshaw.namespace("Rickshaw.Graph.Axis.X");Rickshaw.Graph.Axis.X=function(e){var b=this;this.graph=e.graph;this.elements=[];this.ticksTreatment=e.ticksTreatment||"plain";this.fixedTimeUnit=e.timeUnit;this.labels=e.labels;this.render=function(){this.elements.forEach(function(g){g.parentNode.removeChild(g)});this.elements=[];var f=this.labels;f.forEach(function(h,g){if(b.graph.x(g)>b.graph.x.range()[1]){return}var i=document.createElement("div");i.style.left=b.graph.x(g)+"px";i.classList.add("x_tick");i.classList.add(b.ticksTreatment);var j=document.createElement("div");if((g+1)!==f.length){j.classList.add("title");j.innerHTML=h;i.appendChild(j)}b.graph.element.appendChild(i);b.elements.push(i)})};this.graph.onUpdate(function(){b.render()})};Rickshaw.namespace("Rickshaw.Graph.MoPubHoverDetail");Rickshaw.Graph.MoPubHoverDetail=function(f){var i=this.graph=f.graph;var e=f.xFormatter||function(j){return new Date(j*1000).toUTCString()};var h=f.yFormatter||function(j){return j.toFixed(2)};var g=this.element=document.createElement("div");g.className="detail";this.visible=true;i.element.appendChild(g);var b=this;this.lastEvent=null;this.update=function(q){q=q||this.lastEvent;if(!q){return}this.lastEvent=q;if(q.target.nodeName!="path"&&q.target.nodeName!="svg"){return}var k=q.offsetX||q.layerX;var j=q.offsetY||q.layerY;var l=i.x.invert(k);var t=i.stackedData;var m=t.slice(-1).shift();var o=d3.scale.linear().domain([m[0].x,m.slice(-1).shift().x]).range([0,m.length]);var s=Math.floor(o(l));var r=s||0;for(var n=s;n<t[0].length-1;){if(t[0][n].x<=l&&t[0][n+1].x>l){r=n;break}if(t[0][n+1]<l){n++}else{n--}}l=t[0][r].x;var p=i.series.active().map(function(u){return{name:u.name,value:u.stack[r]}});if(this.visible){b.render.call(b,l,p,k,j)}};this.graph.element.addEventListener("mousemove",function(j){b.visible=true;b.update(j)},false);this.graph.onUpdate(function(){b.update()});this.graph.element.addEventListener("mouseout",function(j){if(j.relatedTarget&&!(j.relatedTarget.compareDocumentPosition(b.graph.element)&Node.DOCUMENT_POSITION_CONTAINS)){b.hide()}},false);this.hide=function(){this.visible=false;this.element.classList.add("inactive")};this.show=function(){this.visible=true;this.element.classList.remove("inactive")};this.render=function(n,m,l,k){this.element.innerHTML="";this.element.style.left=i.x(n)+"px";var j=document.createElement("div");j.className="x_label";j.innerHTML=e(n);this.element.appendChild(j);var p=null;var o=function(r,q){return(r.value.y0+r.value.y)-(q.value.y0+q.value.y)};m.sort(o).forEach(function(t){var s=(h.constructor==Array)?h[m.indexOf(t)](t.value.y):h(t.value.y);var r=document.createElement("div");r.className="item";r.innerHTML=t.name+":&nbsp;"+s;r.style.top=i.y(t.value.y0+t.value.y)+"px";var u=i.y.magnitude.invert(i.element.offsetHeight-k);var q=document.createElement("div");q.className="dot";q.style.top=r.style.top;this.element.appendChild(q);if(u>t.value.y0&&u<t.value.y0+t.value.y&&!p){p=r;r.className="item active";q.className="dot active"}},this);this.show()}};Rickshaw.namespace("Rickshaw.Graph.MultiGraphLegend");Rickshaw.Graph.Legend=function(f){var h=this.element=f.element;var e=this.graphs=f.graphs;var b=this;h.classList.add("rickshaw_legend");var i=this.list=document.createElement("ul");h.appendChild(i);var g=graph.series.map(function(j){return j}).reverse();this.lines=[];this.addLine=function(l){var j=document.createElement("li");j.className="line";var m=document.createElement("div");m.className="swatch";m.style.backgroundColor=l.color;j.appendChild(m);var k=document.createElement("span");k.className="label";k.innerHTML=l.name;j.appendChild(k);i.appendChild(j);j.series=l;if(l.noLegend){j.style.display="none"}var n={element:j,series:l};if(b.shelving){b.shelving.addAnchor(n);b.shelving.updateBehaviour()}if(b.highlighter){b.highlighter.addHighlightEvents(n)}b.lines.push(n)};g.forEach(function(j){b.addLine(j)});graph.onUpdate(function(){})};(function(b){b.fn.tokenInput=function(f,e){var g=b.extend({url:f,hintText:"Type in a search term",noResultsText:"No results",searchingText:"Searching...",searchDelay:300,minChars:1,tokenLimit:null,jsonContainer:null,method:"GET",contentType:"json",queryParam:"q",onResult:null,onAdd:null,onDelete:null,doImmediate:true,country:"US",featureClass:null,featureCode:null,maxRows:10},e);g.classes=b.extend({tokenList:"token-input-list",token:"token-input-token",tokenDelete:"token-input-delete-token",selectedToken:"token-input-selected-token",highlightedToken:"token-input-highlighted-token",dropdown:"token-input-dropdown",dropdownItem:"token-input-dropdown-item",dropdownItem2:"token-input-dropdown-item2",selectedDropdownItem:"token-input-selected-dropdown-item",inputToken:"token-input-input-token"},e.classes);return this.each(function(){var h=new b.TokenList(this,g)})};b.TokenData=function(h,i){var k=h;var e;var j;var f;var g;function m(){var n=k.lat+","+k.lng+":"+k.adminCode1+":"+k.name+":"+k.countryCode;return b('<input type="hidden" class="'+k.countryCode+'" name="cities" id="'+k.name.replace(/ /gi,"_")+'" value="'+n+'" />')}function l(){return b('<input type="hidden" name="geo_predicates" id="'+g+'" value="'+g+'" />')}if(i=="city"){e=k.name+", "+k.adminCode1;j=m;f=k.name}else{if(i=="country"){g=(k.data===undefined)?k.code:k.data.code;e=(k.data===undefined)?k.name:k.data.name;j=l;f=g}}return{name:e,input:j,raw:h,type:i,id:f}};b.TokenList=function(f,J){var y={BEFORE:0,AFTER:1,END:2};var G={BACKSPACE:8,TAB:9,RETURN:13,ESC:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,COMMA:188};var v=[];var p=0;var B=0;var m=new b.TokenList.Cache(J);var F;var q=b('<input class="token-input-field" type="text"  autocomplete="off">').css({outline:"none"}).focus(function(){if(J.tokenLimit===null||J.tokenLimit!=p){i()}b(this).addClass("focused");if(!l.hasClass("focused")){l.addClass("focused")}if(b(this).val()){setTimeout(function(){r(J.doImmediate)},5)}}).blur(function(){b(this).removeClass("focused");l.removeClass("focused");w()}).keydown(function(P){var R;var O;switch(P.keyCode){case G.LEFT:case G.RIGHT:case G.UP:case G.DOWN:if(!b(this).val()){R=j.prev();O=j.next();if((R.length&&R.get(0)===s)||(O.length&&O.get(0)===s)){if(P.keyCode==G.LEFT||P.keyCode==G.UP){x(b(s),y.BEFORE)}else{x(b(s),y.AFTER)}}else{if((P.keyCode==G.LEFT||P.keyCode==G.UP)&&R.length){K(b(R.get(0)))}else{if((P.keyCode==G.RIGHT||P.keyCode==G.DOWN)&&O.length){K(b(O.get(0)))}}}}else{var Q=null;if(P.keyCode==G.DOWN||P.keyCode==G.RIGHT){Q=b(D).next()}else{Q=b(D).prev()}if(Q.length){N(Q)}return false}break;case G.BACKSPACE:R=j.prev();if(!b(this).val().length){if(s){h(b(s))}else{if(R.length){K(b(R.get(0)))}}return false}else{if(b(this).val().length==1){w()}else{setTimeout(function(){r(J.doImmediate)},5)}}break;case G.TAB:case G.RETURN:case G.COMMA:if(D){z(b(D));return false}break;case G.ESC:w();return true;default:if(H(P.keyCode)){setTimeout(function(){r(J.doImmediate)},5)}break}});var u=b(f).hide().focus(function(){q.focus()}).blur(function(){q.blur()});var s=null;var D=null;var l=b("<ul />").addClass(J.classes.tokenList).insertBefore(u).click(function(P){b(this).addClass("focused");var O=A(P,"li");if(O&&O.get(0)!=j.get(0)){M(O);return false}else{q.focus();if(s){x(b(s),y.END)}}}).mouseover(function(P){var O=A(P,"li");if(O&&s!==this){O.addClass(J.classes.highlightedToken)}}).mouseout(function(P){var O=A(P,"li");if(O&&s!==this){O.removeClass(J.classes.highlightedToken)}}).mousedown(function(P){var O=A(P,"li");if(O){return false}});var L=b("<div>").addClass(J.classes.dropdown).insertAfter(l).hide();var j=b("<li />").addClass(J.classes.inputToken).appendTo(l).append(q);function E(){var O=b(".token-input-country").length;if(O>1){b(".token-input-city").each(function(Q){h(b(this))});b(".token-input-state").each(function(Q){h(b(this))});b('input[name="region_targeting"]').each(function(Q){if(b(this).val()!="all"){b(this).attr("disabled",true)}else{b(this).click()}})}else{b('input[name="region_targeting"]').each(function(Q){b(this).attr("disabled",false)})}var P=b("#geo_pred_ta").children().length;b(".countryNumDependent").hide();b(".countryNumDependent."+P).show()}function I(){var R=J.prePopulate.data;if(R&&R.length){for(var O in R){var P=new b.TokenData(R[O],J.prePopulate.type);var Q=b("<li><p>"+P.name+"</p> </li>").addClass(J.classes.token);if(P.type=="city"){Q.addClass("token-input-city").addClass(P.raw.countryCode)}else{if(P.type=="country"){Q.addClass("token-input-country")}}Q.insertBefore(j);b("<span>&times;</span>").addClass(J.classes.tokenDelete).appendTo(Q).click(function(){h(b(this).parent());return false});b.data(Q.get(0),"tokeninput",P);q.val("").focus();w();P.input().appendTo(u)}}q.blur()}I();E();function H(O){if((O>=48&&O<=90)||(O>=96&&O<=111)||(O>=186&&O<=192)||(O>=219&&O<=222)){return true}else{return false}}function A(O,P){return b(O.target).closest(P)}function g(O){var Q=O.name;var P;var R=b("<li><p>"+Q+"</p> </li>");if(O.type=="city"){R.addClass("token-input-city").addClass(O.raw.countryCode)}else{if(O.type=="country"){R.addClass("token-input-country")}}R.addClass(J.classes.token).insertBefore(j);b("<span>x</span>").addClass(J.classes.tokenDelete).appendTo(R).click(function(){h(b(this).parent());return false});b.data(R.get(0),"tokeninput",O);return R}function z(O){E();var R=b.data(O.get(0),"tokeninput");var Q=g(R);var P=J.onAdd;q.val("").focus();w();R.input().appendTo(u);p++;B++;if(J.tokenLimit!==null&&p>=J.tokenLimit){q.hide();w()}if(b.isFunction(P)){P(R.id)}E()}function K(O){O.addClass(J.classes.selectedToken);s=O.get(0);q.val("");w()}function x(P,O){P.removeClass(J.classes.selectedToken);s=null;if(O==y.BEFORE){j.insertBefore(P)}else{if(O==y.AFTER){j.insertAfter(P)}else{j.appendTo(l)}}q.focus()}function M(O){if(s==O.get(0)){x(O,y.END)}else{if(s){x(b(s),y.END)}K(O)}}function h(P){var Q=b.data(P.get(0),"tokeninput");var S=J.onDelete;P.remove();s=null;q.focus();if(Q===undefined){return}var O=Q.id.replace(/ /gi,"_");var R=Q.name.replace(/ /gi,"_");b("#"+O).remove();b("#"+R).remove();if(Q.type=="country"){b("li."+Q.id+".token-input-city").each(function(T){h(b(this))})}p--;if(b(".token-input-country").length===0){b("#advertiser-LocationSpec-all").click()}if(J.tokenLimit!==null){q.show().val("").focus()}if(b.isFunction(S)){S(Q.id)}E()}function w(){L.hide().empty();D=null}function k(){L.html("<p>"+J.searchingText+"</p>").show()}function i(){L.html("<p>"+J.hintText+"</p>").show()}function o(Q,O){var P=Q.replace(new RegExp("(?![^&;]+;)(?!<[^<>]*)("+O+")(?![^<>]*>)(?![^&;]+;)","gi"),"<b>$1</b>");return P}var t=false;function C(V,S){var W=S.type;S=S.data;if(S&&S.length){var O=L.clone();O.empty();var Q=b("<ul>").appendTo(O).mouseover(function(X){N(A(X,"li"))}).mousedown(function(X){z(A(X,"li"));return false});if(!t){Q.hide()}var P;for(var T in S){if(S.hasOwnProperty(T)){var U=new b.TokenData(S[T],W);var R=b("<li>"+o(U.name,V)+"</li>").appendTo(Q);if(T%2){R.addClass(J.classes.dropdownItem)}else{R.addClass(J.classes.dropdownItem2)}if(T==0){N(R)}b.data(R.get(0),"tokeninput",U)}}L.replaceWith(O);L=O;L.show();if(!t){t=true;Q.slideDown("fast")}}else{t=false;L.html("<p>"+J.noResultsText+"</p>").show()}}function N(O){if(O){if(D){e(b(D))}O.addClass(J.classes.selectedDropdownItem);D=O.get(0)}}function e(O){O.removeClass(J.classes.selectedDropdownItem);D=null}function r(O){var P=q.val().toLowerCase();if(P&&P.length){if(s){x(b(s),y.AFTER)}if(P.length>=J.minChars){k();if(O){n(P)}else{clearTimeout(F);F=setTimeout(function(){n(P)},J.searchDelay)}}else{if(P.length>0){i()}else{w()}}}}function n(R){R=q.val().toLowerCase();var P=m.get(R);if(P){var Q={type:"country",data:P};C(R,Q)}else{var T=J.url.indexOf("?")<0?"?":"&";var S=function(V){if(b.isFunction(J.onResult)){V=J.onResult.call(this,V)}m.add(R,J.jsonContainer?V[J.jsonContainer]:V);var U={type:J.type,data:V.geonames};C(R,U)};if(J.method=="POST"){b.post(J.url+T+J.queryParam+"="+encodeURIComponent(R),{},S,J.contentType)}else{var O=J.url+T+J.queryParam+"="+encodeURIComponent(R);if(J.featureClass!==null){O+="&featureClass="+encodeURIComponent(J.featureClass)}if(J.featureCode!==null){O+="&featureCode="+encodeURIComponent(J.featureCode)}O+="&country=";if(b('input[name="geo_predicates"]').val()!==undefined){O+=encodeURIComponent(b('input[name="geo_predicates"]').val())}else{O+=encodeURIComponent(J.country)}O+="&maxRows="+J.maxRows;b.get(O,{},S,J.contentType)}}}};b.TokenList.Cache=function(o){var g=b.extend({max_size:50,matchContains:true},o);function j(r,q){if(!o.matchCase){r=r.toLowerCase()}var p=r.indexOf(q);if(p==-1){return false}return p===0||o.matchContains}var h={};var n=0;var l=function(){h={};n=0};function k(p){function q(s,r){return e(p,s.value)-e(p,r.value)}return q}function e(q,p){return p.length-q.length}function f(t){if(!o.cacheLength||!n){return null}if(!o.url&&g.matchContains){var s=[];for(var p in h){if(p.length>0){var u=h[p];b.each(u,function(w,v){if(j(v.value,t)){var z=true;for(var q in s){var y=s[q];if(v.result==y.result){z=false;break}}if(z){s.push(v)}}})}}return s.sort(k(t))}else{if(h[t]){return h[t]}else{if(g.matchSubset){for(var r=t.length-1;r>=1;r--){var u=h[t.substr(0,r)];if(u){var s=[];b.each(u,function(v,q){if(j(q.value,t)){s[s.length]=q}});return s}}}}}return null}function i(){if(!o.data){return false}var u={},q=0;if(!o.url){o.cacheLength=1}u[""]=[];for(var s=0,t=o.data.length;s<t;s++){var p=o.data[s];p=(typeof p=="string")?[p]:p;var x=o.formatMatch(p,s+1,o.data.length);for(var r=0;r<x.length;r++){var v=x[r];if(v===false){continue}var w=v.charAt(0).toLowerCase();if(!u[w]){u[w]=[]}var y={value:v,data:p,result:o.formatResult&&o.formatResult(p)||v};u[w].push(y);if(q++<o.max){u[""].push(y)}}}b.each(u,function(z,A){o.cacheLength++;m(z,A)})}setTimeout(i,25);function m(q,p){if(n>g.max_size){l()}if(!h[q]){n++}h[q]=p}return{flush:l,get:f,populate:i,add:m}}})(jQuery);