(function(){function X(b,n,m){if(b===n){return b!==0||1/b==1/n}if(b==null){return b===n}var l=typeof b;if(l!=typeof n){return false}if(!b!=!n){return false}if(ah.isNaN(b)){return ah.isNaN(n)}var k=ah.isString(b),j=ah.isString(n);if(k||j){return k&&j&&String(b)==String(n)}k=ah.isNumber(b);j=ah.isNumber(n);if(k||j){return k&&j&&+b==+n}k=ah.isBoolean(b);j=ah.isBoolean(n);if(k||j){return k&&j&&+b==+n}k=ah.isDate(b);j=ah.isDate(n);if(k||j){return k&&j&&b.getTime()==n.getTime()}k=ah.isRegExp(b);j=ah.isRegExp(n);if(k||j){return k&&j&&b.source==n.source&&b.global==n.global&&b.multiline==n.multiline&&b.ignoreCase==n.ignoreCase}if(l!="object"){return false}if(b._chain){b=b._wrapped}if(n._chain){n=n._wrapped}if(ah.isFunction(b.isEqual)){return b.isEqual(n)}for(l=m.length;l--;){if(m[l]==b){return true}}m.push(b);l=0;k=true;if(b.length===+b.length||n.length===+n.length){if(l=b.length,k=l==n.length){for(;l--;){if(!(k=l in b==l in n&&X(b[l],n[l],m))){break}}}}else{for(var i in b){if(ad.call(b,i)&&(l++,!(k=ad.call(n,i)&&X(b[i],n[i],m)))){break}}if(k){for(i in n){if(ad.call(n,i)&&!l--){break}}k=!l}}m.pop();return k}var V=this,O=V._,ab={},ae=Array.prototype,aa=Object.prototype,ag=ae.slice,M=ae.unshift,P=aa.toString,ad=aa.hasOwnProperty,N=ae.forEach,L=ae.map,h=ae.reduce,f=ae.reduceRight,a=ae.filter,Z=ae.every,W=ae.some,Y=ae.indexOf,U=ae.lastIndexOf,aa=Array.isArray,K=Object.keys,T=Function.prototype.bind,ah=function(b){return new ac(b)};typeof module!=="undefined"&&module.exports?(module.exports=ah,ah._=ah):V._=ah;ah.VERSION="1.2.0";var af=ah.each=ah.forEach=function(j,m,i){if(j!=null){if(N&&j.forEach===N){j.forEach(m,i)}else{if(j.length===+j.length){for(var l=0,k=j.length;l<k;l++){if(l in j&&m.call(i,j[l],l,j)===ab){break}}}else{for(l in j){if(ad.call(j,l)&&m.call(i,j[l],l,j)===ab){break}}}}}};ah.map=function(j,l,i){var k=[];if(j==null){return k}if(L&&j.map===L){return j.map(l,i)}af(j,function(b,n,m){k[k.length]=l.call(i,b,n,m)});return k};ah.reduce=ah.foldl=ah.inject=function(b,l,k,j){var i=k!==void 0;b==null&&(b=[]);if(h&&b.reduce===h){return j&&(l=ah.bind(l,j)),i?b.reduce(l,k):b.reduce(l)}af(b,function(n,m,o){i?k=l.call(j,k,n,m,o):(k=n,i=true)});if(!i){throw new TypeError("Reduce of empty array with no initial value")}return k};ah.reduceRight=ah.foldr=function(b,k,j,i){b==null&&(b=[]);if(f&&b.reduceRight===f){return i&&(k=ah.bind(k,i)),j!==void 0?b.reduceRight(k,j):b.reduceRight(k)}b=(ah.isArray(b)?b.slice():ah.toArray(b)).reverse();return ah.reduce(b,k,j,i)};ah.find=ah.detect=function(j,l,i){var k;S(j,function(b,n,m){if(l.call(i,b,n,m)){return k=b,true}});return k};ah.filter=ah.select=function(j,l,i){var k=[];if(j==null){return k}if(a&&j.filter===a){return j.filter(l,i)}af(j,function(b,n,m){l.call(i,b,n,m)&&(k[k.length]=b)});return k};ah.reject=function(j,l,i){var k=[];if(j==null){return k}af(j,function(b,n,m){l.call(i,b,n,m)||(k[k.length]=b)});return k};ah.every=ah.all=function(j,l,i){var k=true;if(j==null){return k}if(Z&&j.every===Z){return j.every(l,i)}af(j,function(b,n,m){if(!(k=k&&l.call(i,b,n,m))){return ab}});return k};var S=ah.some=ah.any=function(b,k,j){var k=k||ah.identity,i=false;if(b==null){return i}if(W&&b.some===W){return b.some(k,j)}af(b,function(m,l,n){if(i|=k.call(j,m,l,n)){return ab}});return !!i};ah.include=ah.contains=function(j,k){var i=false;if(j==null){return i}if(Y&&j.indexOf===Y){return j.indexOf(k)!=-1}S(j,function(b){if(i=b===k){return true}});return i};ah.invoke=function(b,j){var i=ag.call(arguments,2);return ah.map(b,function(k){return(j.call?j||k:k[j]).apply(k,i)})};ah.pluck=function(b,i){return ah.map(b,function(j){return j[i]})};ah.max=function(b,k,j){if(!k&&ah.isArray(b)){return Math.max.apply(Math,b)}if(!k&&ah.isEmpty(b)){return -Infinity}var i={computed:-Infinity};af(b,function(m,l,n){l=k?k.call(j,m,l,n):m;l>=i.computed&&(i={value:m,computed:l})});return i.value};ah.min=function(b,k,j){if(!k&&ah.isArray(b)){return Math.min.apply(Math,b)}if(!k&&ah.isEmpty(b)){return Infinity}var i={computed:Infinity};af(b,function(m,l,n){l=k?k.call(j,m,l,n):m;l<i.computed&&(i={value:m,computed:l})});return i.value};ah.shuffle=function(j){var k=[],i;af(j,function(b,l){l==0?k[0]=b:(i=Math.floor(Math.random()*(l+1)),k[l]=k[i],k[i]=b)});return k};ah.sortBy=function(b,j,i){return ah.pluck(ah.map(b,function(l,k,m){return{value:l,criteria:j.call(i,l,k,m)}}).sort(function(l,k){var n=l.criteria,m=k.criteria;return n<m?-1:n>m?1:0}),"value")};ah.groupBy=function(j,i){var k={};af(j,function(b,m){var l=i(b,m);(k[l]||(k[l]=[])).push(b)});return k};ah.sortedIndex=function(b,m,l){l||(l=ah.identity);for(var k=0,j=b.length;k<j;){var i=k+j>>1;l(b[i])<l(m)?k=i+1:j=i}return k};ah.toArray=function(b){return !b?[]:b.toArray?b.toArray():ah.isArray(b)?ag.call(b):ah.isArguments(b)?ag.call(b):ah.values(b)};ah.size=function(b){return ah.toArray(b).length};ah.first=ah.head=function(j,i,k){return i!=null&&!k?ag.call(j,0,i):j[0]};ah.initial=function(j,i,k){return ag.call(j,0,j.length-(i==null||k?1:i))};ah.last=function(j,i,k){return i!=null&&!k?ag.call(j,j.length-i):j[j.length-1]};ah.rest=ah.tail=function(j,i,k){return ag.call(j,i==null||k?1:i)};ah.compact=function(b){return ah.filter(b,function(i){return !!i})};ah.flatten=function(b){return ah.reduce(b,function(i,j){if(ah.isArray(j)){return i.concat(ah.flatten(j))}i[i.length]=j;return i},[])};ah.without=function(b){return ah.difference(b,ag.call(arguments,1))};ah.uniq=ah.unique=function(b,k,j){var j=j?ah.map(b,j):b,i=[];ah.reduce(j,function(n,m,l){if(0==l||(k===true?ah.last(n)!=m:!ah.include(n,m))){n[n.length]=m,i[i.length]=b[l]}return n},[]);return i};ah.union=function(){return ah.uniq(ah.flatten(arguments))};ah.intersection=ah.intersect=function(b){var i=ag.call(arguments,1);return ah.filter(ah.uniq(b),function(j){return ah.every(i,function(k){return ah.indexOf(k,j)>=0})})};ah.difference=function(b,i){return ah.filter(b,function(j){return !ah.include(i,j)})};ah.zip=function(){for(var b=ag.call(arguments),k=ah.max(ah.pluck(b,"length")),j=Array(k),i=0;i<k;i++){j[i]=ah.pluck(b,""+i)}return j};ah.indexOf=function(b,k,j){if(b==null){return -1}var i;if(j){return j=ah.sortedIndex(b,k),b[j]===k?j:-1}if(Y&&b.indexOf===Y){return b.indexOf(k)}for(j=0,i=b.length;j<i;j++){if(b[j]===k){return j}}return -1};ah.lastIndexOf=function(j,i){if(j==null){return -1}if(U&&j.lastIndexOf===U){return j.lastIndexOf(i)}for(var k=j.length;k--;){if(j[k]===i){return k}}return -1};ah.range=function(j,i,n){arguments.length<=1&&(i=j||0,j=0);for(var n=arguments[2]||1,m=Math.max(Math.ceil((i-j)/n),0),l=0,k=Array(m);l<m;){k[l++]=j,j+=n}return k};ah.bind=function(j,i){if(j.bind===T&&T){return T.apply(j,ag.call(arguments,1))}var k=ag.call(arguments,2);return function(){return j.apply(i,k.concat(ag.call(arguments)))}};ah.bindAll=function(b){var i=ag.call(arguments,1);i.length==0&&(i=ah.functions(b));af(i,function(j){b[j]=ah.bind(b[j],b)});return b};ah.memoize=function(b,j){var i={};j||(j=ah.identity);return function(){var k=j.apply(this,arguments);return ad.call(i,k)?i[k]:i[k]=b.apply(this,arguments)}};ah.delay=function(j,i){var k=ag.call(arguments,2);return setTimeout(function(){return j.apply(j,k)},i)};ah.defer=function(b){return ah.delay.apply(ah,[b,1].concat(ag.call(arguments,1)))};var R=function(j,i,l){var k;return function(){var n=this,m=arguments,b=function(){k=null;j.apply(n,m)};l&&clearTimeout(k);if(l||!k){k=setTimeout(b,i)}}};ah.throttle=function(j,i){return R(j,i,false)};ah.debounce=function(j,i){return R(j,i,true)};ah.once=function(j){var i=false,k;return function(){if(i){return k}i=true;return k=j.apply(this,arguments)}};ah.wrap=function(j,i){return function(){var b=[j].concat(ag.call(arguments));return i.apply(this,b)}};ah.compose=function(){var b=ag.call(arguments);return function(){for(var i=ag.call(arguments),j=b.length-1;j>=0;j--){i=[b[j].apply(this,i)]}return i[0]}};ah.after=function(j,i){return function(){if(--j<1){return i.apply(this,arguments)}}};ah.keys=K||function(j){if(j!==Object(j)){throw new TypeError("Invalid object")}var i=[],k;for(k in j){ad.call(j,k)&&(i[i.length]=k)}return i};ah.values=function(b){return ah.map(b,ah.identity)};ah.functions=ah.methods=function(b){var j=[],i;for(i in b){ah.isFunction(b[i])&&j.push(i)}return j.sort()};ah.extend=function(b){af(ag.call(arguments,1),function(i){for(var j in i){i[j]!==void 0&&(b[j]=i[j])}});return b};ah.defaults=function(b){af(ag.call(arguments,1),function(i){for(var j in i){b[j]==null&&(b[j]=i[j])}});return b};ah.clone=function(b){return ah.isArray(b)?b.slice():ah.extend({},b)};ah.tap=function(j,i){i(j);return j};ah.isEqual=function(j,i){return X(j,i,[])};ah.isEmpty=function(b){if(ah.isArray(b)||ah.isString(b)){return b.length===0}for(var i in b){if(ad.call(b,i)){return false}}return true};ah.isElement=function(b){return !!(b&&b.nodeType==1)};ah.isArray=aa||function(b){return P.call(b)==="[object Array]"};ah.isObject=function(b){return b===Object(b)};ah.isArguments=function(b){return !(!b||!ad.call(b,"callee"))};ah.isFunction=function(b){return !(!b||!b.constructor||!b.call||!b.apply)};ah.isString=function(b){return !!(b===""||b&&b.charCodeAt&&b.substr)};ah.isNumber=function(b){return !!(b===0||b&&b.toExponential&&b.toFixed)};ah.isNaN=function(b){return b!==b};ah.isBoolean=function(b){return b===true||b===false||P.call(b)=="[object Boolean]"};ah.isDate=function(b){return !(!b||!b.getTimezoneOffset||!b.setUTCFullYear)};ah.isRegExp=function(b){return !(!b||!b.test||!b.exec||!(b.ignoreCase||b.ignoreCase===false))};ah.isNull=function(b){return b===null};ah.isUndefined=function(b){return b===void 0};ah.noConflict=function(){V._=O;return this};ah.identity=function(b){return b};ah.times=function(j,i,l){for(var k=0;k<j;k++){i.call(l,k)}};ah.escape=function(b){return(""+b).replace(/&(?!\w+;|#\d+;|#x[\da-f]+;)/gi,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")};ah.mixin=function(b){af(ah.functions(b),function(i){g(i,ah[i]=b[i])})};var e=0;ah.uniqueId=function(j){var i=e++;return j?j+i:i};ah.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};ah.template=function(b,j){var i=ah.templateSettings,i="var __p=[],print=function(){__p.push.apply(__p,arguments);};with(obj||{}){__p.push('"+b.replace(/\\/g,"\\\\").replace(/'/g,"\\'").replace(i.escape,function(l,k){return"',_.escape("+k.replace(/\\'/g,"'")+"),'"}).replace(i.interpolate,function(l,k){return"',"+k.replace(/\\'/g,"'")+",'"}).replace(i.evaluate||null,function(l,k){return"');"+k.replace(/\\'/g,"'").replace(/[\r\n\t]/g," ")+"__p.push('"}).replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/\t/g,"\\t")+"');}return __p.join('');",i=new Function("obj",i);return j?i(j):i};var ac=function(b){this._wrapped=b};ah.prototype=ac.prototype;var Q=function(b,i){return i?ah(b).chain():b},g=function(b,i){ac.prototype[b]=function(){var j=ag.call(arguments);M.call(j,this._wrapped);return Q(i.apply(ah,j),this._chain)}};ah.mixin(ah);af("pop,push,reverse,shift,sort,splice,unshift".split(","),function(j){var i=ae[j];ac.prototype[j]=function(){i.apply(this._wrapped,arguments);return Q(this._wrapped,this._chain)}});af(["concat","join","slice"],function(j){var i=ae[j];ac.prototype[j]=function(){return Q(i.apply(this._wrapped,arguments),this._chain)}});ac.prototype.chain=function(){this._chain=true;return this};ac.prototype.value=function(){return this._wrapped}})();var JSON;if(!JSON){JSON={}}(function(){function f(n){return n<10?"0"+n:n}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(key){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(key){return this.valueOf()}}var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;function quote(string){escapable.lastIndex=0;return escapable.test(string)?'"'+string.replace(escapable,function(a){var c=meta[a];return typeof c==="string"?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+string+'"'}function str(key,holder){var i,k,v,length,mind=gap,partial,value=holder[key];if(value&&typeof value==="object"&&typeof value.toJSON==="function"){value=value.toJSON(key)}if(typeof rep==="function"){value=rep.call(holder,key,value)}switch(typeof value){case"string":return quote(value);case"number":return isFinite(value)?String(value):"null";case"boolean":case"null":return String(value);case"object":if(!value){return"null"}gap+=indent;partial=[];if(Object.prototype.toString.apply(value)==="[object Array]"){length=value.length;for(i=0;i<length;i+=1){partial[i]=str(i,value)||"null"}v=partial.length===0?"[]":gap?"[\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"]":"["+partial.join(",")+"]";gap=mind;return v}if(rep&&typeof rep==="object"){length=rep.length;for(i=0;i<length;i+=1){if(typeof rep[i]==="string"){k=rep[i];v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}else{for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}v=partial.length===0?"{}":gap?"{\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"}":"{"+partial.join(",")+"}";gap=mind;return v}}if(typeof JSON.stringify!=="function"){JSON.stringify=function(value,replacer,space){var i;gap="";indent="";if(typeof space==="number"){for(i=0;i<space;i+=1){indent+=" "}}else{if(typeof space==="string"){indent=space}}rep=replacer;if(replacer&&typeof replacer!=="function"&&(typeof replacer!=="object"||typeof replacer.length!=="number")){throw new Error("JSON.stringify")}return str("",{"":value})}}if(typeof JSON.parse!=="function"){JSON.parse=function(text,reviver){var j;function walk(holder,key){var k,v,value=holder[key];if(value&&typeof value==="object"){for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=walk(value,k);if(v!==undefined){value[k]=v}else{delete value[k]}}}}return reviver.call(holder,key,value)}text=String(text);cx.lastIndex=0;if(cx.test(text)){text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})}if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){j=eval("("+text+")");return typeof reviver==="function"?walk({"":j},""):j}throw new SyntaxError("JSON.parse")}}}());(function(){var K=this,C=K.Backbone,N;N=typeof exports!=="undefined"?exports:K.Backbone={};N.VERSION="0.5.3";var M=K._;if(!M&&typeof require!=="undefined"){M=require("underscore")._}var L=K.jQuery||K.Zepto;N.noConflict=function(){K.Backbone=C;return this};N.emulateHTTP=!1;N.emulateJSON=!1;N.Events={bind:function(f,e,h){var g=this._callbacks||(this._callbacks={});(g[f]||(g[f]=[])).push([e,h]);return this},unbind:function(g,f){var j;if(g){if(j=this._callbacks){if(f){j=j[g];if(!j){return this}for(var i=0,h=j.length;i<h;i++){if(j[i]&&f===j[i][0]){j[i]=null;break}}}else{j[g]=[]}}}else{this._callbacks={}}return this},trigger:function(j){var i,p,o,n,m=2;if(!(p=this._callbacks)){return this}for(;m--;){if(i=m?j:"all",i=p[i]){for(var l=0,k=i.length;l<k;l++){(o=i[l])?(n=m?Array.prototype.slice.call(arguments,1):arguments,o[0].apply(o[1]||this,n)):(i.splice(l,1),l--,k--)}}}return this}};N.Model=function(f,e){var g;f||(f={});if(g=this.defaults){M.isFunction(g)&&(g=g.call(this)),f=M.extend({},g,f)}this.attributes={};this._escapedAttributes={};this.cid=M.uniqueId("c");this.set(f,{silent:!0});this._changed=!1;this._previousAttributes=M.clone(this.attributes);if(e&&e.collection){this.collection=e.collection}this.initialize(f,e)};M.extend(N.Model.prototype,N.Events,{_previousAttributes:null,_changed:!1,idAttribute:"id",initialize:function(){},toJSON:function(){return M.clone(this.attributes)},get:function(e){return this.attributes[e]},escape:function(f){var e;if(e=this._escapedAttributes[f]){return e}e=this.attributes[f];return this._escapedAttributes[f]=(e==null?"":""+e).replace(/&(?!\w+;|#\d+;|#x[\da-f]+;)/gi,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")},has:function(e){return this.attributes[e]!=null},set:function(i,f){f||(f={});if(!i){return this}if(i.attributes){i=i.attributes}var n=this.attributes,m=this._escapedAttributes;if(!f.silent&&this.validate&&!this._performValidation(i,f)){return !1}if(this.idAttribute in i){this.id=i[this.idAttribute]}var l=this._changing;this._changing=!0;for(var k in i){var j=i[k];if(!M.isEqual(n[k],j)){n[k]=j,delete m[k],this._changed=!0,f.silent||this.trigger("change:"+k,this,j,f)}}!l&&!f.silent&&this._changed&&this.change(f);this._changing=!1;return this},unset:function(f,e){if(!(f in this.attributes)){return this}e||(e={});var g={};g[f]=void 0;if(!e.silent&&this.validate&&!this._performValidation(g,e)){return !1}delete this.attributes[f];delete this._escapedAttributes[f];f==this.idAttribute&&delete this.id;this._changed=!0;e.silent||(this.trigger("change:"+f,this,void 0,e),this.change(e));return this},clear:function(f){f||(f={});var e,h=this.attributes,g={};for(e in h){g[e]=void 0}if(!f.silent&&this.validate&&!this._performValidation(g,f)){return !1}this.attributes={};this._escapedAttributes={};this._changed=!0;if(!f.silent){for(e in h){this.trigger("change:"+e,this,void 0,f)}this.change(f)}return this},fetch:function(f){f||(f={});var e=this,g=f.success;f.success=function(j,i,h){if(!e.set(e.parse(j,h),f)){return !1}g&&g(e,j)};f.error=J(f.error,e,f);return(this.sync||N.sync).call(this,"read",this,f)},save:function(g,e){e||(e={});if(g&&!this.set(g,e)){return !1}var j=this,i=e.success;e.success=function(k,m,l){if(!j.set(j.parse(k,l),e)){return !1}i&&i(j,k,l)};e.error=J(e.error,j,e);var h=this.isNew()?"create":"update";return(this.sync||N.sync).call(this,h,this,e)},destroy:function(f){f||(f={});if(this.isNew()){return this.trigger("destroy",this,this.collection,f)}var e=this,g=f.success;f.success=function(h){e.trigger("destroy",e,e.collection,f);g&&g(e,h)};f.error=J(f.error,e,f);return(this.sync||N.sync).call(this,"delete",this,f)},url:function(){var e=H(this.collection)||this.urlRoot||G();if(this.isNew()){return e}return e+(e.charAt(e.length-1)=="/"?"":"/")+encodeURIComponent(this.id)},parse:function(e){return e},clone:function(){return new this.constructor(this)},isNew:function(){return this.id==null},change:function(e){this.trigger("change",this,e);this._previousAttributes=M.clone(this.attributes);this._changed=!1},hasChanged:function(e){if(e){return this._previousAttributes[e]!=this.attributes[e]}return this._changed},changedAttributes:function(f){f||(f=this.attributes);var e=this._previousAttributes,h=!1,g;for(g in f){M.isEqual(e[g],f[g])||(h=h||{},h[g]=f[g])}return h},previous:function(e){if(!e||!this._previousAttributes){return null}return this._previousAttributes[e]},previousAttributes:function(){return M.clone(this._previousAttributes)},_performValidation:function(f,e){var g=this.validate(f);if(g){return e.error?e.error(this,g,e):this.trigger("error",this,g,e),!1}return !0}});N.Collection=function(f,e){e||(e={});if(e.comparator){this.comparator=e.comparator}M.bindAll(this,"_onModelEvent","_removeReference");this._reset();f&&this.reset(f,{silent:!0});this.initialize.apply(this,arguments)};M.extend(N.Collection.prototype,N.Events,{model:N.Model,initialize:function(){},toJSON:function(){return this.map(function(e){return e.toJSON()})},add:function(f,e){if(M.isArray(f)){for(var h=0,g=f.length;h<g;h++){this._add(f[h],e)}}else{this._add(f,e)}return this},remove:function(f,e){if(M.isArray(f)){for(var h=0,g=f.length;h<g;h++){this._remove(f[h],e)}}else{this._remove(f,e)}return this},get:function(e){if(e==null){return null}return this._byId[e.id!=null?e.id:e]},getByCid:function(e){return e&&this._byCid[e.cid||e]},at:function(e){return this.models[e]},sort:function(e){e||(e={});if(!this.comparator){throw Error("Cannot sort a set without a comparator")}this.models=this.sortBy(this.comparator);e.silent||this.trigger("reset",this,e);return this},pluck:function(e){return M.map(this.models,function(f){return f.get(e)})},reset:function(f,e){f||(f=[]);e||(e={});this.each(this._removeReference);this._reset();this.add(f,{silent:!0});e.silent||this.trigger("reset",this,e);return this},fetch:function(f){f||(f={});var e=this,g=f.success;f.success=function(j,h,i){e[f.add?"add":"reset"](e.parse(j,i),f);g&&g(e,j)};f.error=J(f.error,e,f);return(this.sync||N.sync).call(this,"read",this,f)},create:function(f,e){var h=this;e||(e={});f=this._prepareModel(f,e);if(!f){return !1}var g=e.success;e.success=function(i,k,j){h.add(i,e);g&&g(i,k,j)};f.save(null,e);return f},parse:function(e){return e},chain:function(){return M(this.models).chain()},_reset:function(){this.length=0;this.models=[];this._byId={};this._byCid={}},_prepareModel:function(f,e){if(f instanceof N.Model){if(!f.collection){f.collection=this}}else{var g=f;f=new this.model(g,{collection:this});f.validate&&!f._performValidation(g,e)&&(f=!1)}return f},_add:function(f,e){e||(e={});f=this._prepareModel(f,e);if(!f){return !1}var g=this.getByCid(f);if(g){throw Error(["Can't add the same model to a set twice",g.id])}this._byId[f.id]=f;this._byCid[f.cid]=f;this.models.splice(e.at!=null?e.at:this.comparator?this.sortedIndex(f,this.comparator):this.length,0,f);f.bind("all",this._onModelEvent);this.length++;e.silent||f.trigger("add",f,this,e);return f},_remove:function(f,e){e||(e={});f=this.getByCid(f)||this.get(f);if(!f){return null}delete this._byId[f.id];delete this._byCid[f.cid];this.models.splice(this.indexOf(f),1);this.length--;e.silent||f.trigger("remove",f,this,e);this._removeReference(f);return f},_removeReference:function(e){this==e.collection&&delete e.collection;e.unbind("all",this._onModelEvent)},_onModelEvent:function(f,e,h,g){(f=="add"||f=="remove")&&h!=this||(f=="destroy"&&this._remove(e,g),e&&f==="change:"+e.idAttribute&&(delete this._byId[e.previous(e.idAttribute)],this._byId[e.id]=e),this.trigger.apply(this,arguments))}});M.each(["forEach","each","map","reduce","reduceRight","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","sortBy","sortedIndex","toArray","size","first","rest","last","without","indexOf","lastIndexOf","isEmpty","groupBy"],function(e){N.Collection.prototype[e]=function(){return M[e].apply(M,[this.models].concat(M.toArray(arguments)))}});N.Router=function(e){e||(e={});if(e.routes){this.routes=e.routes}this._bindRoutes();this.initialize.apply(this,arguments)};var B=/:([\w\d]+)/g,A=/\*([\w\d]+)/g,z=/[-[\]{}()+?.,\\^$|#\s]/g;M.extend(N.Router.prototype,N.Events,{initialize:function(){},route:function(f,e,g){N.history||(N.history=new N.History);M.isRegExp(f)||(f=this._routeToRegExp(f));N.history.route(f,M.bind(function(h){h=this._extractParameters(f,h);g.apply(this,h);this.trigger.apply(this,["route:"+e].concat(h))},this))},navigate:function(f,e){N.history.navigate(f,e)},_bindRoutes:function(){if(this.routes){var f=[],e;for(e in this.routes){f.unshift([e,this.routes[e]])}e=0;for(var g=f.length;e<g;e++){this.route(f[e][0],f[e][1],this[f[e][1]])}}},_routeToRegExp:function(e){e=e.replace(z,"\\$&").replace(B,"([^/]*)").replace(A,"(.*?)");return RegExp("^"+e+"$")},_extractParameters:function(f,e){return f.exec(e).slice(1)}});N.History=function(){this.handlers=[];M.bindAll(this,"checkUrl")};var I=/^#*/,y=/msie [\w.]+/,F=!1;M.extend(N.History.prototype,{interval:50,getFragment:function(f,e){if(f==null){if(this._hasPushState||e){f=window.location.pathname;var g=window.location.search;g&&(f+=g);f.indexOf(this.options.root)==0&&(f=f.substr(this.options.root.length))}else{f=window.location.hash}}return decodeURIComponent(f.replace(I,""))},start:function(f){if(F){throw Error("Backbone.history has already been started")}this.options=M.extend({},{root:"/"},this.options,f);this._wantsPushState=!!this.options.pushState;this._hasPushState=!(!this.options.pushState||!window.history||!window.history.pushState);f=this.getFragment();var e=document.documentMode;if(e=y.exec(navigator.userAgent.toLowerCase())&&(!e||e<=7)){this.iframe=L('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,this.navigate(f)}this._hasPushState?L(window).bind("popstate",this.checkUrl):"onhashchange" in window&&!e?L(window).bind("hashchange",this.checkUrl):setInterval(this.checkUrl,this.interval);this.fragment=f;F=!0;f=window.location;e=f.pathname==this.options.root;if(this._wantsPushState&&!this._hasPushState&&!e){return this.fragment=this.getFragment(null,!0),window.location.replace(this.options.root+"#"+this.fragment),!0}else{if(this._wantsPushState&&this._hasPushState&&e&&f.hash){this.fragment=f.hash.replace(I,""),window.history.replaceState({},document.title,f.protocol+"//"+f.host+this.options.root+this.fragment)}}if(!this.options.silent){return this.loadUrl()}},route:function(f,e){this.handlers.unshift({route:f,callback:e})},checkUrl:function(){var e=this.getFragment();e==this.fragment&&this.iframe&&(e=this.getFragment(this.iframe.location.hash));if(e==this.fragment||e==decodeURIComponent(this.fragment)){return !1}this.iframe&&this.navigate(e);this.loadUrl()||this.loadUrl(window.location.hash)},loadUrl:function(f){var e=this.fragment=this.getFragment(f);return M.any(this.handlers,function(g){if(g.route.test(e)){return g.callback(e),!0}})},navigate:function(f,e){var h=(f||"").replace(I,"");if(!(this.fragment==h||this.fragment==decodeURIComponent(h))){if(this._hasPushState){var g=window.location;h.indexOf(this.options.root)!=0&&(h=this.options.root+h);this.fragment=h;window.history.pushState({},document.title,g.protocol+"//"+g.host+h)}else{if(window.location.hash=this.fragment=h,this.iframe&&h!=this.getFragment(this.iframe.location.hash)){this.iframe.document.open().close(),this.iframe.location.hash=h}}e&&this.loadUrl(f)}}});N.View=function(e){this.cid=M.uniqueId("view");this._configure(e||{});this._ensureElement();this.delegateEvents();this.initialize.apply(this,arguments)};var x=/^(\S+)\s*(.*)$/,E=["model","collection","el","id","attributes","className","tagName"];M.extend(N.View.prototype,N.Events,{tagName:"div",$:function(e){return L(e,this.el)},initialize:function(){},render:function(){return this},remove:function(){L(this.el).remove();return this},make:function(f,e,g){f=document.createElement(f);e&&L(f).attr(e);g&&L(f).html(g);return f},delegateEvents:function(g){if(g||(g=this.events)){for(var f in M.isFunction(g)&&(g=g.call(this)),L(this.el).unbind(".delegateEvents"+this.cid),g){var j=this[g[f]];if(!j){throw Error('Event "'+g[f]+'" does not exist')}var i=f.match(x),h=i[1];i=i[2];j=M.bind(j,this);h+=".delegateEvents"+this.cid;i===""?L(this.el).bind(h,j):L(this.el).delegate(i,h,j)}}},_configure:function(f){this.options&&(f=M.extend({},this.options,f));for(var e=0,h=E.length;e<h;e++){var g=E[e];f[g]&&(this[g]=f[g])}this.options=f},_ensureElement:function(){if(this.el){if(M.isString(this.el)){this.el=L(this.el).get(0)}}else{var e=this.attributes||{};if(this.id){e.id=this.id}if(this.className){e["class"]=this.className}this.el=this.make(this.tagName,e)}}});N.Model.extend=N.Collection.extend=N.Router.extend=N.View.extend=function(f,e){var g=b(this,f,e);g.extend=this.extend;return g};var a={create:"POST",update:"PUT","delete":"DELETE",read:"GET"};N.sync=function(f,e,h){var g=a[f];h=M.extend({type:g,dataType:"json"},h);if(!h.url){h.url=H(e)||G()}if(!h.data&&e&&(f=="create"||f=="update")){h.contentType="application/json",h.data=JSON.stringify(e.toJSON())}if(N.emulateJSON){h.contentType="application/x-www-form-urlencoded",h.data=h.data?{model:h.data}:{}}if(N.emulateHTTP&&(g==="PUT"||g==="DELETE")){if(N.emulateJSON){h.data._method=g}h.type="POST";h.beforeSend=function(i){i.setRequestHeader("X-HTTP-Method-Override",g)}}if(h.type!=="GET"&&!N.emulateJSON){h.processData=!1}return L.ajax(h)};var D=function(){},b=function(f,e,h){var g;g=e&&e.hasOwnProperty("constructor")?e.constructor:function(){return f.apply(this,arguments)};M.extend(g,f);D.prototype=f.prototype;g.prototype=new D;e&&M.extend(g.prototype,e);h&&M.extend(g,h);g.prototype.constructor=g;g.__super__=f.prototype;return g},H=function(e){if(!e||!e.url){return null}return M.isFunction(e.url)?e.url():e.url},G=function(){throw Error('A "url" property or function must be specified')},J=function(f,e,g){return function(h){f?f(e,h,g):e.trigger("error",e,h,g)}}}).call(this);!function(e){e.fn.xdatepicker=e.fn.datepicker;e.xdatepicker=e.datepicker;var a=function(g,f){this.element=e(g);this.format=b.parseFormat(f.format||this.element.data("date-format")||"mm/dd/yyyy");this.picker=e(b.template).appendTo("body").on({click:e.proxy(this.click,this),mousedown:e.proxy(this.mousedown,this)});this.isInput=this.element.is("input");this.component=this.element.is(".date")?this.element.find(".add-on"):false;if(this.isInput){this.element.on({focus:e.proxy(this.show,this),blur:e.proxy(this.hide,this),keyup:e.proxy(this.update,this)})}else{if(this.component){this.component.on("click",e.proxy(this.show,this))}else{this.element.on("click",e.proxy(this.show,this))}}this.viewMode=0;this.weekStart=f.weekStart||this.element.data("date-weekstart")||0;this.weekEnd=this.weekStart==0?6:this.weekStart-1;this.fillDow();this.fillMonths();this.update();this.showMode()};a.prototype={constructor:a,show:function(f){this.picker.show();this.height=this.component?this.component.outerHeight():this.element.outerHeight();this.place();e(window).on("resize",e.proxy(this.place,this));if(f){f.stopPropagation();f.preventDefault()}if(!this.isInput){e(document).on("mousedown",e.proxy(this.hide,this))}this.element.trigger({type:"show",date:this.date})},hide:function(){this.picker.hide();e(window).off("resize",this.place);this.viewMode=0;this.showMode();if(!this.isInput){e(document).off("mousedown",this.hide)}this.setValue();this.element.trigger({type:"hide",date:this.date})},setValue:function(){var f=b.formatDate(this.date,this.format);if(!this.isInput){if(this.component){this.element.find("input").prop("value",f)}this.element.data("date",f)}else{this.element.prop("value",f)}},place:function(){var f=this.component?this.component.offset():this.element.offset();this.picker.css({top:f.top+this.height,left:f.left})},update:function(){this.date=b.parseDate(this.isInput?this.element.prop("value"):this.element.data("date"),this.format);this.viewDate=new Date(this.date);this.fill()},fillDow:function(){var f=this.weekStart;var g="<tr>";while(f<this.weekStart+7){g+='<th class="dow">'+b.dates.daysMin[(f++)%7]+"</th>"}g+="</tr>";this.picker.find(".datepicker-days thead").append(g)},fillMonths:function(){var g="";var f=0;while(f<12){g+='<span class="month">'+b.dates.monthsShort[f++]+"</span>"}this.picker.find(".datepicker-months td").append(g)},fill:function(){var p=new Date(this.viewDate),q=p.getFullYear(),o=p.getMonth(),g=this.date.valueOf();this.picker.find(".datepicker-days th:eq(1)").text(b.dates.months[o]+" "+q);var k=new Date(q,o-1,28,0,0,0,0),r=b.getDaysInMonth(k.getFullYear(),k.getMonth());k.setDate(r);k.setDate(r-(k.getDay()-this.weekStart+7)%7);var m=new Date(k);m.setDate(m.getDate()+42);m=m.valueOf();html=[];var j;while(k.valueOf()<m){if(k.getDay()==this.weekStart){html.push("<tr>")}j="";if(k.getMonth()<o){j+=" old"}else{if(k.getMonth()>o){j+=" new"}}if(k.valueOf()==g){j+=" active"}html.push('<td class="day'+j+'">'+k.getDate()+"</td>");if(k.getDay()==this.weekEnd){html.push("</tr>")}k.setDate(k.getDate()+1)}this.picker.find(".datepicker-days tbody").empty().append(html.join(""));var n=this.date.getFullYear();var f=this.picker.find(".datepicker-months").find("th:eq(1)").text(q).end().find("span").removeClass("active");if(n==q){f.eq(this.date.getMonth()).addClass("active")}html="";q=parseInt(q/10,10)*10;var h=this.picker.find(".datepicker-years").find("th:eq(1)").text(q+"-"+(q+9)).end().find("td");q-=1;for(var l=-1;l<11;l++){html+='<span class="year'+(l==-1||l==10?" old":"")+(n==q?" active":"")+'">'+q+"</span>";q+=1}h.html(html)},click:function(j){j.stopPropagation();j.preventDefault();var i=e(j.target).closest("span, td, th");if(i.length==1){switch(i[0].nodeName.toLowerCase()){case"th":switch(i[0].className){case"switch":this.showMode(1);break;case"prev":case"next":this.viewDate["set"+b.modes[this.viewMode].navFnc].call(this.viewDate,this.viewDate["get"+b.modes[this.viewMode].navFnc].call(this.viewDate)+b.modes[this.viewMode].navStep*(i[0].className=="prev"?-1:1));this.fill();break}break;case"span":if(i.is(".month")){var h=i.parent().find("span").index(i);this.viewDate.setMonth(h)}else{var g=parseInt(i.text(),10)||0;this.viewDate.setFullYear(g)}this.showMode(-1);this.fill();break;case"td":if(i.is(".day")){var f=parseInt(i.text(),10)||1;var h=this.viewDate.getMonth();if(i.is(".old")){h-=1}else{if(i.is(".new")){h+=1}}var g=this.viewDate.getFullYear();this.date=new Date(g,h,f,0,0,0,0);this.viewDate=new Date(g,h,f,0,0,0,0);this.fill();this.setValue();this.element.trigger({type:"changeDate",date:this.date})}break}}},mousedown:function(f){f.stopPropagation();f.preventDefault()},showMode:function(f){if(f){this.viewMode=Math.max(0,Math.min(2,this.viewMode+f))}this.picker.find(">div").hide().filter(".datepicker-"+b.modes[this.viewMode].clsName).show()}};e.fn.datepicker=function(f){return this.each(function(){var i=e(this),h=i.data("datepicker"),g=typeof f=="object"&&f;if(!h){i.data("datepicker",(h=new a(this,e.extend({},e.fn.datepicker.defaults,g))))}if(typeof f=="string"){h[f]()}})};e.fn.datepicker.defaults={};e.fn.datepicker.Constructor=a;var b={modes:[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}],dates:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},isLeapYear:function(f){return(((f%4===0)&&(f%100!==0))||(f%400===0))},getDaysInMonth:function(f,g){return[31,(b.isLeapYear(f)?29:28),31,30,31,30,31,31,30,31,30,31][g]},parseFormat:function(h){var g=h.match(/[.\/-].*?/),f=h.split(/\W+/);if(!g||!f||f.length==0){throw new Error("Invalid date format.")}return{separator:g,parts:f}},parseDate:function(f,k){var j=f.split(k.separator),f=new Date(1970,1,1,0,0,0),l;if(j.length==k.parts.length){for(var h=0,g=k.parts.length;h<g;h++){l=parseInt(j[h],10)||1;switch(k.parts[h]){case"dd":case"d":f.setDate(l);break;case"mm":case"m":f.setMonth(l-1);break;case"yy":f.setFullYear(2000+l);break;case"yyyy":f.setFullYear(l);break}}}return f},formatDate:function(f,j){var k={d:f.getDate(),m:f.getMonth()+1,yy:f.getFullYear().toString().substring(2),yyyy:f.getFullYear()};k.dd=(k.d<10?"0":"")+k.d;k.mm=(k.m<10?"0":"")+k.m;var f=[];for(var h=0,g=j.parts.length;h<g;h++){f.push(k[j.parts[h]])}return f.join(j.separator)},headTemplate:'<thead><tr><th class="prev"><i class="icon-arrow-left"/></th><th colspan="5" class="switch"></th><th class="next"><i class="icon-arrow-right"/></th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>'};b.template='<div class="datepicker dropdown-menu"><div class="datepicker-days"><table class=" table-condensed">'+b.headTemplate+'<tbody></tbody></table></div><div class="datepicker-months"><table class="table-condensed">'+b.headTemplate+b.contTemplate+'</table></div><div class="datepicker-years"><table class="table-condensed">'+b.headTemplate+b.contTemplate+"</table></div></div>"}(window.jQuery);!function(b){var a=function(f,e){this.init("tooltip",f,e)};a.prototype={constructor:a,init:function(h,g,f){var i,e;this.type=h;this.$element=b(g);this.options=this.getOptions(f);this.enabled=true;if(this.options.trigger!="manual"){i=this.options.trigger=="hover"?"mouseenter":"focus";e=this.options.trigger=="hover"?"mouseleave":"blur";this.$element.on(i,this.options.selector,b.proxy(this.enter,this));this.$element.on(e,this.options.selector,b.proxy(this.leave,this))}this.options.selector?(this._options=b.extend({},this.options,{trigger:"manual",selector:""})):this.fixTitle()},getOptions:function(e){e=b.extend({},b.fn[this.type].defaults,e,this.$element.data());if(e.delay&&typeof e.delay=="number"){e.delay={show:e.delay,hide:e.delay}}return e},enter:function(g){var f=b(g.currentTarget)[this.type](this._options).data(this.type);if(!f.options.delay||!f.options.delay.show){f.show()}else{f.hoverState="in";setTimeout(function(){if(f.hoverState=="in"){f.show()}},f.options.delay.show)}},leave:function(g){var f=b(g.currentTarget)[this.type](this._options).data(this.type);if(!f.options.delay||!f.options.delay.hide){f.hide()}else{f.hoverState="out";setTimeout(function(){if(f.hoverState=="out"){f.hide()}},f.options.delay.hide)}},show:function(){var i,e,k,g,j,f,h;if(this.hasContent()&&this.enabled){i=this.tip();this.setContent();if(this.options.animation){i.addClass("fade")}f=typeof this.options.placement=="function"?this.options.placement.call(this,i[0],this.$element[0]):this.options.placement;e=/in/.test(f);i.remove().css({top:0,left:0,display:"block"}).appendTo(e?this.$element:document.body);k=this.getPosition(e);g=i[0].offsetWidth;j=i[0].offsetHeight;switch(e?f.split(" ")[1]:f){case"bottom":h={top:k.top+k.height,left:k.left+k.width/2-g/2};break;case"top":h={top:k.top-j,left:k.left+k.width/2-g/2};break;case"left":h={top:k.top+k.height/2-j/2,left:k.left-g};break;case"right":h={top:k.top+k.height/2-j/2,left:k.left+k.width};break}i.css(h).addClass(f).addClass("in")}},setContent:function(){var e=this.tip();e.find(".tooltip-inner").html(this.getTitle());e.removeClass("fade in top bottom left right")},hide:function(){var e=this,f=this.tip();f.removeClass("in");function g(){var h=setTimeout(function(){f.off(b.support.transition.end).remove()},500);f.one(b.support.transition.end,function(){clearTimeout(h);f.remove()})}b.support.transition&&this.$tip.hasClass("fade")?g():f.remove()},fixTitle:function(){var e=this.$element;if(e.attr("title")||typeof(e.attr("data-original-title"))!="string"){e.attr("data-original-title",e.attr("title")||"").removeAttr("title")}},hasContent:function(){return this.getTitle()},getPosition:function(e){return b.extend({},(e?{top:0,left:0}:this.$element.offset()),{width:this.$element[0].offsetWidth,height:this.$element[0].offsetHeight})},getTitle:function(){var g,e=this.$element,f=this.options;g=e.attr("data-original-title")||(typeof f.title=="function"?f.title.call(e[0]):f.title);g=(g||"").toString().replace(/(^\s*|\s*$)/,"");return g},tip:function(){return this.$tip=this.$tip||b(this.options.template)},validate:function(){if(!this.$element[0].parentNode){this.hide();this.$element=null;this.options=null}},enable:function(){this.enabled=true},disable:function(){this.enabled=false},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(){this[this.tip().hasClass("in")?"hide":"show"]()}};b.fn.tooltip=function(e){return this.each(function(){var h=b(this),g=h.data("tooltip"),f=typeof e=="object"&&e;if(!g){h.data("tooltip",(g=new a(this,f)))}if(typeof e=="string"){g[e]()}})};b.fn.tooltip.Constructor=a;b.fn.tooltip.defaults={animation:true,delay:0,selector:false,placement:"top",trigger:"hover",title:"",template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>'}}(window.jQuery);!function(a){a(function(){a.support.transition=(function(){var b=(function(){var g=document.createElement("bootstrap"),f={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd",transition:"transitionend"},e;for(e in f){if(g.style[e]!==undefined){return f[e]}}}());return b&&{end:b}})()})}(window.jQuery);!function(e){var b='[data-dismiss="alert"]',a=function(f){e(f).on("click",b,this.close)};a.prototype.close=function(j){var i=e(this),g=i.attr("data-target"),h;if(!g){g=i.attr("href");g=g&&g.replace(/.*(?=#[^\s]*$)/,"")}h=e(g);j&&j.preventDefault();h.length||(h=i.hasClass("alert")?i:i.parent());h.trigger(j=e.Event("close"));if(j.isDefaultPrevented()){return}h.removeClass("in");function f(){h.trigger("closed").remove()}e.support.transition&&h.hasClass("fade")?h.on(e.support.transition.end,f):f()};e.fn.alert=function(f){return this.each(function(){var h=e(this),g=h.data("alert");if(!g){h.data("alert",(g=new a(this)))}if(typeof f=="string"){g[f].call(h)}})};e.fn.alert.Constructor=a;e(function(){e("body").on("click.alert.data-api",b,a.prototype.close)})}(window.jQuery);!function(a){var b=function(f,e){this.$element=a(f);this.options=e;this.options.slide&&this.slide(this.options.slide);this.options.pause=="hover"&&this.$element.on("mouseenter",a.proxy(this.pause,this)).on("mouseleave",a.proxy(this.cycle,this))};b.prototype={cycle:function(f){if(!f){this.paused=false}this.options.interval&&!this.paused&&(this.interval=setInterval(a.proxy(this.next,this),this.options.interval));return this},to:function(i){var e=this.$element.find(".active"),f=e.parent().children(),g=f.index(e),h=this;if(i>(f.length-1)||i<0){return}if(this.sliding){return this.$element.one("slid",function(){h.to(i)})}if(g==i){return this.pause().cycle()}return this.slide(i>g?"next":"prev",a(f[i]))},pause:function(f){if(!f){this.paused=true}clearInterval(this.interval);this.interval=null;return this},next:function(){if(this.sliding){return}return this.slide("next")},prev:function(){if(this.sliding){return}return this.slide("prev")},slide:function(l,g){var n=this.$element.find(".active"),f=g||n[l](),k=this.interval,m=l=="next"?"left":"right",h=l=="next"?"first":"last",i=this,j=a.Event("slide");this.sliding=true;k&&this.pause();f=f.length?f:this.$element.find(".item")[h]();if(f.hasClass("active")){return}if(a.support.transition&&this.$element.hasClass("slide")){this.$element.trigger(j);if(j.isDefaultPrevented()){return}f.addClass(l);f[0].offsetWidth;n.addClass(m);f.addClass(m);this.$element.one(a.support.transition.end,function(){f.removeClass([l,m].join(" ")).addClass("active");n.removeClass(["active",m].join(" "));i.sliding=false;setTimeout(function(){i.$element.trigger("slid")},0)})}else{this.$element.trigger(j);if(j.isDefaultPrevented()){return}n.removeClass("active");f.addClass("active");this.sliding=false;this.$element.trigger("slid")}k&&this.cycle();return this}};a.fn.carousel=function(e){return this.each(function(){var h=a(this),g=h.data("carousel"),f=a.extend({},a.fn.carousel.defaults,typeof e=="object"&&e);if(!g){h.data("carousel",(g=new b(this,f)))}if(typeof e=="number"){g.to(e)}else{if(typeof e=="string"||(e=f.slide)){g[e]()}else{if(f.interval){g.cycle()}}}})};a.fn.carousel.defaults={interval:5000,pause:"hover"};a.fn.carousel.Constructor=b;a(function(){a("body").on("click.carousel.data-api","[data-slide]",function(j){var i=a(this),g,f=a(i.attr("data-target")||(g=i.attr("href"))&&g.replace(/.*(?=#[^\s]+$)/,"")),h=!f.data("modal")&&a.extend({},f.data(),i.data());f.carousel(h);j.preventDefault()})})}(window.jQuery);!function(a){var b=function(f,e){this.$element=a(f);this.options=a.extend({},a.fn.collapse.defaults,e);if(this.options.parent){this.$parent=a(this.options.parent)}this.options.toggle&&this.toggle()};b.prototype={constructor:b,dimension:function(){var e=this.$element.hasClass("width");return e?"width":"height"},show:function(){var h,e,g,f;if(this.transitioning){return}h=this.dimension();e=a.camelCase(["scroll",h].join("-"));g=this.$parent&&this.$parent.find("> .accordion-group > .in");if(g&&g.length){f=g.data("collapse");if(f&&f.transitioning){return}g.collapse("hide");f||g.data("collapse",null)}this.$element[h](0);this.transition("addClass",a.Event("show"),"shown");this.$element[h](this.$element[0][e])},hide:function(){var e;if(this.transitioning){return}e=this.dimension();this.reset(this.$element[e]());this.transition("removeClass",a.Event("hide"),"hidden");this.$element[e](0)},reset:function(e){var f=this.dimension();this.$element.removeClass("collapse")[f](e||"auto")[0].offsetWidth;this.$element[e!==null?"addClass":"removeClass"]("collapse");return this},transition:function(i,f,g){var h=this,e=function(){if(f=="show"){h.reset()}h.transitioning=0;h.$element.trigger(g)};this.$element.trigger(f);if(f.isDefaultPrevented()){return}this.transitioning=1;this.$element[i]("in");a.support.transition&&this.$element.hasClass("collapse")?this.$element.one(a.support.transition.end,e):e()},toggle:function(){this[this.$element.hasClass("in")?"hide":"show"]()}};a.fn.collapse=function(e){return this.each(function(){var h=a(this),g=h.data("collapse"),f=typeof e=="object"&&e;if(!g){h.data("collapse",(g=new b(this,f)))}if(typeof e=="string"){g[e]()}})};a.fn.collapse.defaults={toggle:true};a.fn.collapse.Constructor=b;a(function(){a("body").on("click.collapse.data-api","[data-toggle=collapse]",function(j){var i=a(this),f,h=i.attr("data-target")||j.preventDefault()||(f=i.attr("href"))&&f.replace(/.*(?=#[^\s]+$)/,""),g=a(h).data("collapse")?"toggle":i.data();a(h).collapse(g)})})}(window.jQuery);!function(f){var b='[data-toggle="dropdown"]',a=function(h){var g=f(h).on("click.dropdown.data-api",this.toggle);f("html").on("click.dropdown.data-api",function(){g.parent().removeClass("open")})};a.prototype={constructor:a,toggle:function(k){var j=f(this),i,g,h;if(j.is(".disabled, :disabled")){return}g=j.attr("data-target");if(!g){g=j.attr("href");g=g&&g.replace(/.*(?=#[^\s]*$)/,"")}i=f(g);i.length||(i=j.parent());h=i.hasClass("open");e();if(!h){i.toggleClass("open")}return false}};function e(){f(b).parent().removeClass("open")}f.fn.dropdown=function(g){return this.each(function(){var i=f(this),h=i.data("dropdown");if(!h){i.data("dropdown",(h=new a(this)))}if(typeof g=="string"){h[g].call(i)}})};f.fn.dropdown.Constructor=a;f(function(){f("html").on("click.dropdown.data-api",e);f("body").on("click.dropdown",".dropdown form",function(g){g.stopPropagation()}).on("click.dropdown.data-api",b,a.prototype.toggle)})}(window.jQuery);!function(g){var a=function(k,j){this.options=j;this.$element=g(k).delegate('[data-dismiss="modal"]',"click.dismiss.modal",g.proxy(this.hide,this))};a.prototype={constructor:a,toggle:function(){return this[!this.isShown?"show":"hide"]()},show:function(){var j=this,k=g.Event("show");this.$element.trigger(k);if(this.isShown||k.isDefaultPrevented()){return}g("body").addClass("modal-open");this.isShown=true;f.call(this);e.call(this,function(){var l=g.support.transition&&j.$element.hasClass("fade");if(!j.$element.parent().length){j.$element.appendTo(document.body)}j.$element.show();if(l){j.$element[0].offsetWidth}j.$element.addClass("in");l?j.$element.one(g.support.transition.end,function(){j.$element.trigger("shown")}):j.$element.trigger("shown")})},hide:function(k){k&&k.preventDefault();var j=this;k=g.Event("hide");this.$element.trigger(k);if(!this.isShown||k.isDefaultPrevented()){return}this.isShown=false;g("body").removeClass("modal-open");f.call(this);this.$element.removeClass("in");g.support.transition&&this.$element.hasClass("fade")?i.call(this):h.call(this)}};function i(){var j=this,k=setTimeout(function(){j.$element.off(g.support.transition.end);h.call(j)},500);this.$element.one(g.support.transition.end,function(){clearTimeout(k);h.call(j)})}function h(j){this.$element.hide().trigger("hidden");e.call(this)}function e(m){var l=this,k=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var j=g.support.transition&&k;this.$backdrop=g('<div class="modal-backdrop '+k+'" />').appendTo(document.body);if(this.options.backdrop!="static"){this.$backdrop.click(g.proxy(this.hide,this))}if(j){this.$backdrop[0].offsetWidth}this.$backdrop.addClass("in");j?this.$backdrop.one(g.support.transition.end,m):m()}else{if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");g.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(g.support.transition.end,g.proxy(b,this)):b.call(this)}else{if(m){m()}}}}function b(){this.$backdrop.remove();this.$backdrop=null}function f(){var j=this;if(this.isShown&&this.options.keyboard){g(document).on("keyup.dismiss.modal",function(k){k.which==27&&j.hide()})}else{if(!this.isShown){g(document).off("keyup.dismiss.modal")}}}g.fn.modal=function(j){return this.each(function(){var m=g(this),l=m.data("modal"),k=g.extend({},g.fn.modal.defaults,m.data(),typeof j=="object"&&j);if(!l){m.data("modal",(l=new a(this,k)))}if(typeof j=="string"){l[j]()}else{if(k.show){l.show()}}})};g.fn.modal.defaults={backdrop:true,keyboard:true,show:true};g.fn.modal.Constructor=a;g(function(){g("body").on("click.modal.data-api",'[data-toggle="modal"]',function(n){var m=g(this),k,j=g(m.attr("data-target")||(k=m.attr("href"))&&k.replace(/.*(?=#[^\s]+$)/,"")),l=j.data("modal")?"toggle":g.extend({},j.data(),m.data());n.preventDefault();j.modal(l)})})}(window.jQuery);!function(b){var a=function(f,e){this.init("tooltip",f,e)};a.prototype={constructor:a,init:function(h,g,f){var i,e;this.type=h;this.$element=b(g);this.options=this.getOptions(f);this.enabled=true;if(this.options.trigger!="manual"){i=this.options.trigger=="hover"?"mouseenter":"focus";e=this.options.trigger=="hover"?"mouseleave":"blur";this.$element.on(i,this.options.selector,b.proxy(this.enter,this));this.$element.on(e,this.options.selector,b.proxy(this.leave,this))}this.options.selector?(this._options=b.extend({},this.options,{trigger:"manual",selector:""})):this.fixTitle()},getOptions:function(e){e=b.extend({},b.fn[this.type].defaults,e,this.$element.data());if(e.delay&&typeof e.delay=="number"){e.delay={show:e.delay,hide:e.delay}}return e},enter:function(g){var f=b(g.currentTarget)[this.type](this._options).data(this.type);if(!f.options.delay||!f.options.delay.show){return f.show()}clearTimeout(this.timeout);f.hoverState="in";this.timeout=setTimeout(function(){if(f.hoverState=="in"){f.show()}},f.options.delay.show)},leave:function(g){var f=b(g.currentTarget)[this.type](this._options).data(this.type);if(!f.options.delay||!f.options.delay.hide){return f.hide()}clearTimeout(this.timeout);f.hoverState="out";this.timeout=setTimeout(function(){if(f.hoverState=="out"){f.hide()}},f.options.delay.hide)},show:function(){var i,e,k,g,j,f,h;if(this.hasContent()&&this.enabled){i=this.tip();this.setContent();if(this.options.animation){i.addClass("fade")}f=typeof this.options.placement=="function"?this.options.placement.call(this,i[0],this.$element[0]):this.options.placement;e=/in/.test(f);i.remove().css({top:0,left:0,display:"block"}).appendTo(e?this.$element:document.body);k=this.getPosition(e);g=i[0].offsetWidth;j=i[0].offsetHeight;switch(e?f.split(" ")[1]:f){case"bottom":h={top:k.top+k.height,left:k.left+k.width/2-g/2};break;case"top":h={top:k.top-j,left:k.left+k.width/2-g/2};break;case"left":h={top:k.top+k.height/2-j/2,left:k.left-g};break;case"right":h={top:k.top+k.height/2-j/2,left:k.left+k.width};break}i.css(h).addClass(f).addClass("in")}},isHTML:function(e){return typeof e!="string"||(e.charAt(0)==="<"&&e.charAt(e.length-1)===">"&&e.length>=3)||/^(?:[^<]*<[\w\W]+>[^>]*$)/.exec(e)},setContent:function(){var f=this.tip(),e=this.getTitle();f.find(".tooltip-inner")[this.isHTML(e)?"html":"text"](e);f.removeClass("fade in top bottom left right")},hide:function(){var e=this,f=this.tip();f.removeClass("in");function g(){var h=setTimeout(function(){f.off(b.support.transition.end).remove()},500);f.one(b.support.transition.end,function(){clearTimeout(h);f.remove()})}b.support.transition&&this.$tip.hasClass("fade")?g():f.remove()},fixTitle:function(){var e=this.$element;if(e.attr("title")||typeof(e.attr("data-original-title"))!="string"){e.attr("data-original-title",e.attr("title")||"").removeAttr("title")}},hasContent:function(){return this.getTitle()},getPosition:function(e){return b.extend({},(e?{top:0,left:0}:this.$element.offset()),{width:this.$element[0].offsetWidth,height:this.$element[0].offsetHeight})},getTitle:function(){var g,e=this.$element,f=this.options;g=e.attr("data-original-title")||(typeof f.title=="function"?f.title.call(e[0]):f.title);return g},tip:function(){return this.$tip=this.$tip||b(this.options.template)},validate:function(){if(!this.$element[0].parentNode){this.hide();this.$element=null;this.options=null}},enable:function(){this.enabled=true},disable:function(){this.enabled=false},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(){this[this.tip().hasClass("in")?"hide":"show"]()}};b.fn.tooltip=function(e){return this.each(function(){var h=b(this),g=h.data("tooltip"),f=typeof e=="object"&&e;if(!g){h.data("tooltip",(g=new a(this,f)))}if(typeof e=="string"){g[e]()}})};b.fn.tooltip.Constructor=a;b.fn.tooltip.defaults={animation:true,placement:"top",selector:false,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover",title:"",delay:0}}(window.jQuery);!function(b){var a=function(f,e){this.init("popover",f,e)};a.prototype=b.extend({},b.fn.tooltip.Constructor.prototype,{constructor:a,setContent:function(){var g=this.tip(),f=this.getTitle(),e=this.getContent();g.find(".popover-title")[this.isHTML(f)?"html":"text"](f);g.find(".popover-content > *")[this.isHTML(e)?"html":"text"](e);g.removeClass("fade top bottom left right in")},hasContent:function(){return this.getTitle()||this.getContent()},getContent:function(){var f,e=this.$element,g=this.options;f=e.attr("data-content")||(typeof g.content=="function"?g.content.call(e[0]):g.content);return f},tip:function(){if(!this.$tip){this.$tip=b(this.options.template)}return this.$tip}});b.fn.popover=function(e){return this.each(function(){var h=b(this),g=h.data("popover"),f=typeof e=="object"&&e;if(!g){h.data("popover",(g=new a(this,f)))}if(typeof e=="string"){g[e]()}})};b.fn.popover.Constructor=a;b.fn.popover.defaults=b.extend({},b.fn.tooltip.defaults,{placement:"right",content:"",template:'<div class="popover"><div class="arrow"></div><div class="popover-inner"><h3 class="popover-title"></h3><div class="popover-content"><p></p></div></div></div>'})}(window.jQuery);!function(b){function a(h,g){var i=b.proxy(this.process,this),e=b(h).is("body")?b(window):b(h),f;this.options=b.extend({},b.fn.scrollspy.defaults,g);this.$scrollElement=e.on("scroll.scroll.data-api",i);this.selector=(this.options.target||((f=b(h).attr("href"))&&f.replace(/.*(?=#[^\s]+$)/,""))||"")+" .nav li > a";this.$body=b("body").on("click.scroll.data-api",this.selector,i);this.refresh();this.process()}a.prototype={constructor:a,refresh:function(){var e=this,f;this.offsets=b([]);this.targets=b([]);f=this.$body.find(this.selector).map(function(){var h=b(this),g=h.data("target")||h.attr("href"),i=/^#\w/.test(g)&&b(g);return(i&&g.length&&[[i.position().top,g]])||null}).sort(function(h,g){return h[0]-g[0]}).each(function(){e.offsets.push(this[0]);e.targets.push(this[1])})},process:function(){var k=this.$scrollElement.scrollTop()+this.options.offset,g=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight,j=g-this.$scrollElement.height(),h=this.offsets,e=this.targets,l=this.activeTarget,f;if(k>=j){return l!=(f=e.last()[0])&&this.activate(f)}for(f=h.length;f--;){l!=e[f]&&k>=h[f]&&(!h[f+1]||k<=h[f+1])&&this.activate(e[f])}},activate:function(g){var f,e;this.activeTarget=g;b(this.selector).parent(".active").removeClass("active");e=this.selector+'[data-target="'+g+'"],'+this.selector+'[href="'+g+'"]';f=b(e).parent("li").addClass("active");if(f.parent(".dropdown-menu")){f=f.closest("li.dropdown").addClass("active")}f.trigger("activate")}};b.fn.scrollspy=function(e){return this.each(function(){var h=b(this),g=h.data("scrollspy"),f=typeof e=="object"&&e;if(!g){h.data("scrollspy",(g=new a(this,f)))}if(typeof e=="string"){g[e]()}})};b.fn.scrollspy.Constructor=a;b.fn.scrollspy.defaults={offset:10};b(function(){b('[data-spy="scroll"]').each(function(){var e=b(this);e.scrollspy(e.data())})})}(window.jQuery);!function(b){var a=function(e){this.element=b(e)};a.prototype={constructor:a,show:function(){var k=this.element,h=k.closest("ul:not(.dropdown-menu)"),g=k.attr("data-target"),i,f,j;if(!g){g=k.attr("href");g=g&&g.replace(/.*(?=#[^\s]*$)/,"")}if(k.parent("li").hasClass("active")){return}i=h.find(".active a").last()[0];j=b.Event("show",{relatedTarget:i});k.trigger(j);if(j.isDefaultPrevented()){return}f=b(g);this.activate(k.parent("li"),h);this.activate(f,f.parent(),function(){k.trigger({type:"shown",relatedTarget:i})})},activate:function(g,f,j){var e=f.find("> .active"),i=j&&b.support.transition&&e.hasClass("fade");function h(){e.removeClass("active").find("> .dropdown-menu > .active").removeClass("active");g.addClass("active");if(i){g[0].offsetWidth;g.addClass("in")}else{g.removeClass("fade")}if(g.parent(".dropdown-menu")){g.closest("li.dropdown").addClass("active")}j&&j()}i?e.one(b.support.transition.end,h):h();e.removeClass("in")}};b.fn.tab=function(e){return this.each(function(){var g=b(this),f=g.data("tab");if(!f){g.data("tab",(f=new a(this)))}if(typeof e=="string"){f[e]()}})};b.fn.tab.Constructor=a;b(function(){b("body").on("click.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(f){f.preventDefault();b(this).tab("show")})})}(window.jQuery);!function(a){var b=function(f,e){this.$element=a(f);this.options=a.extend({},a.fn.typeahead.defaults,e);this.matcher=this.options.matcher||this.matcher;this.sorter=this.options.sorter||this.sorter;this.highlighter=this.options.highlighter||this.highlighter;this.updater=this.options.updater||this.updater;this.$menu=a(this.options.menu).appendTo("body");this.source=this.options.source;this.shown=false;this.listen()};b.prototype={constructor:b,select:function(){var e=this.$menu.find(".active").attr("data-value");this.$element.val(this.updater(e)).change();return this.hide()},updater:function(e){return e},show:function(){var e=a.extend({},this.$element.position(),{height:this.$element[0].offsetHeight});this.$menu.css({top:e.top+e.height,left:e.left});this.$menu.show();this.shown=true;return this},hide:function(){this.$menu.hide();this.shown=false;return this},lookup:function(g){var f=this,e,h;this.query=this.$element.val();if(!this.query){return this.shown?this.hide():this}e=a.grep(this.source,function(i){return f.matcher(i)});e=this.sorter(e);if(!e.length){return this.shown?this.hide():this}return this.render(e.slice(0,this.options.items)).show()},matcher:function(e){return ~e.toLowerCase().indexOf(this.query.toLowerCase())},sorter:function(g){var h=[],f=[],e=[],i;while(i=g.shift()){if(!i.toLowerCase().indexOf(this.query.toLowerCase())){h.push(i)}else{if(~i.indexOf(this.query)){f.push(i)}else{e.push(i)}}}return h.concat(f,e)},highlighter:function(e){var f=this.query.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");return e.replace(new RegExp("("+f+")","ig"),function(g,h){return"<strong>"+h+"</strong>"})},render:function(e){var f=this;e=a(e).map(function(g,h){g=a(f.options.item).attr("data-value",h);g.find("a").html(f.highlighter(h));return g[0]});e.first().addClass("active");this.$menu.html(e);return this},next:function(f){var g=this.$menu.find(".active").removeClass("active"),e=g.next();if(!e.length){e=a(this.$menu.find("li")[0])}e.addClass("active")},prev:function(f){var g=this.$menu.find(".active").removeClass("active"),e=g.prev();if(!e.length){e=this.$menu.find("li").last()}e.addClass("active")},listen:function(){this.$element.on("blur",a.proxy(this.blur,this)).on("keypress",a.proxy(this.keypress,this)).on("keyup",a.proxy(this.keyup,this));if(a.browser.webkit||a.browser.msie){this.$element.on("keydown",a.proxy(this.keypress,this))}this.$menu.on("click",a.proxy(this.click,this)).on("mouseenter","li",a.proxy(this.mouseenter,this))},keyup:function(f){switch(f.keyCode){case 40:case 38:break;case 9:case 13:if(!this.shown){return}this.select();break;case 27:if(!this.shown){return}this.hide();break;default:this.lookup()}f.stopPropagation();f.preventDefault()},keypress:function(f){if(!this.shown){return}switch(f.keyCode){case 9:case 13:case 27:f.preventDefault();break;case 38:if(f.type!="keydown"){break}f.preventDefault();this.prev();break;case 40:if(f.type!="keydown"){break}f.preventDefault();this.next();break}f.stopPropagation()},blur:function(g){var f=this;setTimeout(function(){f.hide()},150)},click:function(f){f.stopPropagation();f.preventDefault();this.select()},mouseenter:function(f){this.$menu.find(".active").removeClass("active");a(f.currentTarget).addClass("active")}};a.fn.typeahead=function(e){return this.each(function(){var h=a(this),g=h.data("typeahead"),f=typeof e=="object"&&e;if(!g){h.data("typeahead",(g=new b(this,f)))}if(typeof e=="string"){g[e]()}})};a.fn.typeahead.defaults={source:[],items:8,menu:'<ul class="typeahead dropdown-menu"></ul>',item:'<li><a href="#"></a></li>'};a.fn.typeahead.Constructor=b;a(function(){a("body").on("focus.typeahead.data-api",'[data-provide="typeahead"]',function(g){var f=a(this);if(f.data("typeahead")){return}g.preventDefault();f.typeahead(f.data())})})}(window.jQuery);(function(){var a;a=(function(){function b(){this.options_index=0;this.parsed=[]}b.prototype.add_node=function(e){if(e.nodeName==="OPTGROUP"){return this.add_group(e)}else{return this.add_option(e)}};b.prototype.add_group=function(k){var j,g,i,f,h,e;j=this.parsed.length;this.parsed.push({array_index:j,group:true,label:k.label,children:0,disabled:k.disabled});h=k.childNodes;e=[];for(i=0,f=h.length;i<f;i++){g=h[i];e.push(this.add_option(g,j,k.disabled))}return e};b.prototype.add_option=function(f,g,e){if(f.nodeName==="OPTION"){if(f.text!==""){if(g!=null){this.parsed[g].children+=1}this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,value:f.value,text:f.text,html:f.innerHTML,selected:f.selected,disabled:e===true?e:f.disabled,group_array_index:g,classes:f.className,style:f.style.cssText})}else{this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,empty:true})}return this.options_index+=1}};return b})();a.select_to_array=function(b){var i,h,g,e,f;h=new a();f=b.childNodes;for(g=0,e=f.length;g<e;g++){i=f[g];h.add_node(i)}return h.parsed};this.SelectParser=a}).call(this);(function(){var b,a;a=this;b=(function(){function e(f,g){this.form_field=f;this.options=g!=null?g:{};this.set_default_values();this.is_multiple=this.form_field.multiple;this.set_default_text();this.setup();this.set_up_html();this.register_observers();this.finish_setup()}e.prototype.set_default_values=function(){var f=this;this.click_test_action=function(g){return f.test_active_click(g)};this.activate_action=function(g){return f.activate_field(g)};this.active_field=false;this.mouse_on_container=false;this.results_showing=false;this.result_highlighted=null;this.result_single_selected=null;this.allow_single_deselect=(this.options.allow_single_deselect!=null)&&(this.form_field.options[0]!=null)&&this.form_field.options[0].text===""?this.options.allow_single_deselect:false;this.disable_search_threshold=this.options.disable_search_threshold||0;this.search_contains=this.options.search_contains||false;this.choices=0;this.single_backstroke_delete=this.options.single_backstroke_delete||false;return this.max_selected_options=this.options.max_selected_options||Infinity};e.prototype.set_default_text=function(){if(this.form_field.getAttribute("data-placeholder")){this.default_text=this.form_field.getAttribute("data-placeholder")}else{if(this.is_multiple){this.default_text=this.options.placeholder_text_multiple||this.options.placeholder_text||"Select Some Options"}else{this.default_text=this.options.placeholder_text_single||this.options.placeholder_text||"Select an Option"}}return this.results_none_found=this.form_field.getAttribute("data-no_results_text")||this.options.no_results_text||"No results match"};e.prototype.mouse_enter=function(){return this.mouse_on_container=true};e.prototype.mouse_leave=function(){return this.mouse_on_container=false};e.prototype.input_focus=function(f){var g=this;if(!this.active_field){return setTimeout((function(){return g.container_mousedown()}),50)}};e.prototype.input_blur=function(f){var g=this;if(!this.mouse_on_container){this.active_field=false;return setTimeout((function(){return g.blur_test()}),100)}};e.prototype.result_add_option=function(h){var f,g;if(!h.disabled){h.dom_id=this.container_id+"_o_"+h.array_index;f=h.selected&&this.is_multiple?[]:["active-result"];if(h.selected){f.push("result-selected")}if(h.group_array_index!=null){f.push("group-option")}if(h.classes!==""){f.push(h.classes)}g=h.style.cssText!==""?' style="'+h.style+'"':"";return'<li id="'+h.dom_id+'" class="'+f.join(" ")+'"'+g+">"+h.html+"</li>"}else{return""}};e.prototype.results_update_field=function(){if(!this.is_multiple){this.results_reset_cleanup()}this.result_clear_highlight();this.result_single_selected=null;return this.results_build()};e.prototype.results_toggle=function(){if(this.results_showing){return this.results_hide()}else{return this.results_show()}};e.prototype.results_search=function(f){if(this.results_showing){return this.winnow_results()}else{return this.results_show()}};e.prototype.keyup_checker=function(f){var h,g;h=(g=f.which)!=null?g:f.keyCode;this.search_field_scale();switch(h){case 8:if(this.is_multiple&&this.backstroke_length<1&&this.choices>0){return this.keydown_backstroke()}else{if(!this.pending_backstroke){this.result_clear_highlight();return this.results_search()}}break;case 13:f.preventDefault();if(this.results_showing){return this.result_select(f)}break;case 27:if(this.results_showing){this.results_hide()}return true;case 9:case 38:case 40:case 16:case 91:case 17:break;default:return this.results_search()}};e.prototype.generate_field_id=function(){var f;f=this.generate_random_id();this.form_field.id=f;return f};e.prototype.generate_random_char=function(){var h,g,f;h="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ";f=Math.floor(Math.random()*h.length);return g=h.substring(f,f+1)};return e})();a.AbstractChosen=b}).call(this);(function(){var g,h,f,a,b=Object.prototype.hasOwnProperty,e=function(l,j){for(var i in j){if(b.call(j,i)){l[i]=j[i]}}function k(){this.constructor=l}k.prototype=j.prototype;l.prototype=new k;l.__super__=j.prototype;return l};a=this;g=jQuery;g.fn.extend({chosen:function(i){if(g.browser.msie&&(g.browser.version==="6.0"||g.browser.version==="7.0")){return this}return this.each(function(j){var k;k=g(this);if(!k.hasClass("chzn-done")){return k.data("chosen",new h(this,i))}})}});h=(function(i){e(j,i);function j(){j.__super__.constructor.apply(this,arguments)}j.prototype.setup=function(){this.form_field_jq=g(this.form_field);this.current_value=this.form_field_jq.val();return this.is_rtl=this.form_field_jq.hasClass("chzn-rtl")};j.prototype.finish_setup=function(){return this.form_field_jq.addClass("chzn-done")};j.prototype.set_up_html=function(){var n,m,l,k;this.container_id=this.form_field.id.length?this.form_field.id.replace(/[^\w]/g,"_"):this.generate_field_id();this.container_id+="_chzn";this.f_width=this.form_field_jq.outerWidth();n=g("<div />",{id:this.container_id,"class":"chzn-container"+(this.is_rtl?" chzn-rtl":""),style:"width: "+this.f_width+"px;"});if(this.is_multiple){n.html('<ul class="chzn-choices"><li class="search-field"><input type="text" value="'+this.default_text+'" class="default" autocomplete="off" style="width:25px;" /></li></ul><div class="chzn-drop" style="left:-9000px;"><ul class="chzn-results"></ul></div>')}else{n.html('<a href="javascript:void(0)" class="chzn-single chzn-default"><span>'+this.default_text+'</span><div><b></b></div></a><div class="chzn-drop" style="left:-9000px;"><div class="chzn-search"><input type="text" autocomplete="off" /></div><ul class="chzn-results"></ul></div>')}this.form_field_jq.hide().after(n);this.container=g("#"+this.container_id);this.container.addClass("chzn-container-"+(this.is_multiple?"multi":"single"));this.dropdown=this.container.find("div.chzn-drop").first();m=this.container.height();l=this.f_width-f(this.dropdown);this.dropdown.css({width:l+"px",top:m+"px"});this.search_field=this.container.find("input").first();this.search_results=this.container.find("ul.chzn-results").first();this.search_field_scale();this.search_no_results=this.container.find("li.no-results").first();if(this.is_multiple){this.search_choices=this.container.find("ul.chzn-choices").first();this.search_container=this.container.find("li.search-field").first()}else{this.search_container=this.container.find("div.chzn-search").first();this.selected_item=this.container.find(".chzn-single").first();k=l-f(this.search_container)-f(this.search_field);this.search_field.css({width:k+"px"})}this.results_build();this.set_tab_index();return this.form_field_jq.trigger("liszt:ready",{chosen:this})};j.prototype.register_observers=function(){var k=this;this.container.mousedown(function(l){return k.container_mousedown(l)});this.container.mouseup(function(l){return k.container_mouseup(l)});this.container.mouseenter(function(l){return k.mouse_enter(l)});this.container.mouseleave(function(l){return k.mouse_leave(l)});this.search_results.mouseup(function(l){return k.search_results_mouseup(l)});this.search_results.mouseover(function(l){return k.search_results_mouseover(l)});this.search_results.mouseout(function(l){return k.search_results_mouseout(l)});this.form_field_jq.bind("liszt:updated",function(l){return k.results_update_field(l)});this.search_field.blur(function(l){return k.input_blur(l)});this.search_field.keyup(function(l){return k.keyup_checker(l)});this.search_field.keydown(function(l){return k.keydown_checker(l)});if(this.is_multiple){this.search_choices.click(function(l){return k.choices_click(l)});return this.search_field.focus(function(l){return k.input_focus(l)})}else{return this.container.click(function(l){return l.preventDefault()})}};j.prototype.search_field_disabled=function(){this.is_disabled=this.form_field_jq[0].disabled;if(this.is_disabled){this.container.addClass("chzn-disabled");this.search_field[0].disabled=true;if(!this.is_multiple){this.selected_item.unbind("focus",this.activate_action)}return this.close_field()}else{this.container.removeClass("chzn-disabled");this.search_field[0].disabled=false;if(!this.is_multiple){return this.selected_item.bind("focus",this.activate_action)}}};j.prototype.container_mousedown=function(k){var l;if(!this.is_disabled){l=k!=null?(g(k.target)).hasClass("search-choice-close"):false;if(k&&k.type==="mousedown"&&!this.results_showing){k.stopPropagation()}if(!this.pending_destroy_click&&!l){if(!this.active_field){if(this.is_multiple){this.search_field.val("")}g(document).click(this.click_test_action);this.results_show()}else{if(!this.is_multiple&&k&&((g(k.target)[0]===this.selected_item[0])||g(k.target).parents("a.chzn-single").length)){k.preventDefault();this.results_toggle()}}return this.activate_field()}else{return this.pending_destroy_click=false}}};j.prototype.container_mouseup=function(k){if(k.target.nodeName==="ABBR"&&!this.is_disabled){return this.results_reset(k)}};j.prototype.blur_test=function(k){if(!this.active_field&&this.container.hasClass("chzn-container-active")){return this.close_field()}};j.prototype.close_field=function(){g(document).unbind("click",this.click_test_action);if(!this.is_multiple){this.selected_item.attr("tabindex",this.search_field.attr("tabindex"));this.search_field.attr("tabindex",-1)}this.active_field=false;this.results_hide();this.container.removeClass("chzn-container-active");this.winnow_results_clear();this.clear_backstroke();this.show_search_field_default();return this.search_field_scale()};j.prototype.activate_field=function(){if(!this.is_multiple&&!this.active_field){this.search_field.attr("tabindex",this.selected_item.attr("tabindex"));this.selected_item.attr("tabindex",-1)}this.container.addClass("chzn-container-active");this.active_field=true;this.search_field.val(this.search_field.val());return this.search_field.focus()};j.prototype.test_active_click=function(k){if(g(k.target).parents("#"+this.container_id).length){return this.active_field=true}else{return this.close_field()}};j.prototype.results_build=function(){var l,o,n,k,m;this.parsing=true;this.results_data=a.SelectParser.select_to_array(this.form_field);if(this.is_multiple&&this.choices>0){this.search_choices.find("li.search-choice").remove();this.choices=0}else{if(!this.is_multiple){this.selected_item.addClass("chzn-default").find("span").text(this.default_text);if(this.form_field.options.length<=this.disable_search_threshold){this.container.addClass("chzn-container-single-nosearch")}else{this.container.removeClass("chzn-container-single-nosearch")}}}l="";m=this.results_data;for(n=0,k=m.length;n<k;n++){o=m[n];if(o.group){l+=this.result_add_group(o)}else{if(!o.empty){l+=this.result_add_option(o);if(o.selected&&this.is_multiple){this.choice_build(o)}else{if(o.selected&&!this.is_multiple){this.selected_item.removeClass("chzn-default").find("span").text(o.text);if(this.allow_single_deselect){this.single_deselect_control_build()}}}}}}this.search_field_disabled();this.show_search_field_default();this.search_field_scale();this.search_results.html(l);return this.parsing=false};j.prototype.result_add_group=function(k){if(!k.disabled){k.dom_id=this.container_id+"_g_"+k.array_index;return'<li id="'+k.dom_id+'" class="group-result">'+g("<div />").text(k.label).html()+"</li>"}else{return""}};j.prototype.result_do_highlight=function(l){var p,o,m,n,k;if(l.length){this.result_clear_highlight();this.result_highlight=l;this.result_highlight.addClass("highlighted");m=parseInt(this.search_results.css("maxHeight"),10);k=this.search_results.scrollTop();n=m+k;o=this.result_highlight.position().top+this.search_results.scrollTop();p=o+this.result_highlight.outerHeight();if(p>=n){return this.search_results.scrollTop((p-m)>0?p-m:0)}else{if(o<k){return this.search_results.scrollTop(o)}}}};j.prototype.result_clear_highlight=function(){if(this.result_highlight){this.result_highlight.removeClass("highlighted")}return this.result_highlight=null};j.prototype.results_show=function(){var k;if(!this.is_multiple){this.selected_item.addClass("chzn-single-with-drop");if(this.result_single_selected){this.result_do_highlight(this.result_single_selected)}}else{if(this.max_selected_options<=this.choices){this.form_field_jq.trigger("liszt:maxselected",{chosen:this});return false}}k=this.is_multiple?this.container.height():this.container.height()-1;this.form_field_jq.trigger("liszt:showing_dropdown",{chosen:this});this.dropdown.css({top:k+"px",left:0});this.results_showing=true;this.search_field.focus();this.search_field.val(this.search_field.val());return this.winnow_results()};j.prototype.results_hide=function(){if(!this.is_multiple){this.selected_item.removeClass("chzn-single-with-drop")}this.result_clear_highlight();this.form_field_jq.trigger("liszt:hiding_dropdown",{chosen:this});this.dropdown.css({left:"-9000px"});return this.results_showing=false};j.prototype.set_tab_index=function(l){var k;if(this.form_field_jq.attr("tabindex")){k=this.form_field_jq.attr("tabindex");this.form_field_jq.attr("tabindex",-1);if(this.is_multiple){return this.search_field.attr("tabindex",k)}else{this.selected_item.attr("tabindex",k);return this.search_field.attr("tabindex",-1)}}};j.prototype.show_search_field_default=function(){if(this.is_multiple&&this.choices<1&&!this.active_field){this.search_field.val(this.default_text);return this.search_field.addClass("default")}else{this.search_field.val("");return this.search_field.removeClass("default")}};j.prototype.search_results_mouseup=function(k){var l;l=g(k.target).hasClass("active-result")?g(k.target):g(k.target).parents(".active-result").first();if(l.length){this.result_highlight=l;return this.result_select(k)}};j.prototype.search_results_mouseover=function(k){var l;l=g(k.target).hasClass("active-result")?g(k.target):g(k.target).parents(".active-result").first();if(l){return this.result_do_highlight(l)}};j.prototype.search_results_mouseout=function(k){if(g(k.target).hasClass("active-result"||g(k.target).parents(".active-result").first())){return this.result_clear_highlight()}};j.prototype.choices_click=function(k){k.preventDefault();if(this.active_field&&!(g(k.target).hasClass("search-choice"||g(k.target).parents(".search-choice").first))&&!this.results_showing){return this.results_show()}};j.prototype.choice_build=function(m){var k,l,n=this;if(this.is_multiple&&this.max_selected_options<=this.choices){this.form_field_jq.trigger("liszt:maxselected",{chosen:this});return false}k=this.container_id+"_c_"+m.array_index;this.choices+=1;this.search_container.before('<li class="search-choice" id="'+k+'"><span>'+m.html+'</span><a href="javascript:void(0)" class="search-choice-close" rel="'+m.array_index+'"></a></li>');l=g("#"+k).find("a").first();return l.click(function(o){return n.choice_destroy_link_click(o)})};j.prototype.choice_destroy_link_click=function(k){k.preventDefault();if(!this.is_disabled){this.pending_destroy_click=true;return this.choice_destroy(g(k.target))}else{return k.stopPropagation}};j.prototype.choice_destroy=function(k){this.choices-=1;this.show_search_field_default();if(this.is_multiple&&this.choices>0&&this.search_field.val().length<1){this.results_hide()}this.result_deselect(k.attr("rel"));return k.parents("li").first().remove()};j.prototype.results_reset=function(){this.form_field.options[0].selected=true;this.selected_item.find("span").text(this.default_text);if(!this.is_multiple){this.selected_item.addClass("chzn-default")}this.show_search_field_default();this.results_reset_cleanup();this.form_field_jq.trigger("change");if(this.active_field){return this.results_hide()}};j.prototype.results_reset_cleanup=function(){return this.selected_item.find("abbr").remove()};j.prototype.result_select=function(l){var o,n,m,k;if(this.result_highlight){o=this.result_highlight;n=o.attr("id");this.result_clear_highlight();if(this.is_multiple){this.result_deactivate(o)}else{this.search_results.find(".result-selected").removeClass("result-selected");this.result_single_selected=o;this.selected_item.removeClass("chzn-default")}o.addClass("result-selected");k=n.substr(n.lastIndexOf("_")+1);m=this.results_data[k];m.selected=true;this.form_field.options[m.options_index].selected=true;if(this.is_multiple){this.choice_build(m)}else{this.selected_item.find("span").first().text(m.text);if(this.allow_single_deselect){this.single_deselect_control_build()}}if(!(l.metaKey&&this.is_multiple)){this.results_hide()}this.search_field.val("");if(this.is_multiple||this.form_field_jq.val()!==this.current_value){this.form_field_jq.trigger("change",{selected:this.form_field.options[m.options_index].value})}this.current_value=this.form_field_jq.val();return this.search_field_scale()}};j.prototype.result_activate=function(k){return k.addClass("active-result")};j.prototype.result_deactivate=function(k){return k.removeClass("active-result")};j.prototype.result_deselect=function(m){var k,l;l=this.results_data[m];l.selected=false;this.form_field.options[l.options_index].selected=false;k=g("#"+this.container_id+"_o_"+m);k.removeClass("result-selected").addClass("active-result").show();this.result_clear_highlight();this.winnow_results();this.form_field_jq.trigger("change",{deselected:this.form_field.options[l.options_index].value});return this.search_field_scale()};j.prototype.single_deselect_control_build=function(){if(this.allow_single_deselect&&this.selected_item.find("abbr").length<1){return this.selected_item.find("span").first().after('<abbr class="search-choice-close"></abbr>')}};j.prototype.winnow_results=function(){var q,s,w,v,m,t,p,z,u,y,x,r,n,l,k,A,B,o;this.no_results_clear();u=0;y=this.search_field.val()===this.default_text?"":g("<div/>").text(g.trim(this.search_field.val())).html();t=this.search_contains?"":"^";m=new RegExp(t+y.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"i");n=new RegExp(y.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"i");o=this.results_data;for(l=0,A=o.length;l<A;l++){s=o[l];if(!s.disabled&&!s.empty){if(s.group){g("#"+s.dom_id).css("display","none")}else{if(!(this.is_multiple&&s.selected)){q=false;z=s.dom_id;p=g("#"+z);if(m.test(s.html)){q=true;u+=1}else{if(s.html.indexOf(" ")>=0||s.html.indexOf("[")===0){v=s.html.replace(/\[|\]/g,"").split(" ");if(v.length){for(k=0,B=v.length;k<B;k++){w=v[k];if(m.test(w)){q=true;u+=1}}}}}if(q){if(y.length){x=s.html.search(n);r=s.html.substr(0,x+y.length)+"</em>"+s.html.substr(x+y.length);r=r.substr(0,x)+"<em>"+r.substr(x)}else{r=s.html}p.html(r);this.result_activate(p);if(s.group_array_index!=null){g("#"+this.results_data[s.group_array_index].dom_id).css("display","list-item")}}else{if(this.result_highlight&&z===this.result_highlight.attr("id")){this.result_clear_highlight()}this.result_deactivate(p)}}}}}if(u<1&&y.length){return this.no_results(y)}else{return this.winnow_results_set_highlight()}};j.prototype.winnow_results_clear=function(){var k,n,o,m,l;this.search_field.val("");n=this.search_results.find("li");l=[];for(o=0,m=n.length;o<m;o++){k=n[o];k=g(k);if(k.hasClass("group-result")){l.push(k.css("display","auto"))}else{if(!this.is_multiple||!k.hasClass("result-selected")){l.push(this.result_activate(k))}else{l.push(void 0)}}}return l};j.prototype.winnow_results_set_highlight=function(){var k,l;if(!this.result_highlight){l=!this.is_multiple?this.search_results.find(".result-selected.active-result"):[];k=l.length?l.first():this.search_results.find(".active-result").first();if(k!=null){return this.result_do_highlight(k)}}};j.prototype.no_results=function(k){var l;l=g('<li class="no-results">'+this.results_none_found+' "<span></span>"</li>');l.find("span").first().html(k);return this.search_results.append(l)};j.prototype.no_results_clear=function(){return this.search_results.find(".no-results").remove()};j.prototype.keydown_arrow=function(){var l,k;if(!this.result_highlight){l=this.search_results.find("li.active-result").first();if(l){this.result_do_highlight(g(l))}}else{if(this.results_showing){k=this.result_highlight.nextAll("li.active-result").first();if(k){this.result_do_highlight(k)}}}if(!this.results_showing){return this.results_show()}};j.prototype.keyup_arrow=function(){var k;if(!this.results_showing&&!this.is_multiple){return this.results_show()}else{if(this.result_highlight){k=this.result_highlight.prevAll("li.active-result");if(k.length){return this.result_do_highlight(k.first())}else{if(this.choices>0){this.results_hide()}return this.result_clear_highlight()}}}};j.prototype.keydown_backstroke=function(){if(this.pending_backstroke){this.choice_destroy(this.pending_backstroke.find("a").first());return this.clear_backstroke()}else{this.pending_backstroke=this.search_container.siblings("li.search-choice").last();if(this.single_backstroke_delete){return this.keydown_backstroke()}else{return this.pending_backstroke.addClass("search-choice-focus")}}};j.prototype.clear_backstroke=function(){if(this.pending_backstroke){this.pending_backstroke.removeClass("search-choice-focus")}return this.pending_backstroke=null};j.prototype.keydown_checker=function(k){var m,l;m=(l=k.which)!=null?l:k.keyCode;this.search_field_scale();if(m!==8&&this.pending_backstroke){this.clear_backstroke()}switch(m){case 8:this.backstroke_length=this.search_field.val().length;break;case 9:if(this.results_showing&&!this.is_multiple){this.result_select(k)}this.mouse_on_container=false;break;case 13:k.preventDefault();break;case 38:k.preventDefault();this.keyup_arrow();break;case 40:this.keydown_arrow();break}};j.prototype.search_field_scale=function(){var s,k,n,l,q,r,p,m,o;if(this.is_multiple){n=0;p=0;q="position:absolute; left: -1000px; top: -1000px; display:none;";r=["font-size","font-style","font-weight","font-family","line-height","text-transform","letter-spacing"];for(m=0,o=r.length;m<o;m++){l=r[m];q+=l+":"+this.search_field.css(l)+";"}k=g("<div />",{style:q});k.text(this.search_field.val());g("body").append(k);p=k.width()+25;k.remove();if(p>this.f_width-10){p=this.f_width-10}this.search_field.css({width:p+"px"});s=this.container.height();return this.dropdown.css({top:s+"px"})}};j.prototype.generate_random_id=function(){var k;k="sel"+this.generate_random_char()+this.generate_random_char()+this.generate_random_char();while(g("#"+k).length>0){k+=this.generate_random_char()}return k};return j})(AbstractChosen);f=function(i){var j;return j=i.outerWidth()-i.width()};a.get_side_border_padding=f}).call(this);((function(){var b;b=function(){function e(){this.options_index=0,this.parsed=[]}return e.prototype.add_node=function(f){return f.nodeName==="OPTGROUP"?this.add_group(f):this.add_option(f)},e.prototype.add_group=function(i){var h,n,m,l,k,j;h=this.parsed.length,this.parsed.push({array_index:h,group:!0,label:i.label,children:0,disabled:i.disabled}),k=i.childNodes,j=[];for(m=0,l=k.length;m<l;m++){n=k[m],j.push(this.add_option(n,h,i.disabled))}return j},e.prototype.add_option=function(g,f,h){if(g.nodeName==="OPTION"){return g.text!==""?(f!=null&&(this.parsed[f].children+=1),this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,value:g.value,text:g.text,html:g.innerHTML,selected:g.selected,disabled:h===!0?h:g.disabled,group_array_index:f,classes:g.className,style:g.style.cssText})):this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,empty:!0}),this.options_index+=1}},e}(),b.select_to_array=function(a){var l,k,j,i,h;k=new b,h=a.childNodes;for(j=0,i=h.length;j<i;j++){l=h[j],k.add_node(l)}return k.parsed},this.SelectParser=b})).call(this),function(){var f,e;e=this,f=function(){function b(h,g){this.form_field=h,this.options=g!=null?g:{},this.set_default_values(),this.is_multiple=this.form_field.multiple,this.set_default_text(),this.setup(),this.set_up_html(),this.register_observers(),this.finish_setup()}return b.prototype.set_default_values=function(){var g=this;return this.click_test_action=function(a){return g.test_active_click(a)},this.activate_action=function(a){return g.activate_field(a)},this.active_field=!1,this.mouse_on_container=!1,this.results_showing=!1,this.result_highlighted=null,this.result_single_selected=null,this.allow_single_deselect=this.options.allow_single_deselect!=null&&this.form_field.options[0]!=null&&this.form_field.options[0].text===""?this.options.allow_single_deselect:!1,this.disable_search_threshold=this.options.disable_search_threshold||0,this.search_contains=this.options.search_contains||!1,this.choices=0,this.single_backstroke_delete=this.options.single_backstroke_delete||!1,this.max_selected_options=this.options.max_selected_options||Infinity},b.prototype.set_default_text=function(){return this.form_field.getAttribute("data-placeholder")?this.default_text=this.form_field.getAttribute("data-placeholder"):this.is_multiple?this.default_text=this.options.placeholder_text_multiple||this.options.placeholder_text||"Select Some Options":this.default_text=this.options.placeholder_text_single||this.options.placeholder_text||"Select an Option",this.results_none_found=this.form_field.getAttribute("data-no_results_text")||this.options.no_results_text||"No results match"},b.prototype.mouse_enter=function(){return this.mouse_on_container=!0},b.prototype.mouse_leave=function(){return this.mouse_on_container=!1},b.prototype.input_focus=function(h){var g=this;if(!this.active_field){return setTimeout(function(){return g.container_mousedown()},50)}},b.prototype.input_blur=function(h){var g=this;if(!this.mouse_on_container){return this.active_field=!1,setTimeout(function(){return g.blur_test()},100)}},b.prototype.result_add_option=function(h){var g,i;return h.disabled?"":(h.dom_id=this.container_id+"_o_"+h.array_index,g=h.selected&&this.is_multiple?[]:["active-result"],h.selected&&g.push("result-selected"),h.group_array_index!=null&&g.push("group-option"),h.classes!==""&&g.push(h.classes),i=h.style.cssText!==""?' style="'+h.style+'"':"",'<li id="'+h.dom_id+'" class="'+g.join(" ")+'"'+i+">"+h.html+"</li>")},b.prototype.results_update_field=function(){return this.is_multiple||this.results_reset_cleanup(),this.result_clear_highlight(),this.result_single_selected=null,this.results_build()},b.prototype.results_toggle=function(){return this.results_showing?this.results_hide():this.results_show()},b.prototype.results_search=function(g){return this.results_showing?this.winnow_results():this.results_show()},b.prototype.keyup_checker=function(h){var g,i;g=(i=h.which)!=null?i:h.keyCode,this.search_field_scale();switch(g){case 8:if(this.is_multiple&&this.backstroke_length<1&&this.choices>0){return this.keydown_backstroke()}if(!this.pending_backstroke){return this.result_clear_highlight(),this.results_search()}break;case 13:h.preventDefault();if(this.results_showing){return this.result_select(h)}break;case 27:return this.results_showing&&this.results_hide(),!0;case 9:case 38:case 40:case 16:case 91:case 17:break;default:return this.results_search()}},b.prototype.generate_field_id=function(){var g;return g=this.generate_random_id(),this.form_field.id=g,g},b.prototype.generate_random_char=function(){var h,g,i;return h="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ",i=Math.floor(Math.random()*h.length),g=h.substring(i,i+1)},b}(),e.AbstractChosen=f}.call(this),function(){var h,g,l,k,j=Object.prototype.hasOwnProperty,i=function(f,e){function m(){this.constructor=f}for(var n in e){j.call(e,n)&&(f[n]=e[n])}return m.prototype=e.prototype,f.prototype=new m,f.__super__=e.prototype,f};k=this,h=jQuery,h.fn.extend({chosen:function(a){return !h.browser.msie||h.browser.version!=="6.0"&&h.browser.version!=="7.0"?this.each(function(f){var b;b=h(this);if(!b.hasClass("chzn-done")){return b.data("chosen",new g(this,a))}}):this}}),g=function(a){function f(){f.__super__.constructor.apply(this,arguments)}return i(f,a),f.prototype.setup=function(){return this.form_field_jq=h(this.form_field),this.current_value=this.form_field_jq.val(),this.is_rtl=this.form_field_jq.hasClass("chzn-rtl")},f.prototype.finish_setup=function(){return this.form_field_jq.addClass("chzn-done")},f.prototype.set_up_html=function(){var m,p,o,n;return this.container_id=this.form_field.id.length?this.form_field.id.replace(/[^\w]/g,"_"):this.generate_field_id(),this.container_id+="_chzn",this.f_width=this.form_field_jq.outerWidth(),m=h("<div />",{id:this.container_id,"class":"chzn-container"+(this.is_rtl?" chzn-rtl":""),style:"width: "+this.f_width+"px;"}),this.is_multiple?m.html('<ul class="chzn-choices"><li class="search-field"><input type="text" value="'+this.default_text+'" class="default" autocomplete="off" style="width:25px;" /></li></ul><div class="chzn-drop" style="left:-9000px;"><ul class="chzn-results"></ul></div>'):m.html('<a href="javascript:void(0)" class="chzn-single chzn-default"><span>'+this.default_text+'</span><div><b></b></div></a><div class="chzn-drop" style="left:-9000px;"><div class="chzn-search"><input type="text" autocomplete="off" /></div><ul class="chzn-results"></ul></div>'),this.form_field_jq.hide().after(m),this.container=h("#"+this.container_id),this.container.addClass("chzn-container-"+(this.is_multiple?"multi":"single")),this.dropdown=this.container.find("div.chzn-drop").first(),p=this.container.height(),o=this.f_width-l(this.dropdown),this.dropdown.css({width:o+"px",top:p+"px"}),this.search_field=this.container.find("input").first(),this.search_results=this.container.find("ul.chzn-results").first(),this.search_field_scale(),this.search_no_results=this.container.find("li.no-results").first(),this.is_multiple?(this.search_choices=this.container.find("ul.chzn-choices").first(),this.search_container=this.container.find("li.search-field").first()):(this.search_container=this.container.find("div.chzn-search").first(),this.selected_item=this.container.find(".chzn-single").first(),n=o-l(this.search_container)-l(this.search_field),this.search_field.css({width:n+"px"})),this.results_build(),this.set_tab_index(),this.form_field_jq.trigger("liszt:ready",{chosen:this})},f.prototype.register_observers=function(){var b=this;return this.container.mousedown(function(e){return b.container_mousedown(e)}),this.container.mouseup(function(e){return b.container_mouseup(e)}),this.container.mouseenter(function(e){return b.mouse_enter(e)}),this.container.mouseleave(function(e){return b.mouse_leave(e)}),this.search_results.mouseup(function(e){return b.search_results_mouseup(e)}),this.search_results.mouseover(function(e){return b.search_results_mouseover(e)}),this.search_results.mouseout(function(e){return b.search_results_mouseout(e)}),this.form_field_jq.bind("liszt:updated",function(e){return b.results_update_field(e)}),this.search_field.blur(function(e){return b.input_blur(e)}),this.search_field.keyup(function(e){return b.keyup_checker(e)}),this.search_field.keydown(function(e){return b.keydown_checker(e)}),this.is_multiple?(this.search_choices.click(function(e){return b.choices_click(e)}),this.search_field.focus(function(e){return b.input_focus(e)})):this.container.click(function(e){return e.preventDefault()})},f.prototype.search_field_disabled=function(){this.is_disabled=this.form_field_jq[0].disabled;if(this.is_disabled){return this.container.addClass("chzn-disabled"),this.search_field[0].disabled=!0,this.is_multiple||this.selected_item.unbind("focus",this.activate_action),this.close_field()}this.container.removeClass("chzn-disabled"),this.search_field[0].disabled=!1;if(!this.is_multiple){return this.selected_item.bind("focus",this.activate_action)}},f.prototype.container_mousedown=function(e){var m;if(!this.is_disabled){return m=e!=null?h(e.target).hasClass("search-choice-close"):!1,e&&e.type==="mousedown"&&!this.results_showing&&e.stopPropagation(),!this.pending_destroy_click&&!m?(this.active_field?!this.is_multiple&&e&&(h(e.target)[0]===this.selected_item[0]||h(e.target).parents("a.chzn-single").length)&&(e.preventDefault(),this.results_toggle()):(this.is_multiple&&this.search_field.val(""),h(document).click(this.click_test_action),this.results_show()),this.activate_field()):this.pending_destroy_click=!1}},f.prototype.container_mouseup=function(b){if(b.target.nodeName==="ABBR"&&!this.is_disabled){return this.results_reset(b)}},f.prototype.blur_test=function(b){if(!this.active_field&&this.container.hasClass("chzn-container-active")){return this.close_field()}},f.prototype.close_field=function(){return h(document).unbind("click",this.click_test_action),this.is_multiple||(this.selected_item.attr("tabindex",this.search_field.attr("tabindex")),this.search_field.attr("tabindex",-1)),this.active_field=!1,this.results_hide(),this.container.removeClass("chzn-container-active"),this.winnow_results_clear(),this.clear_backstroke(),this.show_search_field_default(),this.search_field_scale()},f.prototype.activate_field=function(){return !this.is_multiple&&!this.active_field&&(this.search_field.attr("tabindex",this.selected_item.attr("tabindex")),this.selected_item.attr("tabindex",-1)),this.container.addClass("chzn-container-active"),this.active_field=!0,this.search_field.val(this.search_field.val()),this.search_field.focus()},f.prototype.test_active_click=function(e){return h(e.target).parents("#"+this.container_id).length?this.active_field=!0:this.close_field()},f.prototype.results_build=function(){var n,m,q,p,o;this.parsing=!0,this.results_data=k.SelectParser.select_to_array(this.form_field),this.is_multiple&&this.choices>0?(this.search_choices.find("li.search-choice").remove(),this.choices=0):this.is_multiple||(this.selected_item.addClass("chzn-default").find("span").text(this.default_text),this.form_field.options.length<=this.disable_search_threshold?this.container.addClass("chzn-container-single-nosearch"):this.container.removeClass("chzn-container-single-nosearch")),n="",o=this.results_data;for(q=0,p=o.length;q<p;q++){m=o[q],m.group?n+=this.result_add_group(m):m.empty||(n+=this.result_add_option(m),m.selected&&this.is_multiple?this.choice_build(m):m.selected&&!this.is_multiple&&(this.selected_item.removeClass("chzn-default").find("span").text(m.text),this.allow_single_deselect&&this.single_deselect_control_build()))}return this.search_field_disabled(),this.show_search_field_default(),this.search_field_scale(),this.search_results.html(n),this.parsing=!1},f.prototype.result_add_group=function(e){return e.disabled?"":(e.dom_id=this.container_id+"_g_"+e.array_index,'<li id="'+e.dom_id+'" class="group-result">'+h("<div />").text(e.label).html()+"</li>")},f.prototype.result_do_highlight=function(n){var m,r,q,p,o;if(n.length){this.result_clear_highlight(),this.result_highlight=n,this.result_highlight.addClass("highlighted"),q=parseInt(this.search_results.css("maxHeight"),10),o=this.search_results.scrollTop(),p=q+o,r=this.result_highlight.position().top+this.search_results.scrollTop(),m=r+this.result_highlight.outerHeight();if(m>=p){return this.search_results.scrollTop(m-q>0?m-q:0)}if(r<o){return this.search_results.scrollTop(r)}}},f.prototype.result_clear_highlight=function(){return this.result_highlight&&this.result_highlight.removeClass("highlighted"),this.result_highlight=null},f.prototype.results_show=function(){var b;if(!this.is_multiple){this.selected_item.addClass("chzn-single-with-drop"),this.result_single_selected&&this.result_do_highlight(this.result_single_selected)}else{if(this.max_selected_options<=this.choices){return this.form_field_jq.trigger("liszt:maxselected",{chosen:this}),!1}}return b=this.is_multiple?this.container.height():this.container.height()-1,this.form_field_jq.trigger("liszt:showing_dropdown",{chosen:this}),this.dropdown.css({top:b+"px",left:0}),this.results_showing=!0,this.search_field.focus(),this.search_field.val(this.search_field.val()),this.winnow_results()},f.prototype.results_hide=function(){return this.is_multiple||this.selected_item.removeClass("chzn-single-with-drop"),this.result_clear_highlight(),this.form_field_jq.trigger("liszt:hiding_dropdown",{chosen:this}),this.dropdown.css({left:"-9000px"}),this.results_showing=!1},f.prototype.set_tab_index=function(m){var e;if(this.form_field_jq.attr("tabindex")){return e=this.form_field_jq.attr("tabindex"),this.form_field_jq.attr("tabindex",-1),this.is_multiple?this.search_field.attr("tabindex",e):(this.selected_item.attr("tabindex",e),this.search_field.attr("tabindex",-1))}},f.prototype.show_search_field_default=function(){return this.is_multiple&&this.choices<1&&!this.active_field?(this.search_field.val(this.default_text),this.search_field.addClass("default")):(this.search_field.val(""),this.search_field.removeClass("default"))},f.prototype.search_results_mouseup=function(e){var m;m=h(e.target).hasClass("active-result")?h(e.target):h(e.target).parents(".active-result").first();if(m.length){return this.result_highlight=m,this.result_select(e)}},f.prototype.search_results_mouseover=function(e){var m;m=h(e.target).hasClass("active-result")?h(e.target):h(e.target).parents(".active-result").first();if(m){return this.result_do_highlight(m)}},f.prototype.search_results_mouseout=function(e){if(h(e.target).hasClass("active-result")){return this.result_clear_highlight()}},f.prototype.choices_click=function(e){e.preventDefault();if(this.active_field&&!h(e.target).hasClass("search-choice")&&!this.results_showing){return this.results_show()}},f.prototype.choice_build=function(m){var p,o,n=this;return this.is_multiple&&this.max_selected_options<=this.choices?(this.form_field_jq.trigger("liszt:maxselected",{chosen:this}),!1):(p=this.container_id+"_c_"+m.array_index,this.choices+=1,this.search_container.before('<li class="search-choice" id="'+p+'"><span>'+m.html+'</span><a href="javascript:void(0)" class="search-choice-close" rel="'+m.array_index+'"></a></li>'),o=h("#"+p).find("a").first(),o.click(function(b){return n.choice_destroy_link_click(b)}))},f.prototype.choice_destroy_link_click=function(e){return e.preventDefault(),this.is_disabled?e.stopPropagation:(this.pending_destroy_click=!0,this.choice_destroy(h(e.target)))},f.prototype.choice_destroy=function(b){return this.choices-=1,this.show_search_field_default(),this.is_multiple&&this.choices>0&&this.search_field.val().length<1&&this.results_hide(),this.result_deselect(b.attr("rel")),b.parents("li").first().remove()},f.prototype.results_reset=function(){this.form_field.options[0].selected=!0,this.selected_item.find("span").text(this.default_text),this.is_multiple||this.selected_item.addClass("chzn-default"),this.show_search_field_default(),this.results_reset_cleanup(),this.form_field_jq.trigger("change");if(this.active_field){return this.results_hide()}},f.prototype.results_reset_cleanup=function(){return this.selected_item.find("abbr").remove()},f.prototype.result_select=function(n){var m,q,p,o;if(this.result_highlight){return m=this.result_highlight,q=m.attr("id"),this.result_clear_highlight(),this.is_multiple?this.result_deactivate(m):(this.search_results.find(".result-selected").removeClass("result-selected"),this.result_single_selected=m,this.selected_item.removeClass("chzn-default")),m.addClass("result-selected"),o=q.substr(q.lastIndexOf("_")+1),p=this.results_data[o],p.selected=!0,this.form_field.options[p.options_index].selected=!0,this.is_multiple?this.choice_build(p):(this.selected_item.find("span").first().text(p.text),this.allow_single_deselect&&this.single_deselect_control_build()),(!n.metaKey||!this.is_multiple)&&this.results_hide(),this.search_field.val(""),(this.is_multiple||this.form_field_jq.val()!==this.current_value)&&this.form_field_jq.trigger("change",{selected:this.form_field.options[p.options_index].value}),this.current_value=this.form_field_jq.val(),this.search_field_scale()}},f.prototype.result_activate=function(b){return b.addClass("active-result")},f.prototype.result_deactivate=function(b){return b.removeClass("active-result")},f.prototype.result_deselect=function(e){var n,m;return m=this.results_data[e],m.selected=!1,this.form_field.options[m.options_index].selected=!1,n=h("#"+this.container_id+"_o_"+e),n.removeClass("result-selected").addClass("active-result").show(),this.result_clear_highlight(),this.winnow_results(),this.form_field_jq.trigger("change",{deselected:this.form_field.options[m.options_index].value}),this.search_field_scale()},f.prototype.single_deselect_control_build=function(){if(this.allow_single_deselect&&this.selected_item.find("abbr").length<1){return this.selected_item.find("span").first().after('<abbr class="search-choice-close"></abbr>')}},f.prototype.winnow_results=function(){var K,J,I,H,G,F,E,D,C,B,A,z,y,x,w,v,u,t;this.no_results_clear(),C=0,B=this.search_field.val()===this.default_text?"":h("<div/>").text(h.trim(this.search_field.val())).html(),F=this.search_contains?"":"^",G=new RegExp(F+B.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"i"),y=new RegExp(B.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"i"),t=this.results_data;for(x=0,v=t.length;x<v;x++){J=t[x];if(!J.disabled&&!J.empty){if(J.group){h("#"+J.dom_id).css("display","none")}else{if(!this.is_multiple||!J.selected){K=!1,D=J.dom_id,E=h("#"+D);if(G.test(J.html)){K=!0,C+=1}else{if(J.html.indexOf(" ")>=0||J.html.indexOf("[")===0){H=J.html.replace(/\[|\]/g,"").split(" ");if(H.length){for(w=0,u=H.length;w<u;w++){I=H[w],G.test(I)&&(K=!0,C+=1)}}}}K?(B.length?(A=J.html.search(y),z=J.html.substr(0,A+B.length)+"</em>"+J.html.substr(A+B.length),z=z.substr(0,A)+"<em>"+z.substr(A)):z=J.html,E.html(z),this.result_activate(E),J.group_array_index!=null&&h("#"+this.results_data[J.group_array_index].dom_id).css("display","list-item")):(this.result_highlight&&D===this.result_highlight.attr("id")&&this.result_clear_highlight(),this.result_deactivate(E))}}}}return C<1&&B.length?this.no_results(B):this.winnow_results_set_highlight()},f.prototype.winnow_results_clear=function(){var m,q,p,o,n;this.search_field.val(""),q=this.search_results.find("li"),n=[];for(p=0,o=q.length;p<o;p++){m=q[p],m=h(m),m.hasClass("group-result")?n.push(m.css("display","auto")):!this.is_multiple||!m.hasClass("result-selected")?n.push(this.result_activate(m)):n.push(void 0)}return n},f.prototype.winnow_results_set_highlight=function(){var m,e;if(!this.result_highlight){e=this.is_multiple?[]:this.search_results.find(".result-selected.active-result"),m=e.length?e.first():this.search_results.find(".active-result").first();if(m!=null){return this.result_do_highlight(m)}}},f.prototype.no_results=function(e){var m;return m=h('<li class="no-results">'+this.results_none_found+' "<span></span>"</li>'),m.find("span").first().html(e),this.search_results.append(m)},f.prototype.no_results_clear=function(){return this.search_results.find(".no-results").remove()},f.prototype.keydown_arrow=function(){var e,m;this.result_highlight?this.results_showing&&(m=this.result_highlight.nextAll("li.active-result").first(),m&&this.result_do_highlight(m)):(e=this.search_results.find("li.active-result").first(),e&&this.result_do_highlight(h(e)));if(!this.results_showing){return this.results_show()}},f.prototype.keyup_arrow=function(){var b;if(!this.results_showing&&!this.is_multiple){return this.results_show()}if(this.result_highlight){return b=this.result_highlight.prevAll("li.active-result"),b.length?this.result_do_highlight(b.first()):(this.choices>0&&this.results_hide(),this.result_clear_highlight())}},f.prototype.keydown_backstroke=function(){return this.pending_backstroke?(this.choice_destroy(this.pending_backstroke.find("a").first()),this.clear_backstroke()):(this.pending_backstroke=this.search_container.siblings("li.search-choice").last(),this.single_backstroke_delete?this.keydown_backstroke():this.pending_backstroke.addClass("search-choice-focus"))},f.prototype.clear_backstroke=function(){return this.pending_backstroke&&this.pending_backstroke.removeClass("search-choice-focus"),this.pending_backstroke=null},f.prototype.keydown_checker=function(m){var e,n;e=(n=m.which)!=null?n:m.keyCode,this.search_field_scale(),e!==8&&this.pending_backstroke&&this.clear_backstroke();switch(e){case 8:this.backstroke_length=this.search_field.val().length;break;case 9:this.results_showing&&!this.is_multiple&&this.result_select(m),this.mouse_on_container=!1;break;case 13:m.preventDefault();break;case 38:m.preventDefault(),this.keyup_arrow();break;case 40:this.keydown_arrow()}},f.prototype.search_field_scale=function(){var u,t,s,r,q,p,o,n,m;if(this.is_multiple){s=0,o=0,q="position:absolute; left: -1000px; top: -1000px; display:none;",p=["font-size","font-style","font-weight","font-family","line-height","text-transform","letter-spacing"];for(n=0,m=p.length;n<m;n++){r=p[n],q+=r+":"+this.search_field.css(r)+";"}return t=h("<div />",{style:q}),t.text(this.search_field.val()),h("body").append(t),o=t.width()+25,t.remove(),o>this.f_width-10&&(o=this.f_width-10),this.search_field.css({width:o+"px"}),u=this.container.height(),this.dropdown.css({top:u+"px"})}},f.prototype.generate_random_id=function(){var e;e="sel"+this.generate_random_char()+this.generate_random_char()+this.generate_random_char();while(h("#"+e).length>0){e+=this.generate_random_char()}return e},f}(AbstractChosen),l=function(f){var e;return e=f.outerWidth()-f.width()},k.get_side_border_padding=l}.call(this);var countries=[{code:"AD",name:"Andorra"},{code:"AE",name:"United Arab Emirates"},{code:"AF",name:"Afghanistan"},{code:"AG",name:"Antigua and Barbuda"},{code:"AI",name:"Anguilla"},{code:"AL",name:"Albania"},{code:"AM",name:"Armenia"},{code:"AN",name:"Netherlands Antilles"},{code:"AO",name:"Angola"},{code:"AQ",name:"Antarctica"},{code:"AR",name:"Argentina"},{code:"AS",name:"American Samoa"},{code:"AT",name:"Austria"},{code:"AU",name:"Australia"},{code:"AW",name:"Aruba"},{code:"AX",name:"Aland Islands"},{code:"AZ",name:"Azerbaijan"},{code:"BA",name:"Bosnia and Herzegovina"},{code:"BB",name:"Barbados"},{code:"BD",name:"Bangladesh"},{code:"BE",name:"Belgium"},{code:"BF",name:"Burkina Faso"},{code:"BG",name:"Bulgaria"},{code:"BH",name:"Bahrain"},{code:"BI",name:"Burundi"},{code:"BJ",name:"Benin"},{code:"BM",name:"Bermuda"},{code:"BN",name:"Brunei Darussalam"},{code:"BO",name:"Bolivia"},{code:"BR",name:"Brazil"},{code:"BS",name:"Bahamas"},{code:"BT",name:"Bhutan"},{code:"BV",name:"Bouvet Island"},{code:"BW",name:"Botswana"},{code:"BY",name:"Belarus"},{code:"BZ",name:"Belize"},{code:"CA",name:"Canada"},{code:"CC",name:"Cocos (Keeling) Islands"},{code:"CD",name:"Democratic Republic of the Congo"},{code:"CF",name:"Central African Republic"},{code:"CG",name:"Congo"},{code:"CH",name:"Switzerland"},{code:"CI",name:"Cote D'Ivoire (Ivory Coast)"},{code:"CK",name:"Cook Islands"},{code:"CL",name:"Chile"},{code:"CM",name:"Cameroon"},{code:"CN",name:"China"},{code:"CO",name:"Colombia"},{code:"CR",name:"Costa Rica"},{code:"CS",name:"Serbia and Montenegro"},{code:"CU",name:"Cuba"},{code:"CV",name:"Cape Verde"},{code:"CX",name:"Christmas Island"},{code:"CY",name:"Cyprus"},{code:"CZ",name:"Czech Republic"},{code:"DE",name:"Germany"},{code:"DJ",name:"Djibouti"},{code:"DK",name:"Denmark"},{code:"DM",name:"Dominica"},{code:"DO",name:"Dominican Republic"},{code:"DZ",name:"Algeria"},{code:"EC",name:"Ecuador"},{code:"EE",name:"Estonia"},{code:"EG",name:"Egypt"},{code:"EH",name:"Western Sahara"},{code:"ER",name:"Eritrea"},{code:"ES",name:"Spain"},{code:"ET",name:"Ethiopia"},{code:"FI",name:"Finland"},{code:"FJ",name:"Fiji"},{code:"FK",name:"Falkland Islands (Malvinas)"},{code:"FM",name:"Federated States of Micronesia"},{code:"FO",name:"Faroe Islands"},{code:"FR",name:"France"},{code:"GA",name:"Gabon"},{code:"GB",name:"Great Britain (UK)"},{code:"GD",name:"Grenada"},{code:"GE",name:"Georgia"},{code:"GF",name:"French Guiana"},{code:"GH",name:"Ghana"},{code:"GI",name:"Gibraltar"},{code:"GL",name:"Greenland"},{code:"GM",name:"Gambia"},{code:"GN",name:"Guinea"},{code:"GP",name:"Guadeloupe"},{code:"GQ",name:"Equatorial Guinea"},{code:"GR",name:"Greece"},{code:"GS",name:"S. Georgia and S. Sandwich Islands"},{code:"GT",name:"Guatemala"},{code:"GU",name:"Guam"},{code:"GW",name:"Guinea-Bissau"},{code:"GY",name:"Guyana"},{code:"HK",name:"Hong Kong"},{code:"HM",name:"Heard Island and McDonald Islands"},{code:"HN",name:"Honduras"},{code:"HR",name:"Croatia (Hrvatska)"},{code:"HT",name:"Haiti"},{code:"HU",name:"Hungary"},{code:"ID",name:"Indonesia"},{code:"IE",name:"Ireland"},{code:"IL",name:"Israel"},{code:"IN",name:"India"},{code:"IO",name:"British Indian Ocean Territory"},{code:"IQ",name:"Iraq"},{code:"IR",name:"Iran"},{code:"IS",name:"Iceland"},{code:"IT",name:"Italy"},{code:"JM",name:"Jamaica"},{code:"JO",name:"Jordan"},{code:"JP",name:"Japan"},{code:"KE",name:"Kenya"},{code:"KG",name:"Kyrgyzstan"},{code:"KH",name:"Cambodia"},{code:"KI",name:"Kiribati"},{code:"KM",name:"Comoros"},{code:"KN",name:"Saint Kitts and Nevis"},{code:"KP",name:"Korea (North)"},{code:"KR",name:"Korea (South)"},{code:"KW",name:"Kuwait"},{code:"KY",name:"Cayman Islands"},{code:"KZ",name:"Kazakhstan"},{code:"LA",name:"Laos"},{code:"LB",name:"Lebanon"},{code:"LC",name:"Saint Lucia"},{code:"LI",name:"Liechtenstein"},{code:"LK",name:"Sri Lanka"},{code:"LR",name:"Liberia"},{code:"LS",name:"Lesotho"},{code:"LT",name:"Lithuania"},{code:"LU",name:"Luxembourg"},{code:"LV",name:"Latvia"},{code:"LY",name:"Libya"},{code:"MA",name:"Morocco"},{code:"MC",name:"Monaco"},{code:"MD",name:"Moldova"},{code:"MG",name:"Madagascar"},{code:"MH",name:"Marshall Islands"},{code:"MK",name:"Macedonia"},{code:"ML",name:"Mali"},{code:"MM",name:"Myanmar"},{code:"MN",name:"Mongolia"},{code:"MO",name:"Macao"},{code:"MP",name:"Northern Mariana Islands"},{code:"MQ",name:"Martinique"},{code:"MR",name:"Mauritania"},{code:"MS",name:"Montserrat"},{code:"MT",name:"Malta"},{code:"MU",name:"Mauritius"},{code:"MV",name:"Maldives"},{code:"MW",name:"Malawi"},{code:"MX",name:"Mexico"},{code:"MY",name:"Malaysia"},{code:"MZ",name:"Mozambique"},{code:"NA",name:"Namibia"},{code:"NC",name:"New Caledonia"},{code:"NE",name:"Niger"},{code:"NF",name:"Norfolk Island"},{code:"NG",name:"Nigeria"},{code:"NI",name:"Nicaragua"},{code:"NL",name:"Netherlands"},{code:"NO",name:"Norway"},{code:"NP",name:"Nepal"},{code:"NR",name:"Nauru"},{code:"NU",name:"Niue"},{code:"NZ",name:"New Zealand (Aotearoa)"},{code:"OM",name:"Oman"},{code:"PA",name:"Panama"},{code:"PE",name:"Peru"},{code:"PF",name:"French Polynesia"},{code:"PG",name:"Papua New Guinea"},{code:"PH",name:"Philippines"},{code:"PK",name:"Pakistan"},{code:"PL",name:"Poland"},{code:"PM",name:"Saint Pierre and Miquelon"},{code:"PN",name:"Pitcairn"},{code:"PR",name:"Puerto Rico"},{code:"PS",name:"Palestinian Territory"},{code:"PT",name:"Portugal"},{code:"PW",name:"Palau"},{code:"PY",name:"Paraguay"},{code:"QA",name:"Qatar"},{code:"RE",name:"Reunion"},{code:"RO",name:"Romania"},{code:"RU",name:"Russian Federation"},{code:"RW",name:"Rwanda"},{code:"SA",name:"Saudi Arabia"},{code:"SB",name:"Solomon Islands"},{code:"SC",name:"Seychelles"},{code:"SD",name:"Sudan"},{code:"SE",name:"Sweden"},{code:"SG",name:"Singapore"},{code:"SH",name:"Saint Helena"},{code:"SI",name:"Slovenia"},{code:"SJ",name:"Svalbard and Jan Mayen"},{code:"SK",name:"Slovakia"},{code:"SL",name:"Sierra Leone"},{code:"SM",name:"San Marino"},{code:"SN",name:"Senegal"},{code:"SO",name:"Somalia"},{code:"SR",name:"Suriname"},{code:"ST",name:"Sao Tome and Principe"},{code:"SV",name:"El Salvador"},{code:"SY",name:"Syria"},{code:"SZ",name:"Swaziland"},{code:"TC",name:"Turks and Caicos Islands"},{code:"TD",name:"Chad"},{code:"TF",name:"French Southern Territories"},{code:"TG",name:"Togo"},{code:"TH",name:"Thailand"},{code:"TJ",name:"Tajikistan"},{code:"TK",name:"Tokelau"},{code:"TL",name:"Timor-Leste"},{code:"TM",name:"Turkmenistan"},{code:"TN",name:"Tunisia"},{code:"TO",name:"Tonga"},{code:"TP",name:"East Timor"},{code:"TR",name:"Turkey"},{code:"TT",name:"Trinidad and Tobago"},{code:"TV",name:"Tuvalu"},{code:"TW",name:"Taiwan"},{code:"TZ",name:"Tanzania"},{code:"UA",name:"Ukraine"},{code:"UG",name:"Uganda"},{code:"UK",name:"United Kingdom"},{code:"UM",name:"United States Minor Outlying Islands"},{code:"US",name:"United States"},{code:"UY",name:"Uruguay"},{code:"UZ",name:"Uzbekistan"},{code:"VA",name:"Vatican City State (Holy See)"},{code:"VC",name:"Saint Vincent and the Grenadines"},{code:"VE",name:"Venezuela"},{code:"VG",name:"Virgin Islands (British)"},{code:"VI",name:"Virgin Islands (U.S.)"},{code:"VN",name:"Viet Nam"},{code:"VU",name:"Vanuatu"},{code:"WF",name:"Wallis and Futuna"},{code:"WS",name:"Samoa"},{code:"YE",name:"Yemen"},{code:"YT",name:"Mayotte"},{code:"YU",name:"Yugoslavia (former)"},{code:"ZA",name:"South Africa"},{code:"ZM",name:"Zambia"},{code:"ZR",name:"Zaire (former)"},{code:"ZW",name:"Zimbabwe"}];(function(){function h4(f,e){try{for(var h in e){Object.defineProperty(f.prototype,h,{value:e[h],enumerable:!1})}}catch(g){f.prototype=e}}function hX(f){var e=-1,h=f.length,g=[];while(++e<h){g.push(f[e])}return g}function hU(b){return Array.prototype.slice.call(b)}function hM(){}function hC(){return this}function hz(f,e,g){return function(){var a=g.apply(e,arguments);return arguments.length?f:a}}function hw(b){return b!=null&&!isNaN(b)}function ht(b){return b.length}function hn(b){return b==null}function hl(b){return b.replace(/(^\s+)|(\s+$)/g,"").replace(/\s+/g," ")}function hh(f){var e=1;while(f*e%1){e*=10}return e}function g9(){}function g6(f){function g(){var j=e,i=-1,b=j.length,a;while(++i<b){(a=j[i].on)&&a.apply(this,arguments)}return f}var e=[],h=new hM;return g.on=function(j,i){var b=h.get(j),a;return arguments.length<2?b&&b.on:(b&&(b.on=null,e=e.slice(0,a=e.indexOf(b)).concat(e.slice(a+1)),h.remove(j)),i&&e.push(h.set(j,{on:i})),f)},g}function jA(f,e){return e-(f?1+Math.floor(Math.log(f+Math.pow(10,1+Math.floor(Math.log(f)/Math.LN10)-e))/Math.LN10):1)}function jx(b){return b+""}function ju(f){var e=f.lastIndexOf("."),h=e>=0?f.substring(e):(e=f.length,""),g=[];while(e>0){g.push(f.substring(e-=3,e+3))}return g.reverse().join(",")+h}function jn(f,e){return{scale:Math.pow(10,(8-e)*3),symbol:f}}function i5(b){return function(a){return a<=0?0:a>=1?1:b(a)}}function i2(b){return function(a){return 1-b(1-a)}}function i0(b){return function(a){return 0.5*(a<0.5?b(2*a):2-b(2-2*a))}}function iX(b){return b}function iT(b){return function(a){return Math.pow(a,b)}}function iQ(b){return 1-Math.cos(b*Math.PI/2)}function iN(b){return Math.pow(2,10*(b-1))}function iK(b){return 1-Math.sqrt(1-b*b)}function iH(f,e){var g;return arguments.length<2&&(e=0.45),arguments.length<1?(f=1,g=e/4):g=e/(2*Math.PI)*Math.asin(1/f),function(a){return 1+f*Math.pow(2,10*-a)*Math.sin((a-g)*2*Math.PI/e)}}function iE(b){return b||(b=1.70158),function(a){return a*a*((b+1)*a-b)}}function iB(b){return b<1/2.75?7.5625*b*b:b<2/2.75?7.5625*(b-=1.5/2.75)*b+0.75:b<2.5/2.75?7.5625*(b-=2.25/2.75)*b+0.9375:7.5625*(b-=2.625/2.75)*b+0.984375}function iy(){d3.event.stopPropagation(),d3.event.preventDefault()}function iv(){var f=d3.event,e;while(e=f.sourceEvent){f=e}return f}function ir(f){var e=new g9,h=0,g=arguments.length;while(++h<g){e[arguments[h]]=g6(e)}return e.of=function(b,a){return function(j){try{var i=j.sourceEvent=d3.event;j.target=f,d3.event=j,e[j.type].apply(b,a)}finally{d3.event=i}}},e}function j3(b){return b=="transform"?d3.interpolateTransform:d3.interpolate}function ij(f,e){return e=e-(f=+f)?1/(e-f):0,function(a){return(a-f)*e}}function jz(f,e){return e=e-(f=+f)?1/(e-f):0,function(a){return Math.max(0,Math.min(1,(a-f)*e))}}function jw(f,e,g){return new js(f,e,g)}function js(f,e,g){this.r=f,this.g=e,this.b=g}function jp(b){return b<16?"0"+Math.max(0,b).toString(16):Math.min(255,b).toString(16)}function jm(r,q,p){var o=0,n=0,m=0,l,k,j;l=/([a-z]+)\((.*)\)/i.exec(r);if(l){k=l[2].split(",");switch(l[1]){case"hsl":return p(parseFloat(k[0]),parseFloat(k[1])/100,parseFloat(k[2])/100);case"rgb":return q(jg(k[0]),jg(k[1]),jg(k[2]))}}return(j=jd.get(r))?q(j.r,j.g,j.b):(r!=null&&r.charAt(0)==="#"&&(r.length===4?(o=r.charAt(1),o+=o,n=r.charAt(2),n+=n,m=r.charAt(3),m+=m):r.length===7&&(o=r.substring(1,3),n=r.substring(3,5),m=r.substring(5,7)),o=parseInt(o,16),n=parseInt(n,16),m=parseInt(m,16)),q(o,n,m))}function jj(r,q,p){var o=Math.min(r/=255,q/=255,p/=255),n=Math.max(r,q,p),m=n-o,l,k,j=(n+o)/2;return m?(k=j<0.5?m/(n+o):m/(2-n-o),r==n?l=(q-p)/m+(q<p?6:0):q==n?l=(p-r)/m+2:l=(r-q)/m+4,l*=60):k=l=0,ja(l,k,j)}function jg(f){var e=parseFloat(f);return f.charAt(f.length-1)==="%"?Math.round(e*2.55):e}function ja(f,e,g){return new i7(f,e,g)}function i7(f,e,g){this.h=f,this.s=e,this.l=g}function i4(i,h,n){function k(b){return b>360?b-=360:b<0&&(b+=360),b<60?m+(l-m)*b/60:b<180?l:b<240?m+(l-m)*(240-b)/60:m}function j(b){return Math.round(k(b)*255)}var m,l;return i%=360,i<0&&(i+=360),h=h<0?0:h>1?1:h,n=n<0?0:n>1?1:n,l=n<=0.5?n*(1+h):n+h-n*h,m=2*n-l,jw(j(i+120),j(i),j(i-120))}function i1(b){return hO(b,iJ),b}function iG(b){return function(){return iY(b,this)}}function iD(b){return function(){return iV(b,this)}}function ix(j,i){function m(){if(a=this.classList){return a.add(j)}var a=this.className,g=a.baseVal!=null,f=g?a.baseVal:a;p.lastIndex=0,p.test(f)||(f=hl(f+" "+j),g?a.baseVal=f:this.className=f)}function l(){if(a=this.classList){return a.remove(j)}var a=this.className,g=a.baseVal!=null,f=g?a.baseVal:a;f=hl(f.replace(p," ")),g?a.baseVal=f:this.className=f}function k(){(i.apply(this,arguments)?m:l).call(this)}var p=new RegExp("(^|\\s+)"+d3.requote(j)+"(\\s+|$)","g");if(arguments.length<2){var o=this.node();if(n=o.classList){return n.contains(j)}var n=o.className;return p.lastIndex=0,p.test(n.baseVal!=null?n.baseVal:n)}return this.each(typeof i=="function"?k:i?m:l)}function iu(b){return{__data__:b}}function iq(b){return function(){return iM(this,b)}}function im(b){return arguments.length||(b=d3.ascending),function(a,e){return b(a&&a.__data__,e&&e.__data__)}}function j5(b){return hO(b,j4),b}function j2(h,g,l){hO(h,jX);var k=new hM,j=d3.dispatch("start","end"),i=jP;return h.id=g,h.time=l,h.tween=function(a,e){return arguments.length<2?k.get(a):(e==null?k.remove(a):k.set(a,e),h)},h.ease=function(a){return arguments.length?(i=typeof a=="function"?a:d3.ease.apply(d3,arguments),h):i},h.each=function(a,e){return arguments.length<2?jO.call(h,a):(j.on(a,e),h)},d3.timer(function(a){return h.each(function(z,y,x){function f(m){return s.active>g?b():(s.active=g,k.forEach(function(o,n){(tween=n.call(v,z,y))&&w.push(tween)}),j.start.call(v,z,y),e(m)||d3.timer(e,0,l),1)}function e(m){if(s.active!==g){return b()}var p=(m-u)/t,o=i(p),n=w.length;while(n>0){w[--n].call(v,o)}if(p>=1){return b(),jV=g,j.end.call(v,z,y),jV=0,1}}function b(){return --s.count||delete v.__transition__,1}var w=[],v=this,u=h[x][y].delay,t=h[x][y].duration,s=v.__transition__||(v.__transition__={active:0,count:0});++s.count,u<=a?f(a):d3.timer(f,u,l)}),1},0,l),h}function jZ(f,e,g){return g!=""&&j0}function jY(g,f){function i(b,m,l){var k=f.call(this,b,m);return k==null?l!=""&&j0:l!=k&&j(l,k)}function h(b,l,k){return k!=f&&j(k,f)}var j=j3(g);return typeof f=="function"?i:f==null?jZ:(f+="",h)}function jO(v){var u=jV,t=jP,s=jR,r=jQ;jV=this.id,jP=this.ease();for(var q=0,p=this.length;q<p;q++){for(var o=this[q],n=0,m=o.length;n<m;n++){var l=o[n];l&&(jR=this[q][n].delay,jQ=this[q][n].duration,v.call(l=l.node,l.__data__,n,q))}}return jV=u,jP=t,jR=s,jQ=r,this}function jK(){var f,e=Date.now(),h=jN;while(h){f=e-h.then,f>=h.delay&&(h.flush=h.callback(f)),h=h.next}var g=jJ()-e;g>24?(isFinite(g)&&(clearTimeout(jL),jL=setTimeout(jK,g)),jM=0):(jM=1,jI(jK))}function jJ(){var f=null,e=jN,g=Infinity;while(e){e.flush?e=f?f.next=e.next:jN=e.next:(g=Math.min(g,e.then+e.delay),e=(f=e).next)}return g}function jH(h){var g=[h.a,h.b],l=[h.c,h.d],k=jF(g),j=jG(g,l),i=jF(jE(l,g,-j))||0;g[0]*l[1]<l[0]*g[1]&&(g[0]*=-1,g[1]*=-1,k*=-1,j*=-1),this.rotate=(k?Math.atan2(g[1],g[0]):Math.atan2(-l[0],l[1]))*j6,this.translate=[h.e,h.f],this.scale=[k,i],this.skew=i?Math.atan2(j,i)*j6:0}function jG(f,e){return f[0]*e[0]+f[1]*e[1]}function jF(f){var e=Math.sqrt(jG(f,f));return e&&(f[0]/=e,f[1]/=e),e}function jE(f,e,g){return f[0]+=g*e[0],f[1]+=g*e[1],f}function ie(h,g){var l=h.ownerSVGElement||h;if(l.createSVGPoint){var k=l.createSVGPoint();if(jD<0&&(window.scrollX||window.scrollY)){l=d3.select(document.body).append("svg").style("position","absolute").style("top",0).style("left",0);var j=l[0][0].getScreenCTM();jD=!j.f&&!j.e,l.remove()}return jD?(k.x=g.pageX,k.y=g.pageY):(k.x=g.clientX,k.y=g.clientY),k=k.matrixTransform(h.getScreenCTM().inverse()),[k.x,k.y]}var i=h.getBoundingClientRect();return[g.clientX-i.left-h.clientLeft,g.clientY-i.top-h.clientTop]}function ia(){}function h7(f){var e=f[0],g=f[f.length-1];return e<g?[e,g]:[g,e]}function h5(b){return b.rangeExtent?b.rangeExtent():h7(b.range())}function h2(i,h){var n=0,m=i.length-1,l=i[n],k=i[m],j;k<l&&(j=n,n=m,m=j,j=l,l=k,k=j);if(j=k-l){h=h(j),i[n]=h.floor(l),i[m]=h.ceil(k)}return i}function hZ(){return Math}function hW(j,i,p,o){function l(){var b=Math.min(j.length,i.length)>2?hB:hE,a=o?jz:ij;return n=b(j,i,a,p),m=b(i,j,a,d3.interpolate),k}function k(b){return n(b)}var n,m;return k.invert=function(b){return m(b)},k.domain=function(a){return arguments.length?(j=a.map(Number),l()):j},k.range=function(b){return arguments.length?(i=b,l()):i},k.rangeRound=function(b){return k.range(b).interpolate(d3.interpolateRound)},k.clamp=function(b){return arguments.length?(o=b,l()):o},k.interpolate=function(b){return arguments.length?(p=b,l()):p},k.ticks=function(a){return hK(j,a)},k.tickFormat=function(a){return hH(j,a)},k.nice=function(){return h2(j,hQ),l()},k.copy=function(){return hW(j,i,p,o)},l()}function hT(f,e){return d3.rebind(f,e,"range","rangeRound","interpolate","clamp")}function hQ(b){return b=Math.pow(10,Math.round(Math.log(b)/Math.LN10)-1),{floor:function(a){return Math.floor(a/b)*b},ceil:function(a){return Math.ceil(a/b)*b}}}function hN(h,g){var l=h7(h),k=l[1]-l[0],j=Math.pow(10,Math.floor(Math.log(k/g)/Math.LN10)),i=g/k*j;return i<=0.15?j*=10:i<=0.35?j*=5:i<=0.75&&(j*=2),l[0]=Math.ceil(l[0]/j)*j,l[1]=Math.floor(l[1]/j)*j+j*0.5,l[2]=j,l}function hK(f,e){return d3.range.apply(d3,hN(f,e))}function hH(f,e){return d3.format(",."+Math.max(0,-Math.floor(Math.log(hN(f,e)[2])/Math.LN10+0.01))+"f")}function hE(h,g,l,k){var j=l(h[0],h[1]),i=k(g[0],g[1]);return function(b){return i(j(b))}}function hB(j,i,p,o){var n=[],m=[],l=0,k=Math.min(j.length,i.length)-1;j[k]<j[0]&&(j=j.slice().reverse(),i=i.slice().reverse());while(++l<=k){n.push(p(j[l-1],j[l])),m.push(o(i[l-1],i[l]))}return function(a){var e=d3.bisect(j,a,1,k)-1;return m[e](n[e](a))}}function hy(f,e){function g(a){return f(e(a))}var h=e.pow;return g.invert=function(a){return h(f.invert(a))},g.domain=function(a){return arguments.length?(e=a[0]<0?hp:hs,h=e.pow,f.domain(a.map(e)),g):f.domain().map(h)},g.nice=function(){return f.domain(h2(f.domain(),hZ)),g},g.ticks=function(){var o=h7(f.domain()),n=[];if(o.every(isFinite)){var m=Math.floor(o[0]),l=Math.ceil(o[1]),k=h(o[0]),b=h(o[1]);if(e===hp){n.push(h(m));for(;m++<l;){for(var a=9;a>0;a--){n.push(h(m)*a)}}}else{for(;m<l;m++){for(var a=1;a<10;a++){n.push(h(m)*a)}}n.push(h(m))}for(m=0;n[m]<k;m++){}for(l=n.length;n[l-1]>b;l--){}n=n.slice(m,l)}return n},g.tickFormat=function(b,l){arguments.length<2&&(l=hv);if(arguments.length<1){return l}var k=b/g.ticks().length,j=e===hp?(i=-1e-12,Math.floor):(i=1e-12,Math.ceil),i;return function(m){return m/h(j(e(m)+i))<k?l(m):""}},g.copy=function(){return hy(f.copy(),e)},hT(g,f)}function hs(b){return Math.log(b<0?0:b)/Math.LN10}function hp(b){return -Math.log(b>0?0:-b)/Math.LN10}function hm(g,f){function h(a){return g(j(a))}var j=hj(f),i=hj(1/f);return h.invert=function(a){return i(g.invert(a))},h.domain=function(a){return arguments.length?(g.domain(a.map(j)),h):g.domain().map(i)},h.ticks=function(b){return hK(h.domain(),b)},h.tickFormat=function(b){return hH(h.domain(),b)},h.nice=function(){return h.domain(h2(h.domain(),hQ))},h.exponent=function(b){if(!arguments.length){return f}var e=h.domain();return j=hj(f=b),i=hj(1/f),h.domain(e)},h.copy=function(){return hm(g.copy(),f)},hT(h,g)}function hj(b){return function(a){return a<0?-Math.pow(-a,b):Math.pow(a,b)}}function hg(i,h){function k(a){return m[((n.get(a)||n.set(a,i.push(a)))-1)%m.length]}function j(a,e){return d3.range(i.length).map(function(b){return a+e*b})}var n,m,l;return k.domain=function(o){if(!arguments.length){return i}i=[],n=new hM;var f=-1,b=o.length,a;while(++f<b){n.has(a=o[f])||n.set(a,i.push(a))}return k[h.t](h.x,h.p)},k.range=function(b){return arguments.length?(m=b,l=0,h={t:"range",x:b},k):m},k.rangePoints=function(g,f){arguments.length<2&&(f=0);var e=g[0],b=g[1],a=(b-e)/(i.length-1+f);return m=j(i.length<2?(e+b)/2:e+a*f/2,a),l=0,h={t:"rangePoints",x:g,p:f},k},k.rangeBands=function(o,g){arguments.length<2&&(g=0);var f=o[1]<o[0],e=o[f-0],b=o[1-f],a=(b-e)/(i.length+g);return m=j(e+a*g,a),f&&m.reverse(),l=a*(1-g),h={t:"rangeBands",x:o,p:g},k},k.rangeRoundBands=function(p,o){arguments.length<2&&(o=0);var g=p[1]<p[0],f=p[g-0],e=p[1-g],b=Math.floor((e-f)/(i.length+o)),a=e-f-(i.length-o)*b;return m=j(f+Math.round(a/2),b),g&&m.reverse(),l=Math.round(b*(1-o)),h={t:"rangeRoundBands",x:p,p:o},k},k.rangeBand=function(){return l},k.rangeExtent=function(){return h7(h.x)},k.copy=function(){return hg(i,h)},k.domain(i)}function g1(g,f){function i(){var e=0,b=g.length,a=f.length;j=[];while(++e<a){j[e-1]=d3.quantile(g,e/a)}return h}function h(b){return isNaN(b=+b)?NaN:f[d3.bisect(j,b)]}var j;return h.domain=function(a){return arguments.length?(g=a.filter(function(b){return !isNaN(b)}).sort(d3.ascending),i()):g},h.range=function(b){return arguments.length?(f=b,i()):f},h.quantiles=function(){return j},h.copy=function(){return g1(g,f)},i()}function jB(i,h,n){function k(a){return n[Math.max(0,Math.min(l,Math.floor(m*(a-i))))]}function j(){return m=n.length/(h-i),l=n.length-1,k}var m,l;return k.domain=function(a){return arguments.length?(i=+a[0],h=+a[a.length-1],j()):[i,h]},k.range=function(b){return arguments.length?(n=b,j()):n},k.copy=function(){return jB(i,h,n)},j()}function jy(f){function e(b){return +b}return e.invert=e,e.domain=e.range=function(a){return arguments.length?(f=a.map(e),e):f},e.ticks=function(a){return hK(f,a)},e.tickFormat=function(a){return hH(f,a)},e.copy=function(){return jy(f)},e}function jo(b){return b.innerRadius}function jl(b){return b.outerRadius}function ji(b){return b.startAngle}function jf(b){return b.endAngle}function jc(i){function j(a){return a.length<1?null:"M"+l(i(i9(this,a,h,n)),k)}var h=i6,n=i3,m=iZ,l=iW.get(m),k=0.7;return j.x=function(b){return arguments.length?(h=b,j):h},j.y=function(b){return arguments.length?(n=b,j):n},j.interpolate=function(b){return arguments.length?(iW.has(b+="")||(b=iZ),l=iW.get(m=b),j):m},j.tension=function(b){return arguments.length?(k=b,j):k},j}function i9(t,s,r,q){var p=[],o=-1,n=s.length,m=typeof r=="function",l=typeof q=="function",k;if(m&&l){while(++o<n){p.push([r.call(t,k=s[o],o),q.call(t,k,o)])}}else{if(m){while(++o<n){p.push([r.call(t,s[o],o),q])}}else{if(l){while(++o<n){p.push([r,q.call(t,s[o],o)])}}else{while(++o<n){p.push([r,q])}}}}return p}function i6(b){return b[0]}function i3(b){return b[1]}function iU(g){var f=0,j=g.length,i=g[0],h=[i[0],",",i[1]];while(++f<j){h.push("L",(i=g[f])[0],",",i[1])}return h.join("")}function iR(g){var f=0,j=g.length,i=g[0],h=[i[0],",",i[1]];while(++f<j){h.push("V",(i=g[f])[1],"H",i[0])}return h.join("")}function iO(g){var f=0,j=g.length,i=g[0],h=[i[0],",",i[1]];while(++f<j){h.push("H",(i=g[f])[0],"V",i[1])}return h.join("")}function iL(f,e){return f.length<4?iU(f):f[1]+iC(f.slice(1,f.length-1),iz(f,e))}function iI(f,e){return f.length<3?iU(f):f[0]+iC((f.push(f[0]),f),iz([f[f.length-2]].concat(f,[f[1]]),e))}function iF(f,e,g){return f.length<3?iU(f):f[0]+iC(f,iz(f,e))}function iC(v,u){if(u.length<1||v.length!=u.length&&v.length!=u.length+2){return iU(v)}var t=v.length!=u.length,s="",r=v[0],q=v[1],p=u[0],o=p,n=1;t&&(s+="Q"+(q[0]-p[0]*2/3)+","+(q[1]-p[1]*2/3)+","+q[0]+","+q[1],r=v[1],n=2);if(u.length>1){o=u[1],q=v[n],n++,s+="C"+(r[0]+p[0])+","+(r[1]+p[1])+","+(q[0]-o[0])+","+(q[1]-o[1])+","+q[0]+","+q[1];for(var m=2;m<u.length;m++,n++){q=v[n],o=u[m],s+="S"+(q[0]-o[0])+","+(q[1]-o[1])+","+q[0]+","+q[1]}}if(t){var l=v[n];s+="Q"+(q[0]+o[0]*2/3)+","+(q[1]+o[1]*2/3)+","+l[0]+","+l[1]}return s}function iz(r,q){var p=[],o=(1-q)/2,n,m=r[0],l=r[1],k=1,j=r.length;while(++k<j){n=m,m=l,l=r[k],p.push([o*(l[0]-n[0]),o*(l[1]-n[1])])}return p}function iw(r){if(r.length<3){return iU(r)}var q=1,p=r.length,o=r[0],n=o[0],m=o[1],l=[n,n,n,(o=r[1])[0]],k=[m,m,m,o[1]],j=[n,",",m];gS(j,l,k);while(++q<p){o=r[q],l.shift(),l.push(o[0]),k.shift(),k.push(o[1]),gS(j,l,k)}q=-1;while(++q<2){l.shift(),l.push(o[0]),k.shift(),k.push(o[1]),gS(j,l,k)}return j.join("")}function it(i){if(i.length<4){return iU(i)}var h=[],n=-1,m=i.length,l,k=[0],j=[0];while(++n<3){l=i[n],k.push(l[0]),j.push(l[1])}h.push(j1(gU,k)+","+j1(gU,j)),--n;while(++n<m){l=i[n],k.shift(),k.push(l[0]),j.shift(),j.push(l[1]),gS(h,k,j)}return h.join("")}function ip(j){var i,p=-1,o=j.length,n=o+4,m,l=[],k=[];while(++p<4){m=j[p%o],l.push(m[0]),k.push(m[1])}i=[j1(gU,l),",",j1(gU,k)],--p;while(++p<n){m=j[p%o],l.shift(),l.push(m[0]),k.shift(),k.push(m[1]),gS(i,l,k)}return i.join("")}function il(t,s){var r=t.length-1,q=t[0][0],p=t[0][1],o=t[r][0]-q,n=t[r][1]-p,m=-1,l,k;while(++m<=r){l=t[m],k=m/r,l[0]=s*l[0]+(1-s)*(q+k*o),l[1]=s*l[1]+(1-s)*(p+k*n)}return iw(t)}function j1(f,e){return f[0]*e[0]+f[1]*e[1]+f[2]*e[2]+f[3]*e[3]}function gS(f,e,g){f.push("C",j1(ii,e),",",j1(ii,g),",",j1(gX,e),",",j1(gX,g),",",j1(gU,e),",",j1(gU,g))}function gQ(f,e){return(e[1]-f[1])/(e[0]-f[0])}function gO(i){var h=0,n=i.length-1,m=[],l=i[0],k=i[1],j=m[0]=gQ(l,k);while(++h<n){m[h]=j+(j=gQ(l=k,k=i[h+1]))}return m[h]=j,m}function gM(r){var q=[],p,o,n,m,l=gO(r),k=-1,j=r.length-1;while(++k<j){p=gQ(r[k],r[k+1]),Math.abs(p)<0.000001?l[k]=l[k+1]=0:(o=l[k]/p,n=l[k+1]/p,m=o*o+n*n,m>9&&(m=p*3/Math.sqrt(m),l[k]=m*o,l[k+1]=m*n))}k=-1;while(++k<=j){m=(r[Math.min(j,k+1)][0]-r[Math.max(0,k-1)][0])/(6*(1+l[k]*l[k])),q.push([m||0,l[k]*m||0])}return q}function gK(b){return b.length<3?iU(b):b[0]+iC(b,gM(b))}function gI(h){var g,l=-1,k=h.length,j,i;while(++l<k){g=h[l],j=g[0],i=g[1]+jt,g[0]=j*Math.cos(i),g[1]=j*Math.sin(i)}return h}function gG(t){function k(e){if(e.length<1){return null}var b=i9(this,e,s,q),a=i9(this,e,s===r?gE(b):r,q===p?gC(b):p);return"M"+n(t(a),l)+"L"+m(t(b.reverse()),l)+"Z"}var s=i6,r=i6,q=0,p=i3,o,n,m,l=0.7;return k.x=function(b){return arguments.length?(s=r=b,k):r},k.x0=function(b){return arguments.length?(s=b,k):s},k.x1=function(b){return arguments.length?(r=b,k):r},k.y=function(b){return arguments.length?(q=p=b,k):p},k.y0=function(b){return arguments.length?(q=b,k):q},k.y1=function(b){return arguments.length?(p=b,k):p},k.interpolate=function(b){return arguments.length?(iW.has(b+="")||(b=iZ),n=iW.get(o=b),m=n.reverse||n,k):o},k.tension=function(b){return arguments.length?(l=b,k):l},k.interpolate("linear")}function gE(b){return function(a,e){return b[e][0]}}function gC(b){return function(a,e){return b[e][1]}}function gA(b){return b.source}function gy(b){return b.target}function gx(b){return b.radius}function gt(b){return b.startAngle}function gr(b){return b.endAngle}function gq(b){return[b.x,b.y]}function f8(b){return function(){var a=b.apply(this,arguments),f=a[0],e=a[1]+jt;return[f*Math.cos(e),f*Math.sin(e)]}}function f6(){return 64}function f4(){return"circle"}function f2(f){var e=Math.sqrt(f/Math.PI);return"M0,"+e+"A"+e+","+e+" 0 1,1 0,"+-e+"A"+e+","+e+" 0 1,1 0,"+e+"Z"}function e5(f,e){f.attr("transform",function(b){return"translate("+e(b)+",0)"})}function ih(f,e){f.attr("transform",function(b){return"translate(0,"+e(b)+")"})}function id(t,s,r){p=[];if(r&&s.length>1){var q=h7(t.domain()),p,o=-1,n=s.length,m=(s[1]-s[0])/++r,l,k;while(++o<n){for(l=r;--l>0;){(k=+s[o]-l*m)>=q[0]&&p.push(k)}}for(--o,l=0;++l<r&&(k=+s[o]+l*m)<q[1];){p.push(k)}}return p}function hY(){h3||(h3=d3.select("body").append("div").style("visibility","hidden").style("top",0).style("height",0).style("width",0).style("overflow-y","scroll").append("div").style("height","2000px").node().parentNode);var f=d3.event,e;try{h3.scrollTop=1000,h3.dispatchEvent(f),e=1000-h3.scrollTop}catch(g){e=f.wheelDelta||-f.detail*5}return e}function hV(h){var g=h.source,l=h.target,k=hP(g,l),j=[g];while(g!==k){g=g.parent,j.push(g)}var i=j.length;while(l!==k){j.splice(i,0,l),l=l.parent}return j}function hS(f){var e=[],g=f.parent;while(g!=null){e.push(f),f=g,g=g.parent}return e.push(f),e}function hP(i,h){if(i===h){return i}var n=hS(i),m=hS(h),l=n.pop(),k=m.pop(),j=null;while(l===k){j=l,l=n.pop(),k=m.pop()}return j}function hG(b){b.fixed|=2}function hD(b){b!==hI&&(b.fixed&=1)}function hA(){hI.fixed&=1,hL=hI=null}function hx(){hI.px=d3.event.x,hI.py=d3.event.y,hL.resume()}function hu(t,s,r){var q=0,p=0;t.charge=0;if(!t.leaf){var o=t.nodes,n=o.length,m=-1,l;while(++m<n){l=o[m];if(l==null){continue}hu(l,s,r),t.charge+=l.charge,q+=l.charge*l.cx,p+=l.charge*l.cy}}if(t.point){t.leaf||(t.point.x+=Math.random()-0.5,t.point.y+=Math.random()-0.5);var k=s*r[t.point.index];t.charge+=t.pointCharge=k,q+=k*t.point.x,p+=k*t.point.y}t.cx=q/t.charge,t.cy=p/t.charge}function hr(b){return 20}function ho(b){return 1}function hi(b){return b.x}function hf(b){return b.y}function hc(f,e,g){f.y0=e,f.y=g}function g3(b){return d3.range(b.length)}function jv(f){var e=-1,h=f[0].length,g=[];while(++e<h){g[e]=0}return g}function g0(h){var g=1,l=0,k=h[0][1],j,i=h.length;for(;g<i;++g){(j=h[g][1])>k&&(l=g,k=j)}return l}function e1(b){return b.reduce(e0,0)}function e0(f,e){return f+e[1]}function d7(f,e){return d6(f,Math.ceil(Math.log(e.length)/Math.LN2+1))}function d6(h,g){var l=-1,k=+h[0],j=(h[1]-k)/g,i=[];while(++l<=g){i[l]=j*l+k}return i}function d4(b){return[d3.min(b),d3.max(b)]}function d1(f,e){return d3.rebind(f,e,"sort","children","value"),f.links=c2,f.nodes=function(a){return c0=!0,(f.nodes=f)(a)},f}function c8(b){return b.children}function c6(b){return b.value}function c4(f,e){return e.value-f.value}function c2(b){return d3.merge(b.map(function(e){return(e.children||[]).map(function(a){return{source:e,target:a}})}))}function b8(f,e){return f.value-e.value}function b6(f,e){var g=f._pack_next;f._pack_next=e,e._pack_prev=f,e._pack_next=g,g._pack_prev=e}function b4(f,e){f._pack_next=e,e._pack_prev=f}function b2(g,f){var j=f.x-g.x,i=f.y-g.y,h=g.r+f.r;return h*h-j*j-i*i>0.001}function b0(N){function C(b){M=Math.min(b.x-b.r,M),L=Math.max(b.x+b.r,L),K=Math.min(b.y-b.r,K),J=Math.max(b.y+b.r,J)}var M=Infinity,L=-Infinity,K=Infinity,J=-Infinity,I=N.length,H,G,F,E,D;N.forEach(a8),H=N[0],H.x=-H.r,H.y=0,C(H);if(I>1){G=N[1],G.x=G.r,G.y=0,C(G);if(I>2){F=N[2],a1(H,G,F),C(F),b6(H,F),H._pack_prev=F,b6(F,G),G=H._pack_next;for(var B=3;B<I;B++){a1(H,G,F=N[B]);var A=0,z=1,y=1;for(E=G._pack_next;E!==G;E=E._pack_next,z++){if(b2(E,F)){A=1;break}}if(A==1){for(D=H._pack_prev;D!==E._pack_prev;D=D._pack_prev,y++){if(b2(D,F)){break}}}A?(z<y||z==y&&G.r<H.r?b4(H,G=E):b4(H=D,G),B--):(b6(H,F),G=F,C(F))}}}var x=(M+L)/2,w=(K+J)/2,v=0;for(var B=0;B<I;B++){var u=N[B];u.x-=x,u.y-=w,v=Math.max(v,u.r+Math.sqrt(u.x*u.x+u.y*u.y))}return N.forEach(a6),v}function a8(b){b._pack_next=b._pack_prev=b}function a6(b){delete b._pack_next,delete b._pack_prev}function a5(f){var e=f.children;e&&e.length?(e.forEach(a5),f.r=b0(e)):f.r=Math.sqrt(f.value)}function a2(i,h,n,m){var l=i.children;i.x=h+=m*i.x,i.y=n+=m*i.y,i.r*=m;if(l){var k=-1,j=l.length;while(++k<j){a2(l[k],h,n,m)}}}function a1(x,w,v){var u=x.r+v.r,t=w.x-x.x,s=w.y-x.y;if(u&&(t||s)){var r=w.r+v.r,q=Math.sqrt(t*t+s*s),p=Math.max(-1,Math.min(1,(u*u+q*q-r*r)/(2*u*q))),o=Math.acos(p),n=p*(u/=q),m=Math.sin(o)*u;v.x=x.x+n*t+m*s,v.y=x.y+n*s-m*t}else{v.x=x.x+u,v.y=x.y}}function aY(b){return 1+d3.max(b,function(e){return e.y})}function aX(b){return b.reduce(function(f,e){return f+e.x},0)/b.length}function aU(f){var e=f.children;return e&&e.length?aU(e[0]):f}function aS(f){var e=f.children,g;return e&&(g=e.length)?aS(e[g-1]):f}function aR(f,e){return f.parent==e.parent?1:2}function gZ(f){var e=f.children;return e&&e.length?e[0]:f._tree.thread}function gY(f){var e=f.children,g;return e&&(g=e.length)?e[g-1]:f._tree.thread}function gV(h,g){var l=h.children;if(l&&(j=l.length)){var k,j,i=-1;while(++i<j){g(k=gV(l[i],g),h)>0&&(h=k)}}return h}function gT(f,e){return f.x-e.x}function gR(f,e){return e.x-f.x}function gP(f,e){return f.depth-e.depth}function gN(f,e){function g(b,o){var n=b.children;if(n&&(j=n.length)){var m,l=null,k=-1,j;while(++k<j){m=n[k],g(m,l),l=m}}e(b,o)}g(f,null)}function gL(h){var g=0,l=0,k=h.children,j=k.length,i;while(--j>=0){i=k[j]._tree,i.prelim+=g,i.mod+=g,g+=i.shift+(l+=i.change)}}function gJ(f,e,h){f=f._tree,e=e._tree;var g=h/(e.number-f.number);f.change+=g,e.change-=g,e.shift+=h,e.prelim+=h,e.mod+=h}function gH(f,e,g){return f._tree.ancestor.parent==e.parent?f._tree.ancestor:g}function gF(b){return{x:b.x,y:b.y,dx:b.dx,dy:b.dy}}function gD(h,g){var l=h.x+g[3],k=h.y+g[0],j=h.dx-g[1]-g[3],i=h.dy-g[0]-g[2];return j<0&&(l+=j/2,j=0),i<0&&(k+=i/2,i=0),{x:l,y:k,dx:j,dy:i}}function gB(b){return b.map(gz).join(",")}function gz(b){return/[",\n]/.test(b)?'"'+b.replace(/\"/g,'""')+'"':b}function gv(f,e){return function(a){return a&&f.hasOwnProperty(a.type)?f[a.type](a):e}}function gu(b){return"m0,"+b+"a"+b+","+b+" 0 1,1 0,"+-2*b+"a"+b+","+b+" 0 1,1 0,"+2*b+"z"}function gs(f,e){gp.hasOwnProperty(f.type)&&gp[f.type](f,e)}function f9(f,e){gs(f.geometry,e)}function f7(g,f){for(var j=g.features,i=0,h=j.length;i<h;i++){gs(j[i].geometry,f)}}function f5(g,f){for(var j=g.geometries,i=0,h=j.length;i<h;i++){gs(j[i],f)}}function f3(g,f){for(var j=g.coordinates,i=0,h=j.length;i<h;i++){f.apply(null,j[i])}}function f1(j,i){for(var p=j.coordinates,o=0,n=p.length;o<n;o++){for(var m=p[o],l=0,k=m.length;l<k;l++){i.apply(null,m[l])}}}function e9(j,i){for(var p=j.coordinates,o=0,n=p.length;o<n;o++){for(var m=p[o][0],l=0,k=m.length;l<k;l++){i.apply(null,m[l])}}}function e7(f,e){e.apply(null,f.coordinates)}function ib(g,f){for(var j=g.coordinates[0],i=0,h=j.length;i<h;i++){f.apply(null,j[i])}}function e4(b){return b.source}function aP(b){return b.target}function aO(H,G){function r(h){var e=Math.sin(t-(h*=t))/s,m=Math.sin(h)/s,k=e*B*E+m*v*y,j=e*B*D+m*v*x,g=e*A+m*u;return[Math.atan2(j,k)/gw,Math.atan2(g,Math.sqrt(k*k+j*j))/gw]}var F=H[0]*gw,E=Math.cos(F),D=Math.sin(F),C=H[1]*gw,B=Math.cos(C),A=Math.sin(C),z=G[0]*gw,y=Math.cos(z),x=Math.sin(z),w=G[1]*gw,v=Math.cos(w),u=Math.sin(w),t=r.d=Math.acos(Math.max(-1,Math.min(1,A*u+B*v*Math.cos(z-F)))),s=Math.sin(t);return r}function aL(f){var e=0,g=0;for(;;){if(f(e,g)){return[e,g]}e===0?(e=g+1,g=0):(e-=1,g+=1)}}function aK(v,u,t,s){var r,q,p,o,n,m,l;return r=s[v],q=r[0],p=r[1],r=s[u],o=r[0],n=r[1],r=s[t],m=r[0],l=r[1],(l-p)*(o-q)-(n-p)*(m-q)>0}function aJ(f,e,g){return(g[0]-e[0])*(f[1]-e[1])<(g[1]-e[1])*(f[0]-e[0])}function aI(L,K,J,I){var H=L[0],G=K[0],F=J[0],E=I[0],D=L[1],C=K[1],B=J[1],A=I[1],z=H-F,y=G-H,x=E-F,w=D-B,v=C-D,u=A-B,t=(x*w-u*z)/(u*y-x*v);return[H+t*y,D+t*v]}function aG(N,M){var L={list:N.map(function(f,e){return{index:e,x:f[0],y:f[1]}}).sort(function(f,e){return f.y<e.y?-1:f.y>e.y?1:f.x<e.x?-1:f.x>e.x?1:0}),bottomSite:null},K={list:[],leftEnd:null,rightEnd:null,init:function(){K.leftEnd=K.createHalfEdge(null,"l"),K.rightEnd=K.createHalfEdge(null,"l"),K.leftEnd.r=K.rightEnd,K.rightEnd.l=K.leftEnd,K.list.unshift(K.leftEnd,K.rightEnd)},createHalfEdge:function(f,e){return{edge:f,side:e,vertex:null,l:null,r:null}},insert:function(f,e){e.l=f,e.r=f.r,f.r.l=e,f.r=e},leftBound:function(f){var e=K.leftEnd;do{e=e.r}while(e!=K.rightEnd&&J.rightOf(e,f));return e=e.l,e},del:function(b){b.l.r=b.r,b.r.l=b.l,b.edge=null},right:function(b){return b.r},left:function(b){return b.l},leftRegion:function(b){return b.edge==null?L.bottomSite:b.edge.region[b.side]},rightRegion:function(b){return b.edge==null?L.bottomSite:b.edge.region[aH[b.side]]}},J={bisect:function(i,h){var n={region:{l:i,r:h},ep:{l:null,r:null}},m=h.x-i.x,l=h.y-i.y,k=m>0?m:-m,j=l>0?l:-l;return n.c=i.x*m+i.y*l+(m*m+l*l)*0.5,k>j?(n.a=1,n.b=l/m,n.c/=m):(n.b=1,n.a=m/l,n.c/=l),n},intersect:function(R,Q){var P=R.edge,O=Q.edge;if(!P||!O||P.region.r==O.region.r){return null}var t=P.a*O.b-P.b*O.a;if(Math.abs(t)<1e-10){return null}var s=(P.c*O.b-O.c*P.b)/t,r=(O.c*P.a-P.c*O.a)/t,q=P.region.r,p=O.region.r,o,n;q.y<p.y||q.y==p.y&&q.x<p.x?(o=R,n=P):(o=Q,n=O);var m=s>=n.region.r.x;return m&&o.side==="l"||!m&&o.side==="r"?null:{x:s,y:r}},rightOf:function(V,U){var T=V.edge,S=T.region.r,R=U.x>S.x;if(R&&V.side==="l"){return 1}if(!R&&V.side==="r"){return 0}if(T.a===1){var Q=U.y-S.y,P=U.x-S.x,O=0,t=0;!R&&T.b<0||R&&T.b>=0?t=O=Q>=T.b*P:(t=U.x+U.y*T.b>T.c,T.b<0&&(t=!t),t||(O=1));if(!O){var s=S.x-T.region.l.x;t=T.b*(P*P-Q*Q)<s*Q*(1+2*P/s+T.b*T.b),T.b<0&&(t=!t)}}else{var r=T.c-T.a*U.x,q=U.y-r,p=U.x-S.x,o=r-S.y;t=q*q>p*p+o*o}return V.side==="l"?t:!t},endPoint:function(b,f,e){b.ep[f]=e;if(!b.ep[aH[f]]){return}M(b)},distance:function(f,e){var h=f.x-e.x,g=f.y-e.y;return Math.sqrt(h*h+g*g)}},I={list:[],insert:function(i,f,n){i.vertex=f,i.ystar=f.y+n;for(var m=0,l=I.list,k=l.length;m<k;m++){var j=l[m];if(i.ystar>j.ystar||i.ystar==j.ystar&&f.x>j.vertex.x){continue}break}l.splice(m,0,i)},del:function(f){for(var e=0,h=I.list,g=h.length;e<g&&h[e]!=f;++e){}h.splice(e,1)},empty:function(){return I.list.length===0},nextEvent:function(f){for(var e=0,h=I.list,g=h.length;e<g;++e){if(h[e]==f){return h[e+1]}}return null},min:function(){var b=I.list[0];return{x:b.vertex.x,y:b.ystar}},extractMin:function(){return I.list.shift()}};K.init(),L.bottomSite=L.list.shift();var H=L.list.shift(),G,F,E,D,C,B,A,z,y,x,w,v,u;for(;;){I.empty()||(G=I.min());if(H&&(I.empty()||H.y<G.y||H.y==G.y&&H.x<G.x)){F=K.leftBound(H),E=K.right(F),A=K.rightRegion(F),v=J.bisect(A,H),B=K.createHalfEdge(v,"l"),K.insert(F,B),x=J.intersect(F,B),x&&(I.del(F),I.insert(F,x,J.distance(x,H))),F=B,B=K.createHalfEdge(v,"r"),K.insert(F,B),x=J.intersect(B,E),x&&I.insert(B,x,J.distance(x,H)),H=L.list.shift()}else{if(!I.empty()){F=I.extractMin(),D=K.left(F),E=K.right(F),C=K.right(E),A=K.leftRegion(F),z=K.rightRegion(E),w=F.vertex,J.endPoint(F.edge,F.side,w),J.endPoint(E.edge,E.side,w),K.del(F),I.del(E),K.del(E),u="l",A.y>z.y&&(y=A,A=z,z=y,u="r"),v=J.bisect(A,z),B=K.createHalfEdge(v,u),K.insert(D,B),J.endPoint(v,aH[u],w),x=J.intersect(D,B),x&&(I.del(D),I.insert(D,x,J.distance(x,A))),x=J.intersect(B,C),x&&I.insert(B,x,J.distance(x,A))}else{break}}}for(F=K.right(K.leftEnd);F!=K.rightEnd;F=K.right(F)){M(F.edge)}}function aF(){return{leaf:!0,nodes:[],point:null}}function aE(r,q,p,o,n,m){if(!r(q,p,o,n,m)){var l=(p+n)*0.5,k=(o+m)*0.5,j=q.nodes;j[0]&&aE(r,j[0],p,o,l,k),j[1]&&aE(r,j[1],l,o,n,k),j[2]&&aE(r,j[2],p,k,l,m),j[3]&&aE(r,j[3],l,k,n,m)}}function aD(b){return{x:b[0],y:b[1]}}function aB(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}function az(r,q,p,o){var n,m,l=0,k=q.length,j=p.length;while(l<k){if(o>=j){return -1}n=q.charCodeAt(l++);if(n==37){m=at[q.charAt(l++)];if(!m||(o=m(r,p,o))<0){return -1}}else{if(n!=p.charCodeAt(o++)){return -1}}}return o}function ar(f,e,g){return ap.test(e.substring(g,g+=3))?g:-1}function aq(f,e,h){e3.lastIndex=0;var g=e3.exec(e.substring(h,h+10));return g?h+=g[0].length:-1}function e2(f,e,h){var g=d9.get(e.substring(h,h+=3).toLowerCase());return g==null?-1:(f.m=g,h)}function d8(f,e,h){d5.lastIndex=0;var g=d5.exec(e.substring(h,h+12));return g?(f.m=d2.get(g[0].toLowerCase()),h+=g[0].length):-1}function c9(f,e,g){return az(f,au.c.toString(),e,g)}function c7(f,e,g){return az(f,au.x.toString(),e,g)}function c5(f,e,g){return az(f,au.X.toString(),e,g)}function c3(f,e,h){a4.lastIndex=0;var g=a4.exec(e.substring(h,h+4));return g?(f.y=+g[0],h+=g[0].length):-1}function c1(f,e,h){a4.lastIndex=0;var g=a4.exec(e.substring(h,h+2));return g?(f.y=b9()+ +g[0],h+=g[0].length):-1}function b9(){return ~~((new Date).getFullYear()/1000)*1000}function b7(f,e,h){a4.lastIndex=0;var g=a4.exec(e.substring(h,h+2));return g?(f.m=g[0]-1,h+=g[0].length):-1}function b5(f,e,h){a4.lastIndex=0;var g=a4.exec(e.substring(h,h+2));return g?(f.d=+g[0],h+=g[0].length):-1}function b3(f,e,h){a4.lastIndex=0;var g=a4.exec(e.substring(h,h+2));return g?(f.H=+g[0],h+=g[0].length):-1}function b1(f,e,h){a4.lastIndex=0;var g=a4.exec(e.substring(h,h+2));return g?(f.M=+g[0],h+=g[0].length):-1}function a9(f,e,h){a4.lastIndex=0;var g=a4.exec(e.substring(h,h+2));return g?(f.S=+g[0],h+=g[0].length):-1}function a7(f,e,h){a4.lastIndex=0;var g=a4.exec(e.substring(h,h+3));return g?(f.L=+g[0],h+=g[0].length):-1}function a3(f,e,h){var g=a0.get(e.substring(h,h+=2).toLowerCase());return g==null?-1:(f.p=g,h)}function aZ(g){var f=g.getTimezoneOffset(),j=f>0?"-":"+",i=~~(Math.abs(f)/60),h=Math.abs(f)%60;return j+ay(i)+ay(h)}function aV(b){return b.toISOString()}function aT(r,q,p){function o(a){var f=r(a),e=m(f,1);return a-f<e-a?f:e}function n(a){return q(a=r(new aC(a-1)),1),a}function m(b,e){return q(b=new aC(+b),e),b}function l(b,t,s){var i=n(b),e=[];if(s>1){while(i<t){p(i)%s||e.push(new Date(+i)),q(i,1)}}else{while(i<t){e.push(new Date(+i)),q(i,1)}}return e}function k(f,e,h){try{aC=aB;var g=new aB;return g._=f,l(g,e,h)}finally{aC=Date}}r.floor=r,r.round=o,r.ceil=n,r.offset=m,r.range=l;var j=r.utc=gW(r);return j.floor=j,j.round=gW(o),j.ceil=gW(n),j.offset=gW(m),j.range=k,r}function gW(b){return function(a,f){try{aC=aB;var e=new aB;return e._=a,b(e,f)._}finally{aC=Date}}}function aQ(f,e,h){function g(a){return f(a)}return g.invert=function(a){return an(f.invert(a))},g.domain=function(a){return arguments.length?(f.domain(a),g):f.domain().map(an)},g.nice=function(j){var i=ao(g.domain());return g.domain([j.floor(i[0]),j.ceil(i[1])])},g.ticks=function(m,l){var k=ao(g.domain());if(typeof m!="function"){var j=k[1]-k[0],b=j/m,a=d3.bisect(aj,b);if(a==aj.length){return e.year(k,m)}if(!a){return f.ticks(m).map(an)}Math.log(b/aj[a-1])<Math.log(aj[a]/b)&&--a,m=e[a],l=m[1],m=m[0].range}return m(k[0],new Date(+k[1]+1),l)},g.tickFormat=function(){return h},g.copy=function(){return aQ(f.copy(),e,h)},d3.rebind(g,f,"range","rangeRound","interpolate","clamp")}function ao(f){var e=f[0],g=f[f.length-1];return e<g?[e,g]:[g,e]}function an(b){return new Date(b)}function am(b){return function(a){var f=b.length-1,e=b[f];while(!e[1](a)){e=b[--f]}return e[0](a)}}function al(f){var e=new Date(f,0,1);return e.setFullYear(f),e}function ak(f){var e=f.getFullYear(),h=al(e),g=al(e+1);return e+(f-h)/(g-h)}function ab(f){var e=new Date(Date.UTC(f,0,1));return e.setUTCFullYear(f),e}function aa(f){var e=f.getUTCFullYear(),h=ab(e),g=ab(e+1);return e+(f-h)/(g-h)}Date.now||(Date.now=function(){return +(new Date)});try{document.createElement("div").style.setProperty("opacity",0,"")}catch(ig){var ic=CSSStyleDeclaration.prototype,h9=ic.setProperty;ic.setProperty=function(f,e,g){h9.call(this,f,e+"",g)}}d3={version:"2.8.1"};var h1=hU;try{h1(document.documentElement.childNodes)[0].nodeType}catch(hR){h1=hX}var hO=[].__proto__?function(f,e){f.__proto__=e}:function(f,e){for(var g in e){f[g]=e[g]}};d3.map=function(f){var e=new hM;for(var g in f){e.set(g,f[g])}return e},h4(hM,{has:function(b){return hJ+b in this},get:function(b){return this[hJ+b]},set:function(f,e){return this[hJ+f]=e},remove:function(b){return b=hJ+b,b in this&&delete this[b]},keys:function(){var b=[];return this.forEach(function(a){b.push(a)}),b},values:function(){var b=[];return this.forEach(function(a,e){b.push(e)}),b},entries:function(){var b=[];return this.forEach(function(a,e){b.push({key:a,value:e})}),b},forEach:function(f){for(var e in this){e.charCodeAt(0)===hF&&f.call(this,e.substring(1),this[e])}}});var hJ="\0",hF=hJ.charCodeAt(0);d3.functor=function(b){return typeof b=="function"?b:function(){return b}},d3.rebind=function(g,f){var j=1,i=arguments.length,h;while(++j<i){g[h=arguments[j]]=hz(g,f,f[h])}return g},d3.ascending=function(f,e){return f<e?-1:f>e?1:f>=e?0:NaN},d3.descending=function(f,e){return e<f?-1:e>f?1:e>=f?0:NaN},d3.mean=function(i,h){var n=i.length,m,l=0,k=-1,j=0;if(arguments.length===1){while(++k<n){hw(m=i[k])&&(l+=(m-l)/++j)}}else{while(++k<n){hw(m=h.call(i,i[k],k))&&(l+=(m-l)/++j)}}return j?l:undefined},d3.median=function(f,e){return arguments.length>1&&(f=f.map(e)),f=f.filter(hw),f.length?d3.quantile(f.sort(d3.ascending),0.5):undefined},d3.min=function(h,g){var l=-1,k=h.length,j,i;if(arguments.length===1){while(++l<k&&((j=h[l])==null||j!=j)){j=undefined}while(++l<k){(i=h[l])!=null&&j>i&&(j=i)}}else{while(++l<k&&((j=g.call(h,h[l],l))==null||j!=j)){j=undefined}while(++l<k){(i=g.call(h,h[l],l))!=null&&j>i&&(j=i)}}return j},d3.max=function(h,g){var l=-1,k=h.length,j,i;if(arguments.length===1){while(++l<k&&((j=h[l])==null||j!=j)){j=undefined}while(++l<k){(i=h[l])!=null&&i>j&&(j=i)}}else{while(++l<k&&((j=g.call(h,h[l],l))==null||j!=j)){j=undefined}while(++l<k){(i=g.call(h,h[l],l))!=null&&i>j&&(j=i)}}return j},d3.extent=function(i,h){var n=-1,m=i.length,l,k,j;if(arguments.length===1){while(++n<m&&((l=j=i[n])==null||l!=l)){l=j=undefined}while(++n<m){(k=i[n])!=null&&(l>k&&(l=k),j<k&&(j=k))}}else{while(++n<m&&((l=j=h.call(i,i[n],n))==null||l!=l)){l=undefined}while(++n<m){(k=h.call(i,i[n],n))!=null&&(l>k&&(l=k),j<k&&(j=k))}}return[l,j]},d3.random={normal:function(f,e){return arguments.length<2&&(e=1),arguments.length<1&&(f=0),function(){var g,b,a;do{g=Math.random()*2-1,b=Math.random()*2-1,a=g*g+b*b}while(!a||a>1);return f+e*g*Math.sqrt(-2*Math.log(a)/a)}}},d3.sum=function(h,g){var l=0,k=h.length,j,i=-1;if(arguments.length===1){while(++i<k){isNaN(j=+h[i])||(l+=j)}}else{while(++i<k){isNaN(j=+g.call(h,h[i],i))||(l+=j)}}return l},d3.quantile=function(h,g){var l=(h.length-1)*g+1,k=Math.floor(l),j=h[k-1],i=l-k;return i?j+i*(h[k]-j):j},d3.transpose=function(b){return d3.zip.apply(d3,b)},d3.zip=function(){if(!(j=arguments.length)){return[]}for(var h=-1,g=d3.min(arguments,ht),l=new Array(g);++h<g;){for(var k=-1,j,i=l[h]=new Array(j);++k<j;){i[k]=arguments[k][h]}}return l},d3.bisector=function(b){return{left:function(a,j,i,h){arguments.length<3&&(i=0),arguments.length<4&&(h=a.length);while(i<h){var g=i+h>>1;b.call(a,a[g],g)<j?i=g+1:h=g}return i},right:function(a,j,i,h){arguments.length<3&&(i=0),arguments.length<4&&(h=a.length);while(i<h){var g=i+h>>1;j<b.call(a,a[g],g)?h=g:i=g+1}return i}}};var hq=d3.bisector(function(b){return b});d3.bisectLeft=hq.left,d3.bisect=d3.bisectRight=hq.right,d3.first=function(h,g){var l=0,k=h.length,j=h[0],i;arguments.length===1&&(g=d3.ascending);while(++l<k){g.call(h,j,i=h[l])>0&&(j=i)}return j},d3.last=function(h,g){var l=0,k=h.length,j=h[0],i;arguments.length===1&&(g=d3.ascending);while(++l<k){g.call(h,j,i=h[l])<=0&&(j=i)}return j},d3.nest=function(){function k(v,u){if(u>=h.length){return l?l.call(i,v):m?v.sort(m):v}var t=-1,s=v.length,r=h[u++],q,f,e=new hM,b,a={};while(++t<s){(b=e.get(q=r(f=v[t])))?b.push(f):e.set(q,[f])}return e.forEach(function(g){a[g]=k(e.get(g),u)}),a}function j(b,q){if(q>=h.length){return b}var p=[],o=n[q++],g;for(g in b){p.push({key:g,values:j(b[g],q)})}return o&&p.sort(function(f,e){return o(f.key,e.key)}),p}var i={},h=[],n=[],m,l;return i.map=function(b){return k(b,0)},i.entries=function(b){return j(k(b,0),0)},i.key=function(a){return h.push(a),i},i.sortKeys=function(a){return n[h.length-1]=a,i},i.sortValues=function(a){return m=a,i},i.rollup=function(a){return l=a,i},i},d3.keys=function(f){var e=[];for(var g in f){e.push(g)}return e},d3.values=function(f){var e=[];for(var g in f){e.push(f[g])}return e},d3.entries=function(f){var e=[];for(var g in f){e.push({key:g,value:f[g]})}return e},d3.permute=function(g,f){var j=[],i=-1,h=f.length;while(++i<h){j[i]=g[f[i]]}return j},d3.merge=function(b){return Array.prototype.concat.apply([],b)},d3.split=function(i,h){var n=[],m=[],l,k=-1,j=i.length;arguments.length<2&&(h=hn);while(++k<j){h.call(m,l=i[k],k)?m=[]:(m.length||n.push(m),m.push(l))}return n},d3.range=function(i,h,n){arguments.length<3&&(n=1,arguments.length<2&&(h=i,i=0));if((h-i)/n===Infinity){throw new Error("infinite range")}var m=[],l=hh(Math.abs(n)),k=-1,j;i*=l,h*=l,n*=l;if(n<0){while((j=i+n*++k)>h){m.push(j/l)}}else{while((j=i+n*++k)<h){m.push(j/l)}}return m},d3.requote=function(b){return b.replace(he,"\\$&")};var he=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;d3.round=function(f,e){return e?Math.round(f*(e=Math.pow(10,e)))/e:Math.round(f)},d3.xhr=function(f,e,h){var g=new XMLHttpRequest;arguments.length<3?(h=e,e=null):e&&g.overrideMimeType&&g.overrideMimeType(e),g.open("GET",f,!0),e&&g.setRequestHeader("Accept",e),g.onreadystatechange=function(){g.readyState===4&&h(g.status<300?g:null)},g.send(null)},d3.text=function(f,e,h){function g(b){h(b&&b.responseText)}arguments.length<3&&(h=e,e=null),d3.xhr(f,e,g)},d3.json=function(f,e){d3.text(f,"application/json",function(b){e(b?JSON.parse(b):null)})},d3.html=function(f,e){d3.text(f,"text/html",function(b){if(b!=null){var g=document.createRange();g.selectNode(document.body),b=g.createContextualFragment(b)}e(b)})},d3.xml=function(f,e,h){function g(b){h(b&&b.responseXML)}arguments.length<3&&(h=e,e=null),d3.xhr(f,e,g)};var hb={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};d3.ns={prefix:hb,qualify:function(f){var e=f.indexOf(":"),g=f;return e>=0&&(g=f.substring(0,e),f=f.substring(e+1)),hb.hasOwnProperty(g)?{space:hb[g],local:f}:f}},d3.dispatch=function(){var f=new g9,e=-1,g=arguments.length;while(++e<g){f[arguments[e]]=g6(f)}return f},g9.prototype.on=function(f,e){var h=f.indexOf("."),g="";return h>0&&(g=f.substring(h+1),f=f.substring(0,h)),arguments.length<2?this[f].on(g):this[f].on(g,e)},d3.format=function(x){var w=g2.exec(x),v=w[1]||" ",u=w[3]||"",t=w[5],s=+w[6],r=w[7],q=w[8],p=w[9],o=1,n="",m=!1;q&&(q=+q.substring(1)),t&&(v="0",r&&(s-=Math.floor((s-1)/4)));switch(p){case"n":r=!0,p="g";break;case"%":o=100,n="%",p="f";break;case"p":o=100,n="%",p="r";break;case"d":m=!0,q=0;break;case"s":o=-1,p="r"}return p=="r"&&!q&&(p="g"),p=jC.get(p)||jx,function(g){if(m&&g%1){return""}var f=g<0&&(g=-g)?"−":u;if(o<0){var e=d3.formatPrefix(g,q);g*=e.scale,n=e.symbol}else{g*=o}g=p(g,q);if(t){var h=g.length+f.length;h<s&&(g=(new Array(s-h+1)).join(v)+g),r&&(g=ju(g)),g=f+g}else{r&&(g=ju(g)),g=f+g;var h=g.length;h<s&&(g=(new Array(s-h+1)).join(v)+g)}return g+n}};var g2=/(?:([^{])?([<>=^]))?([+\- ])?(#)?(0)?([0-9]+)?(,)?(\.[0-9]+)?([a-zA-Z%])?/,jC=d3.map({g:function(f,e){return f.toPrecision(e)},e:function(f,e){return f.toExponential(e)},f:function(f,e){return f.toFixed(e)},r:function(f,e){return d3.round(f,e=jA(f,e)).toFixed(Math.max(0,Math.min(20,e)))}}),jr=["y","z","a","f","p","n","μ","m","","k","M","G","T","P","E","Z","Y"].map(jn);d3.formatPrefix=function(f,e){var g=0;return f&&(f<0&&(f*=-1),e&&(f=d3.round(f,jA(f,e))),g=1+Math.floor(1e-12+Math.log(f)/Math.LN10),g=Math.max(-24,Math.min(24,Math.floor((g<=0?g+1:g-1)/3)*3))),jr[8+g/3]};var jk=iT(2),jh=iT(3),je=function(){return iX},jb=d3.map({linear:je,poly:iT,quad:function(){return jk},cubic:function(){return jh},sin:function(){return iQ},exp:function(){return iN},circle:function(){return iK},elastic:iH,back:iE,bounce:function(){return iB}}),i8=d3.map({"in":iX,out:i2,"in-out":i0,"out-in":function(b){return i0(i2(b))}});d3.ease=function(f){var e=f.indexOf("-"),h=e>=0?f.substring(0,e):f,g=e>=0?f.substring(e+1):"in";return h=jb.get(h)||je,g=i8.get(g)||iX,i5(g(h.apply(null,Array.prototype.slice.call(arguments,1))))},d3.event=null,d3.interpolate=function(f,e){var h=d3.interpolators.length,g;while(--h>=0&&!(g=d3.interpolators[h](f,e))){}return g},d3.interpolateNumber=function(f,e){return e-=f,function(a){return f+e*a}},d3.interpolateRound=function(f,e){return e-=f,function(a){return Math.round(f+e*a)}},d3.interpolateString=function(v,u){var t,s,r,q=0,p=0,o=[],n=[],m,l;io.lastIndex=0;for(s=0;t=io.exec(u);++s){t.index&&o.push(u.substring(q,p=t.index)),n.push({i:o.length,x:t[0]}),o.push(null),q=io.lastIndex}q<u.length&&o.push(u.substring(q));for(s=0,m=n.length;(t=io.exec(v))&&s<m;++s){l=n[s];if(l.x==t[0]){if(l.i){if(o[l.i+1]==null){o[l.i-1]+=l.x,o.splice(l.i,1);for(r=s+1;r<m;++r){n[r].i--}}else{o[l.i-1]+=l.x+o[l.i+1],o.splice(l.i,2);for(r=s+1;r<m;++r){n[r].i-=2}}}else{if(o[l.i+1]==null){o[l.i]=l.x}else{o[l.i]=l.x+o[l.i+1],o.splice(l.i+1,1);for(r=s+1;r<m;++r){n[r].i--}}}n.splice(s,1),m--,s--}else{l.x=d3.interpolateNumber(parseFloat(t[0]),parseFloat(l.x))}}while(s<m){l=n.pop(),o[l.i+1]==null?o[l.i]=l.x:(o[l.i]=l.x+o[l.i+1],o.splice(l.i+1,1)),m--}return o.length===1?o[0]==null?n[0].x:function(){return u}:function(b){for(s=0;s<m;++s){o[(l=n[s]).i]=l.x(b)}return o.join("")}},d3.interpolateTransform=function(D,C){var B=[],A=[],z,y=d3.transform(D),x=d3.transform(C),w=y.translate,v=x.translate,u=y.rotate,t=x.rotate,s=y.skew,r=x.skew,q=y.scale,p=x.scale;return w[0]!=v[0]||w[1]!=v[1]?(B.push("translate(",null,",",null,")"),A.push({i:1,x:d3.interpolateNumber(w[0],v[0])},{i:3,x:d3.interpolateNumber(w[1],v[1])})):v[0]||v[1]?B.push("translate("+v+")"):B.push(""),u!=t?A.push({i:B.push(B.pop()+"rotate(",null,")")-2,x:d3.interpolateNumber(u,t)}):t&&B.push(B.pop()+"rotate("+t+")"),s!=r?A.push({i:B.push(B.pop()+"skewX(",null,")")-2,x:d3.interpolateNumber(s,r)}):r&&B.push(B.pop()+"skewX("+r+")"),q[0]!=p[0]||q[1]!=p[1]?(z=B.push(B.pop()+"scale(",null,",",null,")"),A.push({i:z-4,x:d3.interpolateNumber(q[0],p[0])},{i:z-2,x:d3.interpolateNumber(q[1],p[1])})):(p[0]!=1||p[1]!=1)&&B.push(B.pop()+"scale("+p+")"),z=A.length,function(g){var e=-1,h;while(++e<z){B[(h=A[e]).i]=h.x(g)}return B.join("")}},d3.interpolateRgb=function(j,i){j=d3.rgb(j),i=d3.rgb(i);var p=j.r,o=j.g,n=j.b,m=i.r-p,l=i.g-o,k=i.b-n;return function(b){return"#"+jp(Math.round(p+m*b))+jp(Math.round(o+l*b))+jp(Math.round(n+k*b))}},d3.interpolateHsl=function(j,i){j=d3.hsl(j),i=d3.hsl(i);var p=j.h,o=j.s,n=j.l,m=i.h-p,l=i.s-o,k=i.l-n;return function(b){return i4(p+m*b,o+l*b,n+k*b).toString()}},d3.interpolateArray=function(j,i){var p=[],o=[],n=j.length,m=i.length,l=Math.min(j.length,i.length),k;for(k=0;k<l;++k){p.push(d3.interpolate(j[k],i[k]))}for(;k<n;++k){o[k]=j[k]}for(;k<m;++k){o[k]=i[k]}return function(b){for(k=0;k<l;++k){o[k]=p[k](b)}return o}},d3.interpolateObject=function(g,f){var j={},i={},h;for(h in g){h in f?j[h]=j3(h)(g[h],f[h]):i[h]=g[h]}for(h in f){h in g||(i[h]=f[h])}return function(b){for(h in j){i[h]=j[h](b)}return i}};var io=/[-+]?(?:\d*\.?\d+)(?:[eE][-+]?\d+)?/g;d3.interpolators=[d3.interpolateObject,function(f,e){return e instanceof Array&&d3.interpolateArray(f,e)},function(f,e){return(typeof f=="string"||typeof e=="string")&&d3.interpolateString(f+"",e+"")},function(f,e){return(typeof e=="string"?jd.has(e)||/^(#|rgb\(|hsl\()/.test(e):e instanceof js||e instanceof i7)&&d3.interpolateRgb(f,e)},function(f,e){return !isNaN(f=+f)&&!isNaN(e=+e)&&d3.interpolateNumber(f,e)}],d3.rgb=function(f,e,g){return arguments.length===1?f instanceof js?jw(f.r,f.g,f.b):jm(""+f,jw,i4):jw(~~f,~~e,~~g)},js.prototype.brighter=function(g){g=Math.pow(0.7,arguments.length?g:1);var f=this.r,j=this.g,i=this.b,h=30;return !f&&!j&&!i?jw(h,h,h):(f&&f<h&&(f=h),j&&j<h&&(j=h),i&&i<h&&(i=h),jw(Math.min(255,Math.floor(f/g)),Math.min(255,Math.floor(j/g)),Math.min(255,Math.floor(i/g))))},js.prototype.darker=function(b){return b=Math.pow(0.7,arguments.length?b:1),jw(Math.floor(b*this.r),Math.floor(b*this.g),Math.floor(b*this.b))},js.prototype.hsl=function(){return jj(this.r,this.g,this.b)},js.prototype.toString=function(){return"#"+jp(this.r)+jp(this.g)+jp(this.b)};var jd=d3.map({aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"});jd.forEach(function(f,e){jd.set(f,jm(e,jw,i4))}),d3.hsl=function(f,e,g){return arguments.length===1?f instanceof i7?ja(f.h,f.s,f.l):jm(""+f,jj,ja):ja(+f,+e,+g)},i7.prototype.brighter=function(b){return b=Math.pow(0.7,arguments.length?b:1),ja(this.h,this.s,this.l/b)},i7.prototype.darker=function(b){return b=Math.pow(0.7,arguments.length?b:1),ja(this.h,this.s,b*this.l)},i7.prototype.rgb=function(){return i4(this.h,this.s,this.l)},i7.prototype.toString=function(){return this.rgb().toString()};var iY=function(f,e){return e.querySelector(f)},iV=function(f,e){return e.querySelectorAll(f)},iS=document.documentElement,iP=iS.matchesSelector||iS.webkitMatchesSelector||iS.mozMatchesSelector||iS.msMatchesSelector||iS.oMatchesSelector,iM=function(f,e){return iP.call(f,e)};typeof Sizzle=="function"&&(iY=function(f,e){return Sizzle(f,e)[0]},iV=function(f,e){return Sizzle.uniqueSort(Sizzle(f,e))},iM=Sizzle.matchesSelector);var iJ=[];d3.selection=function(){return ik},d3.selection.prototype=iJ,iJ.select=function(t){var s=[],r,q,p,o;typeof t!="function"&&(t=iG(t));for(var n=-1,m=this.length;++n<m;){s.push(r=[]),r.parentNode=(p=this[n]).parentNode;for(var l=-1,k=p.length;++l<k;){(o=p[l])?(r.push(q=t.call(o,o.__data__,l)),q&&"__data__" in o&&(q.__data__=o.__data__)):r.push(null)}}return i1(s)},iJ.selectAll=function(r){var q=[],p,o;typeof r!="function"&&(r=iD(r));for(var n=-1,m=this.length;++n<m;){for(var l=this[n],k=-1,f=l.length;++k<f;){if(o=l[k]){q.push(p=h1(r.call(o,o.__data__,k))),p.parentNode=o}}}return i1(q)},iJ.attr=function(r,q){function o(){this.removeAttribute(r)}function n(){this.removeAttributeNS(r.space,r.local)}function m(){this.setAttribute(r,q)}function l(){this.setAttributeNS(r.space,r.local,q)}function k(){var a=q.apply(this,arguments);a==null?this.removeAttribute(r):this.setAttribute(r,a)}function j(){var a=q.apply(this,arguments);a==null?this.removeAttributeNS(r.space,r.local):this.setAttributeNS(r.space,r.local,a)}r=d3.ns.qualify(r);if(arguments.length<2){var p=this.node();return r.local?p.getAttributeNS(r.space,r.local):p.getAttribute(r)}return this.each(q==null?r.local?n:o:typeof q=="function"?r.local?j:k:r.local?l:m)},iJ.classed=function(g,f){var j=g.split(iA),i=j.length,h=-1;if(arguments.length>1){while(++h<i){ix.call(this,j[h],f)}return this}while(++h<i){if(!ix.call(this,j[h])){return !1}}return !0};var iA=/\s+/g;iJ.style=function(h,g,l){function k(){this.style.removeProperty(h)}function j(){this.style.setProperty(h,g,l)}function i(){var a=g.apply(this,arguments);a==null?this.style.removeProperty(h):this.style.setProperty(h,a,l)}return arguments.length<3&&(l=""),arguments.length<2?window.getComputedStyle(this.node(),null).getPropertyValue(h):this.each(g==null?k:typeof g=="function"?i:j)},iJ.property=function(g,f){function j(){delete this[g]}function i(){this[g]=f}function h(){var a=f.apply(this,arguments);a==null?delete this[g]:this[g]=a}return arguments.length<2?this.node()[g]:this.each(f==null?j:typeof f=="function"?h:i)},iJ.text=function(b){return arguments.length<1?this.node().textContent:this.each(typeof b=="function"?function(){var a=b.apply(this,arguments);this.textContent=a==null?"":a}:b==null?function(){this.textContent=""}:function(){this.textContent=b})},iJ.html=function(b){return arguments.length<1?this.node().innerHTML:this.each(typeof b=="function"?function(){var a=b.apply(this,arguments);this.innerHTML=a==null?"":a}:b==null?function(){this.innerHTML=""}:function(){this.innerHTML=b})},iJ.append=function(f){function e(){return this.appendChild(document.createElementNS(this.namespaceURI,f))}function g(){return this.appendChild(document.createElementNS(f.space,f.local))}return f=d3.ns.qualify(f),this.select(f.local?g:e)},iJ.insert=function(f,e){function h(){return this.insertBefore(document.createElementNS(this.namespaceURI,f),iY(e,this))}function g(){return this.insertBefore(document.createElementNS(f.space,f.local),iY(e,this))}return f=d3.ns.qualify(f),this.select(f.local?g:h)},iJ.remove=function(){return this.each(function(){var b=this.parentNode;b&&b.removeChild(this)})},iJ.data=function(t,s){function n(D,C){var B,A=D.length,z=C.length,y=Math.min(A,z),x=Math.max(A,z),w=[],v=[],j=[],i,h;if(s){var b=new hM,G=[],F,E=C.length;for(B=-1;++B<A;){F=s.call(i=D[B],i.__data__,B),b.has(F)?j[E++]=i:b.set(F,i),G.push(F)}for(B=-1;++B<z;){F=s.call(C,h=C[B],B),b.has(F)?(w[B]=i=b.get(F),i.__data__=h,v[B]=j[B]=null):(v[B]=iu(h),w[B]=j[B]=null),b.remove(F)}for(B=-1;++B<A;){b.has(G[B])&&(j[B]=D[B])}}else{for(B=-1;++B<y;){i=D[B],h=C[B],i?(i.__data__=h,w[B]=i,v[B]=j[B]=null):(v[B]=iu(h),w[B]=j[B]=null)}for(;B<z;++B){v[B]=iu(C[B]),w[B]=j[B]=null}for(;B<x;++B){j[B]=D[B],v[B]=w[B]=null}}v.update=w,v.parentNode=w.parentNode=j.parentNode=D.parentNode,m.push(v),l.push(w),k.push(j)}var r=-1,q=this.length,p,o;if(!arguments.length){t=new Array(q=(p=this[0]).length);while(++r<q){if(o=p[r]){t[r]=o.__data__}}return t}var m=j5([]),l=i1([]),k=i1([]);if(typeof t=="function"){while(++r<q){n(p=this[r],t.call(p,p.parentNode.__data__,r))}}else{while(++r<q){n(p=this[r],t)}}return l.enter=function(){return m},l.exit=function(){return k},l},iJ.datum=iJ.map=function(b){return arguments.length<1?this.property("__data__"):this.property("__data__",b)},iJ.filter=function(r){var q=[],p,o,n;typeof r!="function"&&(r=iq(r));for(var m=0,l=this.length;m<l;m++){q.push(p=[]),p.parentNode=(o=this[m]).parentNode;for(var k=0,j=o.length;k<j;k++){(n=o[k])&&r.call(n,n.__data__,k)&&p.push(n)}}return i1(q)},iJ.order=function(){for(var h=-1,g=this.length;++h<g;){for(var l=this[h],k=l.length-1,j=l[k],i;--k>=0;){if(i=l[k]){j&&j!==i.nextSibling&&j.parentNode.insertBefore(i,j),j=i}}}return this},iJ.sort=function(f){f=im.apply(this,arguments);for(var e=-1,g=this.length;++e<g;){this[e].sort(f)}return this.order()},iJ.on=function(g,f,j){arguments.length<3&&(j=!1);var i="__on"+g,h=g.indexOf(".");return h>0&&(g=g.substring(0,h)),arguments.length<2?(h=this.node()[i])&&h._:this.each(function(m,l){function a(e){var n=d3.event;d3.event=e;try{f.call(k,k.__data__,l)}finally{d3.event=n}}var k=this,b=k[i];b&&(k.removeEventListener(g,b,b.$),delete k[i]),f&&(k.addEventListener(g,k[i]=a,a.$=j),a._=f)})},iJ.each=function(i){for(var h=-1,n=this.length;++h<n;){for(var m=this[h],l=-1,k=m.length;++l<k;){var j=m[l];j&&i.call(j,j.__data__,l,h)}}return this},iJ.call=function(b){return b.apply(this,(arguments[0]=this,arguments)),this},iJ.empty=function(){return !this.node()},iJ.node=function(i){for(var h=0,n=this.length;h<n;h++){for(var m=this[h],l=0,k=m.length;l<k;l++){var j=m[l];if(j){return j}}}return null},iJ.transition=function(){var j=[],i,p;for(var o=-1,n=this.length;++o<n;){j.push(i=[]);for(var m=this[o],l=-1,k=m.length;++l<k;){i.push((p=m[l])?{node:p,delay:jR,duration:jQ}:null)}}return j2(j,jV||++jW,Date.now())};var ik=i1([[document]]);ik[0].parentNode=iS,d3.select=function(b){return typeof b=="string"?ik.select(b):i1([[b]])},d3.selectAll=function(b){return typeof b=="string"?ik.selectAll(b):i1([h1(b)])};var j4=[];d3.selection.enter=j5,d3.selection.enter.prototype=j4,j4.append=iJ.append,j4.insert=iJ.insert,j4.empty=iJ.empty,j4.node=iJ.node,j4.select=function(v){var u=[],t,s,r,q,p;for(var o=-1,n=this.length;++o<n;){r=(q=this[o]).update,u.push(t=[]),t.parentNode=q.parentNode;for(var m=-1,l=q.length;++m<l;){(p=q[m])?(t.push(r[m]=s=v.call(q.parentNode,p.__data__,m)),s.__data__=p.__data__):t.push(null)}}return i1(u)};var j0={},jX=[],jW=0,jV=0,jU=0,jT=250,jS=d3.ease("cubic-in-out"),jR=jU,jQ=jT,jP=jS;jX.call=iJ.call,d3.transition=function(b){return arguments.length?jV?b.transition():b:ik.transition()},d3.transition.prototype=jX,jX.select=function(t){var s=[],r,q,p;typeof t!="function"&&(t=iG(t));for(var o=-1,n=this.length;++o<n;){s.push(r=[]);for(var m=this[o],l=-1,k=m.length;++l<k;){(p=m[l])&&(q=t.call(p.node,p.node.__data__,l))?("__data__" in p.node&&(q.__data__=p.node.__data__),r.push({node:q,delay:p.delay,duration:p.duration})):r.push(null)}}return j2(s,this.id,this.time).ease(this.ease())},jX.selectAll=function(x){var w=[],v,u,t;typeof x!="function"&&(x=iD(x));for(var s=-1,r=this.length;++s<r;){for(var q=this[s],p=-1,o=q.length;++p<o;){if(t=q[p]){u=x.call(t.node,t.node.__data__,p),w.push(v=[]);for(var n=-1,m=u.length;++n<m;){v.push({node:u[n],delay:t.delay,duration:t.duration})}}}}return j2(w,this.id,this.time).ease(this.ease())},jX.attr=function(f,e){return this.attrTween(f,jY(f,e))},jX.attrTween=function(g,f){function i(b,l){var k=f.call(this,b,l,this.getAttribute(j));return k===j0?(this.removeAttribute(j),null):k&&function(e){this.setAttribute(j,k(e))}}function h(b,l){var k=f.call(this,b,l,this.getAttributeNS(j.space,j.local));return k===j0?(this.removeAttributeNS(j.space,j.local),null):k&&function(e){this.setAttributeNS(j.space,j.local,k(e))}}var j=d3.ns.qualify(g);return this.tween("attr."+g,j.local?h:i)},jX.style=function(f,e,g){return arguments.length<3&&(g=""),this.styleTween(f,jY(f,e),g)},jX.styleTween=function(f,e,g){return arguments.length<3&&(g=""),this.tween("style."+f,function(h,b){var a=e.call(this,h,b,window.getComputedStyle(this,null).getPropertyValue(f));return a===j0?(this.style.removeProperty(f),null):a&&function(i){this.style.setProperty(f,a(i),g)}})},jX.text=function(b){return this.tween("text",function(a,e){this.textContent=typeof b=="function"?b.call(this,a,e):b})},jX.remove=function(){return this.each("end.transition",function(){var b;!this.__transition__&&(b=this.parentNode)&&b.removeChild(this)})},jX.delay=function(f){var e=this;return e.each(typeof f=="function"?function(g,b,a){e[a][b].delay=f.apply(this,arguments)|0}:(f|=0,function(g,b,a){e[a][b].delay=f}))},jX.duration=function(f){var e=this;return e.each(typeof f=="function"?function(g,b,a){e[a][b].duration=Math.max(1,f.apply(this,arguments)|0)}:(f=Math.max(1,f|0),function(g,b,a){e[a][b].duration=f}))},jX.transition=function(){return this.select(hC)};var jN=null,jM,jL;d3.timer=function(h,g,l){var k=!1,j,i=jN;if(arguments.length<3){if(arguments.length<2){g=0}else{if(!isFinite(g)){return}}l=Date.now()}while(i){if(i.callback===h){i.then=l,i.delay=g,k=!0;break}j=i,i=i.next}k||(jN={callback:h,then:l,delay:g,next:jN}),jM||(jL=clearTimeout(jL),jM=1,jI(jK))},d3.timer.flush=function(){var f,e=Date.now(),g=jN;while(g){f=e-g.then,g.delay||(g.flush=g.callback(f)),g=g.next}jJ()};var jI=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(b){setTimeout(b,17)};d3.transform=function(f){var e=document.createElementNS(d3.ns.prefix.svg,"g"),g={a:1,b:0,c:0,d:1,e:0,f:0};return(d3.transform=function(b){e.setAttribute("transform",b);var h=e.transform.baseVal.consolidate();return new jH(h?h.matrix:g)})(f)},jH.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var j6=180/Math.PI;d3.mouse=function(b){return ie(b,iv())};var jD=/WebKit/.test(navigator.userAgent)?-1:0;d3.touches=function(f,e){return arguments.length<2&&(e=iv().touches),e?h1(e).map(function(a){var g=ie(f,a);return g.identifier=a.identifier,g}):[]},d3.scale={},d3.scale.linear=function(){return hW([0,1],[0,1],d3.interpolate,!1)},d3.scale.log=function(){return hy(d3.scale.linear(),hs)};var hv=d3.format(".0e");hs.pow=function(b){return Math.pow(10,b)},hp.pow=function(b){return -Math.pow(10,-b)},d3.scale.pow=function(){return hm(d3.scale.linear(),1)},d3.scale.sqrt=function(){return d3.scale.pow().exponent(0.5)},d3.scale.ordinal=function(){return hg([],{t:"range",x:[]})},d3.scale.category10=function(){return d3.scale.ordinal().range(hd)},d3.scale.category20=function(){return d3.scale.ordinal().range(ha)},d3.scale.category20b=function(){return d3.scale.ordinal().range(g7)},d3.scale.category20c=function(){return d3.scale.ordinal().range(g4)};var hd=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],ha=["#1f77b4","#aec7e8","#ff7f0e","#ffbb78","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5","#8c564b","#c49c94","#e377c2","#f7b6d2","#7f7f7f","#c7c7c7","#bcbd22","#dbdb8d","#17becf","#9edae5"],g7=["#393b79","#5254a3","#6b6ecf","#9c9ede","#637939","#8ca252","#b5cf6b","#cedb9c","#8c6d31","#bd9e39","#e7ba52","#e7cb94","#843c39","#ad494a","#d6616b","#e7969c","#7b4173","#a55194","#ce6dbd","#de9ed6"],g4=["#3182bd","#6baed6","#9ecae1","#c6dbef","#e6550d","#fd8d3c","#fdae6b","#fdd0a2","#31a354","#74c476","#a1d99b","#c7e9c0","#756bb1","#9e9ac8","#bcbddc","#dadaeb","#636363","#969696","#bdbdbd","#d9d9d9"];d3.scale.quantile=function(){return g1([],[])},d3.scale.quantize=function(){return jB(0,1,[0,1])},d3.scale.identity=function(){return jy([0,1])},d3.svg={},d3.svg.arc=function(){function h(){var v=g.apply(this,arguments),u=f.apply(this,arguments),t=j.apply(this,arguments)+jt,s=i.apply(this,arguments)+jt,r=(s<t&&(r=t,t=s,s=r),s-t),q=r<Math.PI?"0":"1",p=Math.cos(t),o=Math.sin(t),b=Math.cos(s),a=Math.sin(s);return r>=jq?v?"M0,"+u+"A"+u+","+u+" 0 1,1 0,"+-u+"A"+u+","+u+" 0 1,1 0,"+u+"M0,"+v+"A"+v+","+v+" 0 1,0 0,"+-v+"A"+v+","+v+" 0 1,0 0,"+v+"Z":"M0,"+u+"A"+u+","+u+" 0 1,1 0,"+-u+"A"+u+","+u+" 0 1,1 0,"+u+"Z":v?"M"+u*p+","+u*o+"A"+u+","+u+" 0 "+q+",1 "+u*b+","+u*a+"L"+v*b+","+v*a+"A"+v+","+v+" 0 "+q+",0 "+v*p+","+v*o+"Z":"M"+u*p+","+u*o+"A"+u+","+u+" 0 "+q+",1 "+u*b+","+u*a+"L0,0Z"}var g=jo,f=jl,j=ji,i=jf;return h.innerRadius=function(a){return arguments.length?(g=d3.functor(a),h):g},h.outerRadius=function(b){return arguments.length?(f=d3.functor(b),h):f},h.startAngle=function(b){return arguments.length?(j=d3.functor(b),h):j},h.endAngle=function(b){return arguments.length?(i=d3.functor(b),h):i},h.centroid=function(){var b=(g.apply(this,arguments)+f.apply(this,arguments))/2,a=(j.apply(this,arguments)+i.apply(this,arguments))/2+jt;return[Math.cos(a)*b,Math.sin(a)*b]},h};var jt=-Math.PI/2,jq=2*Math.PI-0.000001;d3.svg.line=function(){return jc(Object)};var iZ="linear",iW=d3.map({linear:iU,"step-before":iR,"step-after":iO,basis:iw,"basis-open":it,"basis-closed":ip,bundle:il,cardinal:iF,"cardinal-open":iL,"cardinal-closed":iI,monotone:gK}),ii=[0,2/3,1/3,0],gX=[0,1/3,2/3,0],gU=[0,1/6,2/3,1/6];d3.svg.line.radial=function(){var b=jc(gI);return b.radius=b.x,delete b.x,b.angle=b.y,delete b.y,b},iR.reverse=iO,iO.reverse=iR,d3.svg.area=function(){return gG(Object)},d3.svg.area.radial=function(){var b=gG(gI);return b.radius=b.x,delete b.x,b.innerRadius=b.x0,delete b.x0,b.outerRadius=b.x1,delete b.x1,b.angle=b.y,delete b.y,b.startAngle=b.y0,delete b.y0,b.endAngle=b.y1,delete b.y1,b},d3.svg.chord=function(){function o(h,g){var b=n(this,t,h,g),a=n(this,s,h,g);return"M"+b.p0+l(b.r,b.p1,b.a1-b.a0)+(m(b,a)?k(b.r,b.p1,b.r,b.p0):k(b.r,b.p1,a.r,a.p0)+l(a.r,a.p1,a.a1-a.a0)+k(a.r,a.p1,b.r,b.p0))+"Z"}function n(u,e,A,z){var y=e.call(u,A,z),x=r.call(u,y,z),w=q.call(u,y,z)+jt,v=p.call(u,y,z)+jt;return{r:x,a0:w,a1:v,p0:[x*Math.cos(w),x*Math.sin(w)],p1:[x*Math.cos(v),x*Math.sin(v)]}}function m(f,e){return f.a0==e.a0&&f.a1==e.a1}function l(f,e,g){return"A"+f+","+f+" 0 "+ +(g>Math.PI)+",1 "+e}function k(f,e,h,g){return"Q 0,0 "+g}var t=gA,s=gy,r=gx,q=ji,p=jf;return o.radius=function(b){return arguments.length?(r=d3.functor(b),o):r},o.source=function(a){return arguments.length?(t=d3.functor(a),o):t},o.target=function(b){return arguments.length?(s=d3.functor(b),o):s},o.startAngle=function(b){return arguments.length?(q=d3.functor(b),o):q},o.endAngle=function(b){return arguments.length?(p=d3.functor(b),o):p},o},d3.svg.diagonal=function(){function g(m,l){var k=f.call(this,m,l),j=e.call(this,m,l),b=(k.y+j.y)/2,a=[k,{x:k.x,y:b},{x:j.x,y:b},j];return a=a.map(h),"M"+a[0]+"C"+a[1]+" "+a[2]+" "+a[3]}var f=gA,e=gy,h=gq;return g.source=function(a){return arguments.length?(f=d3.functor(a),g):f},g.target=function(b){return arguments.length?(e=d3.functor(b),g):e},g.projection=function(b){return arguments.length?(h=b,g):h},g},d3.svg.diagonal.radial=function(){var f=d3.svg.diagonal(),e=gq,g=f.projection;return f.projection=function(b){return arguments.length?g(f8(e=b)):e},f},d3.svg.mouse=d3.mouse,d3.svg.touches=d3.touches,d3.svg.symbol=function(){function g(b,a){return(f0.get(f.call(this,b,a))||f2)(e.call(this,b,a))}var f=f4,e=f6;return g.type=function(a){return arguments.length?(f=d3.functor(a),g):f},g.size=function(b){return arguments.length?(e=d3.functor(b),g):e},g};var f0=d3.map({circle:f2,cross:function(f){var e=Math.sqrt(f/5)/2;return"M"+-3*e+","+-e+"H"+-e+"V"+-3*e+"H"+e+"V"+-e+"H"+3*e+"V"+e+"H"+e+"V"+3*e+"H"+-e+"V"+e+"H"+-3*e+"Z"},diamond:function(f){var e=Math.sqrt(f/(2*e6)),g=e*e6;return"M0,"+-e+"L"+g+",0 0,"+e+" "+-g+",0Z"},square:function(f){var e=Math.sqrt(f)/2;return"M"+-e+","+-e+"L"+e+","+-e+" "+e+","+e+" "+-e+","+e+"Z"},"triangle-down":function(f){var e=Math.sqrt(f/e8),g=e*e8/2;return"M0,"+g+"L"+e+","+-g+" "+-e+","+-g+"Z"},"triangle-up":function(f){var e=Math.sqrt(f/e8),g=e*e8/2;return"M0,"+-g+"L"+e+","+g+" "+-e+","+g+"Z"}});d3.svg.symbolTypes=f0.keys();var e8=Math.sqrt(3),e6=Math.tan(30*Math.PI/180);d3.svg.axis=function(){function l(a){a.each(function(){var S=d3.select(this),R=o==null?v.ticks?v.ticks.apply(v,p):v.domain():o,Q=n==null?v.tickFormat?v.tickFormat.apply(v,p):String:n,P=id(v,R,m),O=S.selectAll(".minor").data(P,String),N=O.enter().insert("line","g").attr("class","tick minor").style("opacity",0.000001),L=d3.transition(O.exit()).style("opacity",0.000001).remove(),J=d3.transition(O).style("opacity",1),H=S.selectAll("g").data(R,String),F=H.enter().insert("g","path").style("opacity",0.000001),i=d3.transition(H.exit()).style("opacity",0.000001).remove(),h=d3.transition(H).style("opacity",1),g,f=h5(v),e=S.selectAll(".domain").data([0]),b=e.enter().append("path").attr("class","domain"),M=d3.transition(e),K=v.copy(),I=this.__chart__||K;this.__chart__=K,F.append("line").attr("class","tick"),F.append("text"),h.select("text").text(Q);switch(u){case"bottom":g=e5,N.attr("y2",s),J.attr("x2",0).attr("y2",s),F.select("line").attr("y2",t),F.select("text").attr("y",Math.max(t,0)+q),h.select("line").attr("x2",0).attr("y2",t),h.select("text").attr("x",0).attr("y",Math.max(t,0)+q).attr("dy",".71em").attr("text-anchor","middle"),M.attr("d","M"+f[0]+","+r+"V0H"+f[1]+"V"+r);break;case"top":g=e5,N.attr("y2",-s),J.attr("x2",0).attr("y2",-s),F.select("line").attr("y2",-t),F.select("text").attr("y",-(Math.max(t,0)+q)),h.select("line").attr("x2",0).attr("y2",-t),h.select("text").attr("x",0).attr("y",-(Math.max(t,0)+q)).attr("dy","0em").attr("text-anchor","middle"),M.attr("d","M"+f[0]+","+-r+"V0H"+f[1]+"V"+-r);break;case"left":g=ih,N.attr("x2",-s),J.attr("x2",-s).attr("y2",0),F.select("line").attr("x2",-t),F.select("text").attr("x",-(Math.max(t,0)+q)),h.select("line").attr("x2",-t).attr("y2",0),h.select("text").attr("x",-(Math.max(t,0)+q)).attr("y",0).attr("dy",".32em").attr("text-anchor","end"),M.attr("d","M"+-r+","+f[0]+"H0V"+f[1]+"H"+-r);break;case"right":g=ih,N.attr("x2",s),J.attr("x2",s).attr("y2",0),F.select("line").attr("x2",t),F.select("text").attr("x",Math.max(t,0)+q),h.select("line").attr("x2",t).attr("y2",0),h.select("text").attr("x",Math.max(t,0)+q).attr("y",0).attr("dy",".32em").attr("text-anchor","start"),M.attr("d","M"+r+","+f[0]+"H0V"+f[1]+"H"+r)}if(v.ticks){F.call(g,I),h.call(g,K),i.call(g,K),N.call(g,I),J.call(g,K),L.call(g,K)}else{var G=K.rangeBand()/2,j=function(k){return K(k)+G};F.call(g,j),h.call(g,j)}})}var v=d3.scale.linear(),u="bottom",t=6,s=6,r=6,q=3,p=[10],o=null,n,m=0;return l.scale=function(a){return arguments.length?(v=a,l):v},l.orient=function(b){return arguments.length?(u=b,l):u},l.ticks=function(){return arguments.length?(p=arguments,l):p},l.tickValues=function(b){return arguments.length?(o=b,l):o},l.tickFormat=function(b){return arguments.length?(n=b,l):n},l.tickSize=function(h,e,j){if(!arguments.length){return t}var i=arguments.length-1;return t=+h,s=i>1?+e:t,r=i>0?+arguments[i]:t,l},l.tickPadding=function(b){return arguments.length?(q=+b,l):q},l.tickSubdivide=function(b){return arguments.length?(m=+b,l):m},l},d3.svg.brush=function(){function p(b){b.each(function(){var i=d3.select(this),k=i.selectAll(".background").data([0]),j=i.selectAll(".extent").data([0]),h=i.selectAll(".resize").data(s,String),g;i.style("pointer-events","all").on("mousedown.brush",l).on("touchstart.brush",l),k.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),j.enter().append("rect").attr("class","extent").style("cursor","move"),h.enter().append("g").attr("class",function(e){return"resize "+e}).style("cursor",function(e){return h8[e]}).append("rect").attr("x",function(e){return/[ew]$/.test(e)?-3:null}).attr("y",function(e){return/^[ns]/.test(e)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),h.style("display",p.empty()?"none":null),h.exit().remove(),u&&(g=h5(u),k.attr("x",g[0]).attr("width",g[1]-g[0]),n(i)),t&&(g=h5(t),k.attr("y",g[0]).attr("height",g[1]-g[0]),m(i)),o(i)})}function o(b){b.selectAll(".resize").attr("transform",function(e){return"translate("+r[+/e$/.test(e)][0]+","+r[+/^s/.test(e)][1]+")"})}function n(b){b.select(".extent").attr("x",r[0][0]),b.selectAll(".extent,.n>rect,.s>rect").attr("width",r[1][0]-r[0][0])}function m(b){b.select(".extent").attr("y",r[0][1]),b.selectAll(".extent,.e>rect,.w>rect").attr("height",r[1][1]-r[0][1])}function l(){function e(){var k=d3.event.changedTouches;return k?d3.touches(O,k)[0]:d3.mouse(O)}function b(){d3.event.keyCode==32&&(G||(E=null,j[0]-=r[1][0],j[1]-=r[1][1],G=2),iy())}function a(){d3.event.keyCode==32&&G==2&&(j[0]+=r[1][0],j[1]+=r[1][1],G=0,iy())}function H(){var k=e(),w=!1;i&&(k[0]+=i[0],k[1]+=i[1]),G||(d3.event.altKey?(E||(E=[(r[0][0]+r[1][0])/2,(r[0][1]+r[1][1])/2]),j[0]=r[+(k[0]<E[0])][0],j[1]=r[+(k[1]<E[1])][1]):E=null),J&&F(k,u,0)&&(n(L),w=!0),I&&F(k,t,1)&&(m(L),w=!0),w&&(o(L),M({type:"brush",mode:G?"move":"resize"}))}function F(R,Q,P){var C=h5(Q),B=C[0],A=C[1],z=j[P],y=r[1][P]-r[0][P],x,w;G&&(B-=z,A-=y+z),x=Math.max(B,Math.min(A,R[P])),G?w=(x+=z)+y:(E&&(z=Math.max(B,Math.min(A,2*E[P]-x))),z<x?(w=x,x=z):w=z);if(r[0][P]!==x||r[1][P]!==w){return q=null,r[0][P]=x,r[1][P]=w,!0}}function D(){H(),L.style("pointer-events","all").selectAll(".resize").style("display",p.empty()?"none":null),d3.select("body").style("cursor",null),h.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),M({type:"brushend"}),iy()}var O=this,N=d3.select(d3.event.target),M=v.of(O,arguments),L=d3.select(O),K=N.datum(),J=!/^(n|s)$/.test(K)&&u,I=!/^(e|w)$/.test(K)&&t,G=N.classed("extent"),E,j=e(),i,h=d3.select(window).on("mousemove.brush",H).on("mouseup.brush",D).on("touchmove.brush",H).on("touchend.brush",D).on("keydown.brush",b).on("keyup.brush",a);if(G){j[0]=r[0][0]-j[0],j[1]=r[0][1]-j[1]}else{if(K){var g=+/w$/.test(K),f=+/^n/.test(K);i=[r[1-g][0]-j[0],r[1-f][1]-j[1]],j[0]=r[g][0],j[1]=r[f][1]}else{d3.event.altKey&&(E=j.slice())}}L.style("pointer-events","none").selectAll(".resize").style("display",null),d3.select("body").style("cursor",N.style("cursor")),M({type:"brushstart"}),H(),iy()}var v=ir(p,"brushstart","brush","brushend"),u=null,t=null,s=h6[0],r=[[0,0],[0,0]],q;return p.x=function(b){return arguments.length?(u=b,s=h6[!u<<1|!t],p):u},p.y=function(b){return arguments.length?(t=b,s=h6[!u<<1|!t],p):t},p.extent=function(b){var x,w,g,f,e;return arguments.length?(q=[[0,0],[0,0]],u&&(x=b[0],w=b[1],t&&(x=x[0],w=w[0]),q[0][0]=x,q[1][0]=w,u.invert&&(x=u(x),w=u(w)),w<x&&(e=x,x=w,w=e),r[0][0]=x|0,r[1][0]=w|0),t&&(g=b[0],f=b[1],u&&(g=g[1],f=f[1]),q[0][1]=g,q[1][1]=f,t.invert&&(g=t(g),f=t(f)),f<g&&(e=g,g=f,f=e),r[0][1]=g|0,r[1][1]=f|0),p):(b=q||r,u&&(x=b[0][0],w=b[1][0],q||(x=r[0][0],w=r[1][0],u.invert&&(x=u.invert(x),w=u.invert(w)),w<x&&(e=x,x=w,w=e))),t&&(g=b[0][1],f=b[1][1],q||(g=r[0][1],f=r[1][1],t.invert&&(g=t.invert(g),f=t.invert(f)),f<g&&(e=g,g=f,f=e))),u&&t?[[x,g],[w,f]]:u?[x,w]:t&&[g,f])},p.clear=function(){return q=null,r[0][0]=r[0][1]=r[1][0]=r[1][1]=0,p},p.empty=function(){return u&&r[0][0]===r[1][0]||t&&r[0][1]===r[1][1]},d3.rebind(p,v,"on")};var h8={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},h6=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]];d3.behavior={},d3.behavior.drag=function(){function h(){this.on("mousedown.drag",g).on("touchstart.drag",g)}function g(){function o(){var j=v.parentNode,i=d3.event.changedTouches;return i?d3.touches(j,i)[0]:d3.mouse(j)}function n(){if(!v.parentNode){return b()}var j=o(),i=j[0]-r[0],k=j[1]-r[1];q|=i|k,r=j,iy(),u({type:"drag",x:j[0]+s[0],y:j[1]+s[1],dx:i,dy:k})}function b(){u({type:"dragend"}),q&&(iy(),d3.event.target===t&&p.on("click.drag",a,!0)),p.on("mousemove.drag",null).on("touchmove.drag",null).on("mouseup.drag",null).on("touchend.drag",null)}function a(){iy(),p.on("click.drag",null)}var v=this,u=f.of(v,arguments),t=d3.event.target,s,r=o(),q=0,p=d3.select(window).on("mousemove.drag",n).on("touchmove.drag",n).on("mouseup.drag",b,!0).on("touchend.drag",b,!0);e?(s=e.apply(v,arguments),s=[s.x-r[0],s.y-r[1]]):s=[0,0],u({type:"dragstart"})}var f=ir(h,"drag","dragstart","dragend"),e=null;return h.origin=function(b){return arguments.length?(e=b,h):e},d3.rebind(h,f,"on")},d3.behavior.zoom=function(){function I(){this.on("mousedown.zoom",C).on("mousewheel.zoom",B).on("mousemove.zoom",A).on("DOMMouseScroll.zoom",B).on("dblclick.zoom",z).on("touchstart.zoom",y).on("touchmove.zoom",x).on("touchend.zoom",y)}function H(a){return[(a[0]-T[0])/R,(a[1]-T[1])/R]}function G(a){return[a[0]*R+T[0],a[1]*R+T[1]]}function F(b){R=Math.max(P[0],Math.min(P[1],b))}function E(a,e){e=G(e),T[0]+=a[0]-e[0],T[1]+=a[1]-e[1]}function D(a){M&&M.domain(N.range().map(function(e){return(e-T[0])/R}).map(N.invert)),K&&K.domain(L.range().map(function(e){return(e-T[1])/R}).map(L.invert)),d3.event.preventDefault(),a({type:"zoom",scale:R,translate:T})}function C(){function l(){o=1,E(d3.mouse(r),m),D(q)}function k(){o&&iy(),n.on("mousemove.zoom",null).on("mouseup.zoom",null),o&&d3.event.target===p&&n.on("click.zoom",f)}function f(){iy(),n.on("click.zoom",null)}var r=this,q=O.of(r,arguments),p=d3.event.target,o=0,n=d3.select(window).on("mousemove.zoom",l).on("mouseup.zoom",k),m=H(d3.mouse(r));window.focus(),iy()}function B(){S||(S=H(d3.mouse(this))),F(Math.pow(2,hY()*0.002)*R),E(d3.mouse(this),S),D(O.of(this,arguments))}function A(){S=null}function z(){var f=d3.mouse(this),e=H(f);F(d3.event.shiftKey?R/2:R*2),E(f,e),D(O.of(this,arguments))}function y(){var b=d3.touches(this),j=Date.now();Q=R,S={},b.forEach(function(e){S[e.identifier]=H(e)}),iy();if(b.length===1&&j-J<500){var i=b[0],f=H(b[0]);F(R*2),E(i,f),D(O.of(this,arguments))}J=j}function x(){var b=d3.touches(this),k=b[0],j=S[k.identifier];if(i=b[1]){var i,f=S[i.identifier];k=[(k[0]+i[0])/2,(k[1]+i[1])/2],j=[(j[0]+f[0])/2,(j[1]+f[1])/2],F(d3.event.scale*Q)}E(k,j),D(O.of(this,arguments))}var T=[0,0],S,R=1,Q,P=h0,O=ir(I,"zoom"),N,M,L,K,J;return I.translate=function(a){return arguments.length?(T=a.map(Number),I):T},I.scale=function(b){return arguments.length?(R=+b,I):R},I.scaleExtent=function(b){return arguments.length?(P=b==null?h0:b.map(Number),I):P},I.x=function(b){return arguments.length?(M=b,N=b.copy(),I):M},I.y=function(b){return arguments.length?(K=b,L=b.copy(),I):K},d3.rebind(I,O,"on")};var h3,h0=[0,Infinity];d3.layout={},d3.layout.bundle=function(){return function(f){var e=[],h=-1,g=f.length;while(++h<g){e.push(hV(f[h]))}return e}},d3.layout.chord=function(){function m(){var C={},z=[],k=d3.range(r),i=[],h,g,f,e,b;u=[],t=[],h=0,e=-1;while(++e<r){g=0,b=-1;while(++b<r){g+=s[e][b]}z.push(g),i.push(d3.range(r)),h+=g}p&&k.sort(function(w,j){return p(z[w],z[j])}),o&&i.forEach(function(w,j){w.sort(function(x,y){return o(s[j][x],s[j][y])})}),h=(2*Math.PI-q*r)/h,g=0,e=-1;while(++e<r){f=g,b=-1;while(++b<r){var H=k[e],G=i[H][b],F=s[H][G],E=g,D=g+=F*h;C[H+"-"+G]={index:H,subindex:G,startAngle:E,endAngle:D,value:F}}t.push({index:H,startAngle:f,endAngle:g,value:(g-f)/h}),g+=q}e=-1;while(++e<r){b=e-1;while(++b<r){var B=C[e+"-"+b],A=C[b+"-"+e];(B.value||A.value)&&u.push(B.value<A.value?{source:A,target:B}:{source:B,target:A})}}n&&l()}function l(){u.sort(function(f,e){return n((f.source.value+f.target.value)/2,(e.source.value+e.target.value)/2)})}var v={},u,t,s,r,q=0,p,o,n;return v.matrix=function(a){return arguments.length?(r=(s=a)&&s.length,u=t=null,v):s},v.padding=function(a){return arguments.length?(q=a,u=t=null,v):q},v.sortGroups=function(a){return arguments.length?(p=a,u=t=null,v):p},v.sortSubgroups=function(a){return arguments.length?(o=a,u=null,v):o},v.sortChords=function(a){return arguments.length?(n=a,u&&l(),v):n},v.chords=function(){return u||m(),u},v.groups=function(){return t||m(),t},v},d3.layout.force=function(){function u(b){return function(r,q,p,o,n){if(r.point!==b){var m=r.cx-b.x,l=r.cy-b.y,k=1/Math.sqrt(m*m+l*l);if((o-q)*k<B){var a=r.charge*k*k;return b.px-=m*a,b.py-=l*a,!0}if(r.point&&isFinite(k)){var a=r.pointCharge*k*k;b.px-=m*a,b.py-=l*a}}return !r.charge}}function t(a){hG(hI=a),hL=L}var L={},K=d3.dispatch("start","tick","end"),J=[1,1],I,H,G=0.9,F=hr,E=ho,D=-30,C=0.1,B=0.8,A,z=[],y=[],x,w,v;return L.tick=function(){if((H*=0.99)<0.005){return K.end({type:"end",alpha:H=0}),!0}var m=z.length,j=y.length,i,f,e,b,r,q,p,o,n;for(f=0;f<j;++f){e=y[f],b=e.source,r=e.target,o=r.x-b.x,n=r.y-b.y;if(q=o*o+n*n){q=H*w[f]*((q=Math.sqrt(q))-x[f])/q,o*=q,n*=q,r.x-=o*(p=b.weight/(r.weight+b.weight)),r.y-=n*p,b.x+=o*(p=1-p),b.y+=n*p}}if(p=H*C){o=J[0]/2,n=J[1]/2,f=-1;if(p){while(++f<m){e=z[f],e.x+=(o-e.x)*p,e.y+=(n-e.y)*p}}}if(D){hu(i=d3.geom.quadtree(z),H,v),f=-1;while(++f<m){(e=z[f]).fixed||i.visit(u(e))}}f=-1;while(++f<m){e=z[f],e.fixed?(e.x=e.px,e.y=e.py):(e.x-=(e.px-(e.px=e.x))*G,e.y-=(e.py-(e.py=e.y))*G)}K.tick({type:"tick",alpha:H})},L.nodes=function(a){return arguments.length?(z=a,L):z},L.links=function(a){return arguments.length?(y=a,L):y},L.size=function(a){return arguments.length?(J=a,L):J},L.linkDistance=function(a){return arguments.length?(F=d3.functor(a),L):F},L.distance=L.linkDistance,L.linkStrength=function(a){return arguments.length?(E=d3.functor(a),L):E},L.friction=function(a){return arguments.length?(G=a,L):G},L.charge=function(a){return arguments.length?(D=typeof a=="function"?a:+a,L):D},L.gravity=function(a){return arguments.length?(C=a,L):C},L.theta=function(a){return arguments.length?(B=a,L):B},L.alpha=function(a){return arguments.length?(H?a>0?H=a:H=0:a>0&&(K.start({type:"start",alpha:H=a}),d3.timer(L.tick)),L):H},L.start=function(){function M(b,s){var r=q(p),l=-1,k=r.length,j;while(++l<k){if(!isNaN(j=r[l][b])){return j}}return Math.random()*s}function q(){if(!g){g=[];for(o=0;o<n;++o){g[o]=[]}for(o=0;o<m;++o){var b=y[o];g[b.source.index].push(b.target),g[b.target.index].push(b.source)}}return g[p]}var p,o,n=z.length,m=y.length,i=J[0],h=J[1],g,a;for(p=0;p<n;++p){(a=z[p]).index=p,a.weight=0}x=[],w=[];for(p=0;p<m;++p){a=y[p],typeof a.source=="number"&&(a.source=z[a.source]),typeof a.target=="number"&&(a.target=z[a.target]),x[p]=F.call(this,a,p),w[p]=E.call(this,a,p),++a.source.weight,++a.target.weight}for(p=0;p<n;++p){a=z[p],isNaN(a.x)&&(a.x=M("x",i)),isNaN(a.y)&&(a.y=M("y",h)),isNaN(a.px)&&(a.px=a.x),isNaN(a.py)&&(a.py=a.y)}v=[];if(typeof D=="function"){for(p=0;p<n;++p){v[p]=+D.call(this,z[p],p)}}else{for(p=0;p<n;++p){v[p]=D}}return L.resume()},L.resume=function(){return L.alpha(0.1)},L.stop=function(){return L.alpha(0)},L.drag=function(){I||(I=d3.behavior.drag().origin(Object).on("dragstart",t).on("drag",hx).on("dragend",hA)),this.on("mouseover.force",hG).on("mouseout.force",hD).call(I)},d3.rebind(L,K,"on")};var hL,hI;d3.layout.partition=function(){function j(s,r,q,p){var o=s.children;s.x=r,s.y=s.depth*p,s.dx=q,s.dy=p;if(o&&(m=o.length)){var n=-1,m,l,k;q=s.value?q/s.value:0;while(++n<m){j(l=o[n],r,k=l.value*q,p),r+=k}}}function i(l){var k=l.children,o=0;if(k&&(m=k.length)){var n=-1,m;while(++n<m){o=Math.max(o,i(k[n]))}}return 1+o}function h(k,b){var a=g.call(this,k,b);return j(a[0],0,f[0],f[1]/i(a[0])),a}var g=d3.layout.hierarchy(),f=[1,1];return h.size=function(b){return arguments.length?(f=b,h):f},d1(h,g)},d3.layout.pie=function(){function i(p,o){var n=p.map(function(l,m){return +h.call(i,l,m)}),f=+(typeof k=="function"?k.apply(this,arguments):k),e=((typeof j=="function"?j.apply(this,arguments):j)-k)/d3.sum(n),b=d3.range(p.length);g!=null&&b.sort(g===hk?function(m,l){return n[l]-n[m]}:function(l,m){return g(p[l],p[m])});var a=[];return b.forEach(function(l){a[l]={data:p[l],value:d=n[l],startAngle:f,endAngle:f+=d*e}}),a}var h=Number,g=hk,k=0,j=2*Math.PI;return i.value=function(a){return arguments.length?(h=a,i):h},i.sort=function(b){return arguments.length?(g=b,i):g},i.startAngle=function(b){return arguments.length?(k=b,i):k},i.endAngle=function(b){return arguments.length?(j=b,i):j},i};var hk={};d3.layout.stack=function(){function j(x,w){var v=x.map(function(o,p){return i.call(j,o,p)}),u=v.map(function(p,o){return p.map(function(r,q){return[l.call(j,r,q),k.call(j,r,q)]})}),t=h.call(j,u,w);v=d3.permute(v,t),u=d3.permute(u,t);var s=n.call(j,u,w),g=v.length,f=v[0].length,e,b,a;for(b=0;b<f;++b){m.call(j,v[0][b],a=s[b],u[0][b][1]);for(e=1;e<g;++e){m.call(j,v[e][b],a+=u[e-1][b][1],u[e][b][1])}}return x}var i=Object,h=g3,n=jv,m=hc,l=hi,k=hf;return j.values=function(a){return arguments.length?(i=a,j):i},j.order=function(b){return arguments.length?(h=typeof b=="function"?b:g8.get(b)||g3,j):h},j.offset=function(b){return arguments.length?(n=typeof b=="function"?b:g5.get(b)||jv,j):n},j.x=function(b){return arguments.length?(l=b,j):l},j.y=function(b){return arguments.length?(k=b,j):k},j.out=function(b){return arguments.length?(m=b,j):m},j};var g8=d3.map({"inside-out":function(v){var u=v.length,t,s,r=v.map(g0),q=v.map(e1),p=d3.range(u).sort(function(f,e){return r[f]-r[e]}),o=0,n=0,m=[],l=[];for(t=0;t<u;++t){s=p[t],o<n?(o+=q[s],m.push(s)):(n+=q[s],l.push(s))}return l.reverse().concat(m)},reverse:function(b){return d3.range(b.length).reverse()},"default":g3}),g5=d3.map({silhouette:function(r){var q=r.length,p=r[0].length,o=[],n=0,m,l,k,j=[];for(l=0;l<p;++l){for(m=0,k=0;m<q;m++){k+=r[m][l][1]}k>n&&(n=k),o.push(k)}for(l=0;l<p;++l){j[l]=(n-o[l])/2}return j},wiggle:function(D){var C=D.length,B=D[0],A=B.length,z=0,y,x,w,v,u,t,s,r,q,p=[];p[0]=r=q=0;for(x=1;x<A;++x){for(y=0,v=0;y<C;++y){v+=D[y][x][1]}for(y=0,u=0,s=B[x][0]-B[x-1][0];y<C;++y){for(w=0,t=(D[y][x][1]-D[y][x-1][1])/(2*s);w<y;++w){t+=(D[w][x][1]-D[w][x-1][1])/s}u+=t*D[y][x][1]}p[x]=r-=v?u/v*s:0,r<q&&(q=r)}for(x=0;x<A;++x){p[x]-=q}return p},expand:function(j){var i=j.length,p=j[0].length,o=1/i,n,m,l,k=[];for(m=0;m<p;++m){for(n=0,l=0;n<i;n++){l+=j[n][m][1]}if(l){for(n=0;n<i;n++){j[n][m][1]/=l}}else{for(n=0;n<i;n++){j[n][m][1]=o}}}for(m=0;m<p;++m){k[m]=0}return k},zero:jv});d3.layout.histogram=function(){function h(x,w){var v=[],u=x.map(f,this),t=j.call(this,u,w),s=i.call(this,t,u,w),r,w=-1,q=u.length,p=s.length-1,b=g?1:1/q,a;while(++w<p){r=v[w]=[],r.dx=s[w+1]-(r.x=s[w]),r.y=0}w=-1;while(++w<q){a=u[w],a>=t[0]&&a<=t[1]&&(r=v[d3.bisect(s,a,1,p)-1],r.y+=b,r.push(x[w]))}return v}var g=!0,f=Number,j=d4,i=d7;return h.value=function(b){return arguments.length?(f=b,h):f},h.range=function(b){return arguments.length?(j=d3.functor(b),h):j},h.bins=function(b){return arguments.length?(i=typeof b=="number"?function(a){return d6(a,b)}:d3.functor(b),h):i},h.frequency=function(a){return arguments.length?(g=!!a,h):g},h},d3.layout.hierarchy=function(){function l(v,u,t){var s=h.call(j,v,u),r=c0?v:{data:v};r.depth=u,t.push(r);if(s&&(g=s.length)){var q=-1,g,e=r.children=[],b=0,a=u+1;while(++q<g){d=l(s[q],a,t),d.parent=r,e.push(d),b+=d.value}i&&e.sort(i),m&&(r.value=b)}else{m&&(r.value=+m.call(j,v,u)||0)}return r}function k(g,f){var r=g.children,q=0;if(r&&(o=r.length)){var p=-1,o,n=f+1;while(++p<o){q+=k(r[p],n)}}else{m&&(q=+m.call(j,c0?g:g.data,f)||0)}return m&&(g.value=q),q}function j(f){var e=[];return l(f,0,e),e}var i=c4,h=c8,m=c6;return j.sort=function(a){return arguments.length?(i=a,j):i},j.children=function(b){return arguments.length?(h=b,j):h},j.value=function(b){return arguments.length?(m=b,j):m},j.revalue=function(b){return k(b,0),b},j};var c0=!1;d3.layout.pack=function(){function g(n,m){var l=f.call(this,n,m),k=l[0];k.x=0,k.y=0,a5(k);var j=e[0],b=e[1],a=1/Math.max(2*k.r/j,2*k.r/b);return a2(k,j/2,b/2,a),l}var f=d3.layout.hierarchy().sort(b8),e=[1,1];return g.size=function(b){return arguments.length?(e=b,g):e},d1(g,f)},d3.layout.cluster=function(){function g(y,x){var w=f.call(this,y,x),v=w[0],u,t=0,s,r;gN(v,function(i){var j=i.children;j&&j.length?(i.x=aX(j),i.y=aY(j)):(i.x=u?t+=e(i,u):0,i.y=0,u=i)});var q=aU(v),p=aS(v),b=q.x-e(q,p)/2,a=p.x+e(p,q)/2;return gN(v,function(i){i.x=(i.x-b)/(a-b)*h[0],i.y=(1-(v.y?i.y/v.y:1))*h[1]}),w}var f=d3.layout.hierarchy().sort(null).value(null),e=aR,h=[1,1];return g.separation=function(b){return arguments.length?(e=b,g):e},g.size=function(b){return arguments.length?(h=b,g):h},d1(g,f)},d3.layout.tree=function(){function g(A,z){function w(I,H){var G=I.children,F=I._tree;if(G&&(E=G.length)){var E,D=G[0],C,B=D,p,o=-1;while(++o<E){p=G[o],w(p,C),B=u(p,C,B),C=p}gL(I);var j=0.5*(D._tree.prelim+p._tree.prelim);H?(F.prelim=H._tree.prelim+e(I,H),F.mod=F.prelim-j):F.prelim=j}else{H&&(F.prelim=H._tree.prelim+e(I,H))}}function v(j,i){j.x=j._tree.prelim+i;var m=j.children;if(m&&(k=m.length)){var l=-1,k;i+=j._tree.mod;while(++l<k){v(m[l],i)}}}function u(J,I,H){if(I){var G=J,F=J,E=I,D=J.parent.children[0],C=G._tree.mod,B=F._tree.mod,p=E._tree.mod,o=D._tree.mod,n;while(E=gY(E),G=gZ(G),E&&G){D=gZ(D),F=gY(F),F._tree.ancestor=J,n=E._tree.prelim+p-G._tree.prelim-C+e(E,G),n>0&&(gJ(gH(E,J,H),J,n),C+=n,B+=n),p+=E._tree.mod,C+=G._tree.mod,o+=D._tree.mod,B+=F._tree.mod}E&&!gY(F)&&(F._tree.thread=E,F._tree.mod+=p-B),G&&!gZ(D)&&(D._tree.thread=G,D._tree.mod+=C-o,H=J)}return H}var y=f.call(this,A,z),x=y[0];gN(x,function(j,i){j._tree={ancestor:j,prelim:0,mod:0,change:0,shift:0,number:i?i._tree.number+1:0}}),w(x),v(x,-x._tree.prelim);var t=gV(x,gR),s=gV(x,gT),r=gV(x,gP),q=t.x-e(t,s)/2,b=s.x+e(s,t)/2,a=r.depth||1;return gN(x,function(i){i.x=(i.x-q)/(b-q)*h[0],i.y=i.depth/a*h[1],delete i._tree}),y}var f=d3.layout.hierarchy().sort(null).value(null),e=aR,h=[1,1];return g.separation=function(b){return arguments.length?(e=b,g):e},g.size=function(b){return arguments.length?(h=b,g):h},d1(g,f)},d3.layout.treemap=function(){function t(h,g){var l=-1,k=h.length,j,i;while(++l<k){i=(j=h[l]).value*(g<0?0:g),j.area=isNaN(i)||i<=0?0:i}}function s(G){var F=G.children;if(F&&F.length){var E=x(G),D=[],C=F.slice(),m,l=Infinity,j,i=Math.min(E.dx,E.dy),e;t(C,E.dx*E.dy/G.value),D.area=0;while((e=C.length)>0){D.push(m=C[e-1]),D.area+=m.area,(j=q(D,i))<=l?(C.pop(),l=j):(D.area-=D.pop().area,p(D,i,E,!1),i=Math.min(E.dx,E.dy),D.length=D.area=0,l=Infinity)}D.length&&(p(D,i,E,!0),D.length=D.area=0),F.forEach(s)}}function r(h){var e=h.children;if(e&&e.length){var l=x(h),k=e.slice(),j,i=[];t(k,l.dx*l.dy/h.value),i.area=0;while(j=k.pop()){i.push(j),i.area+=j.area,j.z!=null&&(p(i,j.z?l.dx:l.dy,l,!k.length),i.length=i.area=0)}e.forEach(r)}}function q(j,h){var D=j.area,C,n=0,m=Infinity,l=-1,k=j.length;while(++l<k){if(!(C=j[l].area)){continue}C<m&&(m=C),C>n&&(n=C)}return D*=D,h*=h,D?Math.max(h*n*u/D,D/(h*m*u)):Infinity}function p(H,G,F,E){var D=-1,C=H.length,n=F.x,m=F.y,l=G?A(H.area/G):0,b;if(G==F.dx){if(E||l>F.dy){l=F.dy}while(++D<C){b=H[D],b.x=n,b.y=m,b.dy=l,n+=b.dx=Math.min(F.x+F.dx-n,l?A(b.area/l):0)}b.z=!0,b.dx+=F.x+F.dx-n,F.y+=l,F.dy-=l}else{if(E||l>F.dx){l=F.dx}while(++D<C){b=H[D],b.x=n,b.y=m,b.dx=l,m+=b.dy=Math.min(F.y+F.dy-m,l?A(b.area/l):0)}b.z=!1,b.dy+=F.y+F.dy-m,F.x+=l,F.dx-=l}}function o(a){var g=v||B(a),f=g[0];return f.x=0,f.y=0,f.dx=z[0],f.dy=z[1],v&&B.revalue(f),t([f],f.dx*f.dy/f.value),(v?r:s)(f),w&&(v=g),g}var B=d3.layout.hierarchy(),A=Math.round,z=[1,1],y=null,x=gF,w=!1,v,u=0.5*(1+Math.sqrt(5));return o.size=function(b){return arguments.length?(z=b,o):z},o.padding=function(g){function e(a){var f=g.call(o,a,a.depth);return f==null?gF(a):gD(a,typeof f=="number"?[f,f,f,f]:f)}function i(a){return gD(a,g)}if(!arguments.length){return y}var h;return x=(y=g)==null?gF:(h=typeof g)==="function"?e:h==="number"?(g=[g,g,g,g],i):i,o},o.round=function(b){return arguments.length?(A=b?Math.round:Number,o):A!=Number},o.sticky=function(b){return arguments.length?(w=b,v=null,o):w},o.ratio=function(b){return arguments.length?(u=b,o):u},d1(o,B)},d3.csv=function(f,e){d3.text(f,"text/csv",function(b){e(b&&d3.csv.parse(b))})},d3.csv.parse=function(f){var e;return d3.csv.parseRows(f,function(b,j){if(j){var i={},h=-1,g=e.length;while(++h<g){i[e[h]]=b[h]}return i}return e=b,null})},d3.csv.parseRows=function(v,u){function m(){if(q.lastIndex>=v.length){return s}if(n){return n=!1,t}var a=q.lastIndex;if(v.charCodeAt(a)===34){var j=a;while(j++<v.length){if(v.charCodeAt(j)===34){if(v.charCodeAt(j+1)!==34){break}j++}}q.lastIndex=j+2;var i=v.charCodeAt(j+1);return i===13?(n=!0,v.charCodeAt(j+2)===10&&q.lastIndex++):i===10&&(n=!0),v.substring(a+1,j).replace(/""/g,'"')}var f=q.exec(v);return f?(n=f[0].charCodeAt(0)!==44,v.substring(a,f.index)):(q.lastIndex=v.length,v.substring(a))}var t={},s={},r=[],q=/\r\n|[,\r\n]/g,p=0,o,n;q.lastIndex=0;while((o=m())!==s){var l=[];while(o!==t&&o!==s){l.push(o),o=m()}if(u&&!(l=u(l,p++))){continue}r.push(l)}return r},d3.csv.format=function(b){return b.map(gB).join("\n")},d3.geo={};var gw=Math.PI/180;d3.geo.azimuthal=function(){function j(z){var y=z[0]*gw-n,x=z[1]*gw,w=Math.cos(y),v=Math.sin(y),u=Math.cos(x),t=Math.sin(x),s=r!=="orthographic"?k*t+l*u*w:null,h,g=r==="stereographic"?1/(1+s):r==="gnomonic"?1/s:r==="equidistant"?(h=Math.acos(s),h?h/Math.sin(h):0):r==="equalarea"?Math.sqrt(2/(1+s)):1,e=g*u*v,a=g*(k*u*w-l*t);return[p*e+o[0],p*a+o[1]]}var r="orthographic",q,p=200,o=[480,250],n,m,l,k;return j.invert=function(e){var u=(e[0]-o[0])/p,t=(e[1]-o[1])/p,s=Math.sqrt(u*u+t*t),h=r==="stereographic"?2*Math.atan(s):r==="gnomonic"?Math.atan(s):r==="equidistant"?s:r==="equalarea"?2*Math.asin(0.5*s):Math.asin(s),g=Math.sin(h),a=Math.cos(h);return[(n+Math.atan2(u*g,s*l*a+t*k*g))/gw,Math.asin(a*k-(s?t*g*l/s:0))/gw]},j.mode=function(a){return arguments.length?(r=a+"",j):r},j.origin=function(b){return arguments.length?(q=b,n=q[0]*gw,m=q[1]*gw,l=Math.cos(m),k=Math.sin(m),j):q},j.scale=function(b){return arguments.length?(p=+b,j):p},j.translate=function(b){return arguments.length?(o=[+b[0],+b[1]],j):o},j.origin([0,0])},d3.geo.albers=function(){function l(f){var e=o*(gw*f[0]-p),g=Math.sqrt(n-2*o*Math.sin(gw*f[1]))/o;return[r*g*Math.sin(e)+q[0],r*(g*Math.cos(e)-m)+q[1]]}function k(){var g=gw*s[0],f=gw*s[1],e=gw*t[1],b=Math.sin(g),a=Math.cos(g);return p=gw*t[0],o=0.5*(b+Math.sin(f)),n=a*a+2*o*b,m=Math.sqrt(n-2*o*Math.sin(e))/o,l}var t=[-98,38],s=[29.5,45.5],r=1000,q=[480,250],p,o,n,m;return l.invert=function(g){var e=(g[0]-q[0])/r,v=(g[1]-q[1])/r,u=m+v,h=Math.atan2(e,u),f=Math.sqrt(e*e+u*u);return[(p+h/o)/gw,Math.asin((n-f*f*o*o)/(2*o))/gw]},l.origin=function(a){return arguments.length?(t=[+a[0],+a[1]],k()):t},l.parallels=function(b){return arguments.length?(s=[+b[0],+b[1]],k()):s},l.scale=function(b){return arguments.length?(r=+b,l):r},l.translate=function(b){return arguments.length?(q=[+b[0],+b[1]],l):q},k()},d3.geo.albersUsa=function(){function h(k){var b=k[0],a=k[1];return(a>50?f:b<-140?j:a<21?i:g)(k)}var g=d3.geo.albers(),f=d3.geo.albers().origin([-160,60]).parallels([55,65]),j=d3.geo.albers().origin([-160,20]).parallels([8,18]),i=d3.geo.albers().origin([-60,10]).parallels([8,18]);return h.scale=function(a){return arguments.length?(g.scale(a),f.scale(a*0.6),j.scale(a),i.scale(a*1.5),h.translate(g.translate())):g.scale()},h.translate=function(k){if(!arguments.length){return g.translate()}var e=g.scale()/1000,b=k[0],a=k[1];return g.translate(k),f.translate([b-400*e,a+170*e]),j.translate([b-190*e,a+200*e]),i.translate([b+580*e,a+430*e]),h},h.scale(g.scale())},d3.geo.bonne=function(){function j(o){var f=o[0]*gw-n,e=o[1]*gw-m;if(l){var b=k+l-e,a=f*Math.cos(e)/b;f=b*Math.sin(a),e=b*Math.cos(a)-k}else{f*=Math.cos(e),e*=-1}return[i*f+h[0],i*e+h[1]]}var i=200,h=[480,250],n,m,l,k;return j.invert=function(o){var f=(o[0]-h[0])/i,e=(o[1]-h[1])/i;if(l){var b=k+e,a=Math.sqrt(f*f+b*b);e=k+l-a,f=n+a*Math.atan2(f,b)/Math.cos(e)}else{e*=-1,f/=Math.cos(e)}return[f/gw,e/gw]},j.parallel=function(b){return arguments.length?(k=1/Math.tan(l=b*gw),j):l/gw},j.origin=function(b){return arguments.length?(n=b[0]*gw,m=b[1]*gw,j):[n/gw,m/gw]},j.scale=function(a){return arguments.length?(i=+a,j):i},j.translate=function(b){return arguments.length?(h=[+b[0],+b[1]],j):h},j.origin([0,0]).parallel(45)},d3.geo.equirectangular=function(){function g(h){var b=h[0]/360,a=-h[1]/360;return[f*b+e[0],f*a+e[1]]}var f=500,e=[480,250];return g.invert=function(h){var b=(h[0]-e[0])/f,a=(h[1]-e[1])/f;return[360*b,-360*a]},g.scale=function(a){return arguments.length?(f=+a,g):f},g.translate=function(b){return arguments.length?(e=[+b[0],+b[1]],g):e},g},d3.geo.mercator=function(){function g(h){var b=h[0]/360,a=-(Math.log(Math.tan(Math.PI/4+h[1]*gw/2))/gw)/360;return[f*b+e[0],f*Math.max(-0.5,Math.min(0.5,a))+e[1]]}var f=500,e=[480,250];return g.invert=function(h){var b=(h[0]-e[0])/f,a=(h[1]-e[1])/f;return[360*b,2*Math.atan(Math.exp(-360*a*gw))/gw-90]},g.scale=function(a){return arguments.length?(f=+a,g):f},g.translate=function(b){return arguments.length?(e=[+b[0],+b[1]],g):e},g},d3.geo.path=function(){function s(b,a){return typeof v=="function"&&(u=gu(v.apply(this,arguments))),q(b)||null}function r(b){return t(b).join(",")}function o(f){var e=l(f[0]),h=0,g=f.length;while(++h<g){e-=l(f[h])}return e}function n(D){var C=d3.geom.polygon(D[0].map(t)),B=C.area(),A=C.centroid(B<0?(B*=-1,1):-1),z=A[0],y=A[1],x=B,w=0,k=D.length;while(++w<k){C=d3.geom.polygon(D[w].map(t)),B=C.area(),A=C.centroid(B<0?(B*=-1,1):-1),z-=A[0],y-=A[1],x-=B}return[z,y,6*x]}function l(b){return Math.abs(d3.geom.polygon(b.map(t)).area())}var v=4.5,u=gu(v),t=d3.geo.albersUsa(),q=gv({FeatureCollection:function(g){var f=[],j=g.features,i=-1,h=j.length;while(++i<h){f.push(q(j[i].geometry))}return f.join("")},Feature:function(b){return q(b.geometry)},Point:function(b){return"M"+r(b.coordinates)+u},MultiPoint:function(b){var j=[],i=b.coordinates,h=-1,e=i.length;while(++h<e){j.push("M",r(i[h]),u)}return j.join("")},LineString:function(g){var e=["M"],j=g.coordinates,i=-1,h=j.length;while(++i<h){e.push(r(j[i]),"L")}return e.pop(),e.join("")},MultiLineString:function(j){var e=[],A=j.coordinates,z=-1,y=A.length,x,w,k;while(++z<y){x=A[z],w=-1,k=x.length,e.push("M");while(++w<k){e.push(r(x[w]),"L")}e.pop()}return e.join("")},Polygon:function(j){var e=[],A=j.coordinates,z=-1,y=A.length,x,w,k;while(++z<y){x=A[z],w=-1;if((k=x.length-1)>0){e.push("M");while(++w<k){e.push(r(x[w]),"L")}e[e.length-1]="Z"}}return e.join("")},MultiPolygon:function(F){var E=[],D=F.coordinates,C=-1,B=D.length,A,z,y,x,w,e;while(++C<B){A=D[C],z=-1,y=A.length;while(++z<y){x=A[z],w=-1;if((e=x.length-1)>0){E.push("M");while(++w<e){E.push(r(x[w]),"L")}E[E.length-1]="Z"}}}return E.join("")},GeometryCollection:function(g){var f=[],j=g.geometries,i=-1,h=j.length;while(++i<h){f.push(q(j[i]))}return f.join("")}}),p=s.area=gv({FeatureCollection:function(g){var f=0,j=g.features,i=-1,h=j.length;while(++i<h){f+=p(j[i])}return f},Feature:function(b){return p(b.geometry)},Polygon:function(b){return o(b.coordinates)},MultiPolygon:function(g){var f=0,j=g.coordinates,i=-1,h=j.length;while(++i<h){f+=o(j[i])}return f},GeometryCollection:function(g){var f=0,j=g.geometries,i=-1,h=j.length;while(++i<h){f+=p(j[i])}return f}},0),m=s.centroid=gv({Feature:function(b){return m(b.geometry)},Polygon:function(f){var e=n(f.coordinates);return[e[0]/e[2],e[1]/e[2]]},MultiPolygon:function(C){var B=0,A=C.coordinates,z,y=0,x=0,w=0,k=-1,i=A.length;while(++k<i){z=n(A[k]),y+=z[0],x+=z[1],w+=z[2]}return[y/w,x/w]}});return s.projection=function(b){return t=b,s},s.pointRadius=function(a){return typeof a=="function"?v=a:(v=+a,u=gu(v)),s},s},d3.geo.bounds=function(g){var f=Infinity,j=Infinity,i=-Infinity,h=-Infinity;return gs(g,function(b,e){b<f&&(f=b),b>i&&(i=b),e<j&&(j=e),e>h&&(h=e)}),[[f,j],[i,h]]};var gp={Feature:f9,FeatureCollection:f7,GeometryCollection:f5,LineString:f3,MultiLineString:f1,MultiPoint:f3,MultiPolygon:e9,Point:e7,Polygon:ib};d3.geo.circle=function(){function n(){}function m(b){return o.distance(b)<p}function k(z){var y=-1,x=z.length,w=[],v,u,t,s,i;while(++y<x){i=o.distance(t=z[y]),i<p?(u&&w.push(aO(u,t)((s-p)/(s-i))),w.push(t),v=u=null):(u=t,!v&&w.length&&(w.push(aO(w[w.length-1],u)((p-s)/(i-s))),v=u)),s=i}return u&&w.length&&(i=o.distance(t=w[0]),w.push(aO(u,t)((s-p)/(s-i)))),j(w)}function j(t){var s=0,z=t.length,y,x,w=z?[t[0]]:t,v,u=o.source();while(++s<z){v=o.source(t[s-1])(t[s]).coordinates;for(y=0,x=v.length;++y<x;){w.push(v[y])}}return o.source(u),w}var r=[0,0],q=89.99,p=q*gw,o=d3.geo.greatArc().target(Object);n.clip=function(a){return o.source(typeof r=="function"?r.apply(this,arguments):r),l(a)};var l=gv({FeatureCollection:function(f){var e=f.features.map(l).filter(Object);return e&&(f=Object.create(f),f.features=e,f)},Feature:function(f){var e=l(f.geometry);return e&&(f=Object.create(f),f.geometry=e,f)},Point:function(b){return m(b.coordinates)&&b},MultiPoint:function(f){var e=f.coordinates.filter(m);return e.length&&{type:f.type,coordinates:e}},LineString:function(f){var e=k(f.coordinates);return e.length&&(f=Object.create(f),f.coordinates=e,f)},MultiLineString:function(f){var e=f.coordinates.map(k).filter(function(b){return b.length});return e.length&&(f=Object.create(f),f.coordinates=e,f)},Polygon:function(f){var e=f.coordinates.map(k);return e[0].length&&(f=Object.create(f),f.coordinates=e,f)},MultiPolygon:function(f){var e=f.coordinates.map(function(b){return b.map(k)}).filter(function(b){return b[0].length});return e.length&&(f=Object.create(f),f.coordinates=e,f)},GeometryCollection:function(f){var e=f.geometries.map(l).filter(Object);return e.length&&(f=Object.create(f),f.geometries=e,f)}});return n.origin=function(a){return arguments.length?(r=a,n):r},n.angle=function(b){return arguments.length?(p=(q=+b)*gw,n):q},n.precision=function(b){return arguments.length?(o.precision(b),n):o.precision()},n},d3.geo.greatArc=function(){function g(){var m=typeof f=="function"?f.apply(this,arguments):f,l=typeof e=="function"?e.apply(this,arguments):e,k=aO(m,l),j=h/k.d,b=0,a=[m];while((b+=j)<1){a.push(k(b))}return a.push(l),{type:"LineString",coordinates:a}}var f=e4,e=aP,h=6*gw;return g.distance=function(){var b=typeof f=="function"?f.apply(this,arguments):f,a=typeof e=="function"?e.apply(this,arguments):e;return aO(b,a).d},g.source=function(a){return arguments.length?(f=a,g):f},g.target=function(b){return arguments.length?(e=b,g):e},g.precision=function(b){return arguments.length?(h=b*gw,g):h/gw},g},d3.geo.greatCircle=d3.geo.circle,d3.geom={},d3.geom.contour=function(v,u){var t=u||aL(v),s=[],r=t[0],q=t[1],p=0,o=0,n=NaN,m=NaN,l=0;do{l=0,v(r-1,q-1)&&(l+=1),v(r,q-1)&&(l+=2),v(r-1,q)&&(l+=4),v(r,q)&&(l+=8),l===6?(p=m===-1?-1:1,o=0):l===9?(p=0,o=n===1?-1:1):(p=aN[l],o=aM[l]),p!=n&&o!=m&&(s.push([r,q]),n=p,m=o),r+=p,q+=o}while(t[0]!=r||t[1]!=q);return s};var aN=[1,0,1,1,-1,0,-1,1,0,0,0,0,-1,0,-1,NaN],aM=[0,-1,0,0,0,-1,0,0,1,-1,1,1,0,-1,0,NaN];d3.geom.hull=function(H){if(H.length<3){return[]}var G=H.length,F=G-1,E=[],D=[],C,B,A=0,z,y,x,w,v,u,t,s;for(C=1;C<G;++C){H[C][1]<H[A][1]?A=C:H[C][1]==H[A][1]&&(A=H[C][0]<H[A][0]?C:A)}for(C=0;C<G;++C){if(C===A){continue}y=H[C][1]-H[A][1],z=H[C][0]-H[A][0],E.push({angle:Math.atan2(y,z),index:C})}E.sort(function(f,e){return f.angle-e.angle}),t=E[0].angle,u=E[0].index,v=0;for(C=1;C<F;++C){B=E[C].index,t==E[C].angle?(z=H[u][0]-H[A][0],y=H[u][1]-H[A][1],x=H[B][0]-H[A][0],w=H[B][1]-H[A][1],z*z+y*y>=x*x+w*w?E[C].index=-1:(E[v].index=-1,t=E[C].angle,v=C,u=B)):(t=E[C].angle,v=C,u=B)}D.push(A);for(C=0,B=0;C<2;++B){E[B].index!==-1&&(D.push(E[B].index),C++)}s=D.length;for(;B<F;++B){if(E[B].index===-1){continue}while(!aK(D[s-2],D[s-1],E[B].index,H)){--s}D[s++]=E[B].index}var r=[];for(C=0;C<s;++C){r.push(H[D[C]])}return r},d3.geom.polygon=function(b){return b.area=function(){var a=0,h=b.length,g=b[h-1][0]*b[0][1],f=b[h-1][1]*b[0][0];while(++a<h){g+=b[a-1][0]*b[a][1],f+=b[a-1][1]*b[a][0]}return(f-g)*0.5},b.centroid=function(a){var p=-1,o=b.length,n=0,m=0,l,k=b[o-1],j;arguments.length||(a=-1/(6*b.area()));while(++p<o){l=k,k=b[p],j=l[0]*k[1]-k[0]*l[1],n+=(l[0]+k[0])*j,m+=(l[1]+k[1])*j}return[n*a,m*a]},b.clip=function(t){var s,r=-1,q=b.length,p,o,n=b[q-1],m,l,a;while(++r<q){s=t.slice(),t.length=0,m=b[r],l=s[(o=s.length)-1],p=-1;while(++p<o){a=s[p],aJ(a,n,m)?(aJ(l,n,m)||t.push(aI(l,a,n,m)),t.push(a)):aJ(l,n,m)&&t.push(aI(l,a,n,m)),l=a}n=m}return t},b},d3.geom.voronoi=function(f){var e=f.map(function(){return[]});return aG(f,function(r){var q,p,o,n,m,l;r.a===1&&r.b>=0?(q=r.ep.r,p=r.ep.l):(q=r.ep.l,p=r.ep.r),r.a===1?(m=q?q.y:-1000000,o=r.c-r.b*m,l=p?p.y:1000000,n=r.c-r.b*l):(o=q?q.x:-1000000,m=r.c-r.a*o,n=p?p.x:1000000,l=r.c-r.a*n);var k=[o,m],b=[n,l];e[r.region.l.index].push(k,b),e[r.region.r.index].push(k,b)}),e.map(function(a,i){var h=f[i][0],g=f[i][1];return a.forEach(function(b){b.angle=Math.atan2(b[0]-h,b[1]-g)}),a.sort(function(k,j){return k.angle-j.angle}).filter(function(b,j){return !j||b.angle-a[j-1].angle>1e-10})})};var aH={l:"r",r:"l"};d3.geom.delaunay=function(f){var e=f.map(function(){return[]}),g=[];return aG(f,function(a){e[a.region.l.index].push(f[a.region.r.index])}),e.forEach(function(a,o){var n=f[o],m=n[0],l=n[1];a.forEach(function(b){b.angle=Math.atan2(b[0]-m,b[1]-l)}),a.sort(function(i,h){return i.angle-h.angle});for(var k=0,j=a.length-1;k<j;k++){g.push([n,a[k],a[k+1]])}}),g},d3.geom.quadtree=function(z,y,x,w,v){function p(i,h,A,m,l,k){if(isNaN(h.x)||isNaN(h.y)){return}if(i.leaf){var j=i.point;j?Math.abs(j.x-h.x)+Math.abs(j.y-h.y)<0.01?o(i,h,A,m,l,k):(i.point=null,o(i,j,A,m,l,k),o(i,h,A,m,l,k)):i.point=h}else{o(i,h,A,m,l,k)}}function o(I,H,G,F,E,D){var C=(G+E)*0.5,B=(F+D)*0.5,A=H.x>=C,m=H.y>=B,k=(m<<1)+A;I.leaf=!1,I=I.nodes[k]||(I.nodes[k]=aF()),A?G=C:E=C,m?F=B:D=B,p(I,H,G,F,E,D)}var u,t=-1,s=z.length;s&&isNaN(z[0].x)&&(z=z.map(aD));if(arguments.length<5){if(arguments.length===3){v=w=x,x=y}else{y=x=Infinity,w=v=-Infinity;while(++t<s){u=z[t],u.x<y&&(y=u.x),u.y<x&&(x=u.y),u.x>w&&(w=u.x),u.y>v&&(v=u.y)}var r=w-y,q=v-x;r>q?v=x+r:w=y+q}}var n=aF();return n.add=function(b){p(n,b,y,x,w,v)},n.visit=function(b){aE(b,n,y,x,w,v)},z.forEach(n.add),n},d3.time={};var aC=Date;aB.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){aA.setUTCDate.apply(this._,arguments)},setDay:function(){aA.setUTCDay.apply(this._,arguments)},setFullYear:function(){aA.setUTCFullYear.apply(this._,arguments)},setHours:function(){aA.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){aA.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){aA.setUTCMinutes.apply(this._,arguments)},setMonth:function(){aA.setUTCMonth.apply(this._,arguments)},setSeconds:function(){aA.setUTCSeconds.apply(this._,arguments)},setTime:function(){aA.setTime.apply(this._,arguments)}};var aA=Date.prototype;d3.time.format=function(f){function g(l){var k=[],j=-1,i=0,b,a;while(++j<e){f.charCodeAt(j)==37&&(k.push(f.substring(i,j),(a=au[b=f.charAt(++j)])?a(l):b),i=j+1)}return k.push(f.substring(i,j)),k.join("")}var e=f.length;return g.parse=function(a){var j={y:1900,m:0,d:1,H:0,M:0,S:0,L:0},i=az(j,f,a,0);if(i!=a.length){return null}"p" in j&&(j.H=j.H%12+j.p*12);var h=new aC;return h.setFullYear(j.y,j.m,j.d),h.setHours(j.H,j.M,j.S,j.L),h},g.toString=function(){return f},g};var ay=d3.format("02d"),ax=d3.format("03d"),aw=d3.format("04d"),av=d3.format("2d"),au={a:function(b){return d3_time_weekdays[b.getDay()].substring(0,3)},A:function(b){return d3_time_weekdays[b.getDay()]},b:function(b){return d0[b.getMonth()].substring(0,3)},B:function(b){return d0[b.getMonth()]},c:d3.time.format("%a %b %e %H:%M:%S %Y"),d:function(b){return ay(b.getDate())},e:function(b){return av(b.getDate())},H:function(b){return ay(b.getHours())},I:function(b){return ay(b.getHours()%12||12)},j:function(b){return ax(1+d3.time.dayOfYear(b))},L:function(b){return ax(b.getMilliseconds())},m:function(b){return ay(b.getMonth()+1)},M:function(b){return ay(b.getMinutes())},p:function(b){return b.getHours()>=12?"PM":"AM"},S:function(b){return ay(b.getSeconds())},U:function(b){return ay(d3.time.sundayOfYear(b))},w:function(b){return b.getDay()},W:function(b){return ay(d3.time.mondayOfYear(b))},x:d3.time.format("%m/%d/%y"),X:d3.time.format("%H:%M:%S"),y:function(b){return ay(b.getFullYear()%100)},Y:function(b){return aw(b.getFullYear()%10000)},Z:aZ,"%":function(b){return"%"}},at={a:ar,A:aq,b:e2,B:d8,c:c9,d:b5,e:b5,H:b3,I:b3,L:a7,m:b7,M:b1,p:a3,S:a9,x:c7,X:c5,y:c1,Y:c3},ap=/^(?:sun|mon|tue|wed|thu|fri|sat)/i,e3=/^(?:Sunday|Monday|Tuesday|Wednesday|Thursday|Friday|Saturday)/i;d3_time_weekdays=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];var d9=d3.map({jan:0,feb:1,mar:2,apr:3,may:4,jun:5,jul:6,aug:7,sep:8,oct:9,nov:10,dec:11}),d5=/^(?:January|February|March|April|May|June|July|August|September|October|November|December)/ig,d2=d3.map({january:0,february:1,march:2,april:3,may:4,june:5,july:6,august:7,september:8,october:9,november:10,december:11}),d0=["January","February","March","April","May","June","July","August","September","October","November","December"],a4=/\s*\d+/,a0=d3.map({am:0,pm:1});d3.time.format.utc=function(f){function g(b){try{aC=aB;var h=new aC;return h._=b,e(h)}finally{aC=Date}}var e=d3.time.format(f);return g.parse=function(b){try{aC=aB;var h=e.parse(b);return h&&h._}finally{aC=Date}},g.toString=e.toString,g};var aW=d3.time.format.utc("%Y-%m-%dT%H:%M:%S.%LZ");d3.time.format.iso=Date.prototype.toISOString?aV:aW,aV.parse=function(b){return new Date(b)},aV.toString=aW.toString,d3.time.second=aT(function(b){return new aC(Math.floor(b/1000)*1000)},function(f,e){f.setTime(f.getTime()+Math.floor(e)*1000)},function(b){return b.getSeconds()}),d3.time.seconds=d3.time.second.range,d3.time.seconds.utc=d3.time.second.utc.range,d3.time.minute=aT(function(b){return new aC(Math.floor(b/60000)*60000)},function(f,e){f.setTime(f.getTime()+Math.floor(e)*60000)},function(b){return b.getMinutes()}),d3.time.minutes=d3.time.minute.range,d3.time.minutes.utc=d3.time.minute.utc.range,d3.time.hour=aT(function(f){var e=f.getTimezoneOffset()/60;return new aC((Math.floor(f/3600000-e)+e)*3600000)},function(f,e){f.setTime(f.getTime()+Math.floor(e)*3600000)},function(b){return b.getHours()}),d3.time.hours=d3.time.hour.range,d3.time.hours.utc=d3.time.hour.utc.range,d3.time.day=aT(function(b){return new aC(b.getFullYear(),b.getMonth(),b.getDate())},function(f,e){f.setDate(f.getDate()+e)},function(b){return b.getDate()-1}),d3.time.days=d3.time.day.range,d3.time.days.utc=d3.time.day.utc.range,d3.time.dayOfYear=function(f){var e=d3.time.year(f);return Math.floor((f-e)/86400000-(f.getTimezoneOffset()-e.getTimezoneOffset())/1440)},d3_time_weekdays.forEach(function(f,e){f=f.toLowerCase(),e=7-e;var g=d3.time[f]=aT(function(b){return(b=d3.time.day(b)).setDate(b.getDate()-(b.getDay()+e)%7),b},function(i,h){i.setDate(i.getDate()+Math.floor(h)*7)},function(b){var h=d3.time.year(b).getDay();return Math.floor((d3.time.dayOfYear(b)+(h+e)%7)/7)-(h!==e)});d3.time[f+"s"]=g.range,d3.time[f+"s"].utc=g.utc.range,d3.time[f+"OfYear"]=function(b){var h=d3.time.year(b).getDay();return Math.floor((d3.time.dayOfYear(b)+(h+e)%7)/7)}}),d3.time.week=d3.time.sunday,d3.time.weeks=d3.time.sunday.range,d3.time.weeks.utc=d3.time.sunday.utc.range,d3.time.weekOfYear=d3.time.sundayOfYear,d3.time.month=aT(function(b){return new aC(b.getFullYear(),b.getMonth(),1)},function(f,e){f.setMonth(f.getMonth()+e)},function(b){return b.getMonth()}),d3.time.months=d3.time.month.range,d3.time.months.utc=d3.time.month.utc.range,d3.time.year=aT(function(b){return new aC(b.getFullYear(),0,1)},function(f,e){f.setFullYear(f.getFullYear()+e)},function(b){return b.getFullYear()}),d3.time.years=d3.time.year.range,d3.time.years.utc=d3.time.year.utc.range;var aj=[1000,5000,15000,30000,60000,300000,900000,1800000,3600000,10800000,21600000,43200000,86400000,172800000,604800000,2592000000,7776000000,31536000000],ai=[[d3.time.second,1],[d3.time.second,5],[d3.time.second,15],[d3.time.second,30],[d3.time.minute,1],[d3.time.minute,5],[d3.time.minute,15],[d3.time.minute,30],[d3.time.hour,1],[d3.time.hour,3],[d3.time.hour,6],[d3.time.hour,12],[d3.time.day,1],[d3.time.day,2],[d3.time.week,1],[d3.time.month,1],[d3.time.month,3],[d3.time.year,1]],ah=[[d3.time.format("%Y"),function(b){return !0}],[d3.time.format("%B"),function(b){return b.getMonth()}],[d3.time.format("%b %d"),function(b){return b.getDate()!=1}],[d3.time.format("%a %d"),function(b){return b.getDay()&&b.getDate()!=1}],[d3.time.format("%I %p"),function(b){return b.getHours()}],[d3.time.format("%I:%M"),function(b){return b.getMinutes()}],[d3.time.format(":%S"),function(b){return b.getSeconds()}],[d3.time.format(".%L"),function(b){return b.getMilliseconds()}]],ag=d3.scale.linear(),af=am(ah);ai.year=function(f,e){return ag.domain(f.map(ak)).ticks(e).map(al)},d3.time.scale=function(){return aQ(d3.scale.linear(),ai,af)};var ae=ai.map(function(b){return[b[0].utc,b[1]]}),ad=[[d3.time.format.utc("%Y"),function(b){return !0}],[d3.time.format.utc("%B"),function(b){return b.getUTCMonth()}],[d3.time.format.utc("%b %d"),function(b){return b.getUTCDate()!=1}],[d3.time.format.utc("%a %d"),function(b){return b.getUTCDay()&&b.getUTCDate()!=1}],[d3.time.format.utc("%I %p"),function(b){return b.getUTCHours()}],[d3.time.format.utc("%I:%M"),function(b){return b.getUTCMinutes()}],[d3.time.format.utc(":%S"),function(b){return b.getUTCSeconds()}],[d3.time.format.utc(".%L"),function(b){return b.getUTCMilliseconds()}]],ac=am(ad);ae.year=function(f,e){return ag.domain(f.map(aa)).ticks(e).map(ab)},d3.time.scale.utc=function(){return aQ(d3.scale.linear(),ae,ac)}})();var dateFormat=function(){var a=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZ]|"[^"]*"|'[^']*'/g,b=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,f=/[^-+\dA-Z]/g,e=function(h,g){h=String(h);g=g||2;while(h.length<g){h="0"+h}return h};return function(k,x,t){var i=dateFormat;if(arguments.length==1&&Object.prototype.toString.call(k)=="[object String]"&&!/\d/.test(k)){x=k;k=undefined}k=k?new Date(k):new Date;if(isNaN(k)){throw SyntaxError("invalid date")}x=String(i.masks[x]||x||i.masks["default"]);if(x.slice(0,4)=="UTC:"){x=x.slice(4);t=true}var v=t?"getUTC":"get",p=k[v+"Date"](),g=k[v+"Day"](),l=k[v+"Month"](),r=k[v+"FullYear"](),u=k[v+"Hours"](),n=k[v+"Minutes"](),w=k[v+"Seconds"](),q=k[v+"Milliseconds"](),h=t?0:k.getTimezoneOffset(),j={d:p,dd:e(p),ddd:i.i18n.dayNames[g],dddd:i.i18n.dayNames[g+7],m:l+1,mm:e(l+1),mmm:i.i18n.monthNames[l],mmmm:i.i18n.monthNames[l+12],yy:String(r).slice(2),yyyy:r,h:u%12||12,hh:e(u%12||12),H:u,HH:e(u),M:n,MM:e(n),s:w,ss:e(w),l:e(q,3),L:e(q>99?Math.round(q/10):q),t:u<12?"a":"p",tt:u<12?"am":"pm",T:u<12?"A":"P",TT:u<12?"AM":"PM",Z:t?"UTC":(String(k).match(b)||[""]).pop().replace(f,""),o:(h>0?"-":"+")+e(Math.floor(Math.abs(h)/60)*100+Math.abs(h)%60,4),S:["th","st","nd","rd"][p%10>3?0:(p%100-p%10!=10)*p%10]};return x.replace(a,function(m){return m in j?j[m]:m.slice(1,m.length-1)})}}();dateFormat.masks={"default":"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:ss",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'"};dateFormat.i18n={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"]};Date.prototype.format=function(a,b){return dateFormat(this,a,b)};(function(){function aQ(y,t){y||(y={});for(var L in t){y[L]=t[L]}return y}function aa(y,t){return parseInt(y,t||10)}function aw(t){return typeof t=="string"}function Z(t){return typeof t=="object"}function am(t){return typeof t=="number"}function aM(y,t){for(var L=y.length;L--;){if(y[L]==t){y.splice(L,1);break}}}function an(t){return t!==J&&t!==null}function f(y,t,ab){var V,L;if(aw(t)){if(an(ab)){y.setAttribute(t,ab)}else{if(y&&y.getAttribute){L=y.getAttribute(t)}}}else{if(an(t)&&Z(t)){for(V in t){y.setAttribute(V,t[V])}}}return L}function at(t){if(!t||t.constructor!=Array){t=[t]}return t}function N(){var y=arguments,t,V,L=y.length;for(t=0;t<L;t++){V=y[t];if(typeof V!=="undefined"&&V!==null){return V}}}function ah(y){var t="",L;for(L in y){t+=a0(L)+":"+y[L]+";"}return t}function q(y,t){if(a1){if(t&&t.opacity!==J){t.filter="alpha(opacity="+t.opacity*100+")"}}aQ(y.style,t)}function j(y,t,ab,V,L){y=aE.createElement(y);t&&aQ(y,t);L&&q(y,{padding:0,border:aO,margin:0});ab&&q(y,ab);V&&V.appendChild(y);return y}function F(y,t){aI=N(y,t.animation)}function aH(){var t=v.global.useUTC;ap=t?Date.UTC:function(y,bb,ad,ab,V,L){return(new Date(y,bb,N(ad,1),N(ab,0),N(V,0),N(L,0))).getTime()};av=t?"getUTCMinutes":"getMinutes";aF=t?"getUTCHours":"getHours";al=t?"getUTCDay":"getDay";X=t?"getUTCDate":"getDate";U=t?"getUTCMonth":"getMonth";E=t?"getUTCFullYear":"getFullYear";ao=t?"setUTCMinutes":"setMinutes";T=t?"setUTCHours":"setHours";R=t?"setUTCDate":"setDate";D=t?"setUTCMonth":"setMonth";k=t?"setUTCFullYear":"setFullYear"}function m(t){a6||(a6=j(p));t&&a6.appendChild(t);a6.innerHTML=""}function s(y,t){var L=function(){};L.prototype=new y;aQ(L.prototype,t);return L}function a3(y,t,bb,ad){var ab=v.lang;y=y;var V=isNaN(t=aG(t))?2:t;t=bb===undefined?ab.decimalPoint:bb;ad=ad===undefined?ab.thousandsSep:ad;ab=y<0?"-":"";bb=aa(y=aG(+y||0).toFixed(V))+"";var L=(L=bb.length)>3?L%3:0;return ab+(L?bb.substr(0,L)+ad:"")+bb.substr(L).replace(/(\d{3})(?=\d)/g,"$1"+ad)+(V?t+aG(y-bb).toFixed(V).slice(2):"")}function aN(){}function aL(bK,bI){function bH(dm,dq){function db(da,dc){this.pos=da;this.minor=dc;this.isNew=true;dc||this.addLabel()}function dd(da){if(da){this.options=da;this.id=da.id}return this}function cD(){var da=[],dw=[],dc;dp=de=null;ct=[];P(cl,function(dB){dc=false;P(["xAxis","yAxis"],function(dD){if(dB.isCartesian&&(dD=="xAxis"&&cs||dD=="yAxis"&&!cs)&&(dB.options[dD]==dq.index||dB.options[dD]===J&&dq.index===0)){dB[dD]=dh;ct.push(dB);dc=true}});if(!dB.visible&&bt.ignoreHiddenSeries){dc=false}if(dc){var dx,dC,dy,dA,dz;if(!cs){dx=dB.options.stacking;cz=dx=="percent";if(dx){dA=dB.type+N(dB.options.stack,"");dz="-"+dA;dB.stackKey=dA;dC=da[dA]||[];da[dA]=dC;dy=dw[dz]||[];dw[dz]=dy}if(cz){dp=0;de=99}}if(dB.isCartesian){P(dB.data,function(dE){var dH=dE.x,dG=dE.y,dD=dG<0,dF=dD?dy:dC;dD=dD?dz:dA;if(dp===null){dp=de=dE[cJ]}if(cs){if(dH>de){de=dH}else{if(dH<dp){dp=dH}}}else{if(an(dG)){if(dx){dF[dH]=an(dF[dH])?dF[dH]+dG:dG}dG=dF?dF[dH]:dG;dE=N(dE.low,dG);if(!cz){if(dG>de){de=dG}else{if(dE<dp){dp=dE}}}if(dx){c8[dD]||(c8[dD]={});c8[dD][dH]={total:dG,cum:dG}}}}});if(/(area|column|bar)/.test(dB.type)&&!cs){if(dp>=0){dp=0;cw=true}else{if(de<0){de=0;dj=true}}}}}})}function cS(da,dw){var dc;dg=dw?1:aV.pow(10,ba(aV.log(da)/aV.LN10));dc=da/dg;if(!dw){dw=[1,2,2.5,5,10];if(dq.allowDecimals===false){if(dg==1){dw=[1,2,5,10]}else{if(dg<=0.1){dw=[1/dg]}}}}for(var dx=0;dx<dw.length;dx++){da=dw[dx];if(dc<=(dw[dx]+(dw[dx+1]||dw[dx]))/2){break}}da*=dg;return da}function cH(da){var dc;dc=da;if(an(dg)){dc=(dg<1?aj(1/dg):1)*10;dc=aj(da*dc)/dc}return dc}function cR(){var dE,dy,dc,dA,dD=dq.tickInterval,dz=dq.tickPixelInterval;dE=dq.maxZoom||(cs?au(dm.smallestInterval*5,de-dp):null);cO=cE?bW:cp;if(c1){dc=dm[cs?"xAxis":"yAxis"][dq.linkedTo];dA=dc.getExtremes();cI=N(dA.min,dA.dataMin);cB=N(dA.max,dA.dataMax)}else{cI=N(cu,dq.min,dp);cB=N(dn,dq.max,de)}if(cB-cI<dE){dA=(dE-cB+cI)/2;cI=a8(cI-dA,N(dq.min,cI-dA),dp);cB=au(cI+dE,N(dq.max,cI+dE),de)}if(!dt&&!cz&&!c1&&an(cI)&&an(cB)){dE=cB-cI||1;if(!an(dq.min)&&!an(cu)&&c4&&(dp<0||!cw)){cI-=dE*c4}if(!an(dq.max)&&!an(dn)&&cW&&(de>0||!dj)){cB+=dE*cW}}cK=cI==cB?1:c1&&!dD&&dz==dc.options.tickPixelInterval?dc.tickInterval:N(dD,dt?1:(cB-cI)*dz/cO);if(!cF&&!an(dq.tickInterval)){cK=cS(cK)}dh.tickInterval=cK;dk=dq.minorTickInterval==="auto"&&cK?cK/5:dq.minorTickInterval;if(cF){cT=[];dD=v.global.useUTC;var dG=1000/Y,dx=60000/Y,dC=3600000/Y;dz=86400000/Y;dE=604800000/Y;dA=2592000000/Y;var dH=31556952000/Y,da=[["second",dG,[1,2,5,10,15,30]],["minute",dx,[1,2,5,10,15,30]],["hour",dC,[1,2,3,4,6,8,12]],["day",dz,[1,2]],["week",dE,[1,2]],["month",dA,[1,2,3,4,6]],["year",dH,null]],dB=da[6],dF=dB[1],dw=dB[2];for(dc=0;dc<da.length;dc++){dB=da[dc];dF=dB[1];dw=dB[2];if(da[dc+1]){if(cK<=(dF*dw[dw.length-1]+da[dc+1][1])/2){break}}}if(dF==dH&&cK<5*dF){dw=[1,2,5]}da=cS(cK/dF,dw);dw=new Date(cI*Y);dw.setMilliseconds(0);if(dF>=dG){dw.setSeconds(dF>=dx?0:da*ba(dw.getSeconds()/da))}if(dF>=dx){dw[ao](dF>=dC?0:da*ba(dw[av]()/da))}if(dF>=dC){dw[T](dF>=dz?0:da*ba(dw[aF]()/da))}if(dF>=dz){dw[R](dF>=dA?1:da*ba(dw[X]()/da))}if(dF>=dA){dw[D](dF>=dH?0:da*ba(dw[U]()/da));dy=dw[E]()}if(dF>=dH){dy-=dy%da;dw[k](dy)}dF==dE&&dw[R](dw[X]()-dw[al]()+dq.startOfWeek);dc=1;dy=dw[E]();dG=dw.getTime()/Y;dx=dw[U]();for(dC=dw[X]();dG<cB&&dc<bW;){cT.push(dG);if(dF==dH){dG=ap(dy+dc*da,0)/Y}else{if(dF==dA){dG=ap(dy,dx+dc*da)/Y}else{if(!dD&&(dF==dz||dF==dE)){dG=ap(dy,dx,dC+dc*da*(dF==dz?1:7))}else{dG+=dF*da}}}dc++}cT.push(dG);cY=dq.dateTimeLabelFormats[dB[0]]}else{dc=ba(cI/cK)*cK;dy=A(cB/cK)*cK;cT=[];for(dc=cH(dc);dc<=dy;){cT.push(dc);dc=cH(dc+cK)}}if(!c1){if(dt||cs&&dm.hasColumn){dy=(dt?1:cK)*0.5;if(dt||!an(N(dq.min,cu))){cI-=dy}if(dt||!an(N(dq.max,dn))){cB+=dy}}dy=cT[0];dc=cT[cT.length-1];if(dq.startOnTick){cI=dy}else{cI>dy&&cT.shift()}if(dq.endOnTick){cB=dc}else{cB<dc&&cT.pop()}bl||(bl={x:0,y:0});if(!cF&&cT.length>bl[cJ]){bl[cJ]=cT.length}}}function di(){var da,dc;c9=cI;c6=cB;cD();cR();cr=cN;cN=cO/(cB-cI||1);if(!cs){for(da in c8){for(dc in c8[da]){c8[da][dc].cum=c8[da][dc].total}}}if(!dh.isDirty){dh.isDirty=cI!=c9||cB!=c6}}function cU(da){da=(new dd(da)).render();cG.push(da);return da}function ds(){var da=dq.title,dy=dq.alternateGridColor,dx=dq.lineWidth,dz,dc,dA=dm.hasRendered,dw=dA&&an(c9)&&!isNaN(c9);dz=ct.length&&an(cI)&&an(cB);cO=cE?bW:cp;cN=cO/(cB-cI||1);cX=cE?bQ:bn;if(dz||c1){if(dk&&!dt){for(dz=cI+(cT[0]-cI)%dk;dz<=cB;dz+=dk){cL[dz]||(cL[dz]=new db(dz,true));dw&&cL[dz].isNew&&cL[dz].render(null,true);cL[dz].isActive=true;cL[dz].render()}}P(cT,function(dC,dB){if(!c1||dC>=cI&&dC<=cB){dw&&cv[dC].isNew&&cv[dC].render(dB,true);cv[dC].isActive=true;cv[dC].render(dB)}});dy&&P(cT,function(dC,dB){if(dB%2===0&&dC<cB){cP[dC]||(cP[dC]=new dd);cP[dC].options={from:dC,to:cT[dB+1]!==J?cT[dB+1]:cB,color:dy};cP[dC].render();cP[dC].isActive=true}});dA||P((dq.plotLines||[]).concat(dq.plotBands||[]),function(dB){cG.push((new dd(dB)).render())})}P([cv,cL,cP],function(dC){for(var dB in dC){if(dC[dB].isActive){dC[dB].isActive=false}else{dC[dB].destroy();delete dC[dB]}}});if(dx){dz=bQ+(c2?bW:0)+cA;dc=b6-bn-(c2?cp:0)+cA;dz=cd.crispLine([O,cE?bQ:dz,cE?dc:ca,aK,cE?bP-b7:dz,cE?dc:b6-bn],dx);if(cV){cV.animate({d:dz})}else{cV=cd.path(dz).attr({stroke:dq.lineColor,"stroke-width":dx,zIndex:7}).add()}}if(dh.axisTitle){dz=cE?bQ:ca;dx=aa(da.style.fontSize||12);dz={low:dz+(cE?0:cO),middle:dz+cO/2,high:dz+(cE?cO:0)}[da.align];dx=(cE?ca+cp:bQ)+(cE?1:-1)*(c2?-1:1)*du+(cM==2?dx:0);dh.axisTitle[dA?"animate":"attr"]({x:cE?dz:dx+(c2?bW:0)+cA+(da.x||0),y:cE?dx-(c2?cp:0)+cA:dz+(da.y||0)})}dh.isDirty=false}function cZ(da){for(var dc=0;dc<cG.length;dc++){cG[dc].id==da&&cG[dc].destroy()}}var cs=dq.isX,c2=dq.opposite,cE=ad?!cs:cs,cM=cE?c2?0:2:c2?1:3,c8={};dq=u(cs?o:aZ,[K,w,n,g][cM],dq);var dh=this,cF=dq.type=="datetime",cA=dq.offset||0,cJ=cs?"x":"y",cO,cN,cr,cX=cE?bQ:bn,cy,cC,df,cx,cV,dp,de,ct,cu,dn,cB=null,cI=null,c9,c6,c4=dq.minPadding,cW=dq.maxPadding,c1=an(dq.linkedTo),cw,dj,cz,dl=dq.events,cQ,cG=[],cK,dk,dg,cT,cv={},cL={},cP={},dv,c7,du,cY,dt=dq.categories,c3=dq.labels.formatter||function(){var da=this.value;return cY?a9(cY,da):cK%1000000===0?da/1000000+"M":cK%1000===0?da/1000+"k":!dt&&da>=1000?a3(da,0):da},c0=cE&&dq.labels.staggerLines,dr=dq.reversed,c5=dt&&dq.tickmarkPlacement=="between"?0.5:0;db.prototype={addLabel:function(){var da=this.pos,dx=dq.labels,dw=!(da==cI&&!N(dq.showFirstLabel,1)||da==cB&&!N(dq.showLastLabel,0)),dy,dc=this.label;da=c3.call({isFirst:da==cT[0],isLast:da==cT[cT.length-1],dateTimeLabelFormat:cY,value:dt&&dt[da]?dt[da]:da});dy=dy&&{width:dy-2*(dx.padding||10)+aX};if(dc===J){this.label=an(da)&&dw&&dx.enabled?cd.text(da,0,0).attr({align:dx.align,rotation:dx.rotation}).css(aQ(dy,dx.style)).add(df):null}else{dc&&dc.attr({text:da}).css(dy)}},getLabelSize:function(){var da=this.label;return da?(this.labelBBox=da.getBBox())[cE?"height":"width"]:0},render:function(dE,dy){var dc=!this.minor,dA=this.label,dD=this.pos,dz=dq.labels,dH=this.gridLine,dx=dc?dq.gridLineWidth:dq.minorGridLineWidth,dC=dc?dq.gridLineColor:dq.minorGridLineColor,dK=dc?dq.gridLineDashStyle:dq.minorGridLineDashStyle,da=this.mark,dB=dc?dq.tickLength:dq.minorTickLength,dF=dc?dq.tickWidth:dq.minorTickWidth||0,dw=dc?dq.tickColor:dq.minorTickColor,dG=dc?dq.tickPosition:dq.minorTickPosition;dc=dz.step;var dJ=dy&&b5||b6,dI;dI=cE?cy(dD+c5,null,null,dy)+cX:bQ+cA+(c2?(dy&&bT||bP)-b7-bQ:0);dJ=cE?dJ-bn+cA-(c2?cp:0):dJ-cy(dD+c5,null,null,dy)-cX;if(dx){dD=cC(dD+c5,dx,dy);if(dH===J){dH={stroke:dC,"stroke-width":dx};if(dK){dH.dashstyle=dK}this.gridLine=dH=dx?cd.path(dD).attr(dH).add(cx):null}dH&&dD&&dH.animate({d:dD})}if(dF){if(dG=="inside"){dB=-dB}if(c2){dB=-dB}dx=cd.crispLine([O,dI,dJ,aK,dI+(cE?0:-dB),dJ+(cE?dB:0)],dF);if(da){da.animate({d:dx})}else{this.mark=cd.path(dx).attr({stroke:dw,"stroke-width":dF}).add(df)}}if(dA){dI=dI+dz.x-(c5&&cE?c5*cN*(dr?-1:1):0);dJ=dJ+dz.y-(c5&&!cE?c5*cN*(dr?1:-1):0);an(dz.y)||(dJ+=parseInt(dA.styles.lineHeight)*0.9-dA.getBBox().height/2);if(c0){dJ+=dE%c0*16}if(dc){dA[dE%dc?"hide":"show"]()}dA[this.isNew?"attr":"animate"]({x:dI,y:dJ})}this.isNew=false},destroy:function(){for(var da in this){this[da]&&this[da].destroy&&this[da].destroy()}}};dd.prototype={render:function(){var dE=this,dy=dE.options,dc=dy.label,dA=dE.label,dD=dy.width,dz=dy.to,dH,dx=dy.from,dC=dy.dashStyle,dI=dE.svgElem,da=[],dB,dF,dw=dy.color;dF=dy.zIndex;var dG=dy.events;if(dD){da=cC(dy.value,dD);dy={stroke:dw,"stroke-width":dD};if(dC){dy.dashstyle=dC}}else{if(an(dx)&&an(dz)){dx=a8(dx,cI);dz=au(dz,cB);dH=cC(dz);if((da=cC(dx))&&dH){da.push(dH[4],dH[5],dH[1],dH[2])}else{da=null}dy={fill:dw}}else{return}}if(an(dF)){dy.zIndex=dF}if(dI){if(da){dI.animate({d:da},null,dI.onGetPath)}else{dI.hide();dI.onGetPath=function(){dI.show()}}}else{if(da&&da.length){dE.svgElem=dI=cd.path(da).attr(dy).add();if(dG){dC=function(dJ){dI.on(dJ,function(dK){dG[dJ].apply(dE,[dK])})};for(dB in dG){dC(dB)}}}}if(dc&&an(dc.text)&&da&&da.length&&bW>0&&cp>0){dc=u({align:cE&&dH&&"center",x:cE?!dH&&4:10,verticalAlign:!cE&&dH&&"middle",y:cE?dH?16:10:dH?6:-4,rotation:cE&&!dH&&90},dc);if(!dA){dE.label=dA=cd.text(dc.text,0,0).attr({align:dc.textAlign||dc.align,rotation:dc.rotation,zIndex:dF}).css(dc.style).add()}dH=[da[1],da[4],da[6]||da[1]];da=[da[2],da[5],da[7]||da[2]];dB=au.apply(aV,dH);dF=au.apply(aV,da);dA.align(dc,false,{x:dB,y:dF,width:a8.apply(aV,dH)-dB,height:a8.apply(aV,da)-dF});dA.show()}else{dA&&dA.hide()}return dE},destroy:function(){for(var da in this){this[da]&&this[da].destroy&&this[da].destroy();delete this[da]}aM(cG,this)}};cy=function(da,dy,dx,dz){var dc=1,dA=0,dw=dz?cr:cN;dz=dz?c9:cI;dw||(dw=cN);if(dx){dc*=-1;dA=cO}if(dr){dc*=-1;dA-=dc*cO}if(dy){if(dr){da=cO-da}da=da/dw+dz}else{da=dc*(da-dz)*dw+dA}return da};cC=function(dB,dw,da){var dy,dA,dx;dB=cy(dB,null,null,da);var dC=da&&b5||b6,dc=da&&bT||bP,dz;da=dA=aj(dB+cX);dy=dx=aj(dC-dB-cX);if(isNaN(dB)){dz=true}else{if(cE){dy=ca;dx=dC-bn;if(da<bQ||da>bQ+bW){dz=true}}else{da=bQ;dA=dc-b7;if(dy<ca||dy>ca+cp){dz=true}}}return dz?null:cd.crispLine([O,da,dy,aK,dA,dx],dw||0)};if(ad&&cs&&dr===J){dr=true}aQ(dh,{addPlotBand:cU,addPlotLine:cU,adjustTickAmount:function(){if(bl&&!cF&&!dt&&!c1){var da=dv,dc=cT.length;dv=bl[cJ];if(dc<dv){for(;cT.length<dv;){cT.push(cH(cT[cT.length-1]+cK))}cN*=(dc-1)/(dv-1);cB=cT[cT.length-1]}if(an(da)&&dv!=da){dh.isDirty=true}}},categories:dt,getExtremes:function(){return{min:cI,max:cB,dataMin:dp,dataMax:de}},getPlotLinePath:cC,getThreshold:function(da){if(cI>da){da=cI}else{if(cB<da){da=cB}}return cy(da,0,1)},isXAxis:cs,options:dq,plotLinesAndBands:cG,getOffset:function(){var da=ct.length&&an(cI)&&an(cB),dy=0,dx=0,dz=dq.title,dc=dq.labels,dA=[-1,1,1,-1][cM];if(!df){df=cd.g("axis").attr({zIndex:7}).add();cx=cd.g("grid").attr({zIndex:1}).add()}c7=0;if(da||c1){P(cT,function(dB){if(cv[dB]){cv[dB].addLabel()}else{cv[dB]=new db(dB)}if(cM===0||cM==2||{1:"left",3:"right"}[cM]==dc.align){c7=a8(cv[dB].getLabelSize(),c7)}});if(c0){c7+=(c0-1)*16}}else{for(var dw in cv){cv[dw].destroy();delete cv[dw]}}if(dz&&dz.text){if(!dh.axisTitle){dh.axisTitle=cd.text(dz.text,0,0).attr({zIndex:7,rotation:dz.rotation||0,align:dz.textAlign||{low:"left",middle:"center",high:"right"}[dz.align]}).css(dz.style).add()}dy=dh.axisTitle.getBBox()[cE?"height":"width"];dx=N(dz.margin,cE?5:10)}cA=dA*(dq.offset||br[cM]);du=c7+(cM!=2&&c7&&dA*dq.labels[cE?"y":"x"])+dx;br[cM]=a8(br[cM],du+dy+dA*cA)},render:ds,setCategories:function(da,dc){dh.categories=dt=da;P(ct,function(dw){dw.translate();dw.setTooltipPoints(true)});dh.isDirty=true;N(dc,true)&&dm.redraw()},setExtremes:function(da,dw,dc,dx){F(dx,dm);dc=N(dc,true);ac(dh,"setExtremes",{min:da,max:dw},function(){cu=da;dn=dw;dc&&dm.redraw()})},setScale:di,setTickPositions:cR,translate:cy,redraw:function(){cb.resetTracker&&cb.resetTracker();ds();P(cG,function(da){da.render()});P(ct,function(da){da.isDirty=true})},removePlotBand:cZ,removePlotLine:cZ,reversed:dr,stacks:c8});for(cQ in dl){ag(dh,cQ,dl[cQ])}di()}function bG(){var cr={};return{add:function(cu,cs,ct,cv){if(!cr[cu]){cs=cd.text(cs,0,0).css(bK.toolbar.itemStyle).align({align:"right",x:-b7-20,y:ca+30}).on("click",cv).attr({align:"right",zIndex:20}).add();cr[cu]=cs}},remove:function(cs){m(cr[cs].element);cr[cs]=null}}}function bF(cH){function cI(){var cM=this.points||at(this),cP=cM[0].series.xAxis,cO=this.x;cP=cP&&cP.options.type=="datetime";var cL=aw(cO)||cP,cN;cN=cL?['<span style="font-size: 10px">',cP?a9("%A, %b %e, %Y",cO):cO,"</span><br/>"]:[];P(cM,function(cQ){cN.push(cQ.point.tooltipFormatter(cL))});return cN.join("")}function cA(cL,cM){cD=cz?cL:(2*cD+cL)/3;cG=cz?cM:(cG+cM)/2;cF.translate(cD,cG);bw=aG(cL-cD)>1||aG(cM-cG)>1?function(){cA(cL,cM)}:null}function cC(){if(!cz){var cL=bu.hoverPoints;cF.hide();P(cJ,function(cM){cM&&cM.hide()});cL&&P(cL,function(cM){cM.setState()});bu.hoverPoints=null;cz=true}}var cv,cK=cH.borderWidth,cy=cH.crosshairs,cJ=[],cs=cH.style,cr=cH.shared,ct=aa(cs.padding),cB=cK+ct,cz=true,cE,cw,cD=0,cG=0;cs.padding=0;var cF=cd.g("tooltip").attr({zIndex:8}).add(),cx=cd.rect(cB,cB,0,0,cH.borderRadius,cK).attr({fill:cH.backgroundColor,"stroke-width":cK}).add(cF).shadow(cH.shadow),cu=cd.text("",ct+cB,aa(cs.fontSize)+ct+cB).attr({zIndex:1}).css(cs).add(cF);cF.hide();return{shared:cr,refresh:function(cS){var cM,cT,cQ,cR=0,cP={},cO=[];cQ=cS.tooltipPos;cM=cH.formatter||cI;cP=bu.hoverPoints;var cL=function(cU){return{series:cU.series,point:cU,x:cU.category,y:cU.y,percentage:cU.percentage,total:cU.total||cU.stackTotal}};if(cr){cP&&P(cP,function(cU){cU.setState()});bu.hoverPoints=cS;P(cS,function(cU){cU.setState(e);cR+=cU.plotY;cO.push(cL(cU))});cT=cS[0].plotX;cR=aj(cR)/cS.length;cP={x:cS[0].category};cP.points=cO;cS=cS[0]}else{cP=cL(cS)}cP=cM.call(cP);cv=cS.series;cT=cr?cT:cS.plotX;cR=cr?cR:cS.plotY;cM=aj(cQ?cQ[0]:ad?bW-cR:cT);cT=aj(cQ?cQ[1]:ad?cp-cT:cR);cQ=cr||!cS.series.isCartesian||bU(cM,cT);if(cP===false||!cQ){cC()}else{if(cz){cF.show();cz=false}cu.attr({text:cP});cQ=cu.getBBox();cE=cQ.width;cw=cQ.height;cx.attr({width:cE+2*ct,height:cw+2*ct,stroke:cH.borderColor||cS.color||cv.color||"#606060"});cM=cM-cE+bQ-25;cT=cT-cw+ca+10;if(cM<7){cM=7;cT-=30}if(cT<5){cT=5}else{if(cT+cw>b6){cT=b6-cw-5}}cA(aj(cM-cB),aj(cT-cB))}if(cy){cy=at(cy);cT=cy.length;for(var cN;cT--;){if(cy[cT]&&(cN=cS.series[cT?"yAxis":"xAxis"])){cM=cN.getPlotLinePath(cS[cT?"y":"x"],1);if(cJ[cT]){cJ[cT].attr({d:cM,visibility:a2})}else{cQ={"stroke-width":cy[cT].width||1,stroke:cy[cT].color||"#C0C0C0",zIndex:2};if(cy[cT].dashStyle){cQ.dashstyle=cy[cT].dashStyle}cJ[cT]=cd.path(cM).attr(cQ).add()}}}}},hide:cC}}function bE(cs,ct){function cB(cI){var cG;cI=cI||aq.event;if(!cI.target){cI.target=cI.srcElement}cG=cI.touches?cI.touches.item(0):cI;if(cI.type!="mousemove"||aq.opera){for(var cH=bN,cJ={left:cH.offsetLeft,top:cH.offsetTop};cH=cH.offsetParent;){cJ.left+=cH.offsetLeft;cJ.top+=cH.offsetTop;if(cH!=aE.body&&cH!=aE.documentElement){cJ.left-=cH.scrollLeft;cJ.top-=cH.scrollTop}}bc=cJ}if(a1){cI.chartX=cI.x;cI.chartY=cI.y}else{if(cG.layerX===J){cI.chartX=cG.pageX-bc.left;cI.chartY=cG.pageY-bc.top}else{cI.chartX=cI.layerX;cI.chartY=cI.layerY}}return cI}function cD(cH){var cG={xAxis:[],yAxis:[]};P(bi,function(cJ){var cK=cJ.translate,cI=cJ.isXAxis;cG[cI?"xAxis":"yAxis"].push({axis:cJ,value:cK((ad?!cI:cI)?cH.chartX-bQ:cp-cH.chartY+ca,true)})});return cG}function cu(){var cH=cs.hoverSeries,cG=cs.hoverPoint;cG&&cG.onMouseOut();cH&&cH.onMouseOut();co&&co.hide();bj=null}function cE(){if(cA){var cI={xAxis:[],yAxis:[]},cG=cA.getBBox(),cH=cG.x-bQ,cJ=cG.y-ca;if(cr){P(bi,function(cM){var cL=cM.translate,cO=cM.isXAxis,cN=ad?!cO:cO,cK=cL(cN?cH:cp-cJ-cG.height,true);cL=cL(cN?cH+cG.width:cp-cJ,true);cI[cO?"xAxis":"yAxis"].push({axis:cM,min:au(cK,cL),max:a8(cK,cL)})});ac(cs,"selection",cI,V)}cA=cA.destroy()}cs.mouseIsDown=cm=cr=false;aJ(aE,a7?"touchend":"mouseup",cE)}var cy,cF,cr,cA,cC=bt.zoomType,cz=/x/.test(cC),cw=/y/.test(cC),cx=cz&&!ad||cw&&ad,cv=cw&&!ad||cz&&ad;bM=function(){if(bq){bq.translate(bQ,ca);ad&&bq.attr({width:cs.plotWidth,height:cs.plotHeight}).invert()}else{cs.trackerGroup=bq=cd.g("tracker").attr({zIndex:9}).add()}};bM();if(ct.enabled){cs.tooltip=co=bF(ct)}(function(){var cH=true;bN.onmousedown=function(cI){cI=cB(cI);cs.mouseIsDown=cm=true;cy=cI.chartX;cF=cI.chartY;ag(aE,a7?"touchend":"mouseup",cE)};var cG=function(cQ){if(!(cQ&&cQ.touches&&cQ.touches.length>1)){cQ=cB(cQ);if(!a7){cQ.returnValue=false}var cL=cQ.chartX,cK=cQ.chartY,cO=!bU(cL-bQ,cK-ca);if(a7&&cQ.type=="touchstart"){if(f(cQ.target,"isTracker")){cs.runTrackerClick||cQ.preventDefault()}else{!bY&&!cO&&cQ.preventDefault()}}if(cO){cH||cu();if(cL<bQ){cL=bQ}else{if(cL>bQ+bW){cL=bQ+bW}}if(cK<ca){cK=ca}else{if(cK>ca+cp){cK=ca+cp}}}if(cm&&cQ.type!="touchstart"){if(cr=Math.sqrt(Math.pow(cy-cL,2)+Math.pow(cF-cK,2))>10){if(by&&(cz||cw)&&bU(cy-bQ,cF-ca)){cA||(cA=cd.rect(bQ,ca,cx?1:bW,cv?1:cp,0).attr({fill:"rgba(69,114,167,0.25)",zIndex:7}).add())}if(cA&&cx){cL=cL-cy;cA.attr({width:aG(cL),x:(cL>0?0:cL)+cy})}if(cA&&cv){cK=cK-cF;cA.attr({height:aG(cK),y:(cK>0?0:cK)+cF})}}}else{if(!cO){var cI;cK=cs.hoverPoint;cL=cs.hoverSeries;var cP,cM,cN=bP,cJ=ad?cQ.chartY:cQ.chartX-bQ;if(co&&ct.shared){cI=[];cP=cl.length;for(cM=0;cM<cP;cM++){if(cl[cM].visible&&cl[cM].tooltipPoints.length){cQ=cl[cM].tooltipPoints[cJ];cQ._dist=aG(cJ-cQ.plotX);cN=au(cN,cQ._dist);cI.push(cQ)}}for(cP=cI.length;cP--;){cI[cP]._dist>cN&&cI.splice(cP,1)}if(cI.length&&cI[0].plotX!=bj){co.refresh(cI);bj=cI[0].plotX}}if(cL&&cL.tracker){(cQ=cL.tooltipPoints[cJ])&&cQ!=cK&&cQ.onMouseOver()}}}return(cH=cO)||!by}};bN.onmousemove=cG;ag(bN,"mouseleave",cu);bN.ontouchstart=function(cI){if(cz||cw){bN.onmousedown(cI)}cG(cI)};bN.ontouchmove=cG;bN.ontouchend=function(){cr&&cu()};bN.onclick=function(cK){var cL=cs.hoverPoint;cK=cB(cK);cK.cancelBubble=true;if(!cr){if(cL&&f(cK.target,"isTracker")){var cJ=cL.plotX,cI=cL.plotY;aQ(cL,{pageX:bc.left+bQ+(ad?bW-cI:cJ),pageY:bc.top+ca+(ad?cp-cJ:cI)});ac(cL.series,"click",aQ(cK,{point:cL}));cL.firePointEvent("click",cK)}else{aQ(cK,cD(cK));bU(cK.chartX-bQ,cK.chartY-ca)&&ac(cs,"click",cK)}}cr=false}})();cg=setInterval(function(){bw&&bw()},32);aQ(this,{zoomX:cz,zoomY:cw,resetTracker:cu})}function bD(cs){var cu=cs.type||bt.type||bt.defaultSeriesType,cr=aR[cu],ct=bu.hasRendered;if(ct){if(ad&&cu=="column"){cr=aR.bar}else{if(!ad&&cu=="bar"){cr=aR.column}}}cu=new cr;cu.init(bu,cs);if(!ct&&cu.inverted){ad=true}if(cu.isCartesian){by=cu.isCartesian}cl.push(cu);return cu}function bB(){bt.alignTicks!==false&&P(bi,function(cr){cr.adjustTickAmount()});bl=null}function bz(cs){var cu=bu.isDirtyLegend,cr,ct=bu.isDirtyBox,cv=cl.length,cw=cv,cx=bu.clipRect;for(F(cs,bu);cw--;){cs=cl[cw];if(cs.isDirty&&cs.options.stacking){cr=true;break}}if(cr){for(cw=cv;cw--;){cs=cl[cw];if(cs.options.stacking){cs.isDirty=true}}}P(cl,function(cy){if(cy.isDirty){cy.cleanData();cy.getSegments();if(cy.options.legendType=="point"){cu=true}}});if(cu&&cc.renderLegend){cc.renderLegend();bu.isDirtyLegend=false}if(by){if(!bg){bl=null;P(bi,function(cy){cy.setScale()})}bB();cf();P(bi,function(cy){if(cy.isDirty||ct){cy.redraw();ct=true}})}if(ct){bX();bM();if(cx){b(cx);cx.animate({width:bu.plotSizeX,height:bu.plotSizeY})}}P(cl,function(cy){if(cy.isDirty&&cy.visible&&(!cy.isCartesian||cy.xAxis)){cy.redraw()}});cb&&cb.resetTracker&&cb.resetTracker();ac(bu,"redraw")}function bx(){var cs=bK.xAxis||{},ct=bK.yAxis||{},cr;cs=at(cs);P(cs,function(cu,cv){cu.index=cv;cu.isX=true});ct=at(ct);P(ct,function(cu,cv){cu.index=cv});bi=cs.concat(ct);bu.xAxis=[];bu.yAxis=[];bi=C(bi,function(cu){cr=new bH(bu,cu);bu[cr.isXAxis?"xAxis":"yAxis"].push(cr);return cr});bB()}function bv(cr,cs){ab=u(bK.title,cr);b3=u(bK.subtitle,cs);P([["title",cr,ab],["subtitle",cs,b3]],function(ct){var cu=ct[0],cv=bu[cu],cw=ct[1];ct=ct[2];if(cv&&cw){cv.destroy();cv=null}if(ct&&ct.text&&!cv){bu[cu]=cd.text(ct.text,0,0).attr({align:ct.align,"class":"highcharts-"+cu,zIndex:1}).css(ct.style).add().align(ct,false,bL)}})}function bs(){bA=bt.renderTo;b2=ax+W++;if(aw(bA)){bA=aE.getElementById(bA)}bA.innerHTML="";if(!bA.offsetWidth){bh=bA.cloneNode(0);q(bh,{position:a4,top:"-9999px",display:""});aE.body.appendChild(bh)}ci=(bh||bA).offsetWidth;bp=(bh||bA).offsetHeight;bu.chartWidth=bP=bt.width||ci||600;bu.chartHeight=b6=bt.height||(bp>19?bp:400);bu.container=bN=j(p,{className:"highcharts-container"+(bt.className?" "+bt.className:""),id:b2},aQ({position:ae,overflow:ay,width:bP+aX,height:b6+aX,textAlign:"left"},bt.style),bh||bA);bu.renderer=cd=bt.renderer=="SVG"?new aC(bN,bP,b6):new H(bN,bP,b6);var cr,cs;if(/Firefox/.test(r)&&bN.getBoundingClientRect){cr=function(){q(bN,{left:0,top:0});cs=bN.getBoundingClientRect();q(bN,{left:-cs.left%1+aX,top:-cs.top%1+aX})};cr();ag(aq,"resize",cr);ag(bu,"destroy",function(){aJ(aq,"resize",cr)})}}function bZ(){function cr(){var ct=bt.width||bA.offsetWidth,cu=bt.height||bA.offsetHeight;if(ct&&cu){if(ct!=ci||cu!=bp){clearTimeout(cs);cs=setTimeout(function(){bm(ct,cu,false)},100)}ci=ct;bp=cu}}var cs;ag(window,"resize",cr);ag(bu,"destroy",function(){aJ(window,"resize",cr)})}function bC(){var cs=bK.labels,ct=bK.credits,cr;bv();cc=bu.legend=new b8(bu);cf();P(bi,function(cu){cu.setTickPositions(true)});bB();cf();bX();by&&P(bi,function(cu){cu.render()});if(!bu.seriesGroup){bu.seriesGroup=cd.g("series-group").attr({zIndex:3}).add()}P(cl,function(cu){cu.translate();cu.setTooltipPoints();cu.render()});cs.items&&P(cs.items,function(){var cu=aQ(cs.style,this.style),cv=aa(cu.left)+bQ,cw=aa(cu.top)+ca+12;delete cu.left;delete cu.top;cd.text(this.html,cv,cw).attr({zIndex:2}).css(cu).add()});if(!bu.toolbar){bu.toolbar=bG(bu)}if(ct.enabled&&!bu.credits){cr=ct.href;cd.text(ct.text,0,0).on("click",function(){if(cr){location.href=cr}}).attr({align:ct.position.align,zIndex:8}).css(ct.style).add().align(ct.position)}bM();bu.hasRendered=true;if(bh){bA.appendChild(bN);m(bh)}}function bR(){var cr=cl.length,cs=bN&&bN.parentNode;ac(bu,"destroy");aJ(aq,"unload",bR);aJ(bu);for(P(bi,function(ct){aJ(ct)});cr--;){cl[cr].destroy()}bN.innerHTML="";aJ(bN);cs&&cs.removeChild(bN);bN=null;cd.alignedObjects=null;clearInterval(cg);for(cr in bu){delete bu[cr]}}function bV(){if(!a&&!aq.parent&&aE.readyState!="complete"){aE.attachEvent("onreadystatechange",function(){aE.detachEvent("onreadystatechange",bV);bV()})}else{bs();bb();cn();P(bK.series||[],function(cr){bD(cr)});bu.inverted=ad=N(ad,bK.chart.inverted);bx();bu.render=bC;bu.tracker=cb=new bE(bu,bK.tooltip);bC();ac(bu,"load");bI&&bI.apply(bu,[bu]);P(bu.callbacks,function(cr){cr.apply(bu,[bu])})}}o=u(o,v.xAxis);aZ=u(aZ,v.yAxis);v.xAxis=v.yAxis=null;bK=u(v,bK);var bt=bK.chart,b4=bt.margin;b4=Z(b4)?b4:[b4,b4,b4,b4];var bS=N(bt.marginTop,b4[0]),ck=N(bt.marginRight,b4[1]),L=N(bt.marginBottom,b4[2]),bd=N(bt.marginLeft,b4[3]),b0=bt.spacingTop,bk=bt.spacingRight,ce=bt.spacingBottom,bO=bt.spacingLeft,bL,ab,b3,ca,b7,bn,bQ,br,bA,bh,bN,b2,ci,bp,bP,b6,bT,b5,b1,bJ,bo,be,bu=this,bY=(b4=bt.events)&&!!b4.click,cq,bU,co,cm,b9,bf,ch,cp,bW,cb,bq,bM,cc,y,cj,bc,by=bt.showAxes,bg=0,bi=[],bl,cl=[],ad,cd,bw,cg,bj,bX,cf,bb,cn,bm,V,t,b8=function(cP){function cT(cZ,c2){var cX=cZ.legendItem,cW=cZ.legendLine,c1=cZ.legendSymbol,cY=cy.color,c0=c2?cB.itemStyle.color:cY;cY=c2?cZ.color:cY;cX&&cX.css({fill:c0});cW&&cW.attr({stroke:cY});c1&&c1.attr({stroke:cY,fill:cY})}function cG(cZ,c1,cX){var cW=cZ.legendItem,c0=cZ.legendLine,cY=cZ.legendSymbol;cZ=cZ.checkbox;cW&&cW.attr({x:c1,y:cX});c0&&c0.translate(c1,cX-4);cY&&cY.attr({x:c1+cY.xOff,y:cX+cY.yOff});if(cZ){cZ.x=c1;cZ.y=cX}}function cI(){P(cv,function(cW){var cX=cW.checkbox;cX&&q(cX,{left:cS.attr("translateX")+cW.legendItemWidth+cX.x-40+aX,top:cS.attr("translateY")+cX.y-11+aX})})}function cx(cZ){var c2,cX,cW,c1,cY,c0=cZ.legendItem;c1=cZ.series||cZ;if(!c0){cY=/^(bar|pie|area|column)$/.test(c1.type);cZ.legendItem=c0=cd.text(cB.labelFormatter.call(cZ),0,0).css(cZ.visible?cC:cy).on("mouseover",function(){cZ.setState(e);c0.css(cK)}).on("mouseout",function(){c0.css(cZ.visible?cC:cy);cZ.setState()}).on("click",function(){var c4=function(){cZ.setVisible()};cZ.firePointEvent?cZ.firePointEvent("legendItemClick",null,c4):ac(cZ,"legendItemClick",null,c4)}).attr({zIndex:2}).add(cS);if(!cY&&cZ.options&&cZ.options.lineWidth){var c3=cZ.options;c1={"stroke-width":c3.lineWidth,zIndex:2};if(c3.dashStyle){c1.dashstyle=c3.dashStyle}cZ.legendLine=cd.path([O,-cs-cr,0,aK,-cr,0]).attr(c1).add(cS)}if(cY){c2=cd.rect(cX=-cs-cr,cW=-11,cs,12,2).attr({"stroke-width":0,zIndex:3}).add(cS)}else{if(cZ.options&&cZ.options.marker&&cZ.options.marker.enabled){c2=cd.symbol(cZ.symbol,cX=-cs/2-cr,cW=-4,cZ.options.marker.radius).attr(cZ.pointAttr[S]).attr({zIndex:3}).add(cS)}}if(c2){c2.xOff=cX;c2.yOff=cW}cZ.legendSymbol=c2;cT(cZ,cZ.visible);if(cZ.options&&cZ.options.showCheckbox){cZ.checkbox=j("input",{type:"checkbox",checked:cZ.selected,defaultChecked:cZ.selected},cB.itemCheckboxStyle,bN);ag(cZ.checkbox,"click",function(c4){ac(cZ,"checkboxClick",{checked:c4.target.checked},function(){cZ.select()})})}}c2=c0.getBBox();cX=cZ.legendItemWidth=cB.itemWidth||cs+cr+c2.width+cO;cL=c2.height;if(cU&&cw-cA+cX>(cR||bP-2*cJ-cA)){cw=cA;cF+=cL}cN=cF;cG(cZ,cw,cF);if(cU){cw+=cX}else{cF+=cL}cQ=cR||a8(cU?cw-cA:cX,cQ);cv.push(cZ)}function cV(){cw=cA;cF=cM;cN=cQ=0;cv=[];cS||(cS=cd.g("legend").attr({zIndex:7}).add());cu&&cD.reverse();P(cD,function(cZ){if(cZ.options.showInLegend){P(cZ.options.legendType=="point"?cZ.data:[cZ],cx)}});cu&&cD.reverse();y=cR||cQ;cj=cN-cM+cL;if(ct||cE){y+=2*cJ;cj+=2*cJ;if(cz){y>0&&cj>0&&cz.animate({width:y,height:cj})}else{cz=cd.rect(0,0,y,cj,cB.borderRadius,ct||0).attr({stroke:cB.borderColor,"stroke-width":ct||0,fill:cE||aO}).add(cS).shadow(cB.shadow)}cz[cv.length?"show":"hide"]()}for(var cX=["left","right","top","bottom"],cY,cW=4;cW--;){cY=cX[cW];if(cH[cY]&&cH[cY]!="auto"){cB[cW<2?"align":"verticalAlign"]=cY;cB[cW<2?"x":"y"]=aa(cH[cY])*(cW%2?-1:1)}}cS.align(aQ(cB,{width:y,height:cj}),true,bL);bg||cI()}var cB=cP.options.legend;if(cB.enabled){var cU=cB.layout=="horizontal",cs=cB.symbolWidth,cr=cB.symbolPadding,cv,cH=cB.style,cC=cB.itemStyle,cK=cB.itemHoverStyle,cy=cB.itemHiddenStyle,cJ=aa(cH.padding),cO=20,cM=18,cA=4+cJ+cs+cr,cw,cF,cN,cL=0,cz,ct=cB.borderWidth,cE=cB.backgroundColor,cS,cQ,cR=cB.width,cD=cP.series,cu=cB.reversed;cV();ag(cP,"endResize",cI);return{colorizeItem:cT,destroyItem:function(cW){var cX=cW.checkbox;P(["legendItem","legendLine","legendSymbol"],function(cY){cW[cY]&&cW[cY].destroy()});cX&&m(cW.checkbox)},renderLegend:cV}}};bU=function(cr,cs){return cr>=0&&cr<=bW&&cs>=0&&cs<=cp};t=function(){ac(bu,"selection",{resetSelection:true},V);bu.toolbar.remove("zoom")};V=function(cs){var ct=v.lang,cr=bu.pointCount<100;bu.toolbar.add("zoom",ct.resetZoom,ct.resetZoomTitle,t);!cs||cs.resetSelection?P(bi,function(cu){cu.setExtremes(null,null,false,cr)}):P(cs.xAxis.concat(cs.yAxis),function(cu){var cv=cu.axis;if(bu.tracker[cv.isXAxis?"zoomX":"zoomY"]){cv.setExtremes(cu.min,cu.max,false,cr)}});bz()};cf=function(){var cs=bK.legend,cu=N(cs.margin,10),cr=cs.x,ct=cs.y,cv=cs.align,cw=cs.verticalAlign,cx;bb();if((bu.title||bu.subtitle)&&!an(bS)){if(cx=a8(bu.title&&!ab.floating&&!ab.verticalAlign&&ab.y||0,bu.subtitle&&!b3.floating&&!b3.verticalAlign&&b3.y||0)){ca=a8(ca,cx+N(ab.margin,15)+b0)}}if(cs.enabled&&!cs.floating){if(cv=="right"){an(ck)||(b7=a8(b7,y-cr+cu+bk))}else{if(cv=="left"){an(bd)||(bQ=a8(bQ,y+cr+cu+bO))}else{if(cw=="top"){an(bS)||(ca=a8(ca,cj+ct+cu+b0))}else{if(cw=="bottom"){an(L)||(bn=a8(bn,cj-ct+cu+ce))}}}}}by&&P(bi,function(cy){cy.getOffset()});an(bd)||(bQ+=br[3]);an(bS)||(ca+=br[0]);an(L)||(bn+=br[2]);an(ck)||(b7+=br[1]);cn()};bm=function(cs,cu,cr){var ct=bu.title,cv=bu.subtitle;bg+=1;F(cr,bu);b5=b6;bT=bP;bP=aj(cs);b6=aj(cu);q(bN,{width:bP+aX,height:b6+aX});cd.setSize(bP,b6,cr);bW=bP-bQ-b7;cp=b6-ca-bn;bl=null;P(bi,function(cw){cw.isDirty=true;cw.setScale()});P(cl,function(cw){cw.isDirty=true});bu.isDirtyLegend=true;bu.isDirtyBox=true;cf();ct&&ct.align(null,null,bL);cv&&cv.align(null,null,bL);bz(cr);b5=null;ac(bu,"resize");setTimeout(function(){ac(bu,"endResize",null,function(){bg-=1})},aI&&aI.duration||500)};cn=function(){bu.plotLeft=bQ=aj(bQ);bu.plotTop=ca=aj(ca);bu.plotWidth=bW=aj(bP-bQ-b7);bu.plotHeight=cp=aj(b6-ca-bn);bu.plotSizeX=ad?cp:bW;bu.plotSizeY=ad?bW:cp;bL={x:bO,y:b0,width:bP-bO-bk,height:b6-b0-ce}};bb=function(){ca=N(bS,b0);b7=N(ck,bk);bn=N(L,ce);bQ=N(bd,bO);br=[0,0,0,0]};bX=function(){var cs=bt.borderWidth||0,cu=bt.backgroundColor,cr=bt.plotBackgroundColor,ct=bt.plotBackgroundImage,cv,cw={x:bQ,y:ca,width:bW,height:cp};cv=cs+(bt.shadow?8:0);if(cs||cu){if(b1){b1.animate({width:bP-cv,height:b6-cv})}else{b1=cd.rect(cv/2,cv/2,bP-cv,b6-cv,bt.borderRadius,cs).attr({stroke:bt.borderColor,"stroke-width":cs,fill:cu||aO}).add().shadow(bt.shadow)}}if(cr){if(bJ){bJ.animate(cw)}else{bJ=cd.rect(bQ,ca,bW,cp,0).attr({fill:cr}).add().shadow(bt.plotShadow)}}if(ct){if(bo){bo.animate(cw)}else{bo=cd.image(ct,bQ,ca,bW,cp).add()}}if(bt.plotBorderWidth){if(be){be.animate(cw)}else{be=cd.rect(bQ,ca,bW,cp,0,bt.plotBorderWidth).attr({stroke:bt.plotBorderColor,"stroke-width":bt.plotBorderWidth,zIndex:4}).add()}}bu.isDirtyBox=false};M=aP=0;ag(aq,"unload",bR);bt.reflow!==false&&ag(bu,"load",bZ);if(b4){for(cq in b4){ag(bu,cq,b4[cq])}}bu.options=bK;bu.series=cl;bu.addSeries=function(cs,cu,cr){var ct;if(cs){F(cr,bu);cu=N(cu,true);ac(bu,"addSeries",{options:cs},function(){ct=bD(cs);ct.isDirty=true;bu.isDirtyLegend=true;cu&&bu.redraw()})}return ct};bu.animation=N(bt.animation,true);bu.destroy=bR;bu.get=function(cs){var cu,cr,ct;for(cu=0;cu<bi.length;cu++){if(bi[cu].options.id==cs){return bi[cu]}}for(cu=0;cu<cl.length;cu++){if(cl[cu].options.id==cs){return cl[cu]}}for(cu=0;cu<cl.length;cu++){ct=cl[cu].data;for(cr=0;cr<ct.length;cr++){if(ct[cr].id==cs){return ct[cr]}}}return null};bu.getSelectedPoints=function(){var cr=[];P(cl,function(cs){cr=cr.concat(az(cs.data,function(ct){return ct.selected}))});return cr};bu.getSelectedSeries=function(){return az(cl,function(cr){return cr.selected})};bu.hideLoading=function(){x(b9,{opacity:0},{duration:bK.loading.hideDuration,complete:function(){q(b9,{display:aO})}});ch=false};bu.isInsidePlot=bU;bu.redraw=bz;bu.setSize=bm;bu.setTitle=bv;bu.showLoading=function(cr){var cs=bK.loading;if(!b9){b9=j(p,{className:"highcharts-loading"},aQ(cs.style,{left:bQ+aX,top:ca+aX,width:bW+aX,height:cp+aX,zIndex:10,display:aO}),bN);bf=j("span",null,cs.labelStyle,b9)}bf.innerHTML=cr||bK.lang.loading;if(!ch){q(b9,{opacity:0,display:""});x(b9,{opacity:cs.style.opacity},{duration:cs.showDuration});ch=true}};bu.pointCount=0;bV()}var aE=document,aq=window,aV=Math,aj=aV.round,ba=aV.floor,A=aV.ceil,a8=aV.max,au=aV.min,aG=aV.abs,af=aV.cos,aU=aV.sin,aD=aV.PI,aS=aD*2/360,r=navigator.userAgent,a1=/msie/i.test(r)&&!aq.opera,aT=aE.documentMode==8,ak=/AppleWebKit/.test(r),a=aq.SVGAngle||aE.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1"),a7="ontouchstart" in aE.documentElement,aP,M,Q={},W=0,Y=1,a6,v,a9,aI,h,J,p="div",a4="absolute",ae="relative",ay="hidden",ax="highcharts-",a2="visible",aX="px",aO="none",O="M",aK="L",aB="rgba(192,192,192,"+(a?0.000001:0.002)+")",S="",e="hover",ap,av,aF,al,X,U,E,ao,T,R,D,k,B=aq.HighchartsAdapter,ar=B||{},P=ar.each,az=ar.grep,C=ar.map,u=ar.merge,a0=ar.hyphenate,ag=ar.addEvent,aJ=ar.removeEvent,ac=ar.fireEvent,x=ar.animate,b=ar.stop,aR={};B&&B.init&&B.init();if(!B&&aq.jQuery){var l=jQuery;P=function(y,t){for(var V=0,L=y.length;V<L;V++){if(t.call(y[V],y[V],V,y)===false){return V}}};az=l.grep;C=function(y,t){for(var ab=[],V=0,L=y.length;V<L;V++){ab[V]=t.call(y[V],y[V],V,y)}return ab};u=function(){var t=arguments;return l.extend(true,null,t[0],t[1],t[2],t[3])};a0=function(t){return t.replace(/([A-Z])/g,function(y,L){return"-"+L.toLowerCase()})};ag=function(y,t,L){l(y).bind(t,L)};aJ=function(y,t,V){var L=aE.removeEventListener?"removeEventListener":"detachEvent";if(aE[L]&&!y[L]){y[L]=function(){}}l(y).unbind(t,V)};ac=function(y,t,ad,ab){var V=l.Event(t),L="detached"+t;aQ(V,ad);if(y[t]){y[L]=y[t];y[t]=null}l(y).trigger(V);if(y[L]){y[t]=y[L];y[L]=null}ab&&!V.isDefaultPrevented()&&ab(V)};x=function(y,t,V){var L=l(y);if(t.d){y.toD=t.d;t.d=1}L.stop();L.animate(t,V)};b=function(t){l(t).stop()};l.extend(l.easing,{easeOutQuad:function(y,t,ab,V,L){return -V*(t/=L)*(t-2)+ab}});var z=jQuery.fx.step._default,i=jQuery.fx.prototype.cur;l.fx.step._default=function(y){var t=y.elem;t.attr?t.attr(y.prop,y.now):z.apply(this,arguments)};l.fx.step.d=function(y){var t=y.elem;if(!y.started){var L=h.init(t,t.d,t.toD);y.start=L[0];y.end=L[1];y.started=true}t.attr("d",h.step(y.start,y.end,y.pos,t.toD))};l.fx.prototype.cur=function(){var t=this.elem;return t.attr?t.attr(this.prop):i.apply(this,arguments)}}h={init:function(be,bd,bc){bd=bd||"";var bb=be.shift,ad=bd.indexOf("C")>-1,ab=ad?7:3,V;bd=bd.split(" ");bc=[].concat(bc);var L,y,t=function(bf){for(V=bf.length;V--;){bf[V]==O&&bf.splice(V+1,0,bf[V+1],bf[V+2],bf[V+1],bf[V+2])}};if(ad){t(bd);t(bc)}if(be.isArea){L=bd.splice(bd.length-6,6);y=bc.splice(bc.length-6,6)}if(bb){bc=[].concat(bc).splice(0,ab).concat(bc);be.shift=false}if(bd.length){for(be=bc.length;bd.length<be;){bb=[].concat(bd).splice(bd.length-ab,ab);if(ad){bb[ab-6]=bb[ab-2];bb[ab-5]=bb[ab-1]}bd=bd.concat(bb)}}if(L){bd=bd.concat(L);bc=bc.concat(y)}return[bd,bc]},step:function(y,t,ad,ab){var V=[],L=y.length;if(ad==1){V=ab}else{if(L==t.length&&ad<1){for(;L--;){ab=parseFloat(y[L]);V[L]=isNaN(ab)?y[L]:ad*parseFloat(t[L]-ab)+ab}}else{V=t}}return V}};B={enabled:true,align:"center",x:0,y:15,style:{color:"#666",fontSize:"11px",lineHeight:"14px"}};v={colors:["#4572A7","#AA4643","#89A54E","#80699B","#3D96AE","#DB843D","#92A8CD","#A47D7C","#B5CA92"],symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:["January","February","March","April","May","June","July","August","September","October","November","December"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],decimalPoint:".",resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:","},global:{useUTC:true},chart:{borderColor:"#4572A7",borderRadius:5,defaultSeriesType:"line",ignoreHiddenSeries:true,spacingTop:10,spacingRight:10,spacingBottom:15,spacingLeft:10,style:{fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Verdana, Arial, Helvetica, sans-serif',fontSize:"12px"},backgroundColor:"#FFFFFF",plotBorderColor:"#C0C0C0"},title:{text:"Chart title",align:"center",y:15,style:{color:"#3E576F",fontSize:"16px"}},subtitle:{text:"",align:"center",y:30,style:{color:"#6D869F"}},plotOptions:{line:{allowPointSelect:false,showCheckbox:false,animation:{duration:1000},events:{},lineWidth:2,shadow:true,marker:{enabled:true,lineWidth:0,radius:4,lineColor:"#FFFFFF",states:{hover:{},select:{fillColor:"#FFFFFF",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:u(B,{enabled:false,y:-6,formatter:function(){return this.y}}),showInLegend:true,states:{hover:{marker:{}},select:{marker:{}}},stickyTracking:true}},labels:{style:{position:a4,color:"#3E576F"}},legend:{enabled:true,align:"center",layout:"horizontal",labelFormatter:function(){return this.name},borderWidth:1,borderColor:"#909090",borderRadius:5,shadow:false,style:{padding:"5px"},itemStyle:{cursor:"pointer",color:"#3E576F"},itemHoverStyle:{cursor:"pointer",color:"#000000"},itemHiddenStyle:{color:"#C0C0C0"},itemCheckboxStyle:{position:a4,width:"13px",height:"13px"},symbolWidth:16,symbolPadding:5,verticalAlign:"bottom",x:0,y:0},loading:{hideDuration:100,labelStyle:{fontWeight:"bold",position:ae,top:"1em"},showDuration:100,style:{position:a4,backgroundColor:"white",opacity:0.5,textAlign:"center"}},tooltip:{enabled:true,backgroundColor:"rgba(255, 255, 255, .85)",borderWidth:2,borderRadius:5,shadow:true,snap:a7?25:10,style:{color:"#333333",fontSize:"12px",padding:"5px",whiteSpace:"nowrap"}},toolbar:{itemStyle:{color:"#4572A7",cursor:"pointer"}},credits:{enabled:true,text:"Highcharts.com",href:"http://www.highcharts.com",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#909090",fontSize:"10px"}}};var o={dateTimeLabelFormats:{second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%e. %b",week:"%e. %b",month:"%b '%y",year:"%Y"},endOnTick:false,gridLineColor:"#C0C0C0",labels:B,lineColor:"#C0D0E0",lineWidth:1,max:null,min:null,minPadding:0.01,maxPadding:0.01,minorGridLineColor:"#E0E0E0",minorGridLineWidth:1,minorTickColor:"#A0A0A0",minorTickLength:2,minorTickPosition:"outside",startOfWeek:1,startOnTick:false,tickColor:"#C0D0E0",tickLength:5,tickmarkPlacement:"between",tickPixelInterval:100,tickPosition:"outside",tickWidth:1,title:{align:"middle",style:{color:"#6D869F",fontWeight:"bold"}},type:"linear"},aZ=u(o,{endOnTick:true,gridLineWidth:1,tickPixelInterval:72,showLastLabel:true,labels:{align:"right",x:-8,y:3},lineWidth:0,maxPadding:0.05,minPadding:0.05,startOnTick:true,tickWidth:0,title:{rotation:270,text:"Y-values"}}),g={labels:{align:"right",x:-8,y:null},title:{rotation:270}},w={labels:{align:"left",x:8,y:null},title:{rotation:90}},n={labels:{align:"center",x:0,y:14},title:{rotation:0}},K=u(n,{labels:{y:-5}}),I=v.plotOptions;B=I.line;I.spline=u(B);I.scatter=u(B,{lineWidth:0,states:{hover:{lineWidth:0}}});I.area=u(B,{});I.areaspline=u(I.area);I.column=u(B,{borderColor:"#FFFFFF",borderWidth:1,borderRadius:0,groupPadding:0.2,marker:null,pointPadding:0.1,minPointLength:0,states:{hover:{brightness:0.1,shadow:false},select:{color:"#C0C0C0",borderColor:"#000000",shadow:false}}});I.bar=u(I.column,{dataLabels:{align:"left",x:5,y:0}});I.pie=u(B,{borderColor:"#FFFFFF",borderWidth:1,center:["50%","50%"],colorByPoint:true,dataLabels:{distance:30,enabled:true,formatter:function(){return this.point.name},y:5},legendType:"point",marker:null,size:"75%",showInLegend:false,slicedOffset:10,states:{hover:{brightness:0.1,shadow:false}}});aH();var ai=function(y){var t=[],L;(function(V){if(L=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/.exec(V)){t=[aa(L[1]),aa(L[2]),aa(L[3]),parseFloat(L[4],10)]}else{if(L=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(V)){t=[aa(L[1],16),aa(L[2],16),aa(L[3],16),1]}}})(y);return{get:function(V){return t&&!isNaN(t[0])?V=="rgb"?"rgb("+t[0]+","+t[1]+","+t[2]+")":V=="a"?t[3]:"rgba("+t.join(",")+")":y},brighten:function(ab){if(am(ab)&&ab!==0){var V;for(V=0;V<3;V++){t[V]+=aa(ab*255);if(t[V]<0){t[V]=0}if(t[V]>255){t[V]=255}}}return this},setOpacity:function(V){t[3]=V;return this}}};a9=function(bg,bf,be){function bc(bh){return bh.toString().replace(/^([0-9])$/,"0$1")}if(!an(bf)||isNaN(bf)){return"Invalid date"}bg=N(bg,"%Y-%m-%d %H:%M:%S");bf=new Date(bf*Y);var bb=bf[aF](),ad=bf[al](),ab=bf[X](),V=bf[U](),L=bf[E](),y=v.lang,t=y.weekdays;y=y.months;bf={a:t[ad].substr(0,3),A:t[ad],d:bc(ab),e:ab,b:y[V].substr(0,3),B:y[V],m:bc(V+1),y:L.toString().substr(2,2),Y:L,H:bc(bb),I:bc(bb%12||12),l:bb%12||12,M:bc(bf[av]()),p:bb<12?"AM":"PM",P:bb<12?"am":"pm",S:bc(bf.getSeconds())};for(var bd in bf){bg=bg.replace("%"+bd,bf[bd])}return be?bg.substr(0,1).toUpperCase()+bg.substr(1):bg};aN.prototype={init:function(y,t){this.element=aE.createElementNS("http://www.w3.org/2000/svg",t);this.renderer=y},animate:function(y,t,L){if(t=N(t,aI,true)){t=u(t);if(L){t.complete=L}x(this,y,t)}else{this.attr(y);L&&L()}},attr:function(bg,bf){var be,bc,bb,ad,ab=this.element,V=ab.nodeName,L=this.renderer,y,t=this.shadows,bd,bh=this;if(aw(bg)&&an(bf)){be=bg;bg={};bg[be]=bf}if(aw(bg)){be=bg;if(V=="circle"){be={x:"cx",y:"cy"}[be]||be}else{if(be=="strokeWidth"){be="stroke-width"}}bh=f(ab,be)||this[be]||0;if(be!="d"&&be!="visibility"){bh=parseFloat(bh)}}else{for(be in bg){y=false;bc=bg[be];if(be=="d"){if(bc&&bc.join){bc=bc.join(" ")}if(/(NaN| {2}|^$)/.test(bc)){bc="M 0 0"}this.d=bc}else{if(be=="x"&&V=="text"){for(bb=0;bb<ab.childNodes.length;bb++){ad=ab.childNodes[bb];f(ad,"x")==f(ab,"x")&&f(ad,"x",bc)}if(this.rotation){f(ab,"transform","rotate("+this.rotation+" "+bc+" "+aa(bg.y||f(ab,"y"))+")")}}else{if(be=="fill"){bc=L.color(bc,ab,be)}else{if(V=="circle"&&(be=="x"||be=="y")){be={x:"cx",y:"cy"}[be]||be}else{if(be=="translateX"||be=="translateY"||be=="rotation"||be=="verticalAlign"){this[be]=bc;this.updateTransform();y=true}else{if(be=="stroke"){bc=L.color(bc,ab,be)}else{if(be=="dashstyle"){be="stroke-dasharray";if(bc){bc=bc.toLowerCase().replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(",");for(bb=bc.length;bb--;){bc[bb]=aa(bc[bb])*bg["stroke-width"]}bc=bc.join(",")}}else{if(be=="isTracker"){this[be]=bc}else{if(be=="width"){bc=aa(bc)}else{if(be=="align"){be="text-anchor";bc={left:"start",center:"middle",right:"end"}[bc]}}}}}}}}}}if(be=="strokeWidth"){be="stroke-width"}if(ak&&be=="stroke-width"&&bc===0){bc=0.000001}if(this.symbolName&&/^(x|y|r|start|end|innerR)/.test(be)){if(!bd){this.symbolAttr(bg);bd=true}y=true}if(t&&/^(width|height|visibility|x|y|d)$/.test(be)){for(bb=t.length;bb--;){f(t[bb],be,bc)}}if(be=="text"){this.textStr=bc;L.buildText(this)}else{y||f(ab,be,bc)}}}return bh},symbolAttr:function(t){this.x=N(t.x,this.x);this.y=N(t.y,this.y);this.r=N(t.r,this.r);this.start=N(t.start,this.start);this.end=N(t.end,this.end);this.width=N(t.width,this.width);this.height=N(t.height,this.height);this.innerR=N(t.innerR,this.innerR);this.attr({d:this.renderer.symbols[this.symbolName](this.x,this.y,this.r,{start:this.start,end:this.end,width:this.width,height:this.height,innerR:this.innerR})})},clip:function(t){return this.attr("clip-path","url("+this.renderer.url+"#"+t.id+")")},css:function(y){var t=this.element;if(y&&y.color){y.fill=y.color}y=aQ(this.styles,y);a1&&!a?q(this.element,y):this.attr({style:ah(y)});this.styles=y;y.width&&t.nodeName=="text"&&this.added&&this.renderer.buildText(this);return this},on:function(y,t){var L=t;if(a7&&y=="click"){y="touchstart";L=function(V){V.preventDefault();t()}}this.element["on"+y]=L;return this},translate:function(y,t){return this.attr({translateX:y,translateY:t})},invert:function(){this.inverted=true;this.updateTransform();return this},updateTransform:function(){var y=this.translateX||0,t=this.translateY||0,ab=this.inverted,V=this.rotation,L=[];if(ab){y+=this.attr("width");t+=this.attr("height")}if(y||t){L.push("translate("+y+","+t+")")}if(ab){L.push("rotate(90) scale(-1,1)")}else{V&&L.push("rotate("+V+" "+this.x+" "+this.y+")")}L.length&&f(this.element,"transform",L.join(" "))},toFront:function(){var t=this.element;t.parentNode.appendChild(t);return this},align:function(y,t,bc){if(y){this.alignOptions=y;this.alignByTranslate=t;bc||this.renderer.alignedObjects.push(this)}else{y=this.alignOptions;t=this.alignByTranslate}bc=N(bc,this.renderer);var bb=y.align,ad=y.verticalAlign,ab=(bc.x||0)+(y.x||0),V=(bc.y||0)+(y.y||0),L={};if(/^(right|center)$/.test(bb)){ab+=(bc.width-(y.width||0))/{right:1,center:2}[bb]}L[t?"translateX":"x"]=ab;if(/^(bottom|middle)$/.test(ad)){V+=(bc.height-(y.height||0))/({bottom:1,middle:2}[ad]||1)}L[t?"translateY":"y"]=V;this[this.placed?"animate":"attr"](L);this.placed=true;return this},getBBox:function(){var y,t,ad,ab=this.rotation,V=ab*aS;try{y=aQ({},this.element.getBBox())}catch(L){y={width:0,height:0}}t=y.width;ad=y.height;if(ab){y.width=aG(ad*aU(V))+aG(t*af(V));y.height=aG(ad*af(V))+aG(t*aU(V))}return y},show:function(){return this.attr({visibility:a2})},hide:function(){return this.attr({visibility:ay})},add:function(bd){var bc=this.renderer,bb=bd||bc,ad=bb.element||bc.box,ab=ad.childNodes,V=this.element,L=f(V,"zIndex"),y=this.textStr,t;this.parentInverted=bd&&bd.inverted;if(L){bb.handleZ=true;L=aa(L)}if(bb.handleZ){for(t=0;t<ab.length;t++){bd=ab[t];bb=f(bd,"zIndex");if(bd!=V&&(aa(bb)>L||!an(L)&&an(bb))){ad.insertBefore(V,bd);return this}}}if(y!==undefined){bc.buildText(this);this.added=true}ad.appendChild(V);return this},destroy:function(){var y=this.element||{},t=this.shadows,V=y.parentNode,L;y.onclick=y.onmouseout=y.onmouseover=y.onmousemove=null;b(this);V&&V.removeChild(y);t&&P(t,function(ab){(V=ab.parentNode)&&V.removeChild(ab)});aM(this.renderer.alignedObjects,this);for(L in this){delete this[L]}return null},empty:function(){for(var y=this.element,t=y.childNodes,L=t.length;L--;){y.removeChild(t[L])}},shadow:function(y){var t=[],ab,V=this.element,L=this.parentInverted?"(-1,-1)":"(1,1)";if(y){for(y=1;y<=3;y++){ab=V.cloneNode(0);f(ab,{isShadow:"true",stroke:"rgb(0, 0, 0)","stroke-opacity":0.05*y,"stroke-width":7-2*y,transform:"translate"+L,fill:aO});V.parentNode.insertBefore(ab,V);t.push(ab)}this.shadows=t}return this}};var aC=function(){this.init.apply(this,arguments)};aC.prototype={init:function(y,t,ab){var V=location,L;this.Element=aN;L=this.createElement("svg").attr({xmlns:"http://www.w3.org/2000/svg",version:"1.1"});y.appendChild(L.element);this.box=L.element;this.boxWrapper=L;this.alignedObjects=[];this.url=a1?"":V.href.replace(/#.*?$/,"");this.defs=this.createElement("defs").add();this.setSize(t,ab,false)},createElement:function(y){var t=new this.Element;t.init(this,y);return t},buildText:function(be){var bd=be.element,bc=N(be.textStr,"").toString().replace(/<(b|strong)>/g,'<span style="font-weight:bold">').replace(/<(i|em)>/g,'<span style="font-style:italic">').replace(/<a/g,"<span").replace(/<\/(b|strong|i|em|a)>/g,"</span>").split(/<br[^>]?>/g),bb=bd.childNodes,ad=/style="([^"]+)"/,ab=/href="([^"]+)"/,V=f(bd,"x"),L=(be=be.styles)&&aa(be.width),y=be&&be.lineHeight,t;for(be=bb.length;be--;){bd.removeChild(bb[be])}L&&this.box.appendChild(bd);P(bc,function(bj,bi){var bh,bf=0,bg;bj=bj.replace(/<span/g,"|||<span").replace(/<\/span>/g,"</span>|||");bh=bj.split("|||");P(bh,function(bm){if(bm!==""||bh.length==1){var bn={},bk=aE.createElementNS("http://www.w3.org/2000/svg","tspan");ad.test(bm)&&f(bk,"style",bm.match(ad)[1].replace(/(;| |^)color([ :])/,"$1fill$2"));if(ab.test(bm)){f(bk,"onclick",'location.href="'+bm.match(ab)[1]+'"');q(bk,{cursor:"pointer"})}bm=bm.replace(/<(.|\n)*?>/g,"")||" ";bk.appendChild(aE.createTextNode(bm));if(bf){bn.dx=3}else{bn.x=V}if(!bf){if(bi){bg=aa(window.getComputedStyle(t,null).getPropertyValue("line-height"));if(isNaN(bg)){bg=y||t.offsetHeight||18}f(bk,"dy",bg)}t=bk}f(bk,bn);bd.appendChild(bk);bf++;if(L){bm=bm.replace(/-/g,"- ").split(" ");for(var bo,bl=[];bm.length||bl.length;){bo=bd.getBBox().width;bn=bo>L;if(!bn||bm.length==1){bm=bl;bl=[];bk=aE.createElementNS("http://www.w3.org/2000/svg","tspan");f(bk,{x:V,dy:y||16});bd.appendChild(bk);if(bo>L){L=bo}}else{bk.removeChild(bk.firstChild);bl.unshift(bm.pop())}bk.appendChild(aE.createTextNode(bm.join(" ").replace(/- /g,"-")))}}}})})},crispLine:function(y,t){if(y[1]==y[4]){y[1]=y[4]=aj(y[1])+t%2/2}if(y[2]==y[5]){y[2]=y[5]=aj(y[2])+t%2/2}return y},path:function(t){return this.createElement("path").attr({d:t,fill:aO})},circle:function(y,t,L){y=Z(y)?y:{x:y,y:t,r:L};return this.createElement("circle").attr(y)},arc:function(y,t,ad,ab,V,L){if(Z(y)){t=y.y;ad=y.r;ab=y.innerR;V=y.start;L=y.end;y=y.x}return this.symbol("arc",y||0,t||0,ad||0,{innerR:ab||0,start:V||0,end:L||0})},rect:function(y,t,bb,ad,ab,V){if(arguments.length>1){var L=(V||0)%2/2;y=aj(y||0)+L;t=aj(t||0)+L;bb=aj((bb||0)-2*L);ad=aj((ad||0)-2*L)}L=Z(y)?y:{x:y,y:t,width:a8(bb,0),height:a8(ad,0)};return this.createElement("rect").attr(aQ(L,{rx:ab||L.r,ry:ab||L.r,fill:aO}))},setSize:function(y,t,ab){var V=this.alignedObjects,L=V.length;this.width=y;this.height=t;for(this.boxWrapper[N(ab,true)?"animate":"attr"]({width:y,height:t});L--;){V[L].align()}},g:function(t){return this.createElement("g").attr(an(t)&&{"class":ax+t})},image:function(y,t,ad,ab,V){var L={preserveAspectRatio:aO};arguments.length>1&&aQ(L,{x:t,y:ad,width:ab,height:V});L=this.createElement("image").attr(L);L.element.setAttributeNS("http://www.w3.org/1999/xlink","href",y);return L},symbol:function(y,t,bc,bb,ad){var ab,V=this.symbols[y];V=V&&V(t,bc,bb,ad);var L=/^url\((.*?)\)$/;if(V){ab=this.path(V);aQ(ab,{symbolName:y,x:t,y:bc,r:bb});ad&&aQ(ab,ad)}else{if(L.test(y)){y=y.match(L)[1];ab=this.image(y).attr({x:t,y:bc});j("img",{onload:function(){var bd=Q[this.src]||[this.width,this.height];ab.attr({width:bd[0],height:bd[1]}).translate(-aj(bd[0]/2),-aj(bd[1]/2))},src:y})}else{ab=this.circle(t,bc,bb)}}return ab},symbols:{square:function(y,t,L){L=0.707*L;return[O,y-L,t-L,aK,y+L,t-L,y+L,t+L,y-L,t+L,"Z"]},triangle:function(y,t,L){return[O,y,t-1.33*L,aK,y+L,t+0.67*L,y-L,t+0.67*L,"Z"]},"triangle-down":function(y,t,L){return[O,y,t+1.33*L,aK,y-L,t-0.67*L,y+L,t-0.67*L,"Z"]},diamond:function(y,t,L){return[O,y,t-L,aK,y+L,t,y,t+L,y-L,t,"Z"]},arc:function(be,bd,bc,bb){var ad=bb.start,ab=bb.end-0.000001,V=bb.innerR,L=af(ad),y=aU(ad),t=af(ab);ab=aU(ab);bb=bb.end-ad<aD?0:1;return[O,be+bc*L,bd+bc*y,"A",bc,bc,0,bb,1,be+bc*t,bd+bc*ab,aK,be+V*t,bd+V*ab,"A",V,V,0,bb,0,be+V*L,bd+V*y,"Z"]}},clipRect:function(y,t,ad,ab){var V=ax+W++,L=this.createElement("clipPath").attr({id:V}).add(this.defs);y=this.rect(y,t,ad,ab,0).add(L);y.id=V;return y},color:function(bd,bc,bb){var ad,ab=/^rgba/;if(bd&&bd.linearGradient){var V=this;bc=bd.linearGradient;bb=ax+W++;var L,y,t;L=V.createElement("linearGradient").attr({id:bb,gradientUnits:"userSpaceOnUse",x1:bc[0],y1:bc[1],x2:bc[2],y2:bc[3]}).add(V.defs);P(bd.stops,function(be){if(ab.test(be[1])){ad=ai(be[1]);y=ad.get("rgb");t=ad.get("a")}else{y=be[1];t=1}V.createElement("stop").attr({offset:be[0],"stop-color":y,"stop-opacity":t}).add(L)});return"url("+this.url+"#"+bb+")"}else{if(ab.test(bd)){ad=ai(bd);f(bc,bb+"-opacity",ad.get("a"));return ad.get("rgb")}else{return bd}}},text:function(y,t,V){var L=v.chart.style;t=aj(N(t,0));V=aj(N(V,0));y=this.createElement("text").attr({x:t,y:V,text:y}).css({"font-family":L.fontFamily,"font-size":L.fontSize});y.x=t;y.y=V;return y}};var G;if(!a){var aY=s(aN,{init:function(y,t){var V=["<",t,' filled="f" stroked="f"'],L=["position: ",a4,";"];if(t=="shape"||t==p){L.push("left:0;top:0;width:10px;height:10px;")}if(aT){L.push("visibility: ",t==p?ay:a2)}V.push(' style="',L.join(""),'"/>');if(t){V=t==p||t=="span"||t=="img"?V.join(""):y.prepVML(V);this.element=j(V)}this.renderer=y},add:function(y){var t=this.renderer,V=this.element,L=t.box;L=y?y.element||y:L;y&&y.inverted&&t.invertChild(V,L);aT&&L.gVis==ay&&q(V,{visibility:ay});L.appendChild(V);this.added=true;this.alignOnAdd&&this.updateTransform();return this},attr:function(bh,bg){var bf,bd,bc,bb=this.element||{},ad=bb.style,ab=bb.nodeName,V=this.renderer,L=this.symbolName,t,be,bi=this.shadows,y=this;if(aw(bh)&&an(bg)){bf=bh;bh={};bh[bf]=bg}if(aw(bh)){bf=bh;y=bf=="strokeWidth"||bf=="stroke-width"?this.strokeweight:this[bf]}else{for(bf in bh){bd=bh[bf];t=false;if(L&&/^(x|y|r|start|end|width|height|innerR)/.test(bf)){if(!be){this.symbolAttr(bh);be=true}t=true}else{if(bf=="d"){bd=bd||[];this.d=bd.join(" ");bc=bd.length;for(t=[];bc--;){t[bc]=am(bd[bc])?aj(bd[bc]*10)-5:bd[bc]=="Z"?"x":bd[bc]}bd=t.join(" ")||"x";bb.path=bd;if(bi){for(bc=bi.length;bc--;){bi[bc].path=bd}}t=true}else{if(bf=="zIndex"||bf=="visibility"){if(aT&&bf=="visibility"&&ab=="DIV"){bb.gVis=bd;t=bb.childNodes;for(bc=t.length;bc--;){q(t[bc],{visibility:bd})}if(bd==a2){bd=null}}if(bd){ad[bf]=bd}t=true}else{if(/^(width|height)$/.test(bf)){if(this.updateClipping){this[bf]=bd;this.updateClipping()}else{ad[bf]=bd}t=true}else{if(/^(x|y)$/.test(bf)){this[bf]=bd;if(bb.tagName=="SPAN"){this.updateTransform()}else{ad[{x:"left",y:"top"}[bf]]=bd}}else{if(bf=="class"){bb.className=bd}else{if(bf=="stroke"){bd=V.color(bd,bb,bf);bf="strokecolor"}else{if(bf=="stroke-width"||bf=="strokeWidth"){bb.stroked=bd?true:false;bf="strokeweight";this[bf]=bd;if(am(bd)){bd+=aX}}else{if(bf=="dashstyle"){(bb.getElementsByTagName("stroke")[0]||j(V.prepVML(["<stroke/>"]),null,null,bb))[bf]=bd||"solid";this.dashstyle=bd;t=true}else{if(bf=="fill"){if(ab=="SPAN"){ad.color=bd}else{bb.filled=bd!=aO?true:false;bd=V.color(bd,bb,bf);bf="fillcolor"}}else{if(bf=="translateX"||bf=="translateY"||bf=="rotation"||bf=="align"){if(bf=="align"){bf="textAlign"}this[bf]=bd;this.updateTransform();t=true}else{if(bf=="text"){bb.innerHTML=bd;t=true}}}}}}}}}}}}if(bi&&bf=="visibility"){for(bc=bi.length;bc--;){bi[bc].style[bf]=bd}}if(!t){if(aT){bb[bf]=bd}else{f(bb,bf,bd)}}}}return y},clip:function(y){var t=this,L=y.members;L.push(t);t.destroyClip=function(){aM(L,t)};return t.css(y.getCSS(t.inverted))},css:function(y){var t=this.element;(t=y&&y.width&&t.tagName=="SPAN")&&aQ(y,{display:"block",whiteSpace:"normal"});this.styles=aQ(this.styles,y);q(this.element,y);t&&this.updateTransform();return this},destroy:function(){this.destroyClip&&this.destroyClip();aN.prototype.destroy.apply(this)},empty:function(){for(var y=this.element.childNodes,t=y.length,L;t--;){L=y[t];L.parentNode.removeChild(L)}},getBBox:function(){var t=this.element;if(t.nodeName=="text"){t.style.position=a4}return{x:t.offsetLeft,y:t.offsetTop,width:t.offsetWidth,height:t.offsetHeight}},on:function(y,t){this.element["on"+y]=function(){var L=aq.event;L.target=L.srcElement;t(L)};return this},updateTransform:function(){if(this.added){var bj=this,bi=bj.element,bg=bj.translateX||0,be=bj.translateY||0,bd=bj.x||0,bc=bj.y||0,bb=bj.textAlign||"left",ad={left:0,center:0.5,right:1}[bb],ab=bb&&bb!="left";if(bg||be){bj.css({marginLeft:bg,marginTop:be})}bj.inverted&&P(bi.childNodes,function(bm){bj.renderer.invertChild(bm,bi)});if(bi.tagName=="SPAN"){var V,t;bg=bj.rotation;var bf;V=0;be=1;var bl=0,y,L=bj.xCorr||0,bh=bj.yCorr||0,bk=[bg,bb,bi.innerHTML,bi.style.width].join(",");if(bk!=bj.cTT){if(an(bg)){V=bg*aS;be=af(V);bl=aU(V);q(bi,{filter:bg?["progid:DXImageTransform.Microsoft.Matrix(M11=",be,", M12=",-bl,", M21=",bl,", M22=",be,", sizingMethod='auto expand')"].join(""):aO})}V=bi.offsetWidth;t=bi.offsetHeight;bf=aj(aa(bi.style.fontSize||12)*1.2);L=be<0&&-V;bh=bl<0&&-t;y=be*bl<0;L+=bl*bf*(y?1-ad:ad);bh-=be*bf*(bg?y?ad:1-ad:1);if(ab){L-=V*ad*(be<0?-1:1);if(bg){bh-=t*ad*(bl<0?-1:1)}q(bi,{textAlign:bb})}bj.xCorr=L;bj.yCorr=bh}q(bi,{left:bd+L,top:bc+bh});bj.cTT=bk}}else{this.alignOnAdd=true}},shadow:function(y){var t=[],bc=this.element,bb=this.renderer,ad,ab=bc.style,V,L=bc.path;if(""+bc.path===""){L="x"}if(y){for(y=1;y<=3;y++){V=['<shape isShadow="true" strokeweight="',7-2*y,'" filled="false" path="',L,'" coordsize="100,100" style="',bc.style.cssText,'" />'];ad=j(bb.prepVML(V),null,{left:aa(ab.left)+1,top:aa(ab.top)+1});V=['<stroke color="black" opacity="',0.05*y,'"/>'];j(bb.prepVML(V),null,null,ad);bc.parentNode.insertBefore(ad,bc);t.push(ad)}this.shadows=t}return this}});G=function(){this.init.apply(this,arguments)};G.prototype=u(aC.prototype,{isIE8:r.indexOf("MSIE 8.0")>-1,init:function(y,t,V){var L;this.Element=aY;this.alignedObjects=[];L=this.createElement(p);y.appendChild(L.element);this.box=L.element;this.boxWrapper=L;this.setSize(t,V,false);if(!aE.namespaces.hcv){aE.namespaces.add("hcv","urn:schemas-microsoft-com:vml");aE.createStyleSheet().cssText="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } "}},clipRect:function(y,t,ab,V){var L=this.createElement();return aQ(L,{members:[],left:y,top:t,width:ab,height:V,getCSS:function(be){var bd=this.top,bc=this.left,bb=bc+this.width,ad=bd+this.height;bd={clip:"rect("+aj(be?bc:bd)+"px,"+aj(be?ad:bb)+"px,"+aj(be?bb:ad)+"px,"+aj(be?bd:bc)+"px)"};!be&&aT&&aQ(bd,{width:bb+aX,height:ad+aX});return bd},updateClipping:function(){P(L.members,function(ad){ad.css(L.getCSS(ad.inverted))})}})},color:function(bg,bf,be){var bc,bb=/^rgba/;if(bg&&bg.linearGradient){var ad,ab,V=bg.linearGradient,L,y,t,bd;P(bg.stops,function(bi,bh){if(bb.test(bi[1])){bc=ai(bi[1]);ad=bc.get("rgb");ab=bc.get("a")}else{ad=bi[1];ab=1}if(bh){t=ad;bd=ab}else{L=ad;y=ab}});bg=90-aV.atan((V[3]-V[1])/(V[2]-V[0]))*180/aD;be=["<",be,' colors="0% ',L,",100% ",t,'" angle="',bg,'" opacity="',bd,'" o:opacity2="',y,'" type="gradient" focus="100%" />'];j(this.prepVML(be),null,null,bf)}else{if(bb.test(bg)&&bf.tagName!="IMG"){bc=ai(bg);be=["<",be,' opacity="',bc.get("a"),'"/>'];j(this.prepVML(be),null,null,bf);return bc.get("rgb")}else{return bg}}},prepVML:function(y){var t=this.isIE8;y=y.join("");if(t){y=y.replace("/>",' xmlns="urn:schemas-microsoft-com:vml" />');y=y.indexOf('style="')==-1?y.replace("/>",' style="display:inline-block;behavior:url(#default#VML);" />'):y.replace('style="','style="display:inline-block;behavior:url(#default#VML);')}else{y=y.replace("<","<hcv:")}return y},text:function(y,t,V){var L=v.chart.style;return this.createElement("span").attr({text:y,x:aj(t),y:aj(V)}).css({whiteSpace:"nowrap",fontFamily:L.fontFamily,fontSize:L.fontSize})},path:function(t){return this.createElement("shape").attr({coordsize:"100 100",d:t})},circle:function(y,t,L){return this.path(this.symbols.circle(y,t,L))},g:function(y){var t;if(y){t={className:ax+y,"class":ax+y}}return this.createElement(p).attr(t)},image:function(y,t,ad,ab,V){var L=this.createElement("img").attr({src:y});arguments.length>1&&L.css({left:t,top:ad,width:ab,height:V});return L},rect:function(y,t,bb,ad,ab,V){if(arguments.length>1){var L=(V||0)%2/2;y=aj(y||0)+L;t=aj(t||0)+L;bb=aj((bb||0)-2*L);ad=aj((ad||0)-2*L)}if(Z(y)){t=y.y;bb=y.width;ad=y.height;ab=y.r;y=y.x}return this.symbol("rect",y||0,t||0,ab||0,{width:bb||0,height:ad||0})},invertChild:function(y,t){var L=t.style;q(y,{flip:"x",left:aa(L.width)-10,top:aa(L.height)-10,rotation:-90})},symbols:{arc:function(be,bd,bc,bb){var ad=bb.start,ab=bb.end,V=af(ad),L=aU(ad),y=af(ab),t=aU(ab);bb=bb.innerR;if(ab-ad===0){return["x"]}else{if(ab-ad==2*aD){y=-0.07/bc}}return["wa",be-bc,bd-bc,be+bc,bd+bc,be+bc*V,bd+bc*L,be+bc*y,bd+bc*t,"at",be-bb,bd-bb,be+bb,bd+bb,be+bb*y,bd+bb*t,be+bb*V,bd+bb*L,"x","e"]},circle:function(y,t,L){return["wa",y-L,t-L,y+L,t+L,y+L,t,y+L,t,"e"]},rect:function(y,t,bb,ad){var ab=ad.width;ad=ad.height;var V=y+ab,L=t+ad;bb=au(bb,ab,ad);return[O,y+bb,t,aK,V-bb,t,"wa",V-2*bb,t,V,t+2*bb,V-bb,t,V,t+bb,aK,V,L-bb,"wa",V-2*bb,L-2*bb,V,L,V,L-bb,V-bb,L,aK,y+bb,L,"wa",y,L-2*bb,y+2*bb,L,y+bb,L,y,L-bb,aK,y,t+bb,"wa",y,t,y+2*bb,t+2*bb,y,t+bb,y+bb,t,"x","e"]}}})}var H=a?aC:G;aL.prototype.callbacks=[];var aA=function(){};aA.prototype={init:function(y,t){var L;this.series=y;this.applyOptions(t);this.pointAttr={};if(y.options.colorByPoint){L=y.chart.options.colors;if(!this.options){this.options={}}this.color=this.options.color=this.color||L[aP++];if(aP>=L.length){aP=0}}y.chart.pointCount++;return this},applyOptions:function(y){var t=this.series;this.config=y;if(am(y)||y===null){this.y=y}else{if(Z(y)&&!am(y.length)){aQ(this,y);this.options=y}else{if(aw(y[0])){this.name=y[0];this.y=y[1]}else{if(am(y[0])){this.x=y[0];this.y=y[1]}}}}if(this.x===J){this.x=t.autoIncrement()}},destroy:function(){var y=this,t=y.series,L;t.chart.pointCount--;y==t.chart.hoverPoint&&y.onMouseOut();t.chart.hoverPoints=null;aJ(y);P(["graphic","tracker","group","dataLabel","connector"],function(V){y[V]&&y[V].destroy()});y.legendItem&&y.series.chart.legend.destroyItem(y);for(L in y){y[L]=null}},select:function(y,t){var V=this,L=V.series.chart;V.selected=y=N(y,!V.selected);V.firePointEvent(y?"select":"unselect");V.setState(y&&"select");t||P(L.getSelectedPoints(),function(ab){if(ab.selected&&ab!=V){ab.selected=false;ab.setState(S);ab.firePointEvent("unselect")}})},onMouseOver:function(){var y=this.series.chart,t=y.tooltip,L=y.hoverPoint;L&&L!=this&&L.onMouseOut();this.firePointEvent("mouseOver");t&&!t.shared&&t.refresh(this);this.setState(e);y.hoverPoint=this},onMouseOut:function(){this.firePointEvent("mouseOut");this.setState();this.series.chart.hoverPoint=null},tooltipFormatter:function(y){var t=this.series;return['<span style="color:'+t.color+'">',this.name||t.name,"</span>: ",!y?"<b>x = "+(this.name||this.x)+",</b> ":"","<b>",!y?"y = ":"",this.y,"</b><br/>"].join("")},update:function(y,t,ad){var ab=this,V=ab.series,L=V.chart;F(ad,L);t=N(t,true);ab.firePointEvent("update",{options:y},function(){ab.applyOptions(y);V.isDirty=true;t&&L.redraw()})},remove:function(y,t){var ad=this,ab=ad.series,V=ab.chart,L=ab.data;F(t,V);y=N(y,true);ad.firePointEvent("remove",null,function(){aM(L,ad);ad.destroy();ab.isDirty=true;y&&V.redraw()})},firePointEvent:function(y,t,ab){var V=this,L=this.series.options;if(L.point.events[y]||V.options&&V.options.events&&V.options.events[y]){this.importEvents()}if(y=="click"&&L.allowPointSelect){ab=function(ad){V.select(null,ad.ctrlKey||ad.metaKey||ad.shiftKey)}}ac(this,y,t,ab)},importEvents:function(){if(!this.hasImportedEvents){var y=u(this.series.options.point,this.options).events,t;this.events=y;for(t in y){ag(this,t,y[t])}this.hasImportedEvents=true}},setState:function(bd){var bc=this.series,bb=bc.options.states,ad=I[bc.type].marker&&bc.options.marker,ab=ad&&!ad.enabled,V=(ad=ad&&ad.states[bd])&&ad.enabled===false,L=bc.stateMarkerGraphic,y=bc.chart,t=this.pointAttr;bd||(bd=S);if(!(bd==this.state||this.selected&&bd!="select"||bb[bd]&&bb[bd].enabled===false||bd&&(V||ab&&!ad.enabled))){if(this.graphic){this.graphic.attr(t[bd])}else{if(bd){if(!L){bc.stateMarkerGraphic=L=y.renderer.circle(0,0,t[bd].r).attr(t[bd]).add(bc.group)}L.translate(this.plotX,this.plotY)}if(L){L[bd?"show":"hide"]()}}this.state=bd}}};var a5=function(){};a5.prototype={isCartesian:true,type:"line",pointClass:aA,pointAttrToOptions:{stroke:"lineColor","stroke-width":"lineWidth",fill:"fillColor",r:"radius"},init:function(y,t){var V,L;L=y.series.length;this.chart=y;t=this.setOptions(t);aQ(this,{index:L,options:t,name:t.name||"Series "+(L+1),state:S,pointAttr:{},visible:t.visible!==false,selected:t.selected===true});L=t.events;for(V in L){ag(this,V,L[V])}if(L&&L.click||t.point&&t.point.events&&t.point.events.click||t.allowPointSelect){y.runTrackerClick=true}this.getColor();this.getSymbol();this.setData(t.data,false)},autoIncrement:function(){var y=this.options,t=this.xIncrement;t=N(t,y.pointStart,0);this.pointInterval=N(this.pointInterval,y.pointInterval,1);this.xIncrement=t+this.pointInterval;return t},cleanData:function(){var y=this.chart,t=this.data,bb,ad,ab=y.smallestInterval,V,L;t.sort(function(bd,bc){return bd.x-bc.x});for(L=t.length-1;L>=0;L--){t[L-1]&&t[L-1].x==t[L].x&&t.splice(L-1,1)}for(L=t.length-1;L>=0;L--){if(t[L-1]){V=t[L].x-t[L-1].x;if(ad===J||V<ad){ad=V;bb=L}}}if(ab===J||ad<ab){y.smallestInterval=ad}this.closestPoints=bb},getSegments:function(){var y=-1,t=[],L=this.data;P(L,function(ab,V){if(ab.y===null){V>y+1&&t.push(L.slice(y+1,V));y=V}else{V==L.length-1&&t.push(L.slice(y+1,V+1))}});this.segments=t},setOptions:function(y){var t=this.chart.options.plotOptions;return u(t[this.type],t.series,y)},getColor:function(){var t=this.chart.options.colors;this.color=this.options.color||t[aP++]||"#0000ff";if(aP>=t.length){aP=0}},getSymbol:function(){var t=this.chart.options.symbols;this.symbol=this.options.marker.symbol||t[M++];if(M>=t.length){M=0}},addPoint:function(y,t,bc,bb){var ad=this.data,ab=this.graph,V=this.area,L=this.chart;y=(new this.pointClass).init(this,y);F(bb,L);if(ab&&bc){ab.shift=bc}if(V){V.shift=bc;V.isArea=true}t=N(t,true);ad.push(y);bc&&ad[0].remove(false);this.isDirty=true;t&&L.redraw()},setData:function(y,t){var bb=this,ad=bb.data,ab=bb.initialColor,V=bb.chart,L=ad&&ad.length||0;bb.xIncrement=null;if(an(ab)){aP=ab}for(y=C(at(y||[]),function(bc){return(new bb.pointClass).init(bb,bc)});L--;){ad[L].destroy()}bb.data=y;bb.cleanData();bb.getSegments();bb.isDirty=true;V.isDirtyBox=true;N(t,true)&&V.redraw(false)},remove:function(y,t){var V=this,L=V.chart;y=N(y,true);if(!V.isRemoving){V.isRemoving=true;ac(V,"remove",null,function(){V.destroy();L.isDirtyLegend=L.isDirtyBox=true;y&&L.redraw(t)})}V.isRemoving=false},translate:function(){for(var bf=this.chart,be=this.options.stacking,bd=this.xAxis.categories,bc=this.yAxis,bb=this.data,ad=bb.length;ad--;){var ab=bb[ad],V=ab.x,L=ab.y,y=ab.low,t=bc.stacks[(L<0?"-":"")+this.stackKey];ab.plotX=this.xAxis.translate(V);if(be&&this.visible&&t[V]){y=t[V];V=y.total;y.cum=y=y.cum-L;L=y+L;if(be=="percent"){y=V?y*100/V:0;L=V?L*100/V:0}ab.percentage=V?ab.y*100/V:0;ab.stackTotal=V}if(an(y)){ab.yBottom=bc.translate(y,0,1)}if(L!==null){ab.plotY=bc.translate(L,0,1)}ab.clientX=bf.inverted?bf.plotHeight-ab.plotX:ab.plotX;ab.category=bd&&bd[ab.x]!==J?bd[ab.x]:ab.x}},setTooltipPoints:function(y){var t=this.chart,bc=t.inverted,bb=[],ad=aj((bc?t.plotTop:t.plotLeft)+t.plotSizeX),ab,V,L=[];if(y){this.tooltipPoints=null}P(this.segments,function(bd){bb=bb.concat(bd)});if(this.xAxis&&this.xAxis.reversed){bb=bb.reverse()}P(bb,function(be,bd){ab=bb[bd-1]?bb[bd-1].high+1:0;for(V=be.high=bb[bd+1]?ba((be.plotX+(bb[bd+1]?bb[bd+1].plotX:ad))/2):ad;ab<=V;){L[bc?ad-ab++:ab++]=be}});this.tooltipPoints=L},onMouseOver:function(){var y=this.chart,t=y.hoverSeries;if(!(!a7&&y.mouseIsDown)){t&&t!=this&&t.onMouseOut();this.options.events.mouseOver&&ac(this,"mouseOver");this.tracker&&this.tracker.toFront();this.setState(e);y.hoverSeries=this}},onMouseOut:function(){var y=this.options,t=this.chart,V=t.tooltip,L=t.hoverPoint;L&&L.onMouseOut();this&&y.events.mouseOut&&ac(this,"mouseOut");V&&!y.stickyTracking&&V.hide();this.setState();t.hoverSeries=null},animate:function(y){var t=this.chart,V=this.clipRect,L=this.options.animation;if(L&&!Z(L)){L={}}if(y){if(!V.isAnimating){V.attr("width",0);V.isAnimating=true}}else{V.animate({width:t.plotSizeX},L);this.animate=null}},drawPoints:function(){var bd,bc=this.data,bb=this.chart,ad,ab,V,L,y,t;if(this.options.marker.enabled){for(V=bc.length;V--;){L=bc[V];ad=L.plotX;ab=L.plotY;t=L.graphic;if(ab!==J&&!isNaN(ab)){bd=L.pointAttr[L.selected?"select":S];y=bd.r;if(t){t.animate({x:ad,y:ab,r:y})}else{L.graphic=bb.renderer.symbol(N(L.marker&&L.marker.symbol,this.symbol),ad,ab,y).attr(bd).add(this.group)}}}}},convertAttribs:function(y,t,bc,bb){var ad=this.pointAttrToOptions,ab,V,L={};y=y||{};t=t||{};bc=bc||{};bb=bb||{};for(ab in ad){V=ad[ab];L[ab]=N(y[V],t[ab],bc[ab],bb[ab])}return L},getAttribs:function(){var bg=this,bf=I[bg.type].marker?bg.options.marker:bg.options,be=bf.states,bc=be[e],bb,ad=bg.color,ab={stroke:ad,fill:ad},V=bg.data,L=[],y,t=bg.pointAttrToOptions;if(bg.options.marker){bc.radius=bc.radius||bf.radius+2;bc.lineWidth=bc.lineWidth||bf.lineWidth+1}else{bc.color=bc.color||ai(bc.color||ad).brighten(bc.brightness).get()}L[S]=bg.convertAttribs(bf,ab);P([e,"select"],function(bh){L[bh]=bg.convertAttribs(be[bh],L[S])});bg.pointAttr=L;for(ad=V.length;ad--;){ab=V[ad];if((bf=ab.options&&ab.options.marker||ab.options)&&bf.enabled===false){bf.radius=0}bb=false;if(ab.options){for(var bd in t){if(an(bf[t[bd]])){bb=true}}}if(bb){y=[];be=bf.states||{};bb=be[e]=be[e]||{};if(!bg.options.marker){bb.color=ai(bb.color||ab.options.color).brighten(bb.brightness||bc.brightness).get()}y[S]=bg.convertAttribs(bf,L[S]);y[e]=bg.convertAttribs(be[e],L[e],y[S]);y.select=bg.convertAttribs(be.select,L.select,y[S])}else{y=L}ab.pointAttr=y}},destroy:function(){var y=this,t=y.chart,ab=/\/5[0-9\.]+ Safari\//.test(r),V,L;aJ(y);y.legendItem&&y.chart.legend.destroyItem(y);P(y.data,function(ad){ad.destroy()});P(["area","graph","dataLabelsGroup","group","tracker"],function(ad){if(y[ad]){V=ab&&ad=="group"?"hide":"destroy";y[ad][V]()}});if(t.hoverSeries==y){t.hoverSeries=null}aM(t.series,y);for(L in y){delete y[L]}},drawDataLabels:function(){if(this.options.dataLabels.enabled){var bf=this,be,bd,bc=bf.data,bb=bf.options.dataLabels,ad,ab=bf.dataLabelsGroup,V=bf.chart,L=V.inverted,y=bf.type,t;if(!ab){ab=bf.dataLabelsGroup=V.renderer.g(ax+"data-labels").attr({visibility:bf.visible?a2:ay,zIndex:5}).translate(V.plotLeft,V.plotTop).add()}t=bb.color;if(t=="auto"){t=null}bb.style.color=N(t,bf.color);P(bc,function(bk){var bj=bk.barX;bj=bj&&bj+bk.barW/2||bk.plotX||-999;var bh=N(bk.plotY,-999),bi=bk.dataLabel,bg=bb.align;ad=bb.formatter.call({x:bk.x,y:bk.y,series:bf,point:bk,percentage:bk.percentage,total:bk.total||bk.stackTotal});be=(L?V.plotWidth-bh:bj)+bb.x;bd=(L?V.plotHeight-bj:bh)+bb.y;if(y=="column"){be+={left:-1,right:1}[bg]*bk.barW/2||0}if(bi){bi.animate({x:be,y:bd})}else{if(ad){bi=bk.dataLabel=V.renderer.text(ad,be,bd).attr({align:bg,rotation:bb.rotation,zIndex:1}).css(bb.style).add(ab)}}L&&!bb.y&&bi.attr({y:bd+parseInt(bi.styles.lineHeight)*0.9-bi.getBBox().height/2})})}},drawGraph:function(){var bj=this,bi=bj.options,bg=bj.graph,be=[],bd,bc=bj.area,bb=bj.group,ad=bi.lineColor||bj.color,ab=bi.lineWidth,V=bi.dashStyle,t,bf=bj.chart.renderer,bk=bj.yAxis.getThreshold(bi.threshold||0),y=/^area/.test(bj.type),L=[],bh=[];P(bj.segments,function(bn){t=[];P(bn,function(bp,bq){if(bj.getPointSpline){t.push.apply(t,bj.getPointSpline(bn,bp,bq))}else{t.push(bq?aK:O);bq&&bi.step&&t.push(bp.plotX,bn[bq-1].plotY);t.push(bp.plotX,bp.plotY)}});if(bn.length>1){be=be.concat(t)}else{L.push(bn[0])}if(y){var bl=[],bo,bm=t.length;for(bo=0;bo<bm;bo++){bl.push(t[bo])}bm==3&&bl.push(aK,t[1],t[2]);if(bi.stacking&&bj.type!="areaspline"){for(bo=bn.length-1;bo>=0;bo--){bl.push(bn[bo].plotX,bn[bo].yBottom)}}else{bl.push(aK,bn[bn.length-1].plotX,bk,aK,bn[0].plotX,bk)}bh=bh.concat(bl)}});bj.graphPath=be;bj.singlePoints=L;if(y){bd=N(bi.fillColor,ai(bj.color).setOpacity(bi.fillOpacity||0.75).get());if(bc){bc.animate({d:bh})}else{bj.area=bj.chart.renderer.path(bh).attr({fill:bd}).add(bb)}}if(bg){bg.animate({d:be})}else{if(ab){bg={stroke:ad,"stroke-width":ab};if(V){bg.dashstyle=V}bj.graph=bf.path(be).attr(bg).add(bb).shadow(bi.shadow)}}},render:function(){var y=this,t=y.chart,bc,bb,ad=y.options,ab=ad.animation,V=ab&&y.animate;ab=V?ab&&ab.duration||500:0;var L=y.clipRect;bb=t.renderer;if(!L){L=y.clipRect=!t.hasRendered&&t.clipRect?t.clipRect:bb.clipRect(0,0,t.plotSizeX,t.plotSizeY);if(!t.clipRect){t.clipRect=L}}if(!y.group){bc=y.group=bb.g("series");if(t.inverted){bb=function(){bc.attr({width:t.plotWidth,height:t.plotHeight}).invert()};bb();ag(t,"resize",bb)}bc.clip(y.clipRect).attr({visibility:y.visible?a2:ay,zIndex:ad.zIndex}).translate(t.plotLeft,t.plotTop).add(t.seriesGroup)}y.drawDataLabels();V&&y.animate(true);y.getAttribs();y.drawGraph&&y.drawGraph();y.drawPoints();y.options.enableMouseTracking!==false&&y.drawTracker();V&&y.animate();setTimeout(function(){L.isAnimating=false;if((bc=y.group)&&L!=t.clipRect&&L.renderer){bc.clip(y.clipRect=t.clipRect);L.destroy()}},ab);y.isDirty=false},redraw:function(){var y=this.chart,t=this.group;if(t){y.inverted&&t.attr({width:y.plotWidth,height:y.plotHeight});t.animate({translateX:y.plotLeft,translateY:y.plotTop})}this.translate();this.setTooltipPoints(true);this.render()},setState:function(y){var t=this.options,V=this.graph,L=t.states;t=t.lineWidth;y=y||S;if(this.state!=y){this.state=y;if(!(L[y]&&L[y].enabled===false)){if(y){t=L[y].lineWidth||t+1}if(V&&!V.dashstyle){V.attr({"stroke-width":t},y?0:500)}}}},setVisible:function(be,bd){var bc=this.chart,bb=this.legendItem,ad=this.group,ab=this.tracker,V=this.dataLabelsGroup,L,y=this.data,t=bc.options.chart.ignoreHiddenSeries;L=this.visible;L=(this.visible=be=be===J?!L:be)?"show":"hide";ad&&ad[L]();if(ab){ab[L]()}else{for(ad=y.length;ad--;){ab=y[ad];ab.tracker&&ab.tracker[L]()}}V&&V[L]();bb&&bc.legend.colorizeItem(this,be);this.isDirty=true;this.options.stacking&&P(bc.series,function(bf){if(bf.options.stacking&&bf.visible){bf.isDirty=true}});if(t){bc.isDirtyBox=true}bd!==false&&bc.redraw();ac(this,L)},show:function(){this.setVisible(true)},hide:function(){this.setVisible(false)},select:function(t){this.selected=t=t===J?!this.selected:t;if(this.checkbox){this.checkbox.checked=t}ac(this,t?"select":"unselect")},drawTracker:function(){var be=this,bd=be.options,bc=[].concat(be.graphPath),bb=bc.length,ad=be.chart,ab=ad.options.tooltip.snap,V=be.tracker,L=bd.cursor;L=L&&{cursor:L};var y=be.singlePoints,t;if(bb){for(t=bb+1;t--;){bc[t]==O&&bc.splice(t+1,0,bc[t+1]-ab,bc[t+2],aK);if(t&&bc[t]==O||t==bb){bc.splice(t,0,aK,bc[t-2]+ab,bc[t-1])}}}for(t=0;t<y.length;t++){bb=y[t];bc.push(O,bb.plotX-ab,bb.plotY,aK,bb.plotX+ab,bb.plotY)}if(V){V.attr({d:bc})}else{be.tracker=ad.renderer.path(bc).attr({isTracker:true,stroke:aB,fill:aO,"stroke-width":bd.lineWidth+2*ab,visibility:be.visible?a2:ay,zIndex:1}).on(a7?"touchstart":"mouseover",function(){ad.hoverSeries!=be&&be.onMouseOver()}).on("mouseout",function(){bd.stickyTracking||be.onMouseOut()}).css(L).add(ad.trackerGroup)}}};G=s(a5);aR.line=G;G=s(a5,{type:"area"});aR.area=G;G=s(a5,{type:"spline",getPointSpline:function(bg,bf,be){var bc=bf.plotX,bb=bf.plotY,ad=bg[be-1],ab=bg[be+1],V,L,y,t;if(be&&be<bg.length-1){bg=ad.plotY;y=ab.plotX;ab=ab.plotY;var bd;V=(1.5*bc+ad.plotX)/2.5;L=(1.5*bb+bg)/2.5;y=(1.5*bc+y)/2.5;t=(1.5*bb+ab)/2.5;bd=(t-L)*(y-bc)/(y-V)+bb-t;L+=bd;t+=bd;if(L>bg&&L>bb){L=a8(bg,bb);t=2*bb-L}else{if(L<bg&&L<bb){L=au(bg,bb);t=2*bb-L}}if(t>ab&&t>bb){t=a8(ab,bb);L=2*bb-t}else{if(t<ab&&t<bb){t=au(ab,bb);L=2*bb-t}}bf.rightContX=y;bf.rightContY=t}if(be){bf=["C",ad.rightContX||ad.plotX,ad.rightContY||ad.plotY,V||bc,L||bb,bc,bb];ad.rightContX=ad.rightContY=null}else{bf=[O,bc,bb]}return bf}});aR.spline=G;G=s(G,{type:"areaspline"});aR.areaspline=G;var aW=s(a5,{type:"column",pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color",r:"borderRadius"},init:function(){a5.prototype.init.apply(this,arguments);var y=this,t=y.chart;t.hasColumn=true;t.hasRendered&&P(t.series,function(L){if(L.type==y.type){L.isDirty=true}})},translate:function(){var bj=this,bi=bj.chart,bg=0,be=bj.xAxis.reversed,bd=bj.xAxis.categories,bc={},bb,ad;a5.prototype.translate.apply(bj);P(bi.series,function(bm){if(bm.type==bj.type){if(bm.options.stacking){bb=bm.stackKey;if(bc[bb]===J){bc[bb]=bg++}ad=bc[bb]}else{ad=bg++}bm.columnIndex=ad}});var ab=bj.options,V=bj.data,t=bj.closestPoints;bi=aG(V[1]?V[t].plotX-V[t-1].plotX:bi.plotSizeX/(bd?bd.length:1));bd=bi*ab.groupPadding;t=(bi-2*bd)/bg;var bf=ab.pointWidth,bl=an(bf)?(t-bf)/2:t*ab.pointPadding,y=N(bf,t-2*bl),L=bl+(bd+((be?bg-bj.columnIndex:bj.columnIndex)||0)*t-bi/2)*(be?-1:1),bh=bj.yAxis.getThreshold(ab.threshold||0),bk=N(ab.minPointLength,5);P(V,function(bm){var bs=bm.plotY,bn=bm.yBottom||bh,bp=bm.plotX+L,br=A(au(bs,bn)),bq=A(a8(bs,bn)-br),bo;if(aG(bq)<bk){if(bk){bq=bk;br=aG(br-bh)>bk?bn-bk:bh-(bs<=bh?bk:0)}bo=br-3}aQ(bm,{barX:bp,barY:br,barW:y,barH:bq});bm.shapeType="rect";bm.shapeArgs={x:bp,y:br,width:y,height:bq,r:ab.borderRadius};bm.trackerArgs=an(bo)&&u(bm.shapeArgs,{height:a8(6,bq+3),y:bo})})},getSymbol:function(){},drawGraph:function(){},drawPoints:function(){var y=this,t=y.options,ab=y.chart.renderer,V,L;P(y.data,function(bb){var ad=bb.plotY;if(ad!==J&&!isNaN(ad)){V=bb.graphic;L=bb.shapeArgs;if(V){b(V);V.animate(L)}else{bb.graphic=ab[bb.shapeType](L).attr(bb.pointAttr[bb.selected?"select":S]).add(y.group).shadow(t.shadow)}}})},drawTracker:function(){var bd=this,bc=bd.chart,bb=bc.renderer,ad,ab,V=+new Date,L=bd.options.cursor,y=L&&{cursor:L},t;P(bd.data,function(be){ab=be.tracker;ad=be.trackerArgs||be.shapeArgs;if(be.y!==null){if(ab){ab.attr(ad)}else{be.tracker=bb[be.shapeType](ad).attr({isTracker:V,fill:aB,visibility:bd.visible?a2:ay,zIndex:1}).on(a7?"touchstart":"mouseover",function(bf){t=bf.relatedTarget||bf.fromElement;bc.hoverSeries!=bd&&f(t,"isTracker")!=V&&bd.onMouseOver();be.onMouseOver()}).on("mouseout",function(bf){if(!bd.options.stickyTracking){t=bf.relatedTarget||bf.toElement;f(t,"isTracker")!=V&&bd.onMouseOut()}}).css(y).add(bc.trackerGroup)}}})},animate:function(y){var t=this,L=t.data;if(!y){P(L,function(ab){var V=ab.graphic;if(V){V.attr({height:0,y:t.yAxis.translate(0,0,1)});V.animate({height:ab.barH,y:ab.barY},t.options.animation)}});t.animate=null}},remove:function(){var y=this,t=y.chart;t.hasRendered&&P(t.series,function(L){if(L.type==y.type){L.isDirty=true}});a5.prototype.remove.apply(y,arguments)}});aR.column=aW;G=s(aW,{type:"bar",init:function(t){t.inverted=this.inverted=true;aW.prototype.init.apply(this,arguments)}});aR.bar=G;G=s(a5,{type:"scatter",translate:function(){var t=this;a5.prototype.translate.apply(t);P(t.data,function(y){y.shapeType="circle";y.shapeArgs={x:y.plotX,y:y.plotY,r:t.chart.options.tooltip.snap}})},drawTracker:function(){var y=this,t=y.options.cursor,V=t&&{cursor:t},L;P(y.data,function(ab){(L=ab.graphic)&&L.attr({isTracker:true}).on("mouseover",function(){y.onMouseOver();ab.onMouseOver()}).on("mouseout",function(){y.options.stickyTracking||y.onMouseOut()}).css(V)})},cleanData:function(){}});aR.scatter=G;G=s(aA,{init:function(){aA.prototype.init.apply(this,arguments);var y=this,t;aQ(y,{visible:y.visible!==false,name:N(y.name,"Slice")});t=function(){y.slice()};ag(y,"select",t);ag(y,"unselect",t);return y},setVisible:function(y){var t=this.series.chart,ad=this.tracker,ab=this.dataLabel,V=this.connector,L;L=(this.visible=y=y===J?!this.visible:y)?"show":"hide";this.group[L]();ad&&ad[L]();ab&&ab[L]();V&&V[L]();this.legendItem&&t.legend.colorizeItem(this,y)},slice:function(y,t,ab){var V=this.series.chart,L=this.slicedTranslation;F(ab,V);N(t,true);y=this.sliced=an(y)?y:!this.sliced;this.group.animate({translateX:y?L[0]:V.plotLeft,translateY:y?L[1]:V.plotTop})}});G=s(a5,{type:"pie",isCartesian:false,pointClass:G,pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color"},getColor:function(){this.initialColor=aP},animate:function(){var t=this;P(t.data,function(y){var V=y.graphic;y=y.shapeArgs;var L=-aD/2;if(V){V.attr({r:0,start:L,end:L});V.animate({r:y.r,start:y.start,end:y.end},t.options.animation)}});t.animate=null},translate:function(){var bo=0,bn=-0.25,bm=this.options,bl=bm.slicedOffset,bk=bl+bm.borderWidth,bj=bm.center,bi=this.chart,bh=bi.plotWidth,bg=bi.plotHeight,bf,bd,ab,bb=this.data,be=2*aD,y,V=au(bh,bg),ad,bc,L,t=bm.dataLabels.distance;bj.push(bm.size,bm.innerSize||0);bj=C(bj,function(bp,bq){return(ad=/%$/.test(bp))?[bh,bg,V,V][bq]*aa(bp)/100:bp});this.getX=function(bp,bq){ab=aV.asin((bp-bj[1])/(bj[2]/2+t));return bj[0]+(bq?-1:1)*af(ab)*(bj[2]/2+t)};this.center=bj;P(bb,function(bp){bo+=bp.y});P(bb,function(bp){y=bo?bp.y/bo:0;bf=aj(bn*be*1000)/1000;bn+=y;bd=aj(bn*be*1000)/1000;bp.shapeType="arc";bp.shapeArgs={x:bj[0],y:bj[1],r:bj[2]/2,innerR:bj[3]/2,start:bf,end:bd};ab=(bd+bf)/2;bp.slicedTranslation=C([af(ab)*bl+bi.plotLeft,aU(ab)*bl+bi.plotTop],aj);bc=af(ab)*bj[2]/2;L=aU(ab)*bj[2]/2;bp.tooltipPos=[bj[0]+bc*0.7,bj[1]+L*0.7];bp.labelPos=[bj[0]+bc+af(ab)*t,bj[1]+L+aU(ab)*t,bj[0]+bc+af(ab)*bk,bj[1]+L+aU(ab)*bk,bj[0]+bc,bj[1]+L,t<0?"center":ab<be/4?"left":"right",ab];bp.percentage=y*100;bp.total=bo});this.setTooltipPoints()},render:function(){this.getAttribs();this.drawPoints();this.options.enableMouseTracking!==false&&this.drawTracker();this.drawDataLabels();this.options.animation&&this.animate&&this.animate();this.isDirty=false},drawPoints:function(){var y=this.chart,t=y.renderer,ad,ab,V,L;P(this.data,function(bb){ab=bb.graphic;L=bb.shapeArgs;V=bb.group;if(!V){V=bb.group=t.g("point").attr({zIndex:5}).add()}ad=bb.sliced?bb.slicedTranslation:[y.plotLeft,y.plotTop];V.translate(ad[0],ad[1]);if(ab){ab.animate(L)}else{bb.graphic=t.arc(L).attr(aQ(bb.pointAttr[S],{"stroke-linejoin":"round"})).add(bb.group)}bb.visible===false&&bb.setVisible(false)})},drawDataLabels:function(){var bq=this.data,bp,bo=this.chart,bn=this.options.dataLabels,bm=N(bn.connectorPadding,10),bl=N(bn.connectorWidth,1),bk,bj,bi=bn.distance>0,bh,bf,bb=this.center[1],bd=[[],[],[],[]],bg,y,ad,bc,be,L,t,V=4,ab;a5.prototype.drawDataLabels.apply(this);P(bq,function(bs){var br=bs.labelPos[7];bd[br<0?0:br<aD/2?1:br<aD?2:3].push(bs)});bd[1].reverse();bd[3].reverse();for(t=function(bs,br){return bs.y>br.y};V--;){bq=0;bp=[].concat(bd[V]);bp.sort(t);for(ab=bp.length;ab--;){bp[ab].rank=ab}for(bc=0;bc<2;bc++){bf=(L=V%3)?9999:-9999;be=L?-1:1;for(ab=0;ab<bd[V].length;ab++){bp=bd[V][ab];if(bk=bp.dataLabel){bj=bp.labelPos;ad=a2;bg=bj[0];y=bj[1];bh||(bh=bk&&bk.getBBox().height);if(bi){if(bc&&bp.rank<bq){ad=ay}else{if(!L&&y<bf+bh||L&&y>bf-bh){y=bf+be*bh;bg=this.getX(y,V>1);if(!L&&y+bh>bb||L&&y-bh<bb){if(bc){ad=ay}else{bq++}}}}}if(bp.visible===false){ad=ay}if(ad==a2){bf=y}if(bc){bk.attr({visibility:ad,align:bj[6]})[bk.moved?"animate":"attr"]({x:bg+bn.x+({left:bm,right:-bm}[bj[6]]||0),y:y+bn.y});bk.moved=true;if(bi&&bl){bk=bp.connector;bj=[O,bg+(bj[6]=="left"?5:-5),y,aK,bg,y,aK,bj[2],bj[3],aK,bj[4],bj[5]];if(bk){bk.animate({d:bj});bk.attr("visibility",ad)}else{bp.connector=bk=this.chart.renderer.path(bj).attr({"stroke-width":bl,stroke:bn.connectorColor||"#606060",visibility:ad,zIndex:3}).translate(bo.plotLeft,bo.plotTop).add()}}}}}}}},drawTracker:aW.prototype.drawTracker,getSymbol:function(){}});aR.pie=G;aq.Highcharts={Chart:aL,dateFormat:a9,pathAnim:h,getOptions:function(){return v},numberFormat:a3,Point:aA,Color:ai,Renderer:H,seriesTypes:aR,setOptions:function(t){v=u(v,t);aH();return v},Series:a5,addEvent:ag,createElement:j,discardElement:m,css:q,each:P,extend:aQ,map:C,merge:u,pick:N,extendClass:s,version:"2.1.2"}})();jQuery.cookie=function(f,g,b){if(arguments.length>1&&(g===null||typeof g!=="object")){b=jQuery.extend({},b);if(g===null){b.expires=-1}if(typeof b.expires==="number"){var i=b.expires,e=b.expires=new Date();e.setDate(e.getDate()+i)}return(document.cookie=[encodeURIComponent(f),"=",b.raw?String(g):encodeURIComponent(String(g)),b.expires?"; expires="+b.expires.toUTCString():"",b.path?"; path="+b.path:"",b.domain?"; domain="+b.domain:"",b.secure?"; secure":""].join(""))}b=g||{};var a,h=b.raw?function(j){return j}:decodeURIComponent;return(a=new RegExp("(?:^|; )"+encodeURIComponent(f)+"=([^;]*)").exec(document.cookie))?h(a[1]):null};(function(i,za,p){i.fn.dataTableSettings=[];var D=i.fn.dataTableSettings;i.fn.dataTableExt={};var n=i.fn.dataTableExt;n.sVersion="1.8.2";n.sErrMode="alert";n.iApiIndex=0;n.oApi={};n.afnFiltering=[];n.aoFeatures=[];n.ofnSearch={};n.afnSortData=[];n.oStdClasses={sPagePrevEnabled:"paginate_enabled_previous",sPagePrevDisabled:"paginate_disabled_previous",sPageNextEnabled:"paginate_enabled_next",sPageNextDisabled:"paginate_disabled_next",sPageJUINext:"",sPageJUIPrev:"",sPageButton:"paginate_button",sPageButtonActive:"paginate_active",sPageButtonStaticDisabled:"paginate_button paginate_button_disabled",sPageFirst:"first",sPagePrevious:"previous",sPageNext:"next",sPageLast:"last",sStripeOdd:"odd",sStripeEven:"even",sRowEmpty:"dataTables_empty",sWrapper:"dataTables_wrapper",sFilter:"dataTables_filter",sInfo:"dataTables_info",sPaging:"dataTables_paginate paging_",sLength:"dataTables_length",sProcessing:"dataTables_processing",sSortAsc:"sorting_asc",sSortDesc:"sorting_desc",sSortable:"sorting",sSortableAsc:"sorting_asc_disabled",sSortableDesc:"sorting_desc_disabled",sSortableNone:"sorting_disabled",sSortColumn:"sorting_",sSortJUIAsc:"",sSortJUIDesc:"",sSortJUI:"",sSortJUIAscAllowed:"",sSortJUIDescAllowed:"",sSortJUIWrapper:"",sSortIcon:"",sScrollWrapper:"dataTables_scroll",sScrollHead:"dataTables_scrollHead",sScrollHeadInner:"dataTables_scrollHeadInner",sScrollBody:"dataTables_scrollBody",sScrollFoot:"dataTables_scrollFoot",sScrollFootInner:"dataTables_scrollFootInner",sFooterTH:""};n.oJUIClasses={sPagePrevEnabled:"fg-button ui-button ui-state-default ui-corner-left",sPagePrevDisabled:"fg-button ui-button ui-state-default ui-corner-left ui-state-disabled",sPageNextEnabled:"fg-button ui-button ui-state-default ui-corner-right",sPageNextDisabled:"fg-button ui-button ui-state-default ui-corner-right ui-state-disabled",sPageJUINext:"ui-icon ui-icon-circle-arrow-e",sPageJUIPrev:"ui-icon ui-icon-circle-arrow-w",sPageButton:"fg-button ui-button ui-state-default",sPageButtonActive:"fg-button ui-button ui-state-default ui-state-disabled",sPageButtonStaticDisabled:"fg-button ui-button ui-state-default ui-state-disabled",sPageFirst:"first ui-corner-tl ui-corner-bl",sPagePrevious:"previous",sPageNext:"next",sPageLast:"last ui-corner-tr ui-corner-br",sStripeOdd:"odd",sStripeEven:"even",sRowEmpty:"dataTables_empty",sWrapper:"dataTables_wrapper",sFilter:"dataTables_filter",sInfo:"dataTables_info",sPaging:"dataTables_paginate fg-buttonset ui-buttonset fg-buttonset-multi ui-buttonset-multi paging_",sLength:"dataTables_length",sProcessing:"dataTables_processing",sSortAsc:"ui-state-default",sSortDesc:"ui-state-default",sSortable:"ui-state-default",sSortableAsc:"ui-state-default",sSortableDesc:"ui-state-default",sSortableNone:"ui-state-default",sSortColumn:"sorting_",sSortJUIAsc:"css_right ui-icon ui-icon-triangle-1-n",sSortJUIDesc:"css_right ui-icon ui-icon-triangle-1-s",sSortJUI:"css_right ui-icon ui-icon-carat-2-n-s",sSortJUIAscAllowed:"css_right ui-icon ui-icon-carat-1-n",sSortJUIDescAllowed:"css_right ui-icon ui-icon-carat-1-s",sSortJUIWrapper:"DataTables_sort_wrapper",sSortIcon:"DataTables_sort_icon",sScrollWrapper:"dataTables_scroll",sScrollHead:"dataTables_scrollHead ui-state-default",sScrollHeadInner:"dataTables_scrollHeadInner",sScrollBody:"dataTables_scrollBody",sScrollFoot:"dataTables_scrollFoot ui-state-default",sScrollFootInner:"dataTables_scrollFootInner",sFooterTH:"ui-state-default"};n.oPagination={two_button:{fnInit:function(g,l,s){var t,w,y;if(g.bJUI){t=p.createElement("a");w=p.createElement("a");y=p.createElement("span");y.className=g.oClasses.sPageJUINext;w.appendChild(y);y=p.createElement("span");y.className=g.oClasses.sPageJUIPrev;t.appendChild(y)}else{t=p.createElement("div");w=p.createElement("div")}t.className=g.oClasses.sPagePrevDisabled;w.className=g.oClasses.sPageNextDisabled;t.title=g.oLanguage.oPaginate.sPrevious;w.title=g.oLanguage.oPaginate.sNext;l.appendChild(t);l.appendChild(w);i(t).bind("click.DT",function(){g.oApi._fnPageChange(g,"previous")&&s(g)});i(w).bind("click.DT",function(){g.oApi._fnPageChange(g,"next")&&s(g)});i(t).bind("selectstart.DT",function(){return false});i(w).bind("selectstart.DT",function(){return false});if(g.sTableId!==""&&typeof g.aanFeatures.p=="undefined"){l.setAttribute("id",g.sTableId+"_paginate");t.setAttribute("id",g.sTableId+"_previous");w.setAttribute("id",g.sTableId+"_next")}},fnUpdate:function(g){if(g.aanFeatures.p){for(var l=g.aanFeatures.p,s=0,t=l.length;s<t;s++){if(l[s].childNodes.length!==0){l[s].childNodes[0].className=g._iDisplayStart===0?g.oClasses.sPagePrevDisabled:g.oClasses.sPagePrevEnabled;l[s].childNodes[1].className=g.fnDisplayEnd()==g.fnRecordsDisplay()?g.oClasses.sPageNextDisabled:g.oClasses.sPageNextEnabled}}}}},iFullNumbersShowPages:5,full_numbers:{fnInit:function(g,l,s){var t=p.createElement("span"),w=p.createElement("span"),y=p.createElement("span"),F=p.createElement("span"),x=p.createElement("span");t.innerHTML=g.oLanguage.oPaginate.sFirst;w.innerHTML=g.oLanguage.oPaginate.sPrevious;F.innerHTML=g.oLanguage.oPaginate.sNext;x.innerHTML=g.oLanguage.oPaginate.sLast;var v=g.oClasses;t.className=v.sPageButton+" "+v.sPageFirst;w.className=v.sPageButton+" "+v.sPagePrevious;F.className=v.sPageButton+" "+v.sPageNext;x.className=v.sPageButton+" "+v.sPageLast;l.appendChild(t);l.appendChild(w);l.appendChild(y);l.appendChild(F);l.appendChild(x);i(t).bind("click.DT",function(){g.oApi._fnPageChange(g,"first")&&s(g)});i(w).bind("click.DT",function(){g.oApi._fnPageChange(g,"previous")&&s(g)});i(F).bind("click.DT",function(){g.oApi._fnPageChange(g,"next")&&s(g)});i(x).bind("click.DT",function(){g.oApi._fnPageChange(g,"last")&&s(g)});i("span",l).bind("mousedown.DT",function(){return false}).bind("selectstart.DT",function(){return false});if(g.sTableId!==""&&typeof g.aanFeatures.p=="undefined"){l.setAttribute("id",g.sTableId+"_paginate");t.setAttribute("id",g.sTableId+"_first");w.setAttribute("id",g.sTableId+"_previous");F.setAttribute("id",g.sTableId+"_next");x.setAttribute("id",g.sTableId+"_last")}},fnUpdate:function(g,l){if(g.aanFeatures.p){var s=n.oPagination.iFullNumbersShowPages,t=Math.floor(s/2),w=Math.ceil(g.fnRecordsDisplay()/g._iDisplayLength),y=Math.ceil(g._iDisplayStart/g._iDisplayLength)+1,F="",x,v=g.oClasses;if(w<s){t=1;x=w}else{if(y<=t){t=1;x=s}else{if(y>=w-t){t=w-s+1;x=w}else{t=y-Math.ceil(s/2)+1;x=t+s-1}}}for(s=t;s<=x;s++){F+=y!=s?'<span class="'+v.sPageButton+'">'+s+"</span>":'<span class="'+v.sPageButtonActive+'">'+s+"</span>"}x=g.aanFeatures.p;var z,$=function(M){g._iDisplayStart=(this.innerHTML*1-1)*g._iDisplayLength;l(g);M.preventDefault()},X=function(){return false};s=0;for(t=x.length;s<t;s++){if(x[s].childNodes.length!==0){z=i("span:eq(2)",x[s]);z.html(F);i("span",z).bind("click.DT",$).bind("mousedown.DT",X).bind("selectstart.DT",X);z=x[s].getElementsByTagName("span");z=[z[0],z[1],z[z.length-2],z[z.length-1]];i(z).removeClass(v.sPageButton+" "+v.sPageButtonActive+" "+v.sPageButtonStaticDisabled);if(y==1){z[0].className+=" "+v.sPageButtonStaticDisabled;z[1].className+=" "+v.sPageButtonStaticDisabled}else{z[0].className+=" "+v.sPageButton;z[1].className+=" "+v.sPageButton}if(w===0||y==w||g._iDisplayLength==-1){z[2].className+=" "+v.sPageButtonStaticDisabled;z[3].className+=" "+v.sPageButtonStaticDisabled}else{z[2].className+=" "+v.sPageButton;z[3].className+=" "+v.sPageButton}}}}}}};n.oSort={"string-asc":function(g,l){if(typeof g!="string"){g=""}if(typeof l!="string"){l=""}g=g.toLowerCase();l=l.toLowerCase();return g<l?-1:g>l?1:0},"string-desc":function(g,l){if(typeof g!="string"){g=""}if(typeof l!="string"){l=""}g=g.toLowerCase();l=l.toLowerCase();return g<l?1:g>l?-1:0},"html-asc":function(g,l){g=g.replace(/<.*?>/g,"").toLowerCase();l=l.replace(/<.*?>/g,"").toLowerCase();return g<l?-1:g>l?1:0},"html-desc":function(g,l){g=g.replace(/<.*?>/g,"").toLowerCase();l=l.replace(/<.*?>/g,"").toLowerCase();return g<l?1:g>l?-1:0},"date-asc":function(g,l){g=Date.parse(g);l=Date.parse(l);if(isNaN(g)||g===""){g=Date.parse("01/01/1970 00:00:00")}if(isNaN(l)||l===""){l=Date.parse("01/01/1970 00:00:00")}return g-l},"date-desc":function(g,l){g=Date.parse(g);l=Date.parse(l);if(isNaN(g)||g===""){g=Date.parse("01/01/1970 00:00:00")}if(isNaN(l)||l===""){l=Date.parse("01/01/1970 00:00:00")}return l-g},"numeric-asc":function(g,l){return(g=="-"||g===""?0:g*1)-(l=="-"||l===""?0:l*1)},"numeric-desc":function(g,l){return(l=="-"||l===""?0:l*1)-(g=="-"||g===""?0:g*1)}};n.aTypes=[function(g){if(typeof g=="number"){return"numeric"}else{if(typeof g!="string"){return null}}var l,s=false;l=g.charAt(0);if("0123456789-".indexOf(l)==-1){return null}for(var t=1;t<g.length;t++){l=g.charAt(t);if("0123456789.".indexOf(l)==-1){return null}if(l=="."){if(s){return null}s=true}}return"numeric"},function(g){var l=Date.parse(g);if(l!==null&&!isNaN(l)||typeof g=="string"&&g.length===0){return"date"}return null},function(g){if(typeof g=="string"&&g.indexOf("<")!=-1&&g.indexOf(">")!=-1){return"html"}return null}];n.fnVersionCheck=function(g){var l=function(x,v){for(;x.length<v;){x+="0"}return x},s=n.sVersion.split(".");g=g.split(".");for(var t="",w="",y=0,F=g.length;y<F;y++){t+=l(s[y],3);w+=l(g[y],3)}return parseInt(t,10)>=parseInt(w,10)};n._oExternConfig={iNextUnique:0};i.fn.dataTable=function(g){function l(){this.fnRecordsTotal=function(){return this.oFeatures.bServerSide?parseInt(this._iRecordsTotal,10):this.aiDisplayMaster.length};this.fnRecordsDisplay=function(){return this.oFeatures.bServerSide?parseInt(this._iRecordsDisplay,10):this.aiDisplay.length};this.fnDisplayEnd=function(){return this.oFeatures.bServerSide?this.oFeatures.bPaginate===false||this._iDisplayLength==-1?this._iDisplayStart+this.aiDisplay.length:Math.min(this._iDisplayStart+this._iDisplayLength,this._iRecordsDisplay):this._iDisplayEnd};this.sInstance=this.oInstance=null;this.oFeatures={bPaginate:true,bLengthChange:true,bFilter:true,bSort:true,bInfo:true,bAutoWidth:true,bProcessing:false,bSortClasses:true,bStateSave:false,bServerSide:false,bDeferRender:false};this.oScroll={sX:"",sXInner:"",sY:"",bCollapse:false,bInfinite:false,iLoadGap:100,iBarWidth:0,bAutoCss:true};this.aanFeatures=[];this.oLanguage={sProcessing:"Processing...",sLengthMenu:"Show _MENU_ entries",sZeroRecords:"No matching records found",sEmptyTable:"No data available in table",sLoadingRecords:"Loading...",sInfo:"Showing _START_ to _END_ of _TOTAL_ entries",sInfoEmpty:"Showing 0 to 0 of 0 entries",sInfoFiltered:"(filtered from _MAX_ total entries)",sInfoPostFix:"",sInfoThousands:",",sSearch:"Search:",sUrl:"",oPaginate:{sFirst:"First",sPrevious:"Previous",sNext:"Next",sLast:"Last"},fnInfoCallback:null};this.aoData=[];this.aiDisplay=[];this.aiDisplayMaster=[];this.aoColumns=[];this.aoHeader=[];this.aoFooter=[];this.iNextId=0;this.asDataSearch=[];this.oPreviousSearch={sSearch:"",bRegex:false,bSmart:true};this.aoPreSearchCols=[];this.aaSorting=[[0,"asc",0]];this.aaSortingFixed=null;this.asStripeClasses=[];this.asDestroyStripes=[];this.sDestroyWidth=0;this.fnFooterCallback=this.fnHeaderCallback=this.fnRowCallback=null;this.aoDrawCallback=[];this.fnInitComplete=this.fnPreDrawCallback=null;this.sTableId="";this.nTableWrapper=this.nTBody=this.nTFoot=this.nTHead=this.nTable=null;this.bInitialised=this.bDeferLoading=false;this.aoOpenRows=[];this.sDom="lfrtip";this.sPaginationType="two_button";this.iCookieDuration=7200;this.sCookiePrefix="SpryMedia_DataTables_";this.fnCookieCallback=null;this.aoStateSave=[];this.aoStateLoad=[];this.sAjaxSource=this.oLoadedState=null;this.sAjaxDataProp="aaData";this.bAjaxDataGet=true;this.jqXHR=null;this.fnServerData=function(a,b,c,d){d.jqXHR=i.ajax({url:a,data:b,success:function(f){i(d.oInstance).trigger("xhr",d);c(f)},dataType:"json",cache:false,error:function(f,e){e=="parsererror"&&alert("DataTables warning: JSON data from server could not be parsed. This is caused by a JSON formatting error.")}})};this.aoServerParams=[];this.fnFormatNumber=function(a){if(a<1000){return a}else{var b=a+"";a=b.split("");var c="";b=b.length;for(var d=0;d<b;d++){if(d%3===0&&d!==0){c=this.oLanguage.sInfoThousands+c}c=a[b-d-1]+c}}return c};this.aLengthMenu=[10,25,50,100];this.bDrawing=this.iDraw=0;this.iDrawError=-1;this._iDisplayLength=10;this._iDisplayStart=0;this._iDisplayEnd=10;this._iRecordsDisplay=this._iRecordsTotal=0;this.bJUI=false;this.oClasses=n.oStdClasses;this.bSortCellsTop=this.bSorted=this.bFiltered=false;this.oInit=null;this.aoDestroyCallback=[]}function s(a){return function(){var b=[A(this[n.iApiIndex])].concat(Array.prototype.slice.call(arguments));return n.oApi[a].apply(this,b)}}function t(a){var b,c,d=a.iInitDisplayStart;if(a.bInitialised===false){setTimeout(function(){t(a)},200)}else{Aa(a);X(a);M(a,a.aoHeader);a.nTFoot&&M(a,a.aoFooter);K(a,true);a.oFeatures.bAutoWidth&&ga(a);b=0;for(c=a.aoColumns.length;b<c;b++){if(a.aoColumns[b].sWidth!==null){a.aoColumns[b].nTh.style.width=q(a.aoColumns[b].sWidth)}}if(a.oFeatures.bSort){R(a)}else{if(a.oFeatures.bFilter){N(a,a.oPreviousSearch)}else{a.aiDisplay=a.aiDisplayMaster.slice();E(a);C(a)}}if(a.sAjaxSource!==null&&!a.oFeatures.bServerSide){c=[];ha(a,c);a.fnServerData.call(a.oInstance,a.sAjaxSource,c,function(f){var e=f;if(a.sAjaxDataProp!==""){e=aa(a.sAjaxDataProp)(f)}for(b=0;b<e.length;b++){v(a,e[b])}a.iInitDisplayStart=d;if(a.oFeatures.bSort){R(a)}else{a.aiDisplay=a.aiDisplayMaster.slice();E(a);C(a)}K(a,false);w(a,f)},a)}else{if(!a.oFeatures.bServerSide){K(a,false);w(a)}}}}function w(a,b){a._bInitComplete=true;if(typeof a.fnInitComplete=="function"){typeof b!="undefined"?a.fnInitComplete.call(a.oInstance,a,b):a.fnInitComplete.call(a.oInstance,a)}}function y(a,b,c){a.oLanguage=i.extend(true,a.oLanguage,b);typeof b.sEmptyTable=="undefined"&&typeof b.sZeroRecords!="undefined"&&o(a.oLanguage,b,"sZeroRecords","sEmptyTable");typeof b.sLoadingRecords=="undefined"&&typeof b.sZeroRecords!="undefined"&&o(a.oLanguage,b,"sZeroRecords","sLoadingRecords");c&&t(a)}function F(a,b){var c=a.aoColumns.length;b={sType:null,_bAutoType:true,bVisible:true,bSearchable:true,bSortable:true,asSorting:["asc","desc"],sSortingClass:a.oClasses.sSortable,sSortingClassJUI:a.oClasses.sSortJUI,sTitle:b?b.innerHTML:"",sName:"",sWidth:null,sWidthOrig:null,sClass:null,fnRender:null,bUseRendered:true,iDataSort:c,mDataProp:c,fnGetData:null,fnSetData:null,sSortDataType:"std",sDefaultContent:null,sContentPadding:"",nTh:b?b:p.createElement("th"),nTf:null};a.aoColumns.push(b);if(typeof a.aoPreSearchCols[c]=="undefined"||a.aoPreSearchCols[c]===null){a.aoPreSearchCols[c]={sSearch:"",bRegex:false,bSmart:true}}else{if(typeof a.aoPreSearchCols[c].bRegex=="undefined"){a.aoPreSearchCols[c].bRegex=true}if(typeof a.aoPreSearchCols[c].bSmart=="undefined"){a.aoPreSearchCols[c].bSmart=true}}x(a,c,null)}function x(a,b,c){b=a.aoColumns[b];if(typeof c!="undefined"&&c!==null){if(typeof c.sType!="undefined"){b.sType=c.sType;b._bAutoType=false}o(b,c,"bVisible");o(b,c,"bSearchable");o(b,c,"bSortable");o(b,c,"sTitle");o(b,c,"sName");o(b,c,"sWidth");o(b,c,"sWidth","sWidthOrig");o(b,c,"sClass");o(b,c,"fnRender");o(b,c,"bUseRendered");o(b,c,"iDataSort");o(b,c,"mDataProp");o(b,c,"asSorting");o(b,c,"sSortDataType");o(b,c,"sDefaultContent");o(b,c,"sContentPadding")}b.fnGetData=aa(b.mDataProp);b.fnSetData=Ba(b.mDataProp);if(!a.oFeatures.bSort){b.bSortable=false}if(!b.bSortable||i.inArray("asc",b.asSorting)==-1&&i.inArray("desc",b.asSorting)==-1){b.sSortingClass=a.oClasses.sSortableNone;b.sSortingClassJUI=""}else{if(b.bSortable||i.inArray("asc",b.asSorting)==-1&&i.inArray("desc",b.asSorting)==-1){b.sSortingClass=a.oClasses.sSortable;b.sSortingClassJUI=a.oClasses.sSortJUI}else{if(i.inArray("asc",b.asSorting)!=-1&&i.inArray("desc",b.asSorting)==-1){b.sSortingClass=a.oClasses.sSortableAsc;b.sSortingClassJUI=a.oClasses.sSortJUIAscAllowed}else{if(i.inArray("asc",b.asSorting)==-1&&i.inArray("desc",b.asSorting)!=-1){b.sSortingClass=a.oClasses.sSortableDesc;b.sSortingClassJUI=a.oClasses.sSortJUIDescAllowed}}}}}function v(a,b){var c;c=i.isArray(b)?b.slice():i.extend(true,{},b);b=a.aoData.length;var d={nTr:null,_iId:a.iNextId++,_aData:c,_anHidden:[],_sRowStripe:""};a.aoData.push(d);for(var f,e=0,h=a.aoColumns.length;e<h;e++){c=a.aoColumns[e];typeof c.fnRender=="function"&&c.bUseRendered&&c.mDataProp!==null&&O(a,b,e,c.fnRender({iDataRow:b,iDataColumn:e,aData:d._aData,oSettings:a}));if(c._bAutoType&&c.sType!="string"){f=G(a,b,e,"type");if(f!==null&&f!==""){f=ia(f);if(c.sType===null){c.sType=f}else{if(c.sType!=f&&c.sType!="html"){c.sType="string"}}}}}a.aiDisplayMaster.push(b);a.oFeatures.bDeferRender||z(a,b);return b}function z(a,b){var c=a.aoData[b],d;if(c.nTr===null){c.nTr=p.createElement("tr");typeof c._aData.DT_RowId!="undefined"&&c.nTr.setAttribute("id",c._aData.DT_RowId);typeof c._aData.DT_RowClass!="undefined"&&i(c.nTr).addClass(c._aData.DT_RowClass);for(var f=0,e=a.aoColumns.length;f<e;f++){var h=a.aoColumns[f];d=p.createElement("td");d.innerHTML=typeof h.fnRender=="function"&&(!h.bUseRendered||h.mDataProp===null)?h.fnRender({iDataRow:b,iDataColumn:f,aData:c._aData,oSettings:a}):G(a,b,f,"display");if(h.sClass!==null){d.className=h.sClass}if(h.bVisible){c.nTr.appendChild(d);c._anHidden[f]=null}else{c._anHidden[f]=d}}}}function $(a){var b,c,d,f,e,h,j,k,m;if(a.bDeferLoading||a.sAjaxSource===null){j=a.nTBody.childNodes;b=0;for(c=j.length;b<c;b++){if(j[b].nodeName.toUpperCase()=="TR"){k=a.aoData.length;a.aoData.push({nTr:j[b],_iId:a.iNextId++,_aData:[],_anHidden:[],_sRowStripe:""});a.aiDisplayMaster.push(k);h=j[b].childNodes;d=e=0;for(f=h.length;d<f;d++){m=h[d].nodeName.toUpperCase();if(m=="TD"||m=="TH"){O(a,k,e,i.trim(h[d].innerHTML));e++}}}}}j=ba(a);h=[];b=0;for(c=j.length;b<c;b++){d=0;for(f=j[b].childNodes.length;d<f;d++){e=j[b].childNodes[d];m=e.nodeName.toUpperCase();if(m=="TD"||m=="TH"){h.push(e)}}}h.length!=j.length*a.aoColumns.length&&J(a,1,"Unexpected number of TD elements. Expected "+j.length*a.aoColumns.length+" and got "+h.length+". DataTables does not support rowspan / colspan in the table body, and there must be one cell for each row/column combination.");d=0;for(f=a.aoColumns.length;d<f;d++){if(a.aoColumns[d].sTitle===null){a.aoColumns[d].sTitle=a.aoColumns[d].nTh.innerHTML}j=a.aoColumns[d]._bAutoType;m=typeof a.aoColumns[d].fnRender=="function";e=a.aoColumns[d].sClass!==null;k=a.aoColumns[d].bVisible;var u,r;if(j||m||e||!k){b=0;for(c=a.aoData.length;b<c;b++){u=h[b*f+d];if(j&&a.aoColumns[d].sType!="string"){r=G(a,b,d,"type");if(r!==""){r=ia(r);if(a.aoColumns[d].sType===null){a.aoColumns[d].sType=r}else{if(a.aoColumns[d].sType!=r&&a.aoColumns[d].sType!="html"){a.aoColumns[d].sType="string"}}}}if(m){r=a.aoColumns[d].fnRender({iDataRow:b,iDataColumn:d,aData:a.aoData[b]._aData,oSettings:a});u.innerHTML=r;a.aoColumns[d].bUseRendered&&O(a,b,d,r)}if(e){u.className+=" "+a.aoColumns[d].sClass}if(k){a.aoData[b]._anHidden[d]=null}else{a.aoData[b]._anHidden[d]=u;u.parentNode.removeChild(u)}}}}}function X(a){var b,c,d;a.nTHead.getElementsByTagName("tr");if(a.nTHead.getElementsByTagName("th").length!==0){b=0;for(d=a.aoColumns.length;b<d;b++){c=a.aoColumns[b].nTh;a.aoColumns[b].sClass!==null&&i(c).addClass(a.aoColumns[b].sClass);if(a.aoColumns[b].sTitle!=c.innerHTML){c.innerHTML=a.aoColumns[b].sTitle}}}else{var f=p.createElement("tr");b=0;for(d=a.aoColumns.length;b<d;b++){c=a.aoColumns[b].nTh;c.innerHTML=a.aoColumns[b].sTitle;a.aoColumns[b].sClass!==null&&i(c).addClass(a.aoColumns[b].sClass);f.appendChild(c)}i(a.nTHead).html("")[0].appendChild(f);Y(a.aoHeader,a.nTHead)}if(a.bJUI){b=0;for(d=a.aoColumns.length;b<d;b++){c=a.aoColumns[b].nTh;f=p.createElement("div");f.className=a.oClasses.sSortJUIWrapper;i(c).contents().appendTo(f);var e=p.createElement("span");e.className=a.oClasses.sSortIcon;f.appendChild(e);c.appendChild(f)}}d=function(){this.onselectstart=function(){return false};return false};if(a.oFeatures.bSort){for(b=0;b<a.aoColumns.length;b++){if(a.aoColumns[b].bSortable!==false){ja(a,a.aoColumns[b].nTh,b);i(a.aoColumns[b].nTh).bind("mousedown.DT",d)}else{i(a.aoColumns[b].nTh).addClass(a.oClasses.sSortableNone)}}}a.oClasses.sFooterTH!==""&&i(a.nTFoot).children("tr").children("th").addClass(a.oClasses.sFooterTH);if(a.nTFoot!==null){c=S(a,null,a.aoFooter);b=0;for(d=a.aoColumns.length;b<d;b++){if(typeof c[b]!="undefined"){a.aoColumns[b].nTf=c[b]}}}}function M(a,b,c){var d,f,e,h=[],j=[],k=a.aoColumns.length;if(typeof c=="undefined"){c=false}d=0;for(f=b.length;d<f;d++){h[d]=b[d].slice();h[d].nTr=b[d].nTr;for(e=k-1;e>=0;e--){!a.aoColumns[e].bVisible&&!c&&h[d].splice(e,1)}j.push([])}d=0;for(f=h.length;d<f;d++){if(h[d].nTr){a=0;for(e=h[d].nTr.childNodes.length;a<e;a++){h[d].nTr.removeChild(h[d].nTr.childNodes[0])}}e=0;for(b=h[d].length;e<b;e++){k=c=1;if(typeof j[d][e]=="undefined"){h[d].nTr.appendChild(h[d][e].cell);for(j[d][e]=1;typeof h[d+c]!="undefined"&&h[d][e].cell==h[d+c][e].cell;){j[d+c][e]=1;c++}for(;typeof h[d][e+k]!="undefined"&&h[d][e].cell==h[d][e+k].cell;){for(a=0;a<c;a++){j[d+a][e+k]=1}k++}h[d][e].cell.rowSpan=c;h[d][e].cell.colSpan=k}}}}function C(a){var b,c,d=[],f=0,e=false;b=a.asStripeClasses.length;c=a.aoOpenRows.length;if(!(a.fnPreDrawCallback!==null&&a.fnPreDrawCallback.call(a.oInstance,a)===false)){a.bDrawing=true;if(typeof a.iInitDisplayStart!="undefined"&&a.iInitDisplayStart!=-1){a._iDisplayStart=a.oFeatures.bServerSide?a.iInitDisplayStart:a.iInitDisplayStart>=a.fnRecordsDisplay()?0:a.iInitDisplayStart;a.iInitDisplayStart=-1;E(a)}if(a.bDeferLoading){a.bDeferLoading=false;a.iDraw++}else{if(a.oFeatures.bServerSide){if(!a.bDestroying&&!Ca(a)){return}}else{a.iDraw++}}if(a.aiDisplay.length!==0){var h=a._iDisplayStart,j=a._iDisplayEnd;if(a.oFeatures.bServerSide){h=0;j=a.aoData.length}for(h=h;h<j;h++){var k=a.aoData[a.aiDisplay[h]];k.nTr===null&&z(a,a.aiDisplay[h]);var m=k.nTr;if(b!==0){var u=a.asStripeClasses[f%b];if(k._sRowStripe!=u){i(m).removeClass(k._sRowStripe).addClass(u);k._sRowStripe=u}}if(typeof a.fnRowCallback=="function"){m=a.fnRowCallback.call(a.oInstance,m,a.aoData[a.aiDisplay[h]]._aData,f,h);if(!m&&!e){J(a,0,"A node was not returned by fnRowCallback");e=true}}d.push(m);f++;if(c!==0){for(k=0;k<c;k++){m==a.aoOpenRows[k].nParent&&d.push(a.aoOpenRows[k].nTr)}}}}else{d[0]=p.createElement("tr");if(typeof a.asStripeClasses[0]!="undefined"){d[0].className=a.asStripeClasses[0]}e=a.oLanguage.sZeroRecords.replace("_MAX_",a.fnFormatNumber(a.fnRecordsTotal()));if(a.iDraw==1&&a.sAjaxSource!==null&&!a.oFeatures.bServerSide){e=a.oLanguage.sLoadingRecords}else{if(typeof a.oLanguage.sEmptyTable!="undefined"&&a.fnRecordsTotal()===0){e=a.oLanguage.sEmptyTable}}b=p.createElement("td");b.setAttribute("valign","top");b.colSpan=Z(a);b.className=a.oClasses.sRowEmpty;b.innerHTML=e;d[f].appendChild(b)}typeof a.fnHeaderCallback=="function"&&a.fnHeaderCallback.call(a.oInstance,i(a.nTHead).children("tr")[0],ca(a),a._iDisplayStart,a.fnDisplayEnd(),a.aiDisplay);typeof a.fnFooterCallback=="function"&&a.fnFooterCallback.call(a.oInstance,i(a.nTFoot).children("tr")[0],ca(a),a._iDisplayStart,a.fnDisplayEnd(),a.aiDisplay);f=p.createDocumentFragment();b=p.createDocumentFragment();if(a.nTBody){e=a.nTBody.parentNode;b.appendChild(a.nTBody);if(!a.oScroll.bInfinite||!a._bInitComplete||a.bSorted||a.bFiltered){c=a.nTBody.childNodes;for(b=c.length-1;b>=0;b--){c[b].parentNode.removeChild(c[b])}}b=0;for(c=d.length;b<c;b++){f.appendChild(d[b])}a.nTBody.appendChild(f);e!==null&&e.appendChild(a.nTBody)}for(b=a.aoDrawCallback.length-1;b>=0;b--){a.aoDrawCallback[b].fn.call(a.oInstance,a)}i(a.oInstance).trigger("draw",a);a.bSorted=false;a.bFiltered=false;a.bDrawing=false;if(a.oFeatures.bServerSide){K(a,false);typeof a._bInitComplete=="undefined"&&w(a)}}}function da(a){if(a.oFeatures.bSort){R(a,a.oPreviousSearch)}else{if(a.oFeatures.bFilter){N(a,a.oPreviousSearch)}else{E(a);C(a)}}}function Ca(a){if(a.bAjaxDataGet){a.iDraw++;K(a,true);var b=Da(a);ha(a,b);a.fnServerData.call(a.oInstance,a.sAjaxSource,b,function(c){Ea(a,c)},a);return false}else{return true}}function Da(a){var b=a.aoColumns.length,c=[],d,f;c.push({name:"sEcho",value:a.iDraw});c.push({name:"iColumns",value:b});c.push({name:"sColumns",value:ka(a)});c.push({name:"iDisplayStart",value:a._iDisplayStart});c.push({name:"iDisplayLength",value:a.oFeatures.bPaginate!==false?a._iDisplayLength:-1});for(f=0;f<b;f++){d=a.aoColumns[f].mDataProp;c.push({name:"mDataProp_"+f,value:typeof d=="function"?"function":d})}if(a.oFeatures.bFilter!==false){c.push({name:"sSearch",value:a.oPreviousSearch.sSearch});c.push({name:"bRegex",value:a.oPreviousSearch.bRegex});for(f=0;f<b;f++){c.push({name:"sSearch_"+f,value:a.aoPreSearchCols[f].sSearch});c.push({name:"bRegex_"+f,value:a.aoPreSearchCols[f].bRegex});c.push({name:"bSearchable_"+f,value:a.aoColumns[f].bSearchable})}}if(a.oFeatures.bSort!==false){d=a.aaSortingFixed!==null?a.aaSortingFixed.length:0;var e=a.aaSorting.length;c.push({name:"iSortingCols",value:d+e});for(f=0;f<d;f++){c.push({name:"iSortCol_"+f,value:a.aaSortingFixed[f][0]});c.push({name:"sSortDir_"+f,value:a.aaSortingFixed[f][1]})}for(f=0;f<e;f++){c.push({name:"iSortCol_"+(f+d),value:a.aaSorting[f][0]});c.push({name:"sSortDir_"+(f+d),value:a.aaSorting[f][1]})}for(f=0;f<b;f++){c.push({name:"bSortable_"+f,value:a.aoColumns[f].bSortable})}}return c}function ha(a,b){for(var c=0,d=a.aoServerParams.length;c<d;c++){a.aoServerParams[c].fn.call(a.oInstance,b)}}function Ea(a,b){if(typeof b.sEcho!="undefined"){if(b.sEcho*1<a.iDraw){return}else{a.iDraw=b.sEcho*1}}if(!a.oScroll.bInfinite||a.oScroll.bInfinite&&(a.bSorted||a.bFiltered)){la(a)}a._iRecordsTotal=b.iTotalRecords;a._iRecordsDisplay=b.iTotalDisplayRecords;var c=ka(a);if(c=typeof b.sColumns!="undefined"&&c!==""&&b.sColumns!=c){var d=Fa(a,b.sColumns)}b=aa(a.sAjaxDataProp)(b);for(var f=0,e=b.length;f<e;f++){if(c){for(var h=[],j=0,k=a.aoColumns.length;j<k;j++){h.push(b[f][d[j]])}v(a,h)}else{v(a,b[f])}}a.aiDisplay=a.aiDisplayMaster.slice();a.bAjaxDataGet=false;C(a);a.bAjaxDataGet=true;K(a,false)}function Aa(a){var b=p.createElement("div");a.nTable.parentNode.insertBefore(b,a.nTable);a.nTableWrapper=p.createElement("div");a.nTableWrapper.className=a.oClasses.sWrapper;a.sTableId!==""&&a.nTableWrapper.setAttribute("id",a.sTableId+"_wrapper");a.nTableReinsertBefore=a.nTable.nextSibling;for(var c=a.nTableWrapper,d=a.sDom.split(""),f,e,h,j,k,m,u,r=0;r<d.length;r++){e=0;h=d[r];if(h=="<"){j=p.createElement("div");k=d[r+1];if(k=="'"||k=='"'){m="";for(u=2;d[r+u]!=k;){m+=d[r+u];u++}if(m=="H"){m="fg-toolbar ui-toolbar ui-widget-header ui-corner-tl ui-corner-tr ui-helper-clearfix"}else{if(m=="F"){m="fg-toolbar ui-toolbar ui-widget-header ui-corner-bl ui-corner-br ui-helper-clearfix"}}if(m.indexOf(".")!=-1){k=m.split(".");j.setAttribute("id",k[0].substr(1,k[0].length-1));j.className=k[1]}else{if(m.charAt(0)=="#"){j.setAttribute("id",m.substr(1,m.length-1))}else{j.className=m}}r+=u}c.appendChild(j);c=j}else{if(h==">"){c=c.parentNode}else{if(h=="l"&&a.oFeatures.bPaginate&&a.oFeatures.bLengthChange){f=Ga(a);e=1}else{if(h=="f"&&a.oFeatures.bFilter){f=Ha(a);e=1}else{if(h=="r"&&a.oFeatures.bProcessing){f=Ia(a);e=1}else{if(h=="t"){f=Ja(a);e=1}else{if(h=="i"&&a.oFeatures.bInfo){f=Ka(a);e=1}else{if(h=="p"&&a.oFeatures.bPaginate){f=La(a);e=1}else{if(n.aoFeatures.length!==0){j=n.aoFeatures;u=0;for(k=j.length;u<k;u++){if(h==j[u].cFeature){if(f=j[u].fnInit(a)){e=1}break}}}}}}}}}}}if(e==1&&f!==null){if(typeof a.aanFeatures[h]!="object"){a.aanFeatures[h]=[]}a.aanFeatures[h].push(f);c.appendChild(f)}}b.parentNode.replaceChild(a.nTableWrapper,b)}function Ja(a){if(a.oScroll.sX===""&&a.oScroll.sY===""){return a.nTable}var b=p.createElement("div"),c=p.createElement("div"),d=p.createElement("div"),f=p.createElement("div"),e=p.createElement("div"),h=p.createElement("div"),j=a.nTable.cloneNode(false),k=a.nTable.cloneNode(false),m=a.nTable.getElementsByTagName("thead")[0],u=a.nTable.getElementsByTagName("tfoot").length===0?null:a.nTable.getElementsByTagName("tfoot")[0],r=typeof g.bJQueryUI!="undefined"&&g.bJQueryUI?n.oJUIClasses:n.oStdClasses;c.appendChild(d);e.appendChild(h);f.appendChild(a.nTable);b.appendChild(c);b.appendChild(f);d.appendChild(j);j.appendChild(m);if(u!==null){b.appendChild(e);h.appendChild(k);k.appendChild(u)}b.className=r.sScrollWrapper;c.className=r.sScrollHead;d.className=r.sScrollHeadInner;f.className=r.sScrollBody;e.className=r.sScrollFoot;h.className=r.sScrollFootInner;if(a.oScroll.bAutoCss){c.style.overflow="hidden";c.style.position="relative";e.style.overflow="hidden";f.style.overflow="auto"}c.style.border="0";c.style.width="100%";e.style.border="0";d.style.width="150%";j.removeAttribute("id");j.style.marginLeft="0";a.nTable.style.marginLeft="0";if(u!==null){k.removeAttribute("id");k.style.marginLeft="0"}d=i(a.nTable).children("caption");h=0;for(k=d.length;h<k;h++){j.appendChild(d[h])}if(a.oScroll.sX!==""){c.style.width=q(a.oScroll.sX);f.style.width=q(a.oScroll.sX);if(u!==null){e.style.width=q(a.oScroll.sX)}i(f).scroll(function(){c.scrollLeft=this.scrollLeft;if(u!==null){e.scrollLeft=this.scrollLeft}})}if(a.oScroll.sY!==""){f.style.height=q(a.oScroll.sY)}a.aoDrawCallback.push({fn:Ma,sName:"scrolling"});a.oScroll.bInfinite&&i(f).scroll(function(){if(!a.bDrawing){if(i(this).scrollTop()+i(this).height()>i(a.nTable).height()-a.oScroll.iLoadGap){if(a.fnDisplayEnd()<a.fnRecordsDisplay()){ma(a,"next");E(a);C(a)}}}});a.nScrollHead=c;a.nScrollFoot=e;return b}function Ma(a){var b=a.nScrollHead.getElementsByTagName("div")[0],c=b.getElementsByTagName("table")[0],d=a.nTable.parentNode,f,e,h,j,k,m,u,r,H=[],L=a.nTFoot!==null?a.nScrollFoot.getElementsByTagName("div")[0]:null,T=a.nTFoot!==null?L.getElementsByTagName("table")[0]:null,B=i.browser.msie&&i.browser.version<=7;h=a.nTable.getElementsByTagName("thead");h.length>0&&a.nTable.removeChild(h[0]);if(a.nTFoot!==null){k=a.nTable.getElementsByTagName("tfoot");k.length>0&&a.nTable.removeChild(k[0])}h=a.nTHead.cloneNode(true);a.nTable.insertBefore(h,a.nTable.childNodes[0]);if(a.nTFoot!==null){k=a.nTFoot.cloneNode(true);a.nTable.insertBefore(k,a.nTable.childNodes[1])}if(a.oScroll.sX===""){d.style.width="100%";b.parentNode.style.width="100%"}var U=S(a,h);f=0;for(e=U.length;f<e;f++){u=Na(a,f);U[f].style.width=a.aoColumns[u].sWidth}a.nTFoot!==null&&P(function(I){I.style.width=""},k.getElementsByTagName("tr"));f=i(a.nTable).outerWidth();if(a.oScroll.sX===""){a.nTable.style.width="100%";if(B&&(d.scrollHeight>d.offsetHeight||i(d).css("overflow-y")=="scroll")){a.nTable.style.width=q(i(a.nTable).outerWidth()-a.oScroll.iBarWidth)}}else{if(a.oScroll.sXInner!==""){a.nTable.style.width=q(a.oScroll.sXInner)}else{if(f==i(d).width()&&i(d).height()<i(a.nTable).height()){a.nTable.style.width=q(f-a.oScroll.iBarWidth);if(i(a.nTable).outerWidth()>f-a.oScroll.iBarWidth){a.nTable.style.width=q(f)}}else{a.nTable.style.width=q(f)}}}f=i(a.nTable).outerWidth();e=a.nTHead.getElementsByTagName("tr");h=h.getElementsByTagName("tr");P(function(I,na){m=I.style;m.paddingTop="0";m.paddingBottom="0";m.borderTopWidth="0";m.borderBottomWidth="0";m.height=0;r=i(I).width();na.style.width=q(r);H.push(r)},h,e);i(h).height(0);if(a.nTFoot!==null){j=k.getElementsByTagName("tr");k=a.nTFoot.getElementsByTagName("tr");P(function(I,na){m=I.style;m.paddingTop="0";m.paddingBottom="0";m.borderTopWidth="0";m.borderBottomWidth="0";m.height=0;r=i(I).width();na.style.width=q(r);H.push(r)},j,k);i(j).height(0)}P(function(I){I.innerHTML="";I.style.width=q(H.shift())},h);a.nTFoot!==null&&P(function(I){I.innerHTML="";I.style.width=q(H.shift())},j);if(i(a.nTable).outerWidth()<f){j=d.scrollHeight>d.offsetHeight||i(d).css("overflow-y")=="scroll"?f+a.oScroll.iBarWidth:f;if(B&&(d.scrollHeight>d.offsetHeight||i(d).css("overflow-y")=="scroll")){a.nTable.style.width=q(j-a.oScroll.iBarWidth)}d.style.width=q(j);b.parentNode.style.width=q(j);if(a.nTFoot!==null){L.parentNode.style.width=q(j)}if(a.oScroll.sX===""){J(a,1,"The table cannot fit into the current element which will cause column misalignment. The table has been drawn at its minimum possible width.")}else{a.oScroll.sXInner!==""&&J(a,1,"The table cannot fit into the current element which will cause column misalignment. Increase the sScrollXInner value or remove it to allow automatic calculation")}}else{d.style.width=q("100%");b.parentNode.style.width=q("100%");if(a.nTFoot!==null){L.parentNode.style.width=q("100%")}}if(a.oScroll.sY===""){if(B){d.style.height=q(a.nTable.offsetHeight+a.oScroll.iBarWidth)}}if(a.oScroll.sY!==""&&a.oScroll.bCollapse){d.style.height=q(a.oScroll.sY);B=a.oScroll.sX!==""&&a.nTable.offsetWidth>d.offsetWidth?a.oScroll.iBarWidth:0;if(a.nTable.offsetHeight<d.offsetHeight){d.style.height=q(i(a.nTable).height()+B)}}B=i(a.nTable).outerWidth();c.style.width=q(B);b.style.width=q(B+a.oScroll.iBarWidth);if(a.nTFoot!==null){L.style.width=q(a.nTable.offsetWidth+a.oScroll.iBarWidth);T.style.width=q(a.nTable.offsetWidth)}if(a.bSorted||a.bFiltered){d.scrollTop=0}}function ea(a){if(a.oFeatures.bAutoWidth===false){return false}ga(a);for(var b=0,c=a.aoColumns.length;b<c;b++){a.aoColumns[b].nTh.style.width=a.aoColumns[b].sWidth}}function Ha(a){var b=a.oLanguage.sSearch;b=b.indexOf("_INPUT_")!==-1?b.replace("_INPUT_",'<input type="text" />'):b===""?'<input type="text" />':b+' <input type="text" />';var c=p.createElement("div");c.className=a.oClasses.sFilter;c.innerHTML="<label>"+b+"</label>";a.sTableId!==""&&typeof a.aanFeatures.f=="undefined"&&c.setAttribute("id",a.sTableId+"_filter");b=i("input",c);b.val(a.oPreviousSearch.sSearch.replace('"',"&quot;"));b.bind("keyup.DT",function(){for(var d=a.aanFeatures.f,f=0,e=d.length;f<e;f++){d[f]!=i(this).parents("div.dataTables_filter")[0]&&i("input",d[f]).val(this.value)}this.value!=a.oPreviousSearch.sSearch&&N(a,{sSearch:this.value,bRegex:a.oPreviousSearch.bRegex,bSmart:a.oPreviousSearch.bSmart})});b.bind("keypress.DT",function(d){if(d.keyCode==13){return false}});return c}function N(a,b,c){Oa(a,b.sSearch,c,b.bRegex,b.bSmart);for(b=0;b<a.aoPreSearchCols.length;b++){Pa(a,a.aoPreSearchCols[b].sSearch,b,a.aoPreSearchCols[b].bRegex,a.aoPreSearchCols[b].bSmart)}n.afnFiltering.length!==0&&Qa(a);a.bFiltered=true;i(a.oInstance).trigger("filter",a);a._iDisplayStart=0;E(a);C(a);oa(a,0)}function Qa(a){for(var b=n.afnFiltering,c=0,d=b.length;c<d;c++){for(var f=0,e=0,h=a.aiDisplay.length;e<h;e++){var j=a.aiDisplay[e-f];if(!b[c](a,fa(a,j,"filter"),j)){a.aiDisplay.splice(e-f,1);f++}}}}function Pa(a,b,c,d,f){if(b!==""){var e=0;b=pa(b,d,f);for(d=a.aiDisplay.length-1;d>=0;d--){f=qa(G(a,a.aiDisplay[d],c,"filter"),a.aoColumns[c].sType);if(!b.test(f)){a.aiDisplay.splice(d,1);e++}}}}function Oa(a,b,c,d,f){var e=pa(b,d,f);if(typeof c=="undefined"||c===null){c=0}if(n.afnFiltering.length!==0){c=1}if(b.length<=0){a.aiDisplay.splice(0,a.aiDisplay.length);a.aiDisplay=a.aiDisplayMaster.slice()}else{if(a.aiDisplay.length==a.aiDisplayMaster.length||a.oPreviousSearch.sSearch.length>b.length||c==1||b.indexOf(a.oPreviousSearch.sSearch)!==0){a.aiDisplay.splice(0,a.aiDisplay.length);oa(a,1);for(c=0;c<a.aiDisplayMaster.length;c++){e.test(a.asDataSearch[c])&&a.aiDisplay.push(a.aiDisplayMaster[c])}}else{var h=0;for(c=0;c<a.asDataSearch.length;c++){if(!e.test(a.asDataSearch[c])){a.aiDisplay.splice(c-h,1);h++}}}}a.oPreviousSearch.sSearch=b;a.oPreviousSearch.bRegex=d;a.oPreviousSearch.bSmart=f}function oa(a,b){if(!a.oFeatures.bServerSide){a.asDataSearch.splice(0,a.asDataSearch.length);b=typeof b!="undefined"&&b==1?a.aiDisplayMaster:a.aiDisplay;for(var c=0,d=b.length;c<d;c++){a.asDataSearch[c]=ra(a,fa(a,b[c],"filter"))}}}function ra(a,b){var c="";if(typeof a.__nTmpFilter=="undefined"){a.__nTmpFilter=p.createElement("div")}for(var d=a.__nTmpFilter,f=0,e=a.aoColumns.length;f<e;f++){if(a.aoColumns[f].bSearchable){c+=qa(b[f],a.aoColumns[f].sType)+"  "}}if(c.indexOf("&")!==-1){d.innerHTML=c;c=d.textContent?d.textContent:d.innerText;c=c.replace(/\n/g," ").replace(/\r/g,"")}return c}function pa(a,b,c){if(c){a=b?a.split(" "):sa(a).split(" ");a="^(?=.*?"+a.join(")(?=.*?")+").*$";return new RegExp(a,"i")}else{a=b?a:sa(a);return new RegExp(a,"i")}}function qa(a,b){if(typeof n.ofnSearch[b]=="function"){return n.ofnSearch[b](a)}else{if(b=="html"){return a.replace(/\n/g," ").replace(/<.*?>/g,"")}else{if(typeof a=="string"){return a.replace(/\n/g," ")}else{if(a===null){return""}}}}return a}function R(a,b){var c,d,f,e,h=[],j=[],k=n.oSort;d=a.aoData;var m=a.aoColumns;if(!a.oFeatures.bServerSide&&(a.aaSorting.length!==0||a.aaSortingFixed!==null)){h=a.aaSortingFixed!==null?a.aaSortingFixed.concat(a.aaSorting):a.aaSorting.slice();for(c=0;c<h.length;c++){var u=h[c][0];f=ta(a,u);e=a.aoColumns[u].sSortDataType;if(typeof n.afnSortData[e]!="undefined"){var r=n.afnSortData[e](a,u,f);f=0;for(e=d.length;f<e;f++){O(a,f,u,r[f])}}}c=0;for(d=a.aiDisplayMaster.length;c<d;c++){j[a.aiDisplayMaster[c]]=c}var H=h.length;a.aiDisplayMaster.sort(function(L,T){var B,U;for(c=0;c<H;c++){B=m[h[c][0]].iDataSort;U=m[B].sType;B=k[(U?U:"string")+"-"+h[c][1]](G(a,L,B,"sort"),G(a,T,B,"sort"));if(B!==0){return B}}return k["numeric-asc"](j[L],j[T])})}if((typeof b=="undefined"||b)&&!a.oFeatures.bDeferRender){V(a)}a.bSorted=true;i(a.oInstance).trigger("sort",a);if(a.oFeatures.bFilter){N(a,a.oPreviousSearch,1)}else{a.aiDisplay=a.aiDisplayMaster.slice();a._iDisplayStart=0;E(a);C(a)}}function ja(a,b,c,d){i(b).bind("click.DT",function(f){if(a.aoColumns[c].bSortable!==false){var e=function(){var h,j;if(f.shiftKey){for(var k=false,m=0;m<a.aaSorting.length;m++){if(a.aaSorting[m][0]==c){k=true;h=a.aaSorting[m][0];j=a.aaSorting[m][2]+1;if(typeof a.aoColumns[h].asSorting[j]=="undefined"){a.aaSorting.splice(m,1)}else{a.aaSorting[m][1]=a.aoColumns[h].asSorting[j];a.aaSorting[m][2]=j}break}}k===false&&a.aaSorting.push([c,a.aoColumns[c].asSorting[0],0])}else{if(a.aaSorting.length==1&&a.aaSorting[0][0]==c){h=a.aaSorting[0][0];j=a.aaSorting[0][2]+1;if(typeof a.aoColumns[h].asSorting[j]=="undefined"){j=0}a.aaSorting[0][1]=a.aoColumns[h].asSorting[j];a.aaSorting[0][2]=j}else{a.aaSorting.splice(0,a.aaSorting.length);a.aaSorting.push([c,a.aoColumns[c].asSorting[0],0])}}R(a)};if(a.oFeatures.bProcessing){K(a,true);setTimeout(function(){e();a.oFeatures.bServerSide||K(a,false)},0)}else{e()}typeof d=="function"&&d(a)}})}function V(a){var b,c,d,f,e,h=a.aoColumns.length,j=a.oClasses;for(b=0;b<h;b++){a.aoColumns[b].bSortable&&i(a.aoColumns[b].nTh).removeClass(j.sSortAsc+" "+j.sSortDesc+" "+a.aoColumns[b].sSortingClass)}f=a.aaSortingFixed!==null?a.aaSortingFixed.concat(a.aaSorting):a.aaSorting.slice();for(b=0;b<a.aoColumns.length;b++){if(a.aoColumns[b].bSortable){e=a.aoColumns[b].sSortingClass;d=-1;for(c=0;c<f.length;c++){if(f[c][0]==b){e=f[c][1]=="asc"?j.sSortAsc:j.sSortDesc;d=c;break}}i(a.aoColumns[b].nTh).addClass(e);if(a.bJUI){c=i("span",a.aoColumns[b].nTh);c.removeClass(j.sSortJUIAsc+" "+j.sSortJUIDesc+" "+j.sSortJUI+" "+j.sSortJUIAscAllowed+" "+j.sSortJUIDescAllowed);c.addClass(d==-1?a.aoColumns[b].sSortingClassJUI:f[d][1]=="asc"?j.sSortJUIAsc:j.sSortJUIDesc)}}else{i(a.aoColumns[b].nTh).addClass(a.aoColumns[b].sSortingClass)}}e=j.sSortColumn;if(a.oFeatures.bSort&&a.oFeatures.bSortClasses){d=Q(a);if(a.oFeatures.bDeferRender){i(d).removeClass(e+"1 "+e+"2 "+e+"3")}else{if(d.length>=h){for(b=0;b<h;b++){if(d[b].className.indexOf(e+"1")!=-1){c=0;for(a=d.length/h;c<a;c++){d[h*c+b].className=i.trim(d[h*c+b].className.replace(e+"1",""))}}else{if(d[b].className.indexOf(e+"2")!=-1){c=0;for(a=d.length/h;c<a;c++){d[h*c+b].className=i.trim(d[h*c+b].className.replace(e+"2",""))}}else{if(d[b].className.indexOf(e+"3")!=-1){c=0;for(a=d.length/h;c<a;c++){d[h*c+b].className=i.trim(d[h*c+b].className.replace(" "+e+"3",""))}}}}}}}j=1;var k;for(b=0;b<f.length;b++){k=parseInt(f[b][0],10);c=0;for(a=d.length/h;c<a;c++){d[h*c+k].className+=" "+e+j}j<3&&j++}}}function La(a){if(a.oScroll.bInfinite){return null}var b=p.createElement("div");b.className=a.oClasses.sPaging+a.sPaginationType;n.oPagination[a.sPaginationType].fnInit(a,b,function(c){E(c);C(c)});typeof a.aanFeatures.p=="undefined"&&a.aoDrawCallback.push({fn:function(c){n.oPagination[c.sPaginationType].fnUpdate(c,function(d){E(d);C(d)})},sName:"pagination"});return b}function ma(a,b){var c=a._iDisplayStart;if(b=="first"){a._iDisplayStart=0}else{if(b=="previous"){a._iDisplayStart=a._iDisplayLength>=0?a._iDisplayStart-a._iDisplayLength:0;if(a._iDisplayStart<0){a._iDisplayStart=0}}else{if(b=="next"){if(a._iDisplayLength>=0){if(a._iDisplayStart+a._iDisplayLength<a.fnRecordsDisplay()){a._iDisplayStart+=a._iDisplayLength}}else{a._iDisplayStart=0}}else{if(b=="last"){if(a._iDisplayLength>=0){b=parseInt((a.fnRecordsDisplay()-1)/a._iDisplayLength,10)+1;a._iDisplayStart=(b-1)*a._iDisplayLength}else{a._iDisplayStart=0}}else{J(a,0,"Unknown paging action: "+b)}}}}i(a.oInstance).trigger("page",a);return c!=a._iDisplayStart}function Ka(a){var b=p.createElement("div");b.className=a.oClasses.sInfo;if(typeof a.aanFeatures.i=="undefined"){a.aoDrawCallback.push({fn:Ra,sName:"information"});a.sTableId!==""&&b.setAttribute("id",a.sTableId+"_info")}return b}function Ra(a){if(!(!a.oFeatures.bInfo||a.aanFeatures.i.length===0)){var b=a._iDisplayStart+1,c=a.fnDisplayEnd(),d=a.fnRecordsTotal(),f=a.fnRecordsDisplay(),e=a.fnFormatNumber(b),h=a.fnFormatNumber(c),j=a.fnFormatNumber(d),k=a.fnFormatNumber(f);if(a.oScroll.bInfinite){e=a.fnFormatNumber(1)}e=a.fnRecordsDisplay()===0&&a.fnRecordsDisplay()==a.fnRecordsTotal()?a.oLanguage.sInfoEmpty+a.oLanguage.sInfoPostFix:a.fnRecordsDisplay()===0?a.oLanguage.sInfoEmpty+" "+a.oLanguage.sInfoFiltered.replace("_MAX_",j)+a.oLanguage.sInfoPostFix:a.fnRecordsDisplay()==a.fnRecordsTotal()?a.oLanguage.sInfo.replace("_START_",e).replace("_END_",h).replace("_TOTAL_",k)+a.oLanguage.sInfoPostFix:a.oLanguage.sInfo.replace("_START_",e).replace("_END_",h).replace("_TOTAL_",k)+" "+a.oLanguage.sInfoFiltered.replace("_MAX_",a.fnFormatNumber(a.fnRecordsTotal()))+a.oLanguage.sInfoPostFix;if(a.oLanguage.fnInfoCallback!==null){e=a.oLanguage.fnInfoCallback(a,b,c,d,f,e)}a=a.aanFeatures.i;b=0;for(c=a.length;b<c;b++){i(a[b]).html(e)}}}function Ga(a){if(a.oScroll.bInfinite){return null}var b='<select size="1" '+(a.sTableId===""?"":'name="'+a.sTableId+'_length"')+">",c,d;if(a.aLengthMenu.length==2&&typeof a.aLengthMenu[0]=="object"&&typeof a.aLengthMenu[1]=="object"){c=0;for(d=a.aLengthMenu[0].length;c<d;c++){b+='<option value="'+a.aLengthMenu[0][c]+'">'+a.aLengthMenu[1][c]+"</option>"}}else{c=0;for(d=a.aLengthMenu.length;c<d;c++){b+='<option value="'+a.aLengthMenu[c]+'">'+a.aLengthMenu[c]+"</option>"}}b+="</select>";var f=p.createElement("div");a.sTableId!==""&&typeof a.aanFeatures.l=="undefined"&&f.setAttribute("id",a.sTableId+"_length");f.className=a.oClasses.sLength;f.innerHTML="<label>"+a.oLanguage.sLengthMenu.replace("_MENU_",b)+"</label>";i('select option[value="'+a._iDisplayLength+'"]',f).attr("selected",true);i("select",f).bind("change.DT",function(){var e=i(this).val(),h=a.aanFeatures.l;c=0;for(d=h.length;c<d;c++){h[c]!=this.parentNode&&i("select",h[c]).val(e)}a._iDisplayLength=parseInt(e,10);E(a);if(a.fnDisplayEnd()==a.fnRecordsDisplay()){a._iDisplayStart=a.fnDisplayEnd()-a._iDisplayLength;if(a._iDisplayStart<0){a._iDisplayStart=0}}if(a._iDisplayLength==-1){a._iDisplayStart=0}C(a)});return f}function Ia(a){var b=p.createElement("div");a.sTableId!==""&&typeof a.aanFeatures.r=="undefined"&&b.setAttribute("id",a.sTableId+"_processing");b.innerHTML=a.oLanguage.sProcessing;b.className=a.oClasses.sProcessing;a.nTable.parentNode.insertBefore(b,a.nTable);return b}function K(a,b){if(a.oFeatures.bProcessing){a=a.aanFeatures.r;for(var c=0,d=a.length;c<d;c++){a[c].style.visibility=b?"visible":"hidden"}}}function Na(a,b){for(var c=-1,d=0;d<a.aoColumns.length;d++){a.aoColumns[d].bVisible===true&&c++;if(c==b){return d}}return null}function ta(a,b){for(var c=-1,d=0;d<a.aoColumns.length;d++){a.aoColumns[d].bVisible===true&&c++;if(d==b){return a.aoColumns[d].bVisible===true?c:null}}return null}function W(a,b){var c,d;c=a._iDisplayStart;for(d=a._iDisplayEnd;c<d;c++){if(a.aoData[a.aiDisplay[c]].nTr==b){return a.aiDisplay[c]}}c=0;for(d=a.aoData.length;c<d;c++){if(a.aoData[c].nTr==b){return c}}return null}function Z(a){for(var b=0,c=0;c<a.aoColumns.length;c++){a.aoColumns[c].bVisible===true&&b++}return b}function E(a){a._iDisplayEnd=a.oFeatures.bPaginate===false?a.aiDisplay.length:a._iDisplayStart+a._iDisplayLength>a.aiDisplay.length||a._iDisplayLength==-1?a.aiDisplay.length:a._iDisplayStart+a._iDisplayLength}function Sa(a,b){if(!a||a===null||a===""){return 0}if(typeof b=="undefined"){b=p.getElementsByTagName("body")[0]}var c=p.createElement("div");c.style.width=q(a);b.appendChild(c);a=c.offsetWidth;b.removeChild(c);return a}function ga(a){var b=0,c,d=0,f=a.aoColumns.length,e,h=i("th",a.nTHead);for(e=0;e<f;e++){if(a.aoColumns[e].bVisible){d++;if(a.aoColumns[e].sWidth!==null){c=Sa(a.aoColumns[e].sWidthOrig,a.nTable.parentNode);if(c!==null){a.aoColumns[e].sWidth=q(c)}b++}}}if(f==h.length&&b===0&&d==f&&a.oScroll.sX===""&&a.oScroll.sY===""){for(e=0;e<a.aoColumns.length;e++){c=i(h[e]).width();if(c!==null){a.aoColumns[e].sWidth=q(c)}}}else{b=a.nTable.cloneNode(false);e=a.nTHead.cloneNode(true);d=p.createElement("tbody");c=p.createElement("tr");b.removeAttribute("id");b.appendChild(e);if(a.nTFoot!==null){b.appendChild(a.nTFoot.cloneNode(true));P(function(k){k.style.width=""},b.getElementsByTagName("tr"))}b.appendChild(d);d.appendChild(c);d=i("thead th",b);if(d.length===0){d=i("tbody tr:eq(0)>td",b)}h=S(a,e);for(e=d=0;e<f;e++){var j=a.aoColumns[e];if(j.bVisible&&j.sWidthOrig!==null&&j.sWidthOrig!==""){h[e-d].style.width=q(j.sWidthOrig)}else{if(j.bVisible){h[e-d].style.width=""}else{d++}}}for(e=0;e<f;e++){if(a.aoColumns[e].bVisible){d=Ta(a,e);if(d!==null){d=d.cloneNode(true);if(a.aoColumns[e].sContentPadding!==""){d.innerHTML+=a.aoColumns[e].sContentPadding}c.appendChild(d)}}}f=a.nTable.parentNode;f.appendChild(b);if(a.oScroll.sX!==""&&a.oScroll.sXInner!==""){b.style.width=q(a.oScroll.sXInner)}else{if(a.oScroll.sX!==""){b.style.width="";if(i(b).width()<f.offsetWidth){b.style.width=q(f.offsetWidth)}}else{if(a.oScroll.sY!==""){b.style.width=q(f.offsetWidth)}}}b.style.visibility="hidden";Ua(a,b);f=i("tbody tr:eq(0)",b).children();if(f.length===0){f=S(a,i("thead",b)[0])}if(a.oScroll.sX!==""){for(e=d=c=0;e<a.aoColumns.length;e++){if(a.aoColumns[e].bVisible){c+=a.aoColumns[e].sWidthOrig===null?i(f[d]).outerWidth():parseInt(a.aoColumns[e].sWidth.replace("px",""),10)+(i(f[d]).outerWidth()-i(f[d]).width());d++}}b.style.width=q(c);a.nTable.style.width=q(c)}for(e=d=0;e<a.aoColumns.length;e++){if(a.aoColumns[e].bVisible){c=i(f[d]).width();if(c!==null&&c>0){a.aoColumns[e].sWidth=q(c)}d++}}a.nTable.style.width=q(i(b).outerWidth());b.parentNode.removeChild(b)}}function Ua(a,b){if(a.oScroll.sX===""&&a.oScroll.sY!==""){i(b).width();b.style.width=q(i(b).outerWidth()-a.oScroll.iBarWidth)}else{if(a.oScroll.sX!==""){b.style.width=q(i(b).outerWidth())}}}function Ta(a,b){var c=Va(a,b);if(c<0){return null}if(a.aoData[c].nTr===null){var d=p.createElement("td");d.innerHTML=G(a,c,b,"");return d}return Q(a,c)[b]}function Va(a,b){for(var c=-1,d=-1,f=0;f<a.aoData.length;f++){var e=G(a,f,b,"display")+"";e=e.replace(/<.*?>/g,"");if(e.length>c){c=e.length;d=f}}return d}function q(a){if(a===null){return"0px"}if(typeof a=="number"){if(a<0){return"0px"}return a+"px"}var b=a.charCodeAt(a.length-1);if(b<48||b>57){return a}return a+"px"}function Za(a,b){if(a.length!=b.length){return 1}for(var c=0;c<a.length;c++){if(a[c]!=b[c]){return 2}}return 0}function ia(a){for(var b=n.aTypes,c=b.length,d=0;d<c;d++){var f=b[d](a);if(f!==null){return f}}return"string"}function A(a){for(var b=0;b<D.length;b++){if(D[b].nTable==a){return D[b]}}return null}function ca(a){for(var b=[],c=a.aoData.length,d=0;d<c;d++){b.push(a.aoData[d]._aData)}return b}function ba(a){for(var b=[],c=0,d=a.aoData.length;c<d;c++){a.aoData[c].nTr!==null&&b.push(a.aoData[c].nTr)}return b}function Q(a,b){var c=[],d,f,e,h,j;f=0;var k=a.aoData.length;if(typeof b!="undefined"){f=b;k=b+1}for(f=f;f<k;f++){j=a.aoData[f];if(j.nTr!==null){b=[];e=0;for(h=j.nTr.childNodes.length;e<h;e++){d=j.nTr.childNodes[e].nodeName.toLowerCase();if(d=="td"||d=="th"){b.push(j.nTr.childNodes[e])}}e=d=0;for(h=a.aoColumns.length;e<h;e++){if(a.aoColumns[e].bVisible){c.push(b[e-d])}else{c.push(j._anHidden[e]);d++}}}}return c}function sa(a){return a.replace(new RegExp("(\\/|\\.|\\*|\\+|\\?|\\||\\(|\\)|\\[|\\]|\\{|\\}|\\\\|\\$|\\^)","g"),"\\$1")}function ua(a,b){for(var c=-1,d=0,f=a.length;d<f;d++){if(a[d]==b){c=d}else{a[d]>b&&a[d]--}}c!=-1&&a.splice(c,1)}function Fa(a,b){b=b.split(",");for(var c=[],d=0,f=a.aoColumns.length;d<f;d++){for(var e=0;e<f;e++){if(a.aoColumns[d].sName==b[e]){c.push(e);break}}}return c}function ka(a){for(var b="",c=0,d=a.aoColumns.length;c<d;c++){b+=a.aoColumns[c].sName+","}if(b.length==d){return""}return b.slice(0,-1)}function J(a,b,c){a=a.sTableId===""?"DataTables warning: "+c:"DataTables warning (table id = '"+a.sTableId+"'): "+c;if(b===0){if(n.sErrMode=="alert"){alert(a)}else{throw a}}else{typeof console!="undefined"&&typeof console.log!="undefined"&&console.log(a)}}function la(a){a.aoData.splice(0,a.aoData.length);a.aiDisplayMaster.splice(0,a.aiDisplayMaster.length);a.aiDisplay.splice(0,a.aiDisplay.length);E(a)}function va(a){if(!(!a.oFeatures.bStateSave||typeof a.bDestroying!="undefined")){var b,c,d,f="{";f+='"iCreate":'+(new Date).getTime()+",";f+='"iStart":'+(a.oScroll.bInfinite?0:a._iDisplayStart)+",";f+='"iEnd":'+(a.oScroll.bInfinite?a._iDisplayLength:a._iDisplayEnd)+",";f+='"iLength":'+a._iDisplayLength+",";f+='"sFilter":"'+encodeURIComponent(a.oPreviousSearch.sSearch)+'",';f+='"sFilterEsc":'+!a.oPreviousSearch.bRegex+",";f+='"aaSorting":[ ';for(b=0;b<a.aaSorting.length;b++){f+="["+a.aaSorting[b][0]+',"'+a.aaSorting[b][1]+'"],'}f=f.substring(0,f.length-1);f+="],";f+='"aaSearchCols":[ ';for(b=0;b<a.aoPreSearchCols.length;b++){f+='["'+encodeURIComponent(a.aoPreSearchCols[b].sSearch)+'",'+!a.aoPreSearchCols[b].bRegex+"],"}f=f.substring(0,f.length-1);f+="],";f+='"abVisCols":[ ';for(b=0;b<a.aoColumns.length;b++){f+=a.aoColumns[b].bVisible+","}f=f.substring(0,f.length-1);f+="]";b=0;for(c=a.aoStateSave.length;b<c;b++){d=a.aoStateSave[b].fn(a,f);if(d!==""){f=d}}f+="}";Wa(a.sCookiePrefix+a.sInstance,f,a.iCookieDuration,a.sCookiePrefix,a.fnCookieCallback)}}function Xa(a,b){if(a.oFeatures.bStateSave){var c,d,f;d=wa(a.sCookiePrefix+a.sInstance);if(d!==null&&d!==""){try{c=typeof i.parseJSON=="function"?i.parseJSON(d.replace(/'/g,'"')):eval("("+d+")")}catch(e){return}d=0;for(f=a.aoStateLoad.length;d<f;d++){if(!a.aoStateLoad[d].fn(a,c)){return}}a.oLoadedState=i.extend(true,{},c);a._iDisplayStart=c.iStart;a.iInitDisplayStart=c.iStart;a._iDisplayEnd=c.iEnd;a._iDisplayLength=c.iLength;a.oPreviousSearch.sSearch=decodeURIComponent(c.sFilter);a.aaSorting=c.aaSorting.slice();a.saved_aaSorting=c.aaSorting.slice();if(typeof c.sFilterEsc!="undefined"){a.oPreviousSearch.bRegex=!c.sFilterEsc}if(typeof c.aaSearchCols!="undefined"){for(d=0;d<c.aaSearchCols.length;d++){a.aoPreSearchCols[d]={sSearch:decodeURIComponent(c.aaSearchCols[d][0]),bRegex:!c.aaSearchCols[d][1]}}}if(typeof c.abVisCols!="undefined"){b.saved_aoColumns=[];for(d=0;d<c.abVisCols.length;d++){b.saved_aoColumns[d]={};b.saved_aoColumns[d].bVisible=c.abVisCols[d]}}}}}function Wa(a,b,c,d,f){var e=new Date;e.setTime(e.getTime()+c*1000);c=za.location.pathname.split("/");a=a+"_"+c.pop().replace(/[\/:]/g,"").toLowerCase();var h;if(f!==null){h=typeof i.parseJSON=="function"?i.parseJSON(b):eval("("+b+")");b=f(a,h,e.toGMTString(),c.join("/")+"/")}else{b=a+"="+encodeURIComponent(b)+"; expires="+e.toGMTString()+"; path="+c.join("/")+"/"}f="";e=9999999999999;if((wa(a)!==null?p.cookie.length:b.length+p.cookie.length)+10>4096){a=p.cookie.split(";");for(var j=0,k=a.length;j<k;j++){if(a[j].indexOf(d)!=-1){var m=a[j].split("=");try{h=eval("("+decodeURIComponent(m[1])+")")}catch(u){continue}if(typeof h.iCreate!="undefined"&&h.iCreate<e){f=m[0];e=h.iCreate}}}if(f!==""){p.cookie=f+"=; expires=Thu, 01-Jan-1970 00:00:01 GMT; path="+c.join("/")+"/"}}p.cookie=b}function wa(a){var b=za.location.pathname.split("/");a=a+"_"+b[b.length-1].replace(/[\/:]/g,"").toLowerCase()+"=";b=p.cookie.split(";");for(var c=0;c<b.length;c++){for(var d=b[c];d.charAt(0)==" ";){d=d.substring(1,d.length)}if(d.indexOf(a)===0){return decodeURIComponent(d.substring(a.length,d.length))}}return null}function Y(a,b){b=i(b).children("tr");var c,d,f,e,h,j,k,m,u=function(L,T,B){for(;typeof L[T][B]!="undefined";){B++}return B};a.splice(0,a.length);d=0;for(j=b.length;d<j;d++){a.push([])}d=0;for(j=b.length;d<j;d++){f=0;for(k=b[d].childNodes.length;f<k;f++){c=b[d].childNodes[f];if(c.nodeName.toUpperCase()=="TD"||c.nodeName.toUpperCase()=="TH"){var r=c.getAttribute("colspan")*1,H=c.getAttribute("rowspan")*1;r=!r||r===0||r===1?1:r;H=!H||H===0||H===1?1:H;m=u(a,d,0);for(h=0;h<r;h++){for(e=0;e<H;e++){a[d+e][m+h]={cell:c,unique:r==1?true:false};a[d+e].nTr=b[d]}}}}}}function S(a,b,c){var d=[];if(typeof c=="undefined"){c=a.aoHeader;if(typeof b!="undefined"){c=[];Y(c,b)}}b=0;for(var f=c.length;b<f;b++){for(var e=0,h=c[b].length;e<h;e++){if(c[b][e].unique&&(typeof d[e]=="undefined"||!a.bSortCellsTop)){d[e]=c[b][e].cell}}}return d}function Ya(){var a=p.createElement("p"),b=a.style;b.width="100%";b.height="200px";b.padding="0px";var c=p.createElement("div");b=c.style;b.position="absolute";b.top="0px";b.left="0px";b.visibility="hidden";b.width="200px";b.height="150px";b.padding="0px";b.overflow="hidden";c.appendChild(a);p.body.appendChild(c);b=a.offsetWidth;c.style.overflow="scroll";a=a.offsetWidth;if(b==a){a=c.clientWidth}p.body.removeChild(c);return b-a}function P(a,b,c){for(var d=0,f=b.length;d<f;d++){for(var e=0,h=b[d].childNodes.length;e<h;e++){if(b[d].childNodes[e].nodeType==1){typeof c!="undefined"?a(b[d].childNodes[e],c[d].childNodes[e]):a(b[d].childNodes[e])}}}}function o(a,b,c,d){if(typeof d=="undefined"){d=c}if(typeof b[c]!="undefined"){a[d]=b[c]}}function fa(a,b,c){for(var d=[],f=0,e=a.aoColumns.length;f<e;f++){d.push(G(a,b,f,c))}return d}function G(a,b,c,d){var f=a.aoColumns[c];if((c=f.fnGetData(a.aoData[b]._aData))===undefined){if(a.iDrawError!=a.iDraw&&f.sDefaultContent===null){J(a,0,"Requested unknown parameter '"+f.mDataProp+"' from the data source for row "+b);a.iDrawError=a.iDraw}return f.sDefaultContent}if(c===null&&f.sDefaultContent!==null){c=f.sDefaultContent}else{if(typeof c=="function"){return c()}}if(d=="display"&&c===null){return""}return c}function O(a,b,c,d){a.aoColumns[c].fnSetData(a.aoData[b]._aData,d)}function aa(a){if(a===null){return function(){return null}}else{if(typeof a=="function"){return function(c){return a(c)}}else{if(typeof a=="string"&&a.indexOf(".")!=-1){var b=a.split(".");return b.length==2?function(c){return c[b[0]][b[1]]}:b.length==3?function(c){return c[b[0]][b[1]][b[2]]}:function(c){for(var d=0,f=b.length;d<f;d++){c=c[b[d]]}return c}}else{return function(c){return c[a]}}}}}function Ba(a){if(a===null){return function(){}}else{if(typeof a=="function"){return function(c,d){return a(c,d)}}else{if(typeof a=="string"&&a.indexOf(".")!=-1){var b=a.split(".");return b.length==2?function(c,d){c[b[0]][b[1]]=d}:b.length==3?function(c,d){c[b[0]][b[1]][b[2]]=d}:function(c,d){for(var f=0,e=b.length-1;f<e;f++){c=c[b[f]]}c[b[b.length-1]]=d}}else{return function(c,d){c[a]=d}}}}}this.oApi={};this.fnDraw=function(a){var b=A(this[n.iApiIndex]);if(typeof a!="undefined"&&a===false){E(b);C(b)}else{da(b)}};this.fnFilter=function(a,b,c,d,f){var e=A(this[n.iApiIndex]);if(e.oFeatures.bFilter){if(typeof c=="undefined"){c=false}if(typeof d=="undefined"){d=true}if(typeof f=="undefined"){f=true}if(typeof b=="undefined"||b===null){N(e,{sSearch:a,bRegex:c,bSmart:d},1);if(f&&typeof e.aanFeatures.f!="undefined"){b=e.aanFeatures.f;c=0;for(d=b.length;c<d;c++){i("input",b[c]).val(a)}}}else{e.aoPreSearchCols[b].sSearch=a;e.aoPreSearchCols[b].bRegex=c;e.aoPreSearchCols[b].bSmart=d;N(e,e.oPreviousSearch,1)}}};this.fnSettings=function(){return A(this[n.iApiIndex])};this.fnVersionCheck=n.fnVersionCheck;this.fnSort=function(a){var b=A(this[n.iApiIndex]);b.aaSorting=a;R(b)};this.fnSortListener=function(a,b,c){ja(A(this[n.iApiIndex]),a,b,c)};this.fnAddData=function(a,b){if(a.length===0){return[]}var c=[],d,f=A(this[n.iApiIndex]);if(typeof a[0]=="object"){for(var e=0;e<a.length;e++){d=v(f,a[e]);if(d==-1){return c}c.push(d)}}else{d=v(f,a);if(d==-1){return c}c.push(d)}f.aiDisplay=f.aiDisplayMaster.slice();if(typeof b=="undefined"||b){da(f)}return c};this.fnDeleteRow=function(a,b,c){var d=A(this[n.iApiIndex]);a=typeof a=="object"?W(d,a):a;var f=d.aoData.splice(a,1),e=i.inArray(a,d.aiDisplay);d.asDataSearch.splice(e,1);ua(d.aiDisplayMaster,a);ua(d.aiDisplay,a);typeof b=="function"&&b.call(this,d,f);if(d._iDisplayStart>=d.aiDisplay.length){d._iDisplayStart-=d._iDisplayLength;if(d._iDisplayStart<0){d._iDisplayStart=0}}if(typeof c=="undefined"||c){E(d);C(d)}return f};this.fnClearTable=function(a){var b=A(this[n.iApiIndex]);la(b);if(typeof a=="undefined"||a){C(b)}};this.fnOpen=function(a,b,c){var d=A(this[n.iApiIndex]);this.fnClose(a);var f=p.createElement("tr"),e=p.createElement("td");f.appendChild(e);e.className=c;e.colSpan=Z(d);if(typeof b.jquery!="undefined"||typeof b=="object"){e.appendChild(b)}else{e.innerHTML=b}b=i("tr",d.nTBody);i.inArray(a,b)!=-1&&i(f).insertAfter(a);d.aoOpenRows.push({nTr:f,nParent:a});return f};this.fnClose=function(a){for(var b=A(this[n.iApiIndex]),c=0;c<b.aoOpenRows.length;c++){if(b.aoOpenRows[c].nParent==a){(a=b.aoOpenRows[c].nTr.parentNode)&&a.removeChild(b.aoOpenRows[c].nTr);b.aoOpenRows.splice(c,1);return 0}}return 1};this.fnGetData=function(a,b){var c=A(this[n.iApiIndex]);if(typeof a!="undefined"){a=typeof a=="object"?W(c,a):a;if(typeof b!="undefined"){return G(c,a,b,"")}return typeof c.aoData[a]!="undefined"?c.aoData[a]._aData:null}return ca(c)};this.fnGetNodes=function(a){var b=A(this[n.iApiIndex]);if(typeof a!="undefined"){return typeof b.aoData[a]!="undefined"?b.aoData[a].nTr:null}return ba(b)};this.fnGetPosition=function(a){var b=A(this[n.iApiIndex]),c=a.nodeName.toUpperCase();if(c=="TR"){return W(b,a)}else{if(c=="TD"||c=="TH"){c=W(b,a.parentNode);for(var d=Q(b,c),f=0;f<b.aoColumns.length;f++){if(d[f]==a){return[c,ta(b,f),f]}}}}return null};this.fnUpdate=function(a,b,c,d,f){var e=A(this[n.iApiIndex]);b=typeof b=="object"?W(e,b):b;if(i.isArray(a)&&typeof a=="object"){e.aoData[b]._aData=a.slice();for(c=0;c<e.aoColumns.length;c++){this.fnUpdate(G(e,b,c),b,c,false,false)}}else{if(a!==null&&typeof a=="object"){e.aoData[b]._aData=i.extend(true,{},a);for(c=0;c<e.aoColumns.length;c++){this.fnUpdate(G(e,b,c),b,c,false,false)}}else{a=a;O(e,b,c,a);if(e.aoColumns[c].fnRender!==null){a=e.aoColumns[c].fnRender({iDataRow:b,iDataColumn:c,aData:e.aoData[b]._aData,oSettings:e});e.aoColumns[c].bUseRendered&&O(e,b,c,a)}if(e.aoData[b].nTr!==null){Q(e,b)[c].innerHTML=a}}}c=i.inArray(b,e.aiDisplay);e.asDataSearch[c]=ra(e,fa(e,b,"filter"));if(typeof f=="undefined"||f){ea(e)}if(typeof d=="undefined"||d){da(e)}return 0};this.fnSetColumnVis=function(a,b,c){var d=A(this[n.iApiIndex]),f,e;e=d.aoColumns.length;var h,j;if(d.aoColumns[a].bVisible!=b){if(b){for(f=j=0;f<a;f++){d.aoColumns[f].bVisible&&j++}j=j>=Z(d);if(!j){for(f=a;f<e;f++){if(d.aoColumns[f].bVisible){h=f;break}}}f=0;for(e=d.aoData.length;f<e;f++){if(d.aoData[f].nTr!==null){j?d.aoData[f].nTr.appendChild(d.aoData[f]._anHidden[a]):d.aoData[f].nTr.insertBefore(d.aoData[f]._anHidden[a],Q(d,f)[h])}}}else{f=0;for(e=d.aoData.length;f<e;f++){if(d.aoData[f].nTr!==null){h=Q(d,f)[a];d.aoData[f]._anHidden[a]=h;h.parentNode.removeChild(h)}}}d.aoColumns[a].bVisible=b;M(d,d.aoHeader);d.nTFoot&&M(d,d.aoFooter);f=0;for(e=d.aoOpenRows.length;f<e;f++){d.aoOpenRows[f].nTr.colSpan=Z(d)}if(typeof c=="undefined"||c){ea(d);C(d)}va(d)}};this.fnPageChange=function(a,b){var c=A(this[n.iApiIndex]);ma(c,a);E(c);if(typeof b=="undefined"||b){C(c)}};this.fnDestroy=function(){var a=A(this[n.iApiIndex]),b=a.nTableWrapper.parentNode,c=a.nTBody,d,f;a.bDestroying=true;d=0;for(f=a.aoDestroyCallback.length;d<f;d++){a.aoDestroyCallback[d].fn()}d=0;for(f=a.aoColumns.length;d<f;d++){a.aoColumns[d].bVisible===false&&this.fnSetColumnVis(d,true)}i(a.nTableWrapper).find("*").andSelf().unbind(".DT");i("tbody>tr>td."+a.oClasses.sRowEmpty,a.nTable).parent().remove();if(a.nTable!=a.nTHead.parentNode){i(a.nTable).children("thead").remove();a.nTable.appendChild(a.nTHead)}if(a.nTFoot&&a.nTable!=a.nTFoot.parentNode){i(a.nTable).children("tfoot").remove();a.nTable.appendChild(a.nTFoot)}a.nTable.parentNode.removeChild(a.nTable);i(a.nTableWrapper).remove();a.aaSorting=[];a.aaSortingFixed=[];V(a);i(ba(a)).removeClass(a.asStripeClasses.join(" "));if(a.bJUI){i("th",a.nTHead).removeClass([n.oStdClasses.sSortable,n.oJUIClasses.sSortableAsc,n.oJUIClasses.sSortableDesc,n.oJUIClasses.sSortableNone].join(" "));i("th span."+n.oJUIClasses.sSortIcon,a.nTHead).remove();i("th",a.nTHead).each(function(){var e=i("div."+n.oJUIClasses.sSortJUIWrapper,this),h=e.contents();i(this).append(h);e.remove()})}else{i("th",a.nTHead).removeClass([n.oStdClasses.sSortable,n.oStdClasses.sSortableAsc,n.oStdClasses.sSortableDesc,n.oStdClasses.sSortableNone].join(" "))}a.nTableReinsertBefore?b.insertBefore(a.nTable,a.nTableReinsertBefore):b.appendChild(a.nTable);d=0;for(f=a.aoData.length;d<f;d++){a.aoData[d].nTr!==null&&c.appendChild(a.aoData[d].nTr)}if(a.oFeatures.bAutoWidth===true){a.nTable.style.width=q(a.sDestroyWidth)}i(c).children("tr:even").addClass(a.asDestroyStripes[0]);i(c).children("tr:odd").addClass(a.asDestroyStripes[1]);d=0;for(f=D.length;d<f;d++){D[d]==a&&D.splice(d,1)}a=null};this.fnAdjustColumnSizing=function(a){var b=A(this[n.iApiIndex]);ea(b);if(typeof a=="undefined"||a){this.fnDraw(false)}else{if(b.oScroll.sX!==""||b.oScroll.sY!==""){this.oApi._fnScrollDraw(b)}}};for(var xa in n.oApi){if(xa){this[xa]=s(xa)}}this.oApi._fnExternApiFunc=s;this.oApi._fnInitialise=t;this.oApi._fnInitComplete=w;this.oApi._fnLanguageProcess=y;this.oApi._fnAddColumn=F;this.oApi._fnColumnOptions=x;this.oApi._fnAddData=v;this.oApi._fnCreateTr=z;this.oApi._fnGatherData=$;this.oApi._fnBuildHead=X;this.oApi._fnDrawHead=M;this.oApi._fnDraw=C;this.oApi._fnReDraw=da;this.oApi._fnAjaxUpdate=Ca;this.oApi._fnAjaxParameters=Da;this.oApi._fnAjaxUpdateDraw=Ea;this.oApi._fnServerParams=ha;this.oApi._fnAddOptionsHtml=Aa;this.oApi._fnFeatureHtmlTable=Ja;this.oApi._fnScrollDraw=Ma;this.oApi._fnAdjustColumnSizing=ea;this.oApi._fnFeatureHtmlFilter=Ha;this.oApi._fnFilterComplete=N;this.oApi._fnFilterCustom=Qa;this.oApi._fnFilterColumn=Pa;this.oApi._fnFilter=Oa;this.oApi._fnBuildSearchArray=oa;this.oApi._fnBuildSearchRow=ra;this.oApi._fnFilterCreateSearch=pa;this.oApi._fnDataToSearch=qa;this.oApi._fnSort=R;this.oApi._fnSortAttachListener=ja;this.oApi._fnSortingClasses=V;this.oApi._fnFeatureHtmlPaginate=La;this.oApi._fnPageChange=ma;this.oApi._fnFeatureHtmlInfo=Ka;this.oApi._fnUpdateInfo=Ra;this.oApi._fnFeatureHtmlLength=Ga;this.oApi._fnFeatureHtmlProcessing=Ia;this.oApi._fnProcessingDisplay=K;this.oApi._fnVisibleToColumnIndex=Na;this.oApi._fnColumnIndexToVisible=ta;this.oApi._fnNodeToDataIndex=W;this.oApi._fnVisbleColumns=Z;this.oApi._fnCalculateEnd=E;this.oApi._fnConvertToWidth=Sa;this.oApi._fnCalculateColumnWidths=ga;this.oApi._fnScrollingWidthAdjust=Ua;this.oApi._fnGetWidestNode=Ta;this.oApi._fnGetMaxLenString=Va;this.oApi._fnStringToCss=q;this.oApi._fnArrayCmp=Za;this.oApi._fnDetectType=ia;this.oApi._fnSettingsFromNode=A;this.oApi._fnGetDataMaster=ca;this.oApi._fnGetTrNodes=ba;this.oApi._fnGetTdNodes=Q;this.oApi._fnEscapeRegex=sa;this.oApi._fnDeleteIndex=ua;this.oApi._fnReOrderIndex=Fa;this.oApi._fnColumnOrdering=ka;this.oApi._fnLog=J;this.oApi._fnClearTable=la;this.oApi._fnSaveState=va;this.oApi._fnLoadState=Xa;this.oApi._fnCreateCookie=Wa;this.oApi._fnReadCookie=wa;this.oApi._fnDetectHeader=Y;this.oApi._fnGetUniqueThs=S;this.oApi._fnScrollBarWidth=Ya;this.oApi._fnApplyToChildren=P;this.oApi._fnMap=o;this.oApi._fnGetRowData=fa;this.oApi._fnGetCellData=G;this.oApi._fnSetCellData=O;this.oApi._fnGetObjectDataFn=aa;this.oApi._fnSetObjectDataFn=Ba;var ya=this;return this.each(function(){var a=0,b,c,d,f;a=0;for(b=D.length;a<b;a++){if(D[a].nTable==this){if(typeof g=="undefined"||typeof g.bRetrieve!="undefined"&&g.bRetrieve===true){return D[a].oInstance}else{if(typeof g.bDestroy!="undefined"&&g.bDestroy===true){D[a].oInstance.fnDestroy();break}else{J(D[a],0,"Cannot reinitialise DataTable.\n\nTo retrieve the DataTables object for this table, please pass either no arguments to the dataTable() function, or set bRetrieve to true. Alternatively, to destory the old table and create a new one, set bDestroy to true (note that a lot of changes to the configuration can be made through the API which is usually much faster).");return}}}if(D[a].sTableId!==""&&D[a].sTableId==this.getAttribute("id")){D.splice(a,1);break}}var e=new l;D.push(e);var h=false,j=false;a=this.getAttribute("id");if(a!==null){e.sTableId=a;e.sInstance=a}else{e.sInstance=n._oExternConfig.iNextUnique++}if(this.nodeName.toLowerCase()!="table"){J(e,0,"Attempted to initialise DataTables on a node which is not a table: "+this.nodeName)}else{e.nTable=this;e.oInstance=ya.length==1?ya:i(this).dataTable();e.oApi=ya.oApi;e.sDestroyWidth=i(this).width();if(typeof g!="undefined"&&g!==null){e.oInit=g;o(e.oFeatures,g,"bPaginate");o(e.oFeatures,g,"bLengthChange");o(e.oFeatures,g,"bFilter");o(e.oFeatures,g,"bSort");o(e.oFeatures,g,"bInfo");o(e.oFeatures,g,"bProcessing");o(e.oFeatures,g,"bAutoWidth");o(e.oFeatures,g,"bSortClasses");o(e.oFeatures,g,"bServerSide");o(e.oFeatures,g,"bDeferRender");o(e.oScroll,g,"sScrollX","sX");o(e.oScroll,g,"sScrollXInner","sXInner");o(e.oScroll,g,"sScrollY","sY");o(e.oScroll,g,"bScrollCollapse","bCollapse");o(e.oScroll,g,"bScrollInfinite","bInfinite");o(e.oScroll,g,"iScrollLoadGap","iLoadGap");o(e.oScroll,g,"bScrollAutoCss","bAutoCss");o(e,g,"asStripClasses","asStripeClasses");o(e,g,"asStripeClasses");o(e,g,"fnPreDrawCallback");o(e,g,"fnRowCallback");o(e,g,"fnHeaderCallback");o(e,g,"fnFooterCallback");o(e,g,"fnCookieCallback");o(e,g,"fnInitComplete");o(e,g,"fnServerData");o(e,g,"fnFormatNumber");o(e,g,"aaSorting");o(e,g,"aaSortingFixed");o(e,g,"aLengthMenu");o(e,g,"sPaginationType");o(e,g,"sAjaxSource");o(e,g,"sAjaxDataProp");o(e,g,"iCookieDuration");o(e,g,"sCookiePrefix");o(e,g,"sDom");o(e,g,"bSortCellsTop");o(e,g,"oSearch","oPreviousSearch");o(e,g,"aoSearchCols","aoPreSearchCols");o(e,g,"iDisplayLength","_iDisplayLength");o(e,g,"bJQueryUI","bJUI");o(e.oLanguage,g,"fnInfoCallback");typeof g.fnDrawCallback=="function"&&e.aoDrawCallback.push({fn:g.fnDrawCallback,sName:"user"});typeof g.fnServerParams=="function"&&e.aoServerParams.push({fn:g.fnServerParams,sName:"user"});typeof g.fnStateSaveCallback=="function"&&e.aoStateSave.push({fn:g.fnStateSaveCallback,sName:"user"});typeof g.fnStateLoadCallback=="function"&&e.aoStateLoad.push({fn:g.fnStateLoadCallback,sName:"user"});if(e.oFeatures.bServerSide&&e.oFeatures.bSort&&e.oFeatures.bSortClasses){e.aoDrawCallback.push({fn:V,sName:"server_side_sort_classes"})}else{e.oFeatures.bDeferRender&&e.aoDrawCallback.push({fn:V,sName:"defer_sort_classes"})}if(typeof g.bJQueryUI!="undefined"&&g.bJQueryUI){e.oClasses=n.oJUIClasses;if(typeof g.sDom=="undefined"){e.sDom='<"H"lfr>t<"F"ip>'}}if(e.oScroll.sX!==""||e.oScroll.sY!==""){e.oScroll.iBarWidth=Ya()}if(typeof g.iDisplayStart!="undefined"&&typeof e.iInitDisplayStart=="undefined"){e.iInitDisplayStart=g.iDisplayStart;e._iDisplayStart=g.iDisplayStart}if(typeof g.bStateSave!="undefined"){e.oFeatures.bStateSave=g.bStateSave;Xa(e,g);e.aoDrawCallback.push({fn:va,sName:"state_save"})}if(typeof g.iDeferLoading!="undefined"){e.bDeferLoading=true;e._iRecordsTotal=g.iDeferLoading;e._iRecordsDisplay=g.iDeferLoading}if(typeof g.aaData!="undefined"){j=true}if(typeof g!="undefined"&&typeof g.aoData!="undefined"){g.aoColumns=g.aoData}if(typeof g.oLanguage!="undefined"){if(typeof g.oLanguage.sUrl!="undefined"&&g.oLanguage.sUrl!==""){e.oLanguage.sUrl=g.oLanguage.sUrl;i.getJSON(e.oLanguage.sUrl,null,function(u){y(e,u,true)});h=true}else{y(e,g.oLanguage,false)}}}else{g={}}if(typeof g.asStripClasses=="undefined"&&typeof g.asStripeClasses=="undefined"){e.asStripeClasses.push(e.oClasses.sStripeOdd);e.asStripeClasses.push(e.oClasses.sStripeEven)}c=false;d=i(this).children("tbody").children("tr");a=0;for(b=e.asStripeClasses.length;a<b;a++){if(d.filter(":lt(2)").hasClass(e.asStripeClasses[a])){c=true;break}}if(c){e.asDestroyStripes=["",""];if(i(d[0]).hasClass(e.oClasses.sStripeOdd)){e.asDestroyStripes[0]+=e.oClasses.sStripeOdd+" "}if(i(d[0]).hasClass(e.oClasses.sStripeEven)){e.asDestroyStripes[0]+=e.oClasses.sStripeEven}if(i(d[1]).hasClass(e.oClasses.sStripeOdd)){e.asDestroyStripes[1]+=e.oClasses.sStripeOdd+" "}if(i(d[1]).hasClass(e.oClasses.sStripeEven)){e.asDestroyStripes[1]+=e.oClasses.sStripeEven}d.removeClass(e.asStripeClasses.join(" "))}c=[];var k;a=this.getElementsByTagName("thead");if(a.length!==0){Y(e.aoHeader,a[0]);c=S(e)}if(typeof g.aoColumns=="undefined"){k=[];a=0;for(b=c.length;a<b;a++){k.push(null)}}else{k=g.aoColumns}a=0;for(b=k.length;a<b;a++){if(typeof g.saved_aoColumns!="undefined"&&g.saved_aoColumns.length==b){if(k[a]===null){k[a]={}}k[a].bVisible=g.saved_aoColumns[a].bVisible}F(e,c?c[a]:null)}if(typeof g.aoColumnDefs!="undefined"){for(a=g.aoColumnDefs.length-1;a>=0;a--){var m=g.aoColumnDefs[a].aTargets;i.isArray(m)||J(e,1,"aTargets must be an array of targets, not a "+typeof m);c=0;for(d=m.length;c<d;c++){if(typeof m[c]=="number"&&m[c]>=0){for(;e.aoColumns.length<=m[c];){F(e)}x(e,m[c],g.aoColumnDefs[a])}else{if(typeof m[c]=="number"&&m[c]<0){x(e,e.aoColumns.length+m[c],g.aoColumnDefs[a])}else{if(typeof m[c]=="string"){b=0;for(f=e.aoColumns.length;b<f;b++){if(m[c]=="_all"||i(e.aoColumns[b].nTh).hasClass(m[c])){x(e,b,g.aoColumnDefs[a])}}}}}}}}if(typeof k!="undefined"){a=0;for(b=k.length;a<b;a++){x(e,a,k[a])}}a=0;for(b=e.aaSorting.length;a<b;a++){if(e.aaSorting[a][0]>=e.aoColumns.length){e.aaSorting[a][0]=0}k=e.aoColumns[e.aaSorting[a][0]];if(typeof e.aaSorting[a][2]=="undefined"){e.aaSorting[a][2]=0}if(typeof g.aaSorting=="undefined"&&typeof e.saved_aaSorting=="undefined"){e.aaSorting[a][1]=k.asSorting[0]}c=0;for(d=k.asSorting.length;c<d;c++){if(e.aaSorting[a][1]==k.asSorting[c]){e.aaSorting[a][2]=c;break}}}V(e);a=i(this).children("thead");if(a.length===0){a=[p.createElement("thead")];this.appendChild(a[0])}e.nTHead=a[0];a=i(this).children("tbody");if(a.length===0){a=[p.createElement("tbody")];this.appendChild(a[0])}e.nTBody=a[0];a=i(this).children("tfoot");if(a.length>0){e.nTFoot=a[0];Y(e.aoFooter,e.nTFoot)}if(j){for(a=0;a<g.aaData.length;a++){v(e,g.aaData[a])}}else{$(e)}e.aiDisplay=e.aiDisplayMaster.slice();e.bInitialised=true;h===false&&t(e)}})}})(jQuery,window,document);
/*!
 * jQuery Form Plugin
 * version: 2.87 (20-OCT-2011)
 * @requires jQuery v1.3.2 or later
 *
 * Examples and documentation at: http://malsup.com/jquery/form/
 * Dual licensed under the MIT and GPL licenses:
 *   http://www.opensource.org/licenses/mit-license.php
 *   http://www.gnu.org/licenses/gpl.html
 */
(function(b){b.fn.ajaxSubmit=function(f){if(!this.length){a("ajaxSubmit: skipping submit process - no element selected");return this}var e,s,h,j=this;if(typeof f=="function"){f={success:f}}e=this.attr("method");s=this.attr("action");h=(typeof s==="string")?b.trim(s):"";h=h||window.location.href||"";if(h){h=(h.match(/^([^#]+)/)||[])[1]}f=b.extend(true,{url:h,success:b.ajaxSettings.success,type:e||"GET",iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},f);var m={};this.trigger("form-pre-serialize",[this,f,m]);if(m.veto){a("ajaxSubmit: submit vetoed via form-pre-serialize trigger");return this}if(f.beforeSerialize&&f.beforeSerialize(this,f)===false){a("ajaxSubmit: submit aborted via beforeSerialize callback");return this}var i=f.traditional;if(i===undefined){i=b.ajaxSettings.traditional}var x,r,l,y=this.formToArray(f.semantic);if(f.data){f.extraData=f.data;x=b.param(f.data,i)}if(f.beforeSubmit&&f.beforeSubmit(y,this,f)===false){a("ajaxSubmit: submit aborted via beforeSubmit callback");return this}this.trigger("form-submit-validate",[y,this,f,m]);if(m.veto){a("ajaxSubmit: submit vetoed via form-submit-validate trigger");return this}var p=b.param(y,i);if(x){p=(p?(p+"&"+x):x)}if(f.type.toUpperCase()=="GET"){f.url+=(f.url.indexOf("?")>=0?"&":"?")+p;f.data=null}else{f.data=p}var z=[];if(f.resetForm){z.push(function(){j.resetForm()})}if(f.clearForm){z.push(function(){j.clearForm(f.includeHidden)})}if(!f.dataType&&f.target){var g=f.success||function(){};z.push(function(q){var n=f.replaceTarget?"replaceWith":"html";b(f.target)[n](q).each(g,arguments)})}else{if(f.success){z.push(f.success)}}f.success=function(B,q,C){var A=f.context||f;for(var v=0,n=z.length;v<n;v++){z[v].apply(A,[B,q,C||j,j])}};var u=b("input:file",this).length>0;var t="multipart/form-data";var o=(j.attr("enctype")==t||j.attr("encoding")==t);if(f.iframe!==false&&(u||f.iframe||o)){if(f.closeKeepAlive){b.get(f.closeKeepAlive,function(){k(y)})}else{k(y)}}else{if(b.browser.msie&&e=="get"&&typeof f.type==="undefined"){var w=j[0].getAttribute("method");if(typeof w==="string"){f.type=w}}b.ajax(f)}this.trigger("form-submit-notify",[this,f]);return this;function k(W){var B=j[0],A,S,M,U,P,D,H,F,G,Q,T,K;var E=!!b.fn.prop;if(W){if(E){for(S=0;S<W.length;S++){A=b(B[W[S].name]);A.prop("disabled",false)}}else{for(S=0;S<W.length;S++){A=b(B[W[S].name]);A.removeAttr("disabled")}}}if(b(":input[name=submit],:input[id=submit]",B).length){alert('Error: Form elements must not have name or id of "submit".');return}M=b.extend(true,{},b.ajaxSettings,f);M.context=M.context||M;P="jqFormIO"+(new Date().getTime());if(M.iframeTarget){D=b(M.iframeTarget);Q=D.attr("name");if(Q==null){D.attr("name",P)}else{P=Q}}else{D=b('<iframe name="'+P+'" src="'+M.iframeSrc+'" />');D.css({position:"absolute",top:"-1000px",left:"-1000px"})}H=D[0];F={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(n){var Z=(n==="timeout"?"timeout":"aborted");a("aborting upload... "+Z);this.aborted=1;D.attr("src",M.iframeSrc);F.error=Z;M.error&&M.error.call(M.context,F,Z,n);U&&b.event.trigger("ajaxError",[F,M,Z]);M.complete&&M.complete.call(M.context,F,Z)}};U=M.global;if(U&&!b.active++){b.event.trigger("ajaxStart")}if(U){b.event.trigger("ajaxSend",[F,M])}if(M.beforeSend&&M.beforeSend.call(M.context,F,M)===false){if(M.global){b.active--}return}if(F.aborted){return}G=B.clk;if(G){Q=G.name;if(Q&&!G.disabled){M.extraData=M.extraData||{};M.extraData[Q]=G.value;if(G.type=="image"){M.extraData[Q+".x"]=B.clk_x;M.extraData[Q+".y"]=B.clk_y}}}var L=1;var I=2;function J(Z){var n=Z.contentWindow?Z.contentWindow.document:Z.contentDocument?Z.contentDocument:Z.document;return n}function R(){var ab=j.attr("target"),Z=j.attr("action");B.setAttribute("target",P);if(!e){B.setAttribute("method","POST")}if(Z!=M.url){B.setAttribute("action",M.url)}if(!M.skipEncodingOverride&&(!e||/post/i.test(e))){j.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"})}if(M.timeout){K=setTimeout(function(){T=true;O(L)},M.timeout)}function ac(){try{var n=J(H).readyState;a("state = "+n);if(n.toLowerCase()=="uninitialized"){setTimeout(ac,50)}}catch(ae){a("Server abort: ",ae," (",ae.name,")");O(I);K&&clearTimeout(K);K=undefined}}var aa=[];try{if(M.extraData){for(var ad in M.extraData){aa.push(b('<input type="hidden" name="'+ad+'" />').attr("value",M.extraData[ad]).appendTo(B)[0])}}if(!M.iframeTarget){D.appendTo("body");H.attachEvent?H.attachEvent("onload",O):H.addEventListener("load",O,false)}setTimeout(ac,15);B.submit()}finally{B.setAttribute("action",Z);if(ab){B.setAttribute("target",ab)}else{j.removeAttr("target")}b(aa).remove()}}if(M.forceSync){R()}else{setTimeout(R,10)}var X,Y,V=50,C;function O(ad){if(F.aborted||C){return}try{Y=J(H)}catch(ag){a("cannot access response document: ",ag);ad=I}if(ad===L&&F){F.abort("timeout");return}else{if(ad==I&&F){F.abort("server abort");return}}if(!Y||Y.location.href==M.iframeSrc){if(!T){return}}H.detachEvent?H.detachEvent("onload",O):H.removeEventListener("load",O,false);var ab="success",af;try{if(T){throw"timeout"}var aa=M.dataType=="xml"||Y.XMLDocument||b.isXMLDoc(Y);a("isXml="+aa);if(!aa&&window.opera&&(Y.body==null||Y.body.innerHTML=="")){if(--V){a("requeing onLoad callback, DOM not available");setTimeout(O,250);return}}var ah=Y.body?Y.body:Y.documentElement;F.responseText=ah?ah.innerHTML:null;F.responseXML=Y.XMLDocument?Y.XMLDocument:Y;if(aa){M.dataType="xml"}F.getResponseHeader=function(ak){var aj={"content-type":M.dataType};return aj[ak]};if(ah){F.status=Number(ah.getAttribute("status"))||F.status;F.statusText=ah.getAttribute("statusText")||F.statusText}var n=(M.dataType||"").toLowerCase();var ae=/(json|script|text)/.test(n);if(ae||M.textarea){var ac=Y.getElementsByTagName("textarea")[0];if(ac){F.responseText=ac.value;F.status=Number(ac.getAttribute("status"))||F.status;F.statusText=ac.getAttribute("statusText")||F.statusText}else{if(ae){var Z=Y.getElementsByTagName("pre")[0];var ai=Y.getElementsByTagName("body")[0];if(Z){F.responseText=Z.textContent?Z.textContent:Z.innerText}else{if(ai){F.responseText=ai.textContent?ai.textContent:ai.innerText}}}}}else{if(n=="xml"&&!F.responseXML&&F.responseText!=null){F.responseXML=N(F.responseText)}}try{X=q(F,n,M)}catch(ad){ab="parsererror";F.error=af=(ad||ab)}}catch(ad){a("error caught: ",ad);ab="error";F.error=af=(ad||ab)}if(F.aborted){a("upload aborted");ab=null}if(F.status){ab=(F.status>=200&&F.status<300||F.status===304)?"success":"error"}if(ab==="success"){M.success&&M.success.call(M.context,X,"success",F);U&&b.event.trigger("ajaxSuccess",[F,M])}else{if(ab){if(af==undefined){af=F.statusText}M.error&&M.error.call(M.context,F,ab,af);U&&b.event.trigger("ajaxError",[F,M,af])}}U&&b.event.trigger("ajaxComplete",[F,M]);if(U&&!--b.active){b.event.trigger("ajaxStop")}M.complete&&M.complete.call(M.context,F,ab);C=true;if(M.timeout){clearTimeout(K)}setTimeout(function(){if(!M.iframeTarget){D.remove()}F.responseXML=null},100)}var N=b.parseXML||function(n,Z){if(window.ActiveXObject){Z=new ActiveXObject("Microsoft.XMLDOM");Z.async="false";Z.loadXML(n)}else{Z=(new DOMParser()).parseFromString(n,"text/xml")}return(Z&&Z.documentElement&&Z.documentElement.nodeName!="parsererror")?Z:null};var v=b.parseJSON||function(n){return window["eval"]("("+n+")")};var q=function(ad,ab,aa){var Z=ad.getResponseHeader("content-type")||"",n=ab==="xml"||!ab&&Z.indexOf("xml")>=0,ac=n?ad.responseXML:ad.responseText;if(n&&ac.documentElement.nodeName==="parsererror"){b.error&&b.error("parsererror")}if(aa&&aa.dataFilter){ac=aa.dataFilter(ac,ab)}if(typeof ac==="string"){if(ab==="json"||!ab&&Z.indexOf("json")>=0){ac=v(ac)}else{if(ab==="script"||!ab&&Z.indexOf("javascript")>=0){b.globalEval(ac)}}}return ac}}};b.fn.ajaxForm=function(e){if(this.length===0){var f={s:this.selector,c:this.context};if(!b.isReady&&f.s){a("DOM not ready, queuing ajaxForm");b(function(){b(f.s,f.c).ajaxForm(e)});return this}a("terminating; zero elements found by selector"+(b.isReady?"":" (DOM not ready)"));return this}return this.ajaxFormUnbind().bind("submit.form-plugin",function(g){if(!g.isDefaultPrevented()){g.preventDefault();b(this).ajaxSubmit(e)}}).bind("click.form-plugin",function(k){var j=k.target;var h=b(j);if(!(h.is(":submit,input:image"))){var g=h.closest(":submit");if(g.length==0){return}j=g[0]}var i=this;i.clk=j;if(j.type=="image"){if(k.offsetX!=undefined){i.clk_x=k.offsetX;i.clk_y=k.offsetY}else{if(typeof b.fn.offset=="function"){var l=h.offset();i.clk_x=k.pageX-l.left;i.clk_y=k.pageY-l.top}else{i.clk_x=k.pageX-j.offsetLeft;i.clk_y=k.pageY-j.offsetTop}}}setTimeout(function(){i.clk=i.clk_x=i.clk_y=null},100)})};b.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")};b.fn.formToArray=function(s){var r=[];if(this.length===0){return r}var f=this[0];var k=s?f.getElementsByTagName("*"):f.elements;if(!k){return r}var m,l,h,t,g,p,e;for(m=0,p=k.length;m<p;m++){g=k[m];h=g.name;if(!h){continue}if(s&&f.clk&&g.type=="image"){if(!g.disabled&&f.clk==g){r.push({name:h,value:b(g).val()});r.push({name:h+".x",value:f.clk_x},{name:h+".y",value:f.clk_y})}continue}t=b.fieldValue(g,true);if(t&&t.constructor==Array){for(l=0,e=t.length;l<e;l++){r.push({name:h,value:t[l]})}}else{if(t!==null&&typeof t!="undefined"){r.push({name:h,value:t})}}}if(!s&&f.clk){var o=b(f.clk),q=o[0];h=q.name;if(h&&!q.disabled&&q.type=="image"){r.push({name:h,value:o.val()});r.push({name:h+".x",value:f.clk_x},{name:h+".y",value:f.clk_y})}}return r};b.fn.formSerialize=function(e){return b.param(this.formToArray(e))};b.fn.fieldSerialize=function(f){var e=[];this.each(function(){var k=this.name;if(!k){return}var h=b.fieldValue(this,f);if(h&&h.constructor==Array){for(var j=0,g=h.length;j<g;j++){e.push({name:k,value:h[j]})}}else{if(h!==null&&typeof h!="undefined"){e.push({name:this.name,value:h})}}});return b.param(e)};b.fn.fieldValue=function(k){for(var j=[],g=0,e=this.length;g<e;g++){var h=this[g];var f=b.fieldValue(h,k);if(f===null||typeof f=="undefined"||(f.constructor==Array&&!f.length)){continue}f.constructor==Array?b.merge(j,f):j.push(f)}return j};b.fieldValue=function(e,l){var g=e.name,r=e.type,s=e.tagName.toLowerCase();if(l===undefined){l=true}if(l&&(!g||e.disabled||r=="reset"||r=="button"||(r=="checkbox"||r=="radio")&&!e.checked||(r=="submit"||r=="image")&&e.form&&e.form.clk!=e||s=="select"&&e.selectedIndex==-1)){return null}if(s=="select"){var m=e.selectedIndex;if(m<0){return null}var p=[],f=e.options;var j=(r=="select-one");var o=(j?m+1:f.length);for(var h=(j?m:0);h<o;h++){var k=f[h];if(k.selected){var q=k.value;if(!q){q=(k.attributes&&k.attributes.value&&!(k.attributes.value.specified))?k.text:k.value}if(j){return q}p.push(q)}}return p}return b(e).val()};b.fn.clearForm=function(e){return this.each(function(){b("input,select,textarea",this).clearFields(e)})};b.fn.clearFields=b.fn.clearInputs=function(e){var f=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each(function(){var h=this.type,g=this.tagName.toLowerCase();if(f.test(h)||g=="textarea"||(e&&/hidden/.test(h))){this.value=""}else{if(h=="checkbox"||h=="radio"){this.checked=false}else{if(g=="select"){this.selectedIndex=-1}}}})};b.fn.resetForm=function(){return this.each(function(){if(typeof this.reset=="function"||(typeof this.reset=="object"&&!this.reset.nodeType)){this.reset()}})};b.fn.enable=function(e){if(e===undefined){e=true}return this.each(function(){this.disabled=!e})};b.fn.selected=function(e){if(e===undefined){e=true}return this.each(function(){var f=this.type;if(f=="checkbox"||f=="radio"){this.checked=e}else{if(this.tagName.toLowerCase()=="option"){var g=b(this).parent("select");if(e&&g[0]&&g[0].type=="select-one"){g.find("option").selected(false)}this.selected=e}}})};b.fn.ajaxSubmit.debug=false;function a(){if(!b.fn.ajaxSubmit.debug){return}var e="[jquery.form] "+Array.prototype.join.call(arguments,"");if(window.console&&window.console.log){window.console.log(e)}else{if(window.opera&&window.opera.postError){window.opera.postError(e)}}}})(jQuery);(function(i){function g(){}function x(H){f=[H]}function q(L,I,J,K){try{K=L&&L.apply(I.context||I,J)}catch(H){K=!1}return K}function p(H){return/\?/.test(H)?"&":"?"}var r="async",v="charset",t="",F="error",w="insertBefore",u="_jqjsp",C="on",j=C+"click",m=C+F,s=C+"load",A=C+"readystatechange",b="readyState",E="removeChild",l="<script>",B="success",D="timeout",h=window,a=i.Deferred,k=i("head")[0]||document.documentElement,e=k.firstChild,z={},o=0,f,n={callback:u,url:location.href},y=h.opera;function G(L){L=i.extend({},n,L);var J=L.success,Q=L.error,I=L.complete,Z=L.dataFilter,ab=L.callbackParameter,R=L.callback,aa=L.cache,H=L.pageCache,K=L.charset,M=L.url,ad=L.data,T=L.timeout,P,X=0,V=g,S,O,ac,N,W;a&&a(function(ae){ae.done(J).fail(Q);J=ae.resolve;Q=ae.reject}).promise(L);L.abort=function(){!(X++)&&V()};if(q(L.beforeSend,L,[L])===!1||X){return L}M=M||t;ad=ad?((typeof ad)=="string"?ad:i.param(ad,L.traditional)):t;M+=ad?(p(M)+ad):t;ab&&(M+=p(M)+encodeURIComponent(ab)+"=?");!aa&&!H&&(M+=p(M)+"_"+(new Date()).getTime()+"=");M=M.replace(/=\?(&|$)/,"="+R+"$1");function Y(ae){if(!(X++)){V();H&&(z[M]={s:[ae]});Z&&(ae=Z.apply(L,[ae]));q(J,L,[ae,B]);q(I,L,[L,B])}}function U(ae){if(!(X++)){V();H&&ae!=D&&(z[M]=ae);q(Q,L,[L,ae]);q(I,L,[L,ae])}}if(H&&(P=z[M])){P.s?Y(P.s[0]):U(P)}else{h[R]=x;ac=i(l)[0];ac.id=u+o++;if(K){ac[v]=K}y&&y.version()<11.6?((N=i(l)[0]).text="document.getElementById('"+ac.id+"')."+m+"()"):(ac[r]=r);if(A in ac){ac.htmlFor=ac.id;ac.event=j}ac[s]=ac[m]=ac[A]=function(ae){if(!ac[b]||!/i/.test(ac[b])){try{ac[j]&&ac[j]()}catch(af){}ae=f;f=0;ae?Y(ae[0]):U(F)}};ac.src=M;V=function(ae){W&&clearTimeout(W);ac[A]=ac[s]=ac[m]=null;k[E](ac);N&&k[E](N)};k[w](ac,e);N&&k[w](N,e);W=T>0&&setTimeout(function(){U(D)},T)}return L}G.setup=function(H){i.extend(n,H)};i.jsonp=G})(jQuery);
/*!
 * HTML5 Placeholder jQuery Plugin v1.8.2
 * @link http://github.com/mathiasbynens/Placeholder-jQuery-Plugin
 * @author Mathias Bynens <http://mathiasbynens.be/>
 */
(function(i){var j="placeholder" in document.createElement("input"),h="placeholder" in document.createElement("textarea");if(j&&h){i.fn.placeholder=function(){return this};i.fn.placeholder.input=i.fn.placeholder.textarea=true}else{i.fn.placeholder=function(){return this.filter((j?"textarea":":input")+"[placeholder]").bind("focus.placeholder",g).bind("blur.placeholder",k).trigger("blur.placeholder").end()};i.fn.placeholder.input=j;i.fn.placeholder.textarea=h}function l(b){var e={},a=/^jQuery\d+$/;i.each(b.attributes,function(f,m){if(m.specified&&!a.test(m.name)){e[m.name]=m.value}});return e}function g(){var a=i(this);if(a.val()===a.attr("placeholder")&&a.hasClass("placeholder")){if(a.data("placeholder-password")){a.hide().next().attr("id",a.removeAttr("id").data("placeholder-id")).show().focus()}else{a.val("").removeClass("placeholder")}}}function k(m){var a,b=i(this),n=b,e=this.id;if(b.val()===""){if(b.is(":password")){if(!b.data("placeholder-textinput")){try{a=b.clone().attr({type:"text"})}catch(f){a=i("<input>").attr(i.extend(l(this),{type:"text"}))}a.removeAttr("name").data("placeholder-password",true).data("placeholder-id",e).bind("focus.placeholder",g);b.data("placeholder-textinput",a).data("placeholder-id",e).before(a)}b=b.removeAttr("id").hide().prev().attr("id",e).show()}b.addClass("placeholder").val(b.attr("placeholder"))}else{b.removeClass("placeholder")}}i(function(){i("form").bind("submit.placeholder",function(){var a=i(".placeholder",this).each(g);setTimeout(function(){a.each(k)},10)})});i(window).bind("unload.placeholder",function(){i(".placeholder").val("")})}(jQuery));(function(h){var g={common:{type:"line",lineColor:"#00f",fillColor:"#cdf",defaultPixelsPerValue:3,width:"auto",height:"auto",composite:false,tagValuesAttribute:"values",tagOptionsPrefix:"spark",enableTagOptions:false},line:{spotColor:"#f80",spotRadius:1.5,minSpotColor:"#f80",maxSpotColor:"#f80",lineWidth:1,normalRangeMin:undefined,normalRangeMax:undefined,normalRangeColor:"#ccc",drawNormalOnTop:false,chartRangeMin:undefined,chartRangeMax:undefined,chartRangeMinX:undefined,chartRangeMaxX:undefined},bar:{barColor:"#00f",negBarColor:"#f44",zeroColor:undefined,nullColor:undefined,zeroAxis:undefined,barWidth:4,barSpacing:1,chartRangeMax:undefined,chartRangeMin:undefined,chartRangeClip:false,colorMap:undefined},tristate:{barWidth:4,barSpacing:1,posBarColor:"#6f6",negBarColor:"#f44",zeroBarColor:"#999",colorMap:{}},discrete:{lineHeight:"auto",thresholdColor:undefined,thresholdValue:0,chartRangeMax:undefined,chartRangeMin:undefined,chartRangeClip:false},bullet:{targetColor:"red",targetWidth:3,performanceColor:"blue",rangeColors:["#D3DAFE","#A8B6FF","#7F94FF"],base:undefined},pie:{sliceColors:["#f00","#0f0","#00f"]},box:{raw:false,boxLineColor:"black",boxFillColor:"#cdf",whiskerColor:"black",outlierLineColor:"#333",outlierFillColor:"white",medianColor:"red",showOutliers:true,outlierIQR:1.5,spotRadius:1.5,target:undefined,targetColor:"#4a2",chartRangeMax:undefined,chartRangeMin:undefined}};var k,b,e;h.fn.simpledraw=function(n,m,o){if(o&&this[0].VCanvas){return this[0].VCanvas}if(n===undefined){n=h(this).innerWidth()}if(m===undefined){m=h(this).innerHeight()}if(h.browser.hasCanvas){return new b(n,m,this)}else{if(h.browser.msie){return new e(n,m,this)}else{return false}}};var a=[];h.fn.sparkline=function(m,n){return this.each(function(){var o=new h.fn.sparkline.options(this,n);var p=function(){var r,t,q;if(m==="html"||m===undefined){var u=this.getAttribute(o.get("tagValuesAttribute"));if(u===undefined||u===null){u=h(this).html()}r=u.replace(/(^\s*<!--)|(-->\s*$)|\s+/g,"").split(",")}else{r=m}t=o.get("width")=="auto"?r.length*o.get("defaultPixelsPerValue"):o.get("width");if(o.get("height")=="auto"){if(!o.get("composite")||!this.VCanvas){var s=document.createElement("span");s.innerHTML="a";h(this).html(s);q=h(s).innerHeight();h(s).remove()}}else{q=o.get("height")}h.fn.sparkline[o.get("type")].call(this,r,o,t,q)};if((h(this).html()&&h(this).is(":hidden"))||(h.fn.jquery<"1.3.0"&&h(this).parents().is(":hidden"))||!h(this).parents("body").length){a.push([this,p])}else{p.call(this)}})};h.fn.sparkline.defaults=g;h.sparkline_display_visible=function(){for(var m=a.length-1;m>=0;m--){var n=a[m][0];if(h(n).is(":visible")&&!h(n).parents().is(":hidden")){a[m][1].call(n);a.splice(m,1)}}};var i={};var f=function(n){switch(n){case"undefined":n=undefined;break;case"null":n=null;break;case"true":n=true;break;case"false":n=false;break;default:var m=parseFloat(n);if(n==m){n=m}}return n};h.fn.sparkline.options=function(m,r){var q;this.userOptions=r=r||{};this.tag=m;this.tagValCache={};var p=h.fn.sparkline.defaults;var o=p.common;this.tagOptionsPrefix=r.enableTagOptions&&(r.tagOptionsPrefix||o.tagOptionsPrefix);var n=this.getTagSetting("type");if(n===i){q=p[r.type||o.type]}else{q=p[n]}this.mergedOptions=h.extend({},o,q,r)};h.fn.sparkline.options.prototype.getTagSetting=function(o){var r,n,q=this.tagOptionsPrefix;if(q===false||q===undefined){return i}if(this.tagValCache.hasOwnProperty(o)){r=this.tagValCache.key}else{r=this.tag.getAttribute(q+o);if(r===undefined||r===null){r=i}else{if(r.substr(0,1)=="["){r=r.substr(1,r.length-2).split(",");for(n=r.length;n--;){r[n]=f(r[n].replace(/(^\s*)|(\s*$)/g,""))}}else{if(r.substr(0,1)=="{"){var p=r.substr(1,r.length-2).split(",");r={};for(n=p.length;n--;){var m=p[n].split(":",2);r[m[0].replace(/(^\s*)|(\s*$)/g,"")]=f(m[1].replace(/(^\s*)|(\s*$)/g,""))}}else{r=f(r)}}}this.tagValCache.key=r}return r};h.fn.sparkline.options.prototype.get=function(n){var m=this.getTagSetting(n);if(m!==i){return m}return this.mergedOptions[n]};h.fn.sparkline.line=function(Z,H,n,o){var w=[],v=[],G=[];for(var Y=0;Y<Z.length;Y++){var J=Z[Y];var s=typeof(Z[Y])=="string";var S=typeof(Z[Y])=="object"&&Z[Y] instanceof Array;var A=s&&Z[Y].split(":");if(s&&A.length==2){w.push(Number(A[0]));v.push(Number(A[1]));G.push(Number(A[1]))}else{if(S){w.push(J[0]);v.push(J[1]);G.push(J[1])}else{w.push(Y);if(Z[Y]===null||Z[Y]=="null"){v.push(null)}else{v.push(Number(J));G.push(Number(J))}}}}if(H.get("xvalues")){w=H.get("xvalues")}var q=Math.max.apply(Math,G);var Q=q;var E=Math.min.apply(Math,G);var M=E;var r=Math.max.apply(Math,w);var F=Math.min.apply(Math,w);var L=H.get("normalRangeMin");var p=H.get("normalRangeMax");if(L!==undefined){if(L<E){E=L}if(p>q){q=p}}if(H.get("chartRangeMin")!==undefined&&(H.get("chartRangeClip")||H.get("chartRangeMin")<E)){E=H.get("chartRangeMin")}if(H.get("chartRangeMax")!==undefined&&(H.get("chartRangeClip")||H.get("chartRangeMax")>q)){q=H.get("chartRangeMax")}if(H.get("chartRangeMinX")!==undefined&&(H.get("chartRangeClipX")||H.get("chartRangeMinX")<F)){F=H.get("chartRangeMinX")}if(H.get("chartRangeMaxX")!==undefined&&(H.get("chartRangeClipX")||H.get("chartRangeMaxX")>r)){r=H.get("chartRangeMaxX")}var B=r-F===0?1:r-F;var z=q-E===0?1:q-E;var D=v.length-1;if(D<1){this.innerHTML="";return}var m=h(this).simpledraw(n,o,H.get("composite"));if(m){var P=m.pixel_width;var U=m.pixel_height;var I=0;var u=0;var X=H.get("spotRadius");if(X&&(P<(X*4)||U<(X*4))){X=0}if(X){if(H.get("minSpotColor")||(H.get("spotColor")&&v[D]==E)){U-=Math.ceil(X)}if(H.get("maxSpotColor")||(H.get("spotColor")&&v[D]==q)){U-=Math.ceil(X);I+=Math.ceil(X)}if(H.get("minSpotColor")||H.get("maxSpotColor")&&(v[0]==E||v[0]==q)){u+=Math.ceil(X);P-=Math.ceil(X)}if(H.get("spotColor")||(H.get("minSpotColor")||H.get("maxSpotColor")&&(v[D]==E||v[D]==q))){P-=Math.ceil(X)}}U--;var K=function(){if(L!==undefined){var y=I+Math.round(U-(U*((p-E)/z)));var x=Math.round((U*(p-L))/z);m.drawRect(u,y,P,x,undefined,H.get("normalRangeColor"))}};if(!H.get("drawNormalOnTop")){K()}var V=[];var N=[V];var T,R,W=v.length;for(Y=0;Y<W;Y++){T=w[Y];R=v[Y];if(R===null){if(Y){if(v[Y-1]!==null){V=[];N.push(V)}}}else{if(R<E){R=E}if(R>q){R=q}if(!V.length){V.push([u+Math.round((T-F)*(P/B)),I+U])}V.push([u+Math.round((T-F)*(P/B)),I+Math.round(U-(U*((R-E)/z)))])}}var O=[];var t=[];var C=N.length;for(Y=0;Y<C;Y++){V=N[Y];if(!V.length){continue}if(H.get("fillColor")){V.push([V[V.length-1][0],I+U-1]);t.push(V.slice(0));V.pop()}if(V.length>2){V[0]=[V[0][0],V[1][1]]}O.push(V)}C=t.length;for(Y=0;Y<C;Y++){m.drawShape(t[Y],undefined,H.get("fillColor"))}if(H.get("drawNormalOnTop")){K()}C=O.length;for(Y=0;Y<C;Y++){m.drawShape(O[Y],H.get("lineColor"),undefined,H.get("lineWidth"))}if(X&&H.get("spotColor")){m.drawCircle(u+Math.round(w[w.length-1]*(P/B)),I+Math.round(U-(U*((v[D]-E)/z))),X,undefined,H.get("spotColor"))}if(q!=M){if(X&&H.get("minSpotColor")){T=w[h.inArray(M,v)];m.drawCircle(u+Math.round((T-F)*(P/B)),I+Math.round(U-(U*((M-E)/z))),X,undefined,H.get("minSpotColor"))}if(X&&H.get("maxSpotColor")){T=w[h.inArray(Q,v)];m.drawCircle(u+Math.round((T-F)*(P/B)),I+Math.round(U-(U*((Q-E)/z))),X,undefined,H.get("maxSpotColor"))}}}else{this.innerHTML=""}};h.fn.sparkline.bar=function(m,o,z,v){z=(m.length*o.get("barWidth"))+((m.length-1)*o.get("barSpacing"));var p=[];for(var F=0,r=m.length;F<r;F++){if(m[F]=="null"||m[F]===null){m[F]=null}else{m[F]=Number(m[F]);p.push(Number(m[F]))}}var E=Math.max.apply(Math,p),A=Math.min.apply(Math,p);if(o.get("chartRangeMin")!==undefined&&(o.get("chartRangeClip")||o.get("chartRangeMin")<A)){A=o.get("chartRangeMin")}if(o.get("chartRangeMax")!==undefined&&(o.get("chartRangeClip")||o.get("chartRangeMax")>E)){E=o.get("chartRangeMax")}var D=o.get("zeroAxis");if(D===undefined){D=A<0}var u=E-A===0?1:E-A;var q,w;if(h.isArray(o.get("colorMap"))){q=o.get("colorMap");w=null}else{q=null;w=o.get("colorMap")}var G=h(this).simpledraw(z,v,o.get("composite"));if(G){var B,C=G.pixel_height,n=A<0&&D?C-Math.round(C*(Math.abs(A)/u))-1:C-1;for(F=m.length;F--;){var t=F*(o.get("barWidth")+o.get("barSpacing")),s,H=m[F];if(H===null){if(o.get("nullColor")){B=o.get("nullColor");H=(D&&A<0)?0:A;v=1;s=(D&&A<0)?n:C-v}else{continue}}else{if(H<A){H=A}if(H>E){H=E}B=(H<0)?o.get("negBarColor"):o.get("barColor");if(D&&A<0){v=Math.round(C*((Math.abs(H)/u)))+1;s=(H<0)?n:n-v}else{v=Math.round(C*((H-A)/u))+1;s=C-v}if(H===0&&o.get("zeroColor")!==undefined){B=o.get("zeroColor")}if(w&&w[H]){B=w[H]}else{if(q&&q.length>F){B=q[F]}}if(B===null){continue}}G.drawRect(t,s,o.get("barWidth")-1,v-1,B,B)}}else{this.innerHTML=""}};h.fn.sparkline.tristate=function(w,A,n,z){w=h.map(w,Number);n=(w.length*A.get("barWidth"))+((w.length-1)*A.get("barSpacing"));var r,v;if(h.isArray(A.get("colorMap"))){r=A.get("colorMap");v=null}else{r=null;v=A.get("colorMap")}var s=h(this).simpledraw(n,z,A.get("composite"));if(s){var m=s.pixel_height,q=Math.round(m/2);for(var p=w.length;p--;){var u=p*(A.get("barWidth")+A.get("barSpacing")),t,o;if(w[p]<0){t=q;z=q-1;o=A.get("negBarColor")}else{if(w[p]>0){t=0;z=q-1;o=A.get("posBarColor")}else{t=q-1;z=2;o=A.get("zeroBarColor")}}if(v&&v[w[p]]){o=v[w[p]]}else{if(r&&r.length>p){o=r[p]}}if(o===null){continue}s.drawRect(u,t,A.get("barWidth")-1,z-1,o,o)}}else{this.innerHTML=""}};h.fn.sparkline.discrete=function(A,C,n,B){A=h.map(A,Number);n=C.get("width")=="auto"?A.length*2:n;var p=Math.floor(n/A.length);var v=h(this).simpledraw(n,B,C.get("composite"));if(v){var m=v.pixel_height,z=C.get("lineHeight")=="auto"?Math.round(m*0.3):C.get("lineHeight"),u=m-z,r=Math.min.apply(Math,A),w=Math.max.apply(Math,A);if(C.get("chartRangeMin")!==undefined&&(C.get("chartRangeClip")||C.get("chartRangeMin")<r)){r=C.get("chartRangeMin")}if(C.get("chartRangeMax")!==undefined&&(C.get("chartRangeClip")||C.get("chartRangeMax")>w)){w=C.get("chartRangeMax")}var t=w-r;for(var s=A.length;s--;){var q=A[s];if(q<r){q=r}if(q>w){q=w}var y=(s*p),o=Math.round(u-u*((q-r)/t));v.drawLine(y,o,y,o+z,(C.get("thresholdColor")&&q<C.get("thresholdValue"))?C.get("thresholdColor"):C.get("lineColor"))}}else{this.innerHTML=""}};h.fn.sparkline.bullet=function(o,q,z,w){o=h.map(o,Number);z=q.get("width")=="auto"?"4.0em":z;var G=h(this).simpledraw(z,w,q.get("composite"));if(G&&o.length>1){var F=G.pixel_width-Math.ceil(q.get("targetWidth")/2),B=G.pixel_height,A=Math.min.apply(Math,o),C=Math.max.apply(Math,o);if(q.get("base")===undefined){A=A<0?A:0}else{A=q.get("base")}var u=C-A;for(var D=2,s=o.length;D<s;D++){var r=o[D],n=Math.round(F*((r-A)/u));G.drawRect(0,0,n-1,B-1,q.get("rangeColors")[D-2],q.get("rangeColors")[D-2])}var y=o[1],m=Math.round(F*((y-A)/u));G.drawRect(0,Math.round(B*0.3),m-1,Math.round(B*0.4)-1,q.get("performanceColor"),q.get("performanceColor"));var v=o[0],t=Math.round(F*((v-A)/u)-(q.get("targetWidth")/2)),p=Math.round(B*0.1),E=B-(p*2);G.drawRect(t,p,q.get("targetWidth")-1,E-1,q.get("targetColor"),q.get("targetColor"))}else{this.innerHTML=""}};h.fn.sparkline.pie=function(y,A,p,z){y=h.map(y,Number);p=A.get("width")=="auto"?z:p;var u=h(this).simpledraw(p,z,A.get("composite"));if(u&&y.length>1){var v=u.pixel_width,m=u.pixel_height,t=Math.floor(Math.min(v,m)/2),w=0,s=0,n=2*Math.PI;for(var r=y.length;r--;){w+=y[r]}if(A.get("offset")){s+=(2*Math.PI)*(A.get("offset")/360)}var x=y.length;for(r=0;r<x;r++){var o=s;var q=s;if(w>0){q=s+(n*(y[r]/w))}u.drawPieSlice(t,t,t,o,q,undefined,A.get("sliceColors")[r%A.get("sliceColors").length]);s=q}}};var j=function(n,o){if(o==2){var m=Math.floor(n.length/2);return n.length%2?n[m]:(n[m]+n[m+1])/2}else{var p=Math.floor(n.length/4);return n.length%2?(n[p*o]+n[p*o+1])/2:n[p*o]}};h.fn.sparkline.box=function(n,p,A,y){n=h.map(n,Number);A=p.get("width")=="auto"?"4.0em":A;var q=p.get("chartRangeMin")===undefined?Math.min.apply(Math,n):p.get("chartRangeMin"),z=p.get("chartRangeMax")===undefined?Math.max.apply(Math,n):p.get("chartRangeMax"),H=h(this).simpledraw(A,y,p.get("composite")),s=n.length,w,F,v,u,t,m,r;if(H&&n.length>1){var E=H.pixel_width,B=H.pixel_height;if(p.get("raw")){if(p.get("showOutliers")&&n.length>5){F=n[0];w=n[1];v=n[2];u=n[3];t=n[4];m=n[5];r=n[6]}else{w=n[0];v=n[1];u=n[2];t=n[3];m=n[4]}}else{n.sort(function(J,I){return J-I});v=j(n,1);u=j(n,2);t=j(n,3);var o=t-v;if(p.get("showOutliers")){w=undefined;m=undefined;for(var C=0;C<s;C++){if(w===undefined&&n[C]>v-(o*p.get("outlierIQR"))){w=n[C]}if(n[C]<t+(o*p.get("outlierIQR"))){m=n[C]}}F=n[0];r=n[s-1]}else{w=n[0];m=n[s-1]}}var G=E/(z-q+1),D=0;if(p.get("showOutliers")){D=Math.ceil(p.get("spotRadius"));E-=2*Math.ceil(p.get("spotRadius"));G=E/(z-q+1);if(F<w){H.drawCircle((F-q)*G+D,B/2,p.get("spotRadius"),p.get("outlierLineColor"),p.get("outlierFillColor"))}if(r>m){H.drawCircle((r-q)*G+D,B/2,p.get("spotRadius"),p.get("outlierLineColor"),p.get("outlierFillColor"))}}H.drawRect(Math.round((v-q)*G+D),Math.round(B*0.1),Math.round((t-v)*G),Math.round(B*0.8),p.get("boxLineColor"),p.get("boxFillColor"));H.drawLine(Math.round((w-q)*G+D),Math.round(B/2),Math.round((v-q)*G+D),Math.round(B/2),p.get("lineColor"));H.drawLine(Math.round((w-q)*G+D),Math.round(B/4),Math.round((w-q)*G+D),Math.round(B-B/4),p.get("whiskerColor"));H.drawLine(Math.round((m-q)*G+D),Math.round(B/2),Math.round((t-q)*G+D),Math.round(B/2),p.get("lineColor"));H.drawLine(Math.round((m-q)*G+D),Math.round(B/4),Math.round((m-q)*G+D),Math.round(B-B/4),p.get("whiskerColor"));H.drawLine(Math.round((u-q)*G+D),Math.round(B*0.1),Math.round((u-q)*G+D),Math.round(B*0.9),p.get("medianColor"));if(p.get("target")){var x=Math.ceil(p.get("spotRadius"));H.drawLine(Math.round((p.get("target")-q)*G+D),Math.round((B/2)-x),Math.round((p.get("target")-q)*G+D),Math.round((B/2)+x),p.get("targetColor"));H.drawLine(Math.round((p.get("target")-q)*G+D-x),Math.round(B/2),Math.round((p.get("target")-q)*G+D+x),Math.round(B/2),p.get("targetColor"))}}else{this.innerHTML=""}};if(h.browser.msie&&!document.namespaces.v){document.namespaces.add("v","urn:schemas-microsoft-com:vml","#default#VML")}if(h.browser.hasCanvas===undefined){var l=document.createElement("canvas");h.browser.hasCanvas=l.getContext!==undefined}k=function(n,m,o){};k.prototype={init:function(n,m,o){this.width=n;this.height=m;this.target=o;if(o[0]){o=o[0]}o.VCanvas=this},drawShape:function(o,n,p,m){alert("drawShape not implemented")},drawLine:function(o,q,n,p,r,m){return this.drawShape([[o,q],[n,p]],r,m)},drawCircle:function(n,q,m,o,p){alert("drawCircle not implemented")},drawPieSlice:function(n,s,m,p,o,q,r){alert("drawPieSlice not implemented")},drawRect:function(n,r,o,m,p,q){alert("drawRect not implemented")},getElement:function(){return this.canvas},_insert:function(m,n){h(n).html(m)}};b=function(n,m,o){return this.init(n,m,o)};b.prototype=h.extend(new k(),{_super:k.prototype,init:function(n,m,o){this._super.init(n,m,o);this.canvas=document.createElement("canvas");if(o[0]){o=o[0]}o.VCanvas=this;h(this.canvas).css({display:"inline-block",width:n,height:m,verticalAlign:"top"});this._insert(this.canvas,o);this.pixel_height=h(this.canvas).height();this.pixel_width=h(this.canvas).width();this.canvas.width=this.pixel_width;this.canvas.height=this.pixel_height;h(this.canvas).css({width:this.pixel_width,height:this.pixel_height})},_getContext:function(o,p,m){var n=this.canvas.getContext("2d");if(o!==undefined){n.strokeStyle=o}n.lineWidth=m===undefined?1:m;if(p!==undefined){n.fillStyle=p}return n},drawShape:function(r,q,s,m){var o=this._getContext(q,s,m);o.beginPath();o.moveTo(r[0][0]+0.5,r[0][1]+0.5);for(var n=1,p=r.length;n<p;n++){o.lineTo(r[n][0]+0.5,r[n][1]+0.5)}if(q!==undefined){o.stroke()}if(s!==undefined){o.fill()}},drawCircle:function(n,r,m,p,q){var o=this._getContext(p,q);o.beginPath();o.arc(n,r,m,0,2*Math.PI,false);if(p!==undefined){o.stroke()}if(q!==undefined){o.fill()}},drawPieSlice:function(n,t,m,q,o,r,s){var p=this._getContext(r,s);p.beginPath();p.moveTo(n,t);p.arc(n,t,m,q,o,false);p.lineTo(n,t);p.closePath();if(r!==undefined){p.stroke()}if(s){p.fill()}},drawRect:function(n,r,o,m,p,q){return this.drawShape([[n,r],[n+o,r],[n+o,r+m],[n,r+m],[n,r]],p,q)}});e=function(n,m,o){return this.init(n,m,o)};e.prototype=h.extend(new k(),{_super:k.prototype,init:function(n,m,p){this._super.init(n,m,p);if(p[0]){p=p[0]}p.VCanvas=this;this.canvas=document.createElement("span");h(this.canvas).css({display:"inline-block",position:"relative",overflow:"hidden",width:n,height:m,margin:"0px",padding:"0px",verticalAlign:"top"});this._insert(this.canvas,p);this.pixel_height=h(this.canvas).height();this.pixel_width=h(this.canvas).width();this.canvas.width=this.pixel_width;this.canvas.height=this.pixel_height;var o='<v:group coordorigin="0 0" coordsize="'+this.pixel_width+" "+this.pixel_height+'" style="position:absolute;top:0;left:0;width:'+this.pixel_width+"px;height="+this.pixel_height+'px;"></v:group>';this.canvas.insertAdjacentHTML("beforeEnd",o);this.group=h(this.canvas).children()[0]},drawShape:function(x,s,m,p){var t=[];for(var o=0,n=x.length;o<n;o++){t[o]=""+(x[o][0])+","+(x[o][1])}var r=t.splice(0,1);p=p===undefined?1:p;var w=s===undefined?' stroked="false" ':' strokeWeight="'+p+'" strokeColor="'+s+'" ';var v=m===undefined?' filled="false"':' fillColor="'+m+'" filled="true" ';var q=t[0]==t[t.length-1]?"x ":"";var u='<v:shape coordorigin="0 0" coordsize="'+this.pixel_width+" "+this.pixel_height+'" '+w+v+' style="position:absolute;left:0px;top:0px;height:'+this.pixel_height+"px;width:"+this.pixel_width+'px;padding:0px;margin:0px;"  path="m '+r+" l "+t.join(", ")+" "+q+'e"> </v:shape>';this.group.insertAdjacentHTML("beforeEnd",u)},drawCircle:function(n,t,m,r,s){n-=m+1;t-=m+1;var q=r===undefined?' stroked="false" ':' strokeWeight="1" strokeColor="'+r+'" ';var p=s===undefined?' filled="false"':' fillColor="'+s+'" filled="true" ';var o="<v:oval "+q+p+' style="position:absolute;top:'+t+"px; left:"+n+"px; width:"+(m*2)+"px; height:"+(m*2)+'px"></v:oval>';this.group.insertAdjacentHTML("beforeEnd",o)},drawPieSlice:function(z,v,s,t,p,w,o){if(t==p){return}if((p-t)==(2*Math.PI)){t=0;p=(2*Math.PI)}var n=z+Math.round(Math.cos(t)*s);var m=v+Math.round(Math.sin(t)*s);var r=z+Math.round(Math.cos(p)*s);var q=v+Math.round(Math.sin(p)*s);if(n==r&&m==q&&(p-t)<Math.PI){return}var u=[z-s,v-s,z+s,v+s,n,m,r,q];var C=w===undefined?' stroked="false" ':' strokeWeight="1" strokeColor="'+w+'" ';var B=o===undefined?' filled="false"':' fillColor="'+o+'" filled="true" ';var A='<v:shape coordorigin="0 0" coordsize="'+this.pixel_width+" "+this.pixel_height+'" '+C+B+' style="position:absolute;left:0px;top:0px;height:'+this.pixel_height+"px;width:"+this.pixel_width+'px;padding:0px;margin:0px;"  path="m '+z+","+v+" wa "+u.join(", ")+' x e"> </v:shape>';this.group.insertAdjacentHTML("beforeEnd",A)},drawRect:function(n,r,o,m,p,q){return this.drawShape([[n,r],[n,r+m],[n+o,r+m],[n+o,r],[n,r]],p,q)}})})(jQuery);(function($){$.extend({tablesorter:new function(){var parsers=[],widgets=[];this.defaults={cssHeader:"header",cssAsc:"headerSortUp",cssDesc:"headerSortDown",cssChildRow:"expand-child",sortInitialOrder:"asc",sortMultiSortKey:"shiftKey",sortForce:null,sortAppend:null,sortLocaleCompare:true,textExtraction:"simple",parsers:{},widgets:[],widgetZebra:{css:["even","odd"]},headers:{},widthFixed:false,cancelSelection:true,sortList:[],headerList:[],dateFormat:"us",decimal:"/.|,/g",onRenderHeader:null,selectorHeaders:"thead th",debug:false};function benchmark(s,d){log(s+","+(new Date().getTime()-d.getTime())+"ms")}this.benchmark=benchmark;function log(s){if(typeof console!="undefined"&&typeof console.debug!="undefined"){console.log(s)}else{alert(s)}}function buildParserCache(table,$headers){if(table.config.debug){var parsersDebug=""}if(table.tBodies.length==0){return}var rows=table.tBodies[0].rows;if(rows[0]){var list=[],cells=rows[0].cells,l=cells.length;for(var i=0;i<l;i++){var p=false;if($.metadata&&($($headers[i]).metadata()&&$($headers[i]).metadata().sorter)){p=getParserById($($headers[i]).metadata().sorter)}else{if((table.config.headers[i]&&table.config.headers[i].sorter)){p=getParserById(table.config.headers[i].sorter)}}if(!p){p=detectParserForColumn(table,rows,-1,i)}if(table.config.debug){parsersDebug+="column:"+i+" parser:"+p.id+"\n"}list.push(p)}}if(table.config.debug){log(parsersDebug)}return list}function detectParserForColumn(table,rows,rowIndex,cellIndex){var l=parsers.length,node=false,nodeValue=false,keepLooking=true;while(nodeValue==""&&keepLooking){rowIndex++;if(rows[rowIndex]){node=getNodeFromRowAndCellIndex(rows,rowIndex,cellIndex);nodeValue=trimAndGetNodeText(table.config,node);if(table.config.debug){log("Checking if value was empty on row:"+rowIndex)}}else{keepLooking=false}}for(var i=1;i<l;i++){if(parsers[i].is(nodeValue,table,node)){return parsers[i]}}return parsers[0]}function getNodeFromRowAndCellIndex(rows,rowIndex,cellIndex){return rows[rowIndex].cells[cellIndex]}function trimAndGetNodeText(config,node){return $.trim(getElementText(config,node))}function getParserById(name){var l=parsers.length;for(var i=0;i<l;i++){if(parsers[i].id.toLowerCase()==name.toLowerCase()){return parsers[i]}}return false}function buildCache(table){if(table.config.debug){var cacheTime=new Date()}var totalRows=(table.tBodies[0]&&table.tBodies[0].rows.length)||0,totalCells=(table.tBodies[0].rows[0]&&table.tBodies[0].rows[0].cells.length)||0,parsers=table.config.parsers,cache={row:[],normalized:[]};for(var i=0;i<totalRows;++i){var c=$(table.tBodies[0].rows[i]),cols=[];if(c.hasClass(table.config.cssChildRow)){cache.row[cache.row.length-1]=cache.row[cache.row.length-1].add(c);continue}cache.row.push(c);for(var j=0;j<totalCells;++j){cols.push(parsers[j].format(getElementText(table.config,c[0].cells[j]),table,c[0].cells[j]))}cols.push(cache.normalized.length);cache.normalized.push(cols);cols=null}if(table.config.debug){benchmark("Building cache for "+totalRows+" rows:",cacheTime)}return cache}function getElementText(config,node){var text="";if(!node){return""}if(!config.supportsTextContent){config.supportsTextContent=node.textContent||false}if(config.textExtraction=="simple"){if(config.supportsTextContent){text=node.textContent}else{if(node.childNodes[0]&&node.childNodes[0].hasChildNodes()){text=node.childNodes[0].innerHTML}else{text=node.innerHTML}}}else{if(typeof(config.textExtraction)=="function"){text=config.textExtraction(node)}else{text=$(node).text()}}return text}function appendToTable(table,cache){if(table.config.debug){var appendTime=new Date()}var c=cache,r=c.row,n=c.normalized,totalRows=n.length,checkCell=(n[0].length-1),tableBody=$(table.tBodies[0]),rows=[];for(var i=0;i<totalRows;i++){var pos=n[i][checkCell];rows.push(r[pos]);if(!table.config.appender){var l=r[pos].length;for(var j=0;j<l;j++){tableBody[0].appendChild(r[pos][j])}}}if(table.config.appender){table.config.appender(table,rows)}rows=null;if(table.config.debug){benchmark("Rebuilt table:",appendTime)}applyWidget(table);setTimeout(function(){$(table).trigger("sortEnd")},0)}function buildHeaders(table){if(table.config.debug){var time=new Date()}var meta=($.metadata)?true:false;var header_index=computeTableHeaderCellIndexes(table);$tableHeaders=$(table.config.selectorHeaders,table).each(function(index){this.column=header_index[this.parentNode.rowIndex+"-"+this.cellIndex];this.order=formatSortingOrder(table.config.sortInitialOrder);this.count=this.order;if(checkHeaderMetadata(this)||checkHeaderOptions(table,index)){this.sortDisabled=true}if(checkHeaderOptionsSortingLocked(table,index)){this.order=this.lockedOrder=checkHeaderOptionsSortingLocked(table,index)}if(!this.sortDisabled){var $th=$(this).addClass(table.config.cssHeader);if(table.config.onRenderHeader){table.config.onRenderHeader.apply($th)}}table.config.headerList[index]=this});if(table.config.debug){benchmark("Built headers:",time);log($tableHeaders)}return $tableHeaders}function computeTableHeaderCellIndexes(t){var matrix=[];var lookup={};var thead=t.getElementsByTagName("THEAD")[0];var trs=thead.getElementsByTagName("TR");for(var i=0;i<trs.length;i++){var cells=trs[i].cells;for(var j=0;j<cells.length;j++){var c=cells[j];var rowIndex=c.parentNode.rowIndex;var cellId=rowIndex+"-"+c.cellIndex;var rowSpan=c.rowSpan||1;var colSpan=c.colSpan||1;var firstAvailCol;if(typeof(matrix[rowIndex])=="undefined"){matrix[rowIndex]=[]}for(var k=0;k<matrix[rowIndex].length+1;k++){if(typeof(matrix[rowIndex][k])=="undefined"){firstAvailCol=k;break}}lookup[cellId]=firstAvailCol;for(var k=rowIndex;k<rowIndex+rowSpan;k++){if(typeof(matrix[k])=="undefined"){matrix[k]=[]}var matrixrow=matrix[k];for(var l=firstAvailCol;l<firstAvailCol+colSpan;l++){matrixrow[l]="x"}}}}return lookup}function checkCellColSpan(table,rows,row){var arr=[],r=table.tHead.rows,c=r[row].cells;for(var i=0;i<c.length;i++){var cell=c[i];if(cell.colSpan>1){arr=arr.concat(checkCellColSpan(table,headerArr,row++))}else{if(table.tHead.length==1||(cell.rowSpan>1||!r[row+1])){arr.push(cell)}}}return arr}function checkHeaderMetadata(cell){if(($.metadata)&&($(cell).metadata().sorter===false)){return true}return false}function checkHeaderOptions(table,i){if((table.config.headers[i])&&(table.config.headers[i].sorter===false)){return true}return false}function checkHeaderOptionsSortingLocked(table,i){if((table.config.headers[i])&&(table.config.headers[i].lockedOrder)){return table.config.headers[i].lockedOrder}return false}function applyWidget(table){var c=table.config.widgets;var l=c.length;for(var i=0;i<l;i++){getWidgetById(c[i]).format(table)}}function getWidgetById(name){var l=widgets.length;for(var i=0;i<l;i++){if(widgets[i].id.toLowerCase()==name.toLowerCase()){return widgets[i]}}}function formatSortingOrder(v){if(typeof(v)!="Number"){return(v.toLowerCase()=="desc")?1:0}else{return(v==1)?1:0}}function isValueInArray(v,a){var l=a.length;for(var i=0;i<l;i++){if(a[i][0]==v){return true}}return false}function setHeadersCss(table,$headers,list,css){$headers.removeClass(css[0]).removeClass(css[1]);var h=[];$headers.each(function(offset){if(!this.sortDisabled){h[this.column]=$(this)}});var l=list.length;for(var i=0;i<l;i++){h[list[i][0]].addClass(css[list[i][1]])}}function fixColumnWidth(table,$headers){var c=table.config;if(c.widthFixed){var colgroup=$("<colgroup>");$("tr:first td",table.tBodies[0]).each(function(){colgroup.append($("<col>").css("width",$(this).width()))});$(table).prepend(colgroup)}}function updateHeaderSortCount(table,sortList){var c=table.config,l=sortList.length;for(var i=0;i<l;i++){var s=sortList[i],o=c.headerList[s[0]];o.count=s[1];o.count++}}function multisort(table,sortList,cache){if(table.config.debug){var sortTime=new Date()}var dynamicExp="var sortWrapper = function(a,b) {",l=sortList.length;for(var i=0;i<l;i++){var c=sortList[i][0];var order=sortList[i][1];var s=(table.config.parsers[c].type=="text")?((order==0)?makeSortFunction("text","asc",c):makeSortFunction("text","desc",c)):((order==0)?makeSortFunction("numeric","asc",c):makeSortFunction("numeric","desc",c));var e="e"+i;dynamicExp+="var "+e+" = "+s;dynamicExp+="if("+e+") { return "+e+"; } ";dynamicExp+="else { "}var orgOrderCol=cache.normalized[0].length-1;dynamicExp+="return a["+orgOrderCol+"]-b["+orgOrderCol+"];";for(var i=0;i<l;i++){dynamicExp+="}; "}dynamicExp+="return 0; ";dynamicExp+="}; ";if(table.config.debug){benchmark("Evaling expression:"+dynamicExp,new Date())}eval(dynamicExp);cache.normalized.sort(sortWrapper);if(table.config.debug){benchmark("Sorting on "+sortList.toString()+" and dir "+order+" time:",sortTime)}return cache}function makeSortFunction(type,direction,index){var a="a["+index+"]",b="b["+index+"]";if(type=="text"&&direction=="asc"){return"("+a+" == "+b+" ? 0 : ("+a+" === null ? Number.POSITIVE_INFINITY : ("+b+" === null ? Number.NEGATIVE_INFINITY : ("+a+" < "+b+") ? -1 : 1 )));"}else{if(type=="text"&&direction=="desc"){return"("+a+" == "+b+" ? 0 : ("+a+" === null ? Number.POSITIVE_INFINITY : ("+b+" === null ? Number.NEGATIVE_INFINITY : ("+b+" < "+a+") ? -1 : 1 )));"}else{if(type=="numeric"&&direction=="asc"){return"("+a+" === null && "+b+" === null) ? 0 :("+a+" === null ? Number.POSITIVE_INFINITY : ("+b+" === null ? Number.NEGATIVE_INFINITY : "+a+" - "+b+"));"}else{if(type=="numeric"&&direction=="desc"){return"("+a+" === null && "+b+" === null) ? 0 :("+a+" === null ? Number.POSITIVE_INFINITY : ("+b+" === null ? Number.NEGATIVE_INFINITY : "+b+" - "+a+"));"}}}}}function makeSortText(i){return"((a["+i+"] < b["+i+"]) ? -1 : ((a["+i+"] > b["+i+"]) ? 1 : 0));"}function makeSortTextDesc(i){return"((b["+i+"] < a["+i+"]) ? -1 : ((b["+i+"] > a["+i+"]) ? 1 : 0));"}function makeSortNumeric(i){return"a["+i+"]-b["+i+"];"}function makeSortNumericDesc(i){return"b["+i+"]-a["+i+"];"}function sortText(a,b){if(table.config.sortLocaleCompare){return a.localeCompare(b)}return((a<b)?-1:((a>b)?1:0))}function sortTextDesc(a,b){if(table.config.sortLocaleCompare){return b.localeCompare(a)}return((b<a)?-1:((b>a)?1:0))}function sortNumeric(a,b){return a-b}function sortNumericDesc(a,b){return b-a}function getCachedSortType(parsers,i){return parsers[i].type}this.construct=function(settings){return this.each(function(){if(!this.tHead||!this.tBodies){return}var $this,$document,$headers,cache,config,shiftDown=0,sortOrder;this.config={};config=$.extend(this.config,$.tablesorter.defaults,settings);$this=$(this);$.data(this,"tablesorter",config);$headers=buildHeaders(this);this.config.parsers=buildParserCache(this,$headers);cache=buildCache(this);var sortCSS=[config.cssDesc,config.cssAsc];fixColumnWidth(this);$headers.click(function(e){var totalRows=($this[0].tBodies[0]&&$this[0].tBodies[0].rows.length)||0;if(!this.sortDisabled&&totalRows>0){$this.trigger("sortStart");var $cell=$(this);var i=this.column;this.order=this.count++%2;if(this.lockedOrder){this.order=this.lockedOrder}if(!e[config.sortMultiSortKey]){config.sortList=[];if(config.sortForce!=null){var a=config.sortForce;for(var j=0;j<a.length;j++){if(a[j][0]!=i){config.sortList.push(a[j])}}}config.sortList.push([i,this.order])}else{if(isValueInArray(i,config.sortList)){for(var j=0;j<config.sortList.length;j++){var s=config.sortList[j],o=config.headerList[s[0]];if(s[0]==i){o.count=s[1];o.count++;s[1]=o.count%2}}}else{config.sortList.push([i,this.order])}}setTimeout(function(){setHeadersCss($this[0],$headers,config.sortList,sortCSS);appendToTable($this[0],multisort($this[0],config.sortList,cache))},1);return false}}).mousedown(function(){if(config.cancelSelection){this.onselectstart=function(){return false};return false}});$this.bind("update",function(){var me=this;setTimeout(function(){me.config.parsers=buildParserCache(me,$headers);cache=buildCache(me)},1)}).bind("updateCell",function(e,cell){var config=this.config;var pos=[(cell.parentNode.rowIndex-1),cell.cellIndex];cache.normalized[pos[0]][pos[1]]=config.parsers[pos[1]].format(getElementText(config,cell),cell)}).bind("sorton",function(e,list){$(this).trigger("sortStart");config.sortList=list;var sortList=config.sortList;updateHeaderSortCount(this,sortList);setHeadersCss(this,$headers,sortList,sortCSS);appendToTable(this,multisort(this,sortList,cache))}).bind("appendCache",function(){appendToTable(this,cache)}).bind("applyWidgetId",function(e,id){getWidgetById(id).format(this)}).bind("applyWidgets",function(){applyWidget(this)});if($.metadata&&($(this).metadata()&&$(this).metadata().sortlist)){config.sortList=$(this).metadata().sortlist}if(config.sortList.length>0){$this.trigger("sorton",[config.sortList])}applyWidget(this)})};this.addParser=function(parser){var l=parsers.length,a=true;for(var i=0;i<l;i++){if(parsers[i].id.toLowerCase()==parser.id.toLowerCase()){a=false}}if(a){parsers.push(parser)}};this.addWidget=function(widget){widgets.push(widget)};this.formatFloat=function(s){var i=parseFloat(s);return(isNaN(i))?0:i};this.formatInt=function(s){var i=parseInt(s);return(isNaN(i))?0:i};this.isDigit=function(s,config){return/^[-+]?\d*$/.test($.trim(s.replace(/[,.']/g,"")))};this.clearTableBody=function(table){if($.browser.msie){function empty(){while(this.firstChild){this.removeChild(this.firstChild)}}empty.apply(table.tBodies[0])}else{table.tBodies[0].innerHTML=""}}}});$.fn.extend({tablesorter:$.tablesorter.construct});var ts=$.tablesorter;ts.addParser({id:"text",is:function(s){return true},format:function(s){return $.trim(s.toLocaleLowerCase())},type:"text"});ts.addParser({id:"digit",is:function(s,table){var c=table.config;return $.tablesorter.isDigit(s,c)},format:function(s){return $.tablesorter.formatFloat(s)},type:"numeric"});ts.addParser({id:"currency",is:function(s){return/^[Â£$â‚¬?.]/.test(s)},format:function(s){return $.tablesorter.formatFloat(s.replace(new RegExp(/[Â£$â‚¬]/g),""))},type:"numeric"});ts.addParser({id:"ipAddress",is:function(s){return/^\d{2,3}[\.]\d{2,3}[\.]\d{2,3}[\.]\d{2,3}$/.test(s)},format:function(s){var a=s.split("."),r="",l=a.length;for(var i=0;i<l;i++){var item=a[i];if(item.length==2){r+="0"+item}else{r+=item}}return $.tablesorter.formatFloat(r)},type:"numeric"});ts.addParser({id:"url",is:function(s){return/^(https?|ftp|file):\/\/$/.test(s)},format:function(s){return jQuery.trim(s.replace(new RegExp(/(https?|ftp|file):\/\//),""))},type:"text"});ts.addParser({id:"isoDate",is:function(s){return/^\d{4}[\/-]\d{1,2}[\/-]\d{1,2}$/.test(s)},format:function(s){return $.tablesorter.formatFloat((s!="")?new Date(s.replace(new RegExp(/-/g),"/")).getTime():"0")},type:"numeric"});ts.addParser({id:"percent",is:function(s){return/\%$/.test($.trim(s))},format:function(s){return $.tablesorter.formatFloat(s.replace(new RegExp(/%/g),""))},type:"numeric"});ts.addParser({id:"usLongDate",is:function(s){return s.match(new RegExp(/^[A-Za-z]{3,10}\.? [0-9]{1,2}, ([0-9]{4}|'?[0-9]{2}) (([0-2]?[0-9]:[0-5][0-9])|([0-1]?[0-9]:[0-5][0-9]\s(AM|PM)))$/))},format:function(s){return $.tablesorter.formatFloat(new Date(s).getTime())},type:"numeric"});ts.addParser({id:"shortDate",is:function(s){return/\d{1,2}[\/\-]\d{1,2}[\/\-]\d{2,4}/.test(s)},format:function(s,table){var c=table.config;s=s.replace(/\-/g,"/");if(c.dateFormat=="us"){s=s.replace(/(\d{1,2})[\/\-](\d{1,2})[\/\-](\d{4})/,"$3/$1/$2")}else{if(c.dateFormat=="uk"){s=s.replace(/(\d{1,2})[\/\-](\d{1,2})[\/\-](\d{4})/,"$3/$2/$1")}else{if(c.dateFormat=="dd/mm/yy"||c.dateFormat=="dd-mm-yy"){s=s.replace(/(\d{1,2})[\/\-](\d{1,2})[\/\-](\d{2})/,"$1/$2/$3")}}}return $.tablesorter.formatFloat(new Date(s).getTime())},type:"numeric"});ts.addParser({id:"time",is:function(s){return/^(([0-2]?[0-9]:[0-5][0-9])|([0-1]?[0-9]:[0-5][0-9]\s(am|pm)))$/.test(s)},format:function(s){return $.tablesorter.formatFloat(new Date("2000/01/01 "+s).getTime())},type:"numeric"});ts.addParser({id:"metadata",is:function(s){return false},format:function(s,table,cell){var c=table.config,p=(!c.parserMetadataName)?"sortValue":c.parserMetadataName;return $(cell).metadata()[p]},type:"numeric"});ts.addWidget({id:"zebra",format:function(table){if(table.config.debug){var time=new Date()}var $tr,row=-1,odd;$("tr:visible",table.tBodies[0]).each(function(i){$tr=$(this);if(!$tr.hasClass(table.config.cssChildRow)){row++}odd=(row%2==0);$tr.removeClass(table.config.widgetZebra.css[odd?0:1]).addClass(table.config.widgetZebra.css[odd?1:0])});if(table.config.debug){$.tablesorter.benchmark("Applying Zebra widget",time)}}})})(jQuery);(function(h){var e=document.documentElement.style,g=("textOverflow" in e||"OTextOverflow" in e),f=function(k,a){var b=0,l=[],j=function(n){var i=0,m;if(b>a){return}for(i=0;i<n.length;i+=1){if(n[i].nodeType===1){m=n[i].cloneNode(false);l[l.length-1].appendChild(m);l.push(m);j(n[i].childNodes);l.pop()}else{if(n[i].nodeType===3){if(b+n[i].length<a){l[l.length-1].appendChild(n[i].cloneNode(false))}else{m=n[i].cloneNode(false);m.textContent=h.trim(m.textContent.substring(0,a-b));l[l.length-1].appendChild(m)}b+=n[i].length}else{l.appendChild(n[i].cloneNode(false))}}}};l.push(k.cloneNode(false));j(k.childNodes);return h(l.pop().childNodes)};h.extend(h.fn,{textOverflow:function(a,i){var b=a||"&#x2026;";if(!g){return this.each(function(){var u=h(this),t=u.clone(),q=u.clone(),v=u.text(),y=u.width(),s=0,r=0,w=v.length,x=function(){if(y!==u.width()){u.replaceWith(q);u=q;q=u.clone();u.textOverflow(a,false);y=u.width()}};u.after(t.hide().css({position:"absolute",width:"auto",overflow:"visible","max-width":"inherit"}));if(t.width()>y){while(s<w){r=Math.floor(s+((w-s)/2));t.empty().append(f(q.get(0),r)).append(b);if(t.width()<y){s=r+1}else{w=r}}if(s<v.length){u.empty().append(f(q.get(0),s-1)).append(b)}}t.remove();if(i){setInterval(x,200)}})}else{return this}}})})(jQuery);(function(a){a.widget("ui.selectmenu",{getter:"value",version:"1.8",eventPrefix:"selectmenu",options:{transferClasses:true,typeAhead:"sequential",style:"dropdown",positionOptions:{my:"left top",at:"left bottom",offset:null},width:null,menuWidth:null,handleWidth:26,maxHeight:null,icons:null,format:null,bgImage:function(){},wrapperElement:""},_create:function(){var b=this,h=this.options;var g=this.element.attr("id")||"ui-selectmenu-"+Math.random().toString(16).slice(2,10);this.ids=[g+"-button",g+"-menu"];this._safemouseup=true;if(a.browser.msie){h.typeAhead=""}this.newelement=a('<a class="'+this.widgetBaseClass+' ui-widget ui-state-default ui-corner-all" id="'+this.ids[0]+'" role="button" href="#" tabindex="0" aria-haspopup="true" aria-owns="'+this.ids[1]+'"></a>').insertAfter(this.element);this.newelement.wrap(h.wrapperElement);var f=this.element.attr("tabindex");if(f){this.newelement.attr("tabindex",f)}this.newelement.data("selectelement",this.element);this.selectmenuIcon=a('<span class="'+this.widgetBaseClass+'-icon ui-icon"></span>').prependTo(this.newelement);this.newelement.prepend('<span class="'+b.widgetBaseClass+'-status" />');a('label[for="'+this.element.attr("id")+'"]').attr("for",this.ids[0]).bind("click.selectmenu",function(){b.newelement[0].focus();return false});this.newelement.bind("mousedown.selectmenu",function(i){b._toggle(i,true);if(h.style=="popup"){b._safemouseup=false;setTimeout(function(){b._safemouseup=true},300)}return false}).bind("click.selectmenu",function(){return false}).bind("keydown.selectmenu",function(j){var i=false;switch(j.keyCode){case a.ui.keyCode.ENTER:i=true;break;case a.ui.keyCode.SPACE:b._toggle(j);break;case a.ui.keyCode.UP:if(j.altKey){b.open(j)}else{b._moveSelection(-1)}break;case a.ui.keyCode.DOWN:if(j.altKey){b.open(j)}else{b._moveSelection(1)}break;case a.ui.keyCode.LEFT:b._moveSelection(-1);break;case a.ui.keyCode.RIGHT:b._moveSelection(1);break;case a.ui.keyCode.TAB:i=true;break;default:i=true;b._typeAhead(j.keyCode,"mouseup");break}return i}).bind("mouseover.selectmenu focus.selectmenu",function(){if(!h.disabled){a(this).addClass(b.widgetBaseClass+"-focus ui-state-hover")}}).bind("mouseout.selectmenu blur.selectmenu",function(){if(!h.disabled){a(this).removeClass(b.widgetBaseClass+"-focus ui-state-hover")}});a(document).bind("mousedown.selectmenu",function(i){b.close(i)});this.element.bind("click.selectmenu",function(){b._refreshValue()}).bind("focus.selectmenu",function(){if(b.newelement){b.newelement[0].focus()}});var e=this.element.width();this.newelement.width(h.width?h.width:e);this.element.hide();this.list=a('<ul class="'+b.widgetBaseClass+'-menu ui-widget ui-widget-content" aria-hidden="true" role="listbox" aria-labelledby="'+this.ids[0]+'" id="'+this.ids[1]+'"></ul>').appendTo("body");this.list.wrap(h.wrapperElement);this.list.bind("keydown.selectmenu",function(j){var i=false;switch(j.keyCode){case a.ui.keyCode.UP:if(j.altKey){b.close(j,true)}else{b._moveFocus(-1)}break;case a.ui.keyCode.DOWN:if(j.altKey){b.close(j,true)}else{b._moveFocus(1)}break;case a.ui.keyCode.LEFT:b._moveFocus(-1);break;case a.ui.keyCode.RIGHT:b._moveFocus(1);break;case a.ui.keyCode.HOME:b._moveFocus(":first");break;case a.ui.keyCode.PAGE_UP:b._scrollPage("up");break;case a.ui.keyCode.PAGE_DOWN:b._scrollPage("down");break;case a.ui.keyCode.END:b._moveFocus(":last");break;case a.ui.keyCode.ENTER:case a.ui.keyCode.SPACE:b.close(j,true);a(j.target).parents("li:eq(0)").trigger("mouseup");break;case a.ui.keyCode.TAB:i=true;b.close(j,true);a(j.target).parents("li:eq(0)").trigger("mouseup");break;case a.ui.keyCode.ESCAPE:b.close(j,true);break;default:i=true;b._typeAhead(j.keyCode,"focus");break}return i});a(window).bind("resize.selectmenu",a.proxy(b._refreshPosition,this))},_init:function(){var q=this,g=this.options;var b=[];this.element.find("option").each(function(){b.push({value:a(this).attr("value"),text:q._formatText(a(this).text()),selected:a(this).attr("selected"),disabled:a(this).attr("disabled"),classes:a(this).attr("class"),typeahead:a(this).attr("typeahead"),parentOptGroup:a(this).parent("optgroup"),bgImage:g.bgImage.call(a(this))})});var n=(q.options.style=="popup")?" ui-state-active":"";this.list.html("");for(var l=0;l<b.length;l++){var f=a('<li role="presentation"'+(b[l].disabled?' class="'+this.namespace+'-state-disabled"':"")+'><a href="#" tabindex="-1" role="option"'+(b[l].disabled?' aria-disabled="true"':"")+' aria-selected="false"'+(b[l].typeahead?' typeahead="'+b[l].typeahead+'"':"")+">"+b[l].text+"</a></li>").data("index",l).addClass(b[l].classes).data("optionClasses",b[l].classes||"").bind("mouseup.selectmenu",function(i){if(q._safemouseup&&!q._disabled(i.currentTarget)&&!q._disabled(a(i.currentTarget).parents("ul>li."+q.widgetBaseClass+"-group "))){var j=a(this).data("index")!=q._selectedIndex();q.index(a(this).data("index"));q.select(i);if(j){q.change(i)}q.close(i,true)}return false}).bind("click.selectmenu",function(){return false}).bind("mouseover.selectmenu focus.selectmenu",function(i){if(!a(i.currentTarget).hasClass(q.namespace+"-state-disabled")){q._selectedOptionLi().addClass(n);q._focusedOptionLi().removeClass(q.widgetBaseClass+"-item-focus ui-state-hover");a(this).removeClass("ui-state-active").addClass(q.widgetBaseClass+"-item-focus ui-state-hover")}}).bind("mouseout.selectmenu blur.selectmenu",function(){if(a(this).is(q._selectedOptionLi().selector)){a(this).addClass(n)}a(this).removeClass(q.widgetBaseClass+"-item-focus ui-state-hover")});if(b[l].parentOptGroup.length){var m=q.widgetBaseClass+"-group-"+this.element.find("optgroup").index(b[l].parentOptGroup);if(this.list.find("li."+m).length){this.list.find("li."+m+":last ul").append(f)}else{a(' <li role="presentation" class="'+q.widgetBaseClass+"-group "+m+(b[l].parentOptGroup.attr("disabled")?" "+this.namespace+'-state-disabled" aria-disabled="true"':'"')+'><span class="'+q.widgetBaseClass+'-group-label">'+b[l].parentOptGroup.attr("label")+"</span><ul></ul></li> ").appendTo(this.list).find("ul").append(f)}}else{f.appendTo(this.list)}this.list.bind("mousedown.selectmenu mouseup.selectmenu",function(){return false});if(g.icons){for(var k in g.icons){if(f.is(g.icons[k].find)){f.data("optionClasses",b[l].classes+" "+q.widgetBaseClass+"-hasIcon").addClass(q.widgetBaseClass+"-hasIcon");var p=g.icons[k].icon||"";f.find("a:eq(0)").prepend('<span class="'+q.widgetBaseClass+"-item-icon ui-icon "+p+'"></span>');if(b[l].bgImage){f.find("span").css("background-image",b[l].bgImage)}}}}}var e=(g.style=="dropdown");this.newelement.toggleClass(q.widgetBaseClass+"-dropdown",e).toggleClass(q.widgetBaseClass+"-popup",!e);this.list.toggleClass(q.widgetBaseClass+"-menu-dropdown ui-corner-bottom",e).toggleClass(q.widgetBaseClass+"-menu-popup ui-corner-all",!e).find("li:first").toggleClass("ui-corner-top",!e).end().find("li:last").addClass("ui-corner-bottom");this.selectmenuIcon.toggleClass("ui-icon-triangle-1-s",e).toggleClass("ui-icon-triangle-2-n-s",!e);if(g.transferClasses){var r=this.element.attr("class")||"";this.newelement.add(this.list).addClass(r)}var h=this.element.width();if(g.style=="dropdown"){this.list.width(g.menuWidth?g.menuWidth:(g.width?g.width:h))}else{this.list.width(g.menuWidth?g.menuWidth:(g.width?g.width-g.handleWidth:h-g.handleWidth))}if(g.maxHeight){if(g.maxHeight<this.list.height()){this.list.height(g.maxHeight)}}else{if(!g.format&&(a(window).height()/3)<this.list.height()){g.maxHeight=a(window).height()/3;this.list.height(g.maxHeight)}}this._optionLis=this.list.find("li:not(."+q.widgetBaseClass+"-group)");if(this.element.attr("disabled")===true){this.disable()}this.index(this._selectedIndex());window.setTimeout(function(){q._refreshPosition()},200)},destroy:function(){this.element.removeData(this.widgetName).removeClass(this.widgetBaseClass+"-disabled "+this.namespace+"-state-disabled").removeAttr("aria-disabled").unbind(".selectmenu");a(window).unbind(".selectmenu");a(document).unbind(".selectmenu");a("label[for="+this.newelement.attr("id")+"]").attr("for",this.element.attr("id")).unbind(".selectmenu");if(this.options.wrapperElement){this.newelement.find(this.options.wrapperElement).remove();this.list.find(this.options.wrapperElement).remove()}else{this.newelement.remove();this.list.remove()}this.element.show();a.Widget.prototype.destroy.apply(this,arguments)},_typeAhead:function(g,f){var b=this,e=false,k=String.fromCharCode(g);c=k.toLowerCase();if(b.options.typeAhead=="sequential"){window.clearTimeout("ui.selectmenu-"+b.selectmenuId);var j=typeof(b._prevChar)=="undefined"?"":b._prevChar.join("");function h(l,m,n){e=true;a(l).trigger(f);typeof(b._prevChar)=="undefined"?b._prevChar=[n]:b._prevChar[b._prevChar.length]=n}this.list.find("li a").each(function(l){if(!e){var m=a(this).attr("typeahead")||a(this).text();if(m.indexOf(j+k)==0){h(this,l,k)}else{if(m.indexOf(j+c)==0){h(this,l,c)}}}});window.setTimeout(function(l){l._prevChar=undefined},1000,b)}else{if(!b._prevChar){b._prevChar=["",0]}var e=false;function i(l,m){e=true;a(l).trigger(f);b._prevChar[1]=m}this.list.find("li a").each(function(l){if(!e){var m=a(this).text();if(m.indexOf(k)==0||m.indexOf(c)==0){if(b._prevChar[0]==k){if(b._prevChar[1]<l){i(this,l)}}else{i(this,l)}}}});this._prevChar[0]=k}},_uiHash:function(){var b=this.index();return{index:b,option:a("option",this.element).get(b),value:this.element[0].value}},open:function(e){var b=this;if(this.newelement.attr("aria-disabled")!="true"){this._closeOthers(e);this.newelement.addClass("ui-state-active");if(b.options.wrapperElement){this.list.parent().appendTo("body")}else{this.list.appendTo("body")}this.list.addClass(b.widgetBaseClass+"-open").attr("aria-hidden",false);this._refreshPosition();this.list.find("li:not(."+b.widgetBaseClass+"-group):eq("+this._selectedIndex()+") a")[0].focus();if(this.options.style=="dropdown"){this.newelement.removeClass("ui-corner-all").addClass("ui-corner-top")}this._trigger("open",e,this._uiHash())}},close:function(e,b){if(this.newelement.is(".ui-state-active")){this.newelement.removeClass("ui-state-active");this.list.attr("aria-hidden",true).removeClass(this.widgetBaseClass+"-open");if(this.options.style=="dropdown"){this.newelement.removeClass("ui-corner-top").addClass("ui-corner-all")}if(b){this.newelement.focus()}this._trigger("close",e,this._uiHash())}},change:function(b){this.element.trigger("change");this._trigger("change",b,this._uiHash())},select:function(b){this._trigger("select",b,this._uiHash())},_closeOthers:function(b){a("."+this.widgetBaseClass+".ui-state-active").not(this.newelement).each(function(){a(this).data("selectelement").selectmenu("close",b)});a("."+this.widgetBaseClass+".ui-state-hover").trigger("mouseout")},_toggle:function(e,b){if(this.list.is("."+this.widgetBaseClass+"-open")){this.close(e,b)}else{this.open(e)}},_formatText:function(b){return(this.options.format?this.options.format(b):b)},_selectedIndex:function(){return this.element[0].selectedIndex},_selectedOptionLi:function(){return this._optionLis.eq(this._selectedIndex())},_focusedOptionLi:function(){return this.list.find("."+this.widgetBaseClass+"-item-focus")},_moveSelection:function(f){var e=parseInt(this._selectedOptionLi().data("index"),10);var b=e+f;if(b>=0){return this._optionLis.eq(b).trigger("mouseup")}},_moveFocus:function(g){if(!isNaN(g)){var f=parseInt(this._focusedOptionLi().data("index")||0,10);var e=f+g}else{var e=parseInt(this._optionLis.filter(g).data("index"),10)}if(e<0){e=0}if(e>this._optionLis.size()-1){e=this._optionLis.size()-1}var b=this.widgetBaseClass+"-item-"+Math.round(Math.random()*1000);this._focusedOptionLi().find("a:eq(0)").attr("id","");if(this._optionLis.eq(e).hasClass(this.namespace+"-state-disabled")){(g>0)?g++:g--;this._moveFocus(g,e)}else{this._optionLis.eq(e).find("a:eq(0)").attr("id",b).focus()}this.list.attr("aria-activedescendant",b)},_scrollPage:function(e){var b=Math.floor(this.list.outerHeight()/this.list.find("li:first").outerHeight());b=(e=="up"?-b:b);this._moveFocus(b)},_setOption:function(b,e){this.options[b]=e;if(b=="disabled"){this.close();this.element.add(this.newelement).add(this.list)[e?"addClass":"removeClass"](this.widgetBaseClass+"-disabled "+this.namespace+"-state-disabled").attr("aria-disabled",e)}},disable:function(b,e){if(typeof(b)=="undefined"){this._setOption("disabled",true)}else{if(e=="optgroup"){this._disableOptgroup(b)}else{this._disableOption(b)}}},enable:function(b,e){if(typeof(b)=="undefined"){this._setOption("disabled",false)}else{if(e=="optgroup"){this._enableOptgroup(b)}else{this._enableOption(b)}}},_disabled:function(b){return a(b).hasClass(this.namespace+"-state-disabled")},_disableOption:function(b){var e=this._optionLis.eq(b);if(e){e.addClass(this.namespace+"-state-disabled").find("a").attr("aria-disabled",true);this.element.find("option").eq(b).attr("disabled","disabled")}},_enableOption:function(b){var e=this._optionLis.eq(b);if(e){e.removeClass(this.namespace+"-state-disabled").find("a").attr("aria-disabled",false);this.element.find("option").eq(b).removeAttr("disabled")}},_disableOptgroup:function(e){var b=this.list.find("li."+this.widgetBaseClass+"-group-"+e);if(b){b.addClass(this.namespace+"-state-disabled").attr("aria-disabled",true);this.element.find("optgroup").eq(e).attr("disabled","disabled")}},_enableOptgroup:function(e){var b=this.list.find("li."+this.widgetBaseClass+"-group-"+e);if(b){b.removeClass(this.namespace+"-state-disabled").attr("aria-disabled",false);this.element.find("optgroup").eq(e).removeAttr("disabled")}},index:function(b){if(arguments.length){if(!this._disabled(a(this._optionLis[b]))){this.element[0].selectedIndex=b;this._refreshValue()}else{return false}}else{return this._selectedIndex()}},value:function(b){if(arguments.length){this.element[0].value=b;this._refreshValue()}else{return this.element[0].value}},_refreshValue:function(){var f=(this.options.style=="popup")?" ui-state-active":"";var e=this.widgetBaseClass+"-item-"+Math.round(Math.random()*1000);this.list.find("."+this.widgetBaseClass+"-item-selected").removeClass(this.widgetBaseClass+"-item-selected"+f).find("a").attr("aria-selected","false").attr("id","");this._selectedOptionLi().addClass(this.widgetBaseClass+"-item-selected"+f).find("a").attr("aria-selected","true").attr("id",e);var b=(this.newelement.data("optionClasses")?this.newelement.data("optionClasses"):"");var g=(this._selectedOptionLi().data("optionClasses")?this._selectedOptionLi().data("optionClasses"):"");this.newelement.removeClass(b).data("optionClasses",g).addClass(g).find("."+this.widgetBaseClass+"-status").html(this._selectedOptionLi().find("a:eq(0)").html());this.list.attr("aria-activedescendant",e)},_refreshPosition:function(){var f=this.options;if(f.style=="popup"&&!f.positionOptions.offset){var e=this._selectedOptionLi();var b="0 -"+(e.outerHeight()+e.offset().top-this.list.offset().top)}this.list.css({zIndex:this.element.zIndex()}).position({of:f.positionOptions.of||this.newelement,my:f.positionOptions.my,at:f.positionOptions.at,offset:f.positionOptions.offset||b})}})})(jQuery);(function(a){a.extend(a.fn,{validate:function(b){if(!this.length){b&&b.debug&&window.console&&console.warn("nothing selected, can't validate, returning nothing");return}var e=a.data(this[0],"validator");if(e){return e}e=new a.validator(b,this[0]);a.data(this[0],"validator",e);if(e.settings.onsubmit){this.find("input, button").filter(".cancel").click(function(){e.cancelSubmit=true});if(e.settings.submitHandler){this.find("input, button").filter(":submit").click(function(){e.submitButton=this})}this.submit(function(f){if(e.settings.debug){f.preventDefault()}function g(){if(e.settings.submitHandler){if(e.submitButton){var h=a("<input type='hidden'/>").attr("name",e.submitButton.name).val(e.submitButton.value).appendTo(e.currentForm)}e.settings.submitHandler.call(e,e.currentForm);if(e.submitButton){h.remove()}return false}return true}if(e.cancelSubmit){e.cancelSubmit=false;return g()}if(e.form()){if(e.pendingRequest){e.formSubmitted=true;return false}return g()}else{e.focusInvalid();return false}})}return e},valid:function(){if(a(this[0]).is("form")){return this.validate().form()}else{var e=true;var b=a(this[0].form).validate();this.each(function(){e&=b.element(this)});return e}},removeAttrs:function(f){var b={},e=this;a.each(f.split(/\s/),function(g,h){b[h]=e.attr(h);e.removeAttr(h)});return b},rules:function(g,b){var i=this[0];if(g){var f=a.data(i.form,"validator").settings;var k=f.rules;var l=a.validator.staticRules(i);switch(g){case"add":a.extend(l,a.validator.normalizeRule(b));k[i.name]=l;if(b.messages){f.messages[i.name]=a.extend(f.messages[i.name],b.messages)}break;case"remove":if(!b){delete k[i.name];return l}var j={};a.each(b.split(/\s/),function(m,n){j[n]=l[n];delete l[n]});return j}}var h=a.validator.normalizeRules(a.extend({},a.validator.metadataRules(i),a.validator.classRules(i),a.validator.attributeRules(i),a.validator.staticRules(i)),i);if(h.required){var e=h.required;delete h.required;h=a.extend({required:e},h)}return h}});a.extend(a.expr[":"],{blank:function(b){return !a.trim(""+b.value)},filled:function(b){return !!a.trim(""+b.value)},unchecked:function(b){return !b.checked}});a.validator=function(b,e){this.settings=a.extend(true,{},a.validator.defaults,b);this.currentForm=e;this.init()};a.validator.format=function(b,e){if(arguments.length==1){return function(){var f=a.makeArray(arguments);f.unshift(b);return a.validator.format.apply(this,f)}}if(arguments.length>2&&e.constructor!=Array){e=a.makeArray(arguments).slice(1)}if(e.constructor!=Array){e=[e]}a.each(e,function(f,g){b=b.replace(new RegExp("\\{"+f+"\\}","g"),g)});return b};a.extend(a.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"label",focusInvalid:true,errorContainer:a([]),errorLabelContainer:a([]),onsubmit:true,ignore:[],ignoreTitle:false,onfocusin:function(b){this.lastActive=b;if(this.settings.focusCleanup&&!this.blockFocusCleanup){this.settings.unhighlight&&this.settings.unhighlight.call(this,b,this.settings.errorClass,this.settings.validClass);this.errorsFor(b).hide()}},onfocusout:function(b){if(!this.checkable(b)&&(b.name in this.submitted||!this.optional(b))){this.element(b)}},onkeyup:function(b){if(b.name in this.submitted||b==this.lastElement){this.element(b)}},onclick:function(b){if(b.name in this.submitted){this.element(b)}else{if(b.parentNode.name in this.submitted){this.element(b.parentNode)}}},highlight:function(f,b,e){a(f).addClass(b).removeClass(e)},unhighlight:function(f,b,e){a(f).removeClass(b).addClass(e)}},setDefaults:function(b){a.extend(a.validator.defaults,b)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",accept:"Please enter a value with a valid extension.",maxlength:a.validator.format("Please enter no more than {0} characters."),minlength:a.validator.format("Please enter at least {0} characters."),rangelength:a.validator.format("Please enter a value between {0} and {1} characters long."),range:a.validator.format("Please enter a value between {0} and {1}."),max:a.validator.format("Please enter a value less than or equal to {0}."),min:a.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:false,prototype:{init:function(){this.labelContainer=a(this.settings.errorLabelContainer);this.errorContext=this.labelContainer.length&&this.labelContainer||a(this.currentForm);this.containers=a(this.settings.errorContainer).add(this.settings.errorLabelContainer);this.submitted={};this.valueCache={};this.pendingRequest=0;this.pending={};this.invalid={};this.reset();var b=(this.groups={});a.each(this.settings.groups,function(g,h){a.each(h.split(/\s/),function(j,i){b[i]=g})});var f=this.settings.rules;a.each(f,function(g,h){f[g]=a.validator.normalizeRule(h)});function e(i){var h=a.data(this[0].form,"validator"),g="on"+i.type.replace(/^validate/,"");h.settings[g]&&h.settings[g].call(h,this[0])}a(this.currentForm).validateDelegate(":text, :password, :file, select, textarea","focusin focusout keyup",e).validateDelegate(":radio, :checkbox, select, option","click",e);if(this.settings.invalidHandler){a(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler)}},form:function(){this.checkForm();a.extend(this.submitted,this.errorMap);this.invalid=a.extend({},this.errorMap);if(!this.valid()){a(this.currentForm).triggerHandler("invalid-form",[this])}this.showErrors();return this.valid()},checkForm:function(){this.prepareForm();for(var b=0,e=(this.currentElements=this.elements());e[b];b++){this.check(e[b])}return this.valid()},element:function(e){e=this.clean(e);this.lastElement=e;this.prepareElement(e);this.currentElements=a(e);var b=this.check(e);if(b){delete this.invalid[e.name]}else{this.invalid[e.name]=true}if(!this.numberOfInvalids()){this.toHide=this.toHide.add(this.containers)}this.showErrors();return b},showErrors:function(e){if(e){a.extend(this.errorMap,e);this.errorList=[];for(var b in e){this.errorList.push({message:e[b],element:this.findByName(b)[0]})}this.successList=a.grep(this.successList,function(f){return !(f.name in e)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){if(a.fn.resetForm){a(this.currentForm).resetForm()}this.submitted={};this.prepareForm();this.hideErrors();this.elements().removeClass(this.settings.errorClass)},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(f){var e=0;for(var b in f){e++}return e},hideErrors:function(){this.addWrapper(this.toHide).hide()},valid:function(){return this.size()==0},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid){try{a(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(b){}}},findLastActive:function(){var b=this.lastActive;return b&&a.grep(this.errorList,function(e){return e.element.name==b.name}).length==1&&b},elements:function(){var e=this,b={};return a([]).add(this.currentForm.elements).filter(":input").not(":submit, :reset, :image, [disabled]").not(this.settings.ignore).filter(function(){!this.name&&e.settings.debug&&window.console&&console.error("%o has no name assigned",this);if(this.name in b||!e.objectLength(a(this).rules())){return false}b[this.name]=true;return true})},clean:function(b){return a(b)[0]},errors:function(){return a(this.settings.errorElement+"."+this.settings.errorClass,this.errorContext)},reset:function(){this.successList=[];this.errorList=[];this.errorMap={};this.toShow=a([]);this.toHide=a([]);this.currentElements=a([])},prepareForm:function(){this.reset();this.toHide=this.errors().add(this.containers)},prepareElement:function(b){this.reset();this.toHide=this.errorsFor(b)},check:function(f){f=this.clean(f);if(this.checkable(f)){f=this.findByName(f.name)[0]}var j=a(f).rules();var g=false;for(method in j){var i={method:method,parameters:j[method]};try{var b=a.validator.methods[method].call(this,f.value.replace(/\r/g,""),f,i.parameters);if(b=="dependency-mismatch"){g=true;continue}g=false;if(b=="pending"){this.toHide=this.toHide.not(this.errorsFor(f));return}if(!b){this.formatAndAdd(f,i);return false}}catch(h){this.settings.debug&&window.console&&console.log("exception occured when checking element "+f.id+", check the '"+i.method+"' method",h);throw h}}if(g){return}if(this.objectLength(j)){this.successList.push(f)}return true},customMetaMessage:function(b,f){if(!a.metadata){return}var e=this.settings.meta?a(b).metadata()[this.settings.meta]:a(b).metadata();return e&&e.messages&&e.messages[f]},customMessage:function(e,f){var b=this.settings.messages[e];return b&&(b.constructor==String?b:b[f])},findDefined:function(){for(var b=0;b<arguments.length;b++){if(arguments[b]!==undefined){return arguments[b]}}return undefined},defaultMessage:function(b,e){return this.findDefined(this.customMessage(b.name,e),this.customMetaMessage(b,e),!this.settings.ignoreTitle&&b.title||undefined,a.validator.messages[e],"<strong>Warning: No message defined for "+b.name+"</strong>")},formatAndAdd:function(e,g){var f=this.defaultMessage(e,g.method),b=/\$?\{(\d+)\}/g;if(typeof f=="function"){f=f.call(this,g.parameters,e)}else{if(b.test(f)){f=jQuery.format(f.replace(b,"{$1}"),g.parameters)}}this.errorList.push({message:f,element:e});this.errorMap[e.name]=f;this.submitted[e.name]=f},addWrapper:function(b){if(this.settings.wrapper){b=b.add(b.parent(this.settings.wrapper))}return b},defaultShowErrors:function(){for(var e=0;this.errorList[e];e++){var b=this.errorList[e];this.settings.highlight&&this.settings.highlight.call(this,b.element,this.settings.errorClass,this.settings.validClass);this.showLabel(b.element,b.message)}if(this.errorList.length){this.toShow=this.toShow.add(this.containers)}if(this.settings.success){for(var e=0;this.successList[e];e++){this.showLabel(this.successList[e])}}if(this.settings.unhighlight){for(var e=0,f=this.validElements();f[e];e++){this.settings.unhighlight.call(this,f[e],this.settings.errorClass,this.settings.validClass)}}this.toHide=this.toHide.not(this.toShow);this.hideErrors();this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return a(this.errorList).map(function(){return this.element})},showLabel:function(e,f){var b=this.errorsFor(e);if(b.length){b.removeClass().addClass(this.settings.errorClass);b.attr("generated")&&b.html(f)}else{b=a("<"+this.settings.errorElement+"/>").attr({"for":this.idOrName(e),generated:true}).addClass(this.settings.errorClass).html(f||"");if(this.settings.wrapper){b=b.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()}if(!this.labelContainer.append(b).length){this.settings.errorPlacement?this.settings.errorPlacement(b,a(e)):b.insertAfter(e)}}if(!f&&this.settings.success){b.text("");typeof this.settings.success=="string"?b.addClass(this.settings.success):this.settings.success(b)}this.toShow=this.toShow.add(b)},errorsFor:function(e){var b=this.idOrName(e);return this.errors().filter(function(){return a(this).attr("for")==b})},idOrName:function(b){return this.groups[b.name]||(this.checkable(b)?b.name:b.id||b.name)},checkable:function(b){return/radio|checkbox/i.test(b.type)},findByName:function(b){var e=this.currentForm;return a(document.getElementsByName(b)).map(function(f,g){return g.form==e&&g.name==b&&g||null})},getLength:function(e,b){switch(b.nodeName.toLowerCase()){case"select":return a("option:selected",b).length;case"input":if(this.checkable(b)){return this.findByName(b.name).filter(":checked").length}}return e.length},depend:function(e,b){return this.dependTypes[typeof e]?this.dependTypes[typeof e](e,b):true},dependTypes:{"boolean":function(e,b){return e},string:function(e,b){return !!a(e,b.form).length},"function":function(e,b){return e(b)}},optional:function(b){return !a.validator.methods.required.call(this,a.trim(b.value),b)&&"dependency-mismatch"},startRequest:function(b){if(!this.pending[b.name]){this.pendingRequest++;this.pending[b.name]=true}},stopRequest:function(b,e){this.pendingRequest--;if(this.pendingRequest<0){this.pendingRequest=0}delete this.pending[b.name];if(e&&this.pendingRequest==0&&this.formSubmitted&&this.form()){a(this.currentForm).submit();this.formSubmitted=false}else{if(!e&&this.pendingRequest==0&&this.formSubmitted){a(this.currentForm).triggerHandler("invalid-form",[this]);this.formSubmitted=false}}},previousValue:function(b){return a.data(b,"previousValue")||a.data(b,"previousValue",{old:null,valid:true,message:this.defaultMessage(b,"remote")})}},classRuleSettings:{required:{required:true},email:{email:true},url:{url:true},date:{date:true},dateISO:{dateISO:true},dateDE:{dateDE:true},number:{number:true},numberDE:{numberDE:true},digits:{digits:true},creditcard:{creditcard:true}},addClassRules:function(b,e){b.constructor==String?this.classRuleSettings[b]=e:a.extend(this.classRuleSettings,b)},classRules:function(e){var f={};var b=a(e).attr("class");b&&a.each(b.split(" "),function(){if(this in a.validator.classRuleSettings){a.extend(f,a.validator.classRuleSettings[this])}});return f},attributeRules:function(e){var g={};var b=a(e);for(method in a.validator.methods){var f=b.attr(method);if(f){g[method]=f}}if(g.maxlength&&/-1|2147483647|524288/.test(g.maxlength)){delete g.maxlength}return g},metadataRules:function(b){if(!a.metadata){return{}}var e=a.data(b.form,"validator").settings.meta;return e?a(b).metadata()[e]:a(b).metadata()},staticRules:function(e){var f={};var b=a.data(e.form,"validator");if(b.settings.rules){f=a.validator.normalizeRule(b.settings.rules[e.name])||{}}return f},normalizeRules:function(e,b){a.each(e,function(h,g){if(g===false){delete e[h];return}if(g.param||g.depends){var f=true;switch(typeof g.depends){case"string":f=!!a(g.depends,b.form).length;break;case"function":f=g.depends.call(b,b);break}if(f){e[h]=g.param!==undefined?g.param:true}else{delete e[h]}}});a.each(e,function(f,g){e[f]=a.isFunction(g)?g(b):g});a.each(["minlength","maxlength","min","max"],function(){if(e[this]){e[this]=Number(e[this])}});a.each(["rangelength","range"],function(){if(e[this]){e[this]=[Number(e[this][0]),Number(e[this][1])]}});if(a.validator.autoCreateRanges){if(e.min&&e.max){e.range=[e.min,e.max];delete e.min;delete e.max}if(e.minlength&&e.maxlength){e.rangelength=[e.minlength,e.maxlength];delete e.minlength;delete e.maxlength}}if(e.messages){delete e.messages}return e},normalizeRule:function(e){if(typeof e=="string"){var b={};a.each(e.split(/\s/),function(){b[this]=true});e=b}return e},addMethod:function(b,f,e){a.validator.methods[b]=f;a.validator.messages[b]=e!=undefined?e:a.validator.messages[b];if(f.length<3){a.validator.addClassRules(b,a.validator.normalizeRule(b))}},methods:{required:function(e,b,g){if(!this.depend(g,b)){return"dependency-mismatch"}switch(b.nodeName.toLowerCase()){case"select":var f=a(b).val();return f&&f.length>0;case"input":if(this.checkable(b)){return this.getLength(e,b)>0}default:return a.trim(e).length>0}},remote:function(h,e,i){if(this.optional(e)){return"dependency-mismatch"}var f=this.previousValue(e);if(!this.settings.messages[e.name]){this.settings.messages[e.name]={}}f.originalMessage=this.settings.messages[e.name].remote;this.settings.messages[e.name].remote=f.message;i=typeof i=="string"&&{url:i}||i;if(f.old!==h){f.old=h;var b=this;this.startRequest(e);var g={};g[e.name]=h;a.ajax(a.extend(true,{url:i,mode:"abort",port:"validate"+e.name,dataType:"json",data:g,success:function(k){b.settings.messages[e.name].remote=f.originalMessage;var m=k===true;if(m){var j=b.formSubmitted;b.prepareElement(e);b.formSubmitted=j;b.successList.push(e);b.showErrors()}else{var n={};var l=(f.message=k||b.defaultMessage(e,"remote"));n[e.name]=a.isFunction(l)?l(h):l;b.showErrors(n)}f.valid=m;b.stopRequest(e,m)}},i));return"pending"}else{if(this.pending[e.name]){return"pending"}}return f.valid},minlength:function(e,b,f){return this.optional(b)||this.getLength(a.trim(e),b)>=f},maxlength:function(e,b,f){return this.optional(b)||this.getLength(a.trim(e),b)<=f},rangelength:function(f,b,g){var e=this.getLength(a.trim(f),b);return this.optional(b)||(e>=g[0]&&e<=g[1])},min:function(e,b,f){return this.optional(b)||e>=f},max:function(e,b,f){return this.optional(b)||e<=f},range:function(e,b,f){return this.optional(b)||(e>=f[0]&&e<=f[1])},email:function(e,b){return this.optional(b)||/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i.test(e)},url:function(e,b){return this.optional(b)||/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(e)},date:function(e,b){return this.optional(b)||!/Invalid|NaN/.test(new Date(e))},dateISO:function(e,b){return this.optional(b)||/^\d{4}[\/-]\d{1,2}[\/-]\d{1,2}$/.test(e)},number:function(e,b){return this.optional(b)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)(?:\.\d+)?$/.test(e)},digits:function(e,b){return this.optional(b)||/^\d+$/.test(e)},creditcard:function(h,e){if(this.optional(e)){return"dependency-mismatch"}if(/[^0-9-]+/.test(h)){return false}var i=0,g=0,b=false;h=h.replace(/\D/g,"");for(var j=h.length-1;j>=0;j--){var f=h.charAt(j);var g=parseInt(f,10);if(b){if((g*=2)>9){g-=9}}i+=g;b=!b}return(i%10)==0},accept:function(e,b,f){f=typeof f=="string"?f.replace(/,/g,"|"):"png|jpe?g|gif";return this.optional(b)||e.match(new RegExp(".("+f+")$","i"))},equalTo:function(e,b,g){var f=a(g).unbind(".validate-equalTo").bind("blur.validate-equalTo",function(){a(b).valid()});return e==f.val()}}});a.format=a.validator.format})(jQuery);(function(e){var b=e.ajax;var a={};e.ajax=function(g){g=e.extend(g,e.extend({},e.ajaxSettings,g));var f=g.port;if(g.mode=="abort"){if(a[f]){a[f].abort()}return(a[f]=b.apply(this,arguments))}return b.apply(this,arguments)}})(jQuery);(function(a){if(!jQuery.event.special.focusin&&!jQuery.event.special.focusout&&document.addEventListener){a.each({focus:"focusin",blur:"focusout"},function(e,b){a.event.special[b]={setup:function(){this.addEventListener(e,f,true)},teardown:function(){this.removeEventListener(e,f,true)},handler:function(g){arguments[0]=a.event.fix(g);arguments[0].type=b;return a.event.handle.apply(this,arguments)}};function f(g){g=a.event.fix(g);g.type=b;return a.event.handle.call(this,g)}})}a.extend(a.fn,{validateDelegate:function(f,e,b){return this.bind(e,function(g){var h=a(g.target);if(h.is(f)){return b.apply(h,arguments)}})}})})(jQuery);window.Modernizr=function(Y,ab,C){function J(f,e){return(""+f).indexOf(e)!==-1}function K(f,e){for(var h in f){if(X[f[h]]!==C&&(!e||e(f[h],I))){return true}}}function V(f,e){var h=f.charAt(0).toUpperCase()+f.substr(1);h=(f+" "+B.join(h+" ")+h).split(" ");return !!K(h,e)}function a(){aa.input=function(f){for(var e=0,h=f.length;e<h;e++){t[f[e]]=!!(f[e] in Z)}return t}("autocomplete autofocus list placeholder max min multiple pattern required step".split(" "));aa.inputtypes=function(f){for(var e=0,i,h=f.length;e<h;e++){Z.setAttribute("type",f[e]);if(i=Z.type!=="text"){Z.value=r;if(/^range$/.test(Z.type)&&Z.style.WebkitAppearance!==C){W.appendChild(Z);i=ab.defaultView;i=i.getComputedStyle&&i.getComputedStyle(Z,null).WebkitAppearance!=="textfield"&&Z.offsetHeight!==0;W.removeChild(Z)}else{/^(search|tel)$/.test(Z.type)||(i=/^(url|email)$/.test(Z.type)?Z.checkValidity&&Z.checkValidity()===false:Z.value!=r)}}p[f[e]]=!!i}return p}("search tel url email datetime date month week time datetime-local number range color".split(" "))}var aa={},W=ab.documentElement,I=ab.createElement("modernizr"),X=I.style,Z=ab.createElement("input"),r=":)",m=Object.prototype.toString,T=" -webkit- -moz- -o- -ms- -khtml- ".split(" "),B="Webkit Moz O ms Khtml".split(" "),A={svg:"http://www.w3.org/2000/svg"},ac={},p={},t={},k=[],y,g=function(f){var e=document.createElement("style"),h=ab.createElement("div");e.textContent=f+"{#modernizr{height:3px}}";(ab.head||ab.getElementsByTagName("head")[0]).appendChild(e);h.id="modernizr";W.appendChild(h);f=h.offsetHeight===3;e.parentNode.removeChild(e);h.parentNode.removeChild(h);return !!f},U=function(){var e={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return function(f,i){i=i||document.createElement(e[f]||"div");f="on"+f;var h=f in i;if(!h){i.setAttribute||(i=document.createElement("div"));if(i.setAttribute&&i.removeAttribute){i.setAttribute(f,"");h=typeof i[f]=="function";if(typeof i[f]!="undefined"){i[f]=C}i.removeAttribute(f)}}return h}}(),z={}.hasOwnProperty,b;b=typeof z!=="undefined"&&typeof z.call!=="undefined"?function(f,e){return z.call(f,e)}:function(f,e){return e in f&&typeof f.constructor.prototype[e]==="undefined"};ac.flexbox=function(){var f=ab.createElement("div"),e=ab.createElement("div");(function(j,n,l,i){n+=":";j.style.cssText=(n+T.join(l+";"+n)).slice(0,-n.length)+(i||"")})(f,"display","box","width:42px;padding:0;");e.style.cssText=T.join("box-flex:1;")+"width:10px;";f.appendChild(e);W.appendChild(f);var h=e.offsetWidth===42;f.removeChild(e);W.removeChild(f);return h};ac.canvas=function(){var e=ab.createElement("canvas");return !!(e.getContext&&e.getContext("2d"))};ac.canvastext=function(){return !!(aa.canvas&&typeof ab.createElement("canvas").getContext("2d").fillText=="function")};ac.webgl=function(){var f=ab.createElement("canvas");try{if(f.getContext("webgl")){return true}}catch(e){}try{if(f.getContext("experimental-webgl")){return true}}catch(h){}return false};ac.touch=function(){return"ontouchstart" in Y||g("@media ("+T.join("touch-enabled),(")+"modernizr)")};ac.geolocation=function(){return !!navigator.geolocation};ac.postmessage=function(){return !!Y.postMessage};ac.websqldatabase=function(){return !!Y.openDatabase};ac.indexedDB=function(){for(var f=-1,e=B.length;++f<e;){var h=B[f].toLowerCase();if(Y[h+"_indexedDB"]||Y[h+"IndexedDB"]){return true}}return false};ac.hashchange=function(){return U("hashchange",Y)&&(document.documentMode===C||document.documentMode>7)};ac.history=function(){return !!(Y.history&&history.pushState)};ac.draganddrop=function(){return U("drag")&&U("dragstart")&&U("dragenter")&&U("dragover")&&U("dragleave")&&U("dragend")&&U("drop")};ac.websockets=function(){return"WebSocket" in Y};ac.rgba=function(){X.cssText="background-color:rgba(150,255,150,.5)";return J(X.backgroundColor,"rgba")};ac.hsla=function(){X.cssText="background-color:hsla(120,40%,100%,.5)";return J(X.backgroundColor,"rgba")||J(X.backgroundColor,"hsla")};ac.multiplebgs=function(){X.cssText="background:url(//:),url(//:),red url(//:)";return/(url\s*\(.*?){3}/.test(X.background)};ac.backgroundsize=function(){return V("backgroundSize")};ac.borderimage=function(){return V("borderImage")};ac.borderradius=function(){return V("borderRadius","",function(e){return J(e,"orderRadius")})};ac.boxshadow=function(){return V("boxShadow")};ac.textshadow=function(){return ab.createElement("div").style.textShadow===""};ac.opacity=function(){var e=T.join("opacity:.5;")+"";X.cssText=e;return J(X.opacity,"0.5")};ac.cssanimations=function(){return V("animationName")};ac.csscolumns=function(){return V("columnCount")};ac.cssgradients=function(){var e=("background-image:"+T.join("gradient(linear,left top,right bottom,from(#9f9),to(white));background-image:")+T.join("linear-gradient(left top,#9f9, white);background-image:")).slice(0,-17);X.cssText=e;return J(X.backgroundImage,"gradient")};ac.cssreflections=function(){return V("boxReflect")};ac.csstransforms=function(){return !!K(["transformProperty","WebkitTransform","MozTransform","OTransform","msTransform"])};ac.csstransforms3d=function(){var e=!!K(["perspectiveProperty","WebkitPerspective","MozPerspective","OPerspective","msPerspective"]);if(e){e=g("@media ("+T.join("transform-3d),(")+"modernizr)")}return e};ac.csstransitions=function(){return V("transitionProperty")};ac.fontface=function(){var f,e=ab.head||ab.getElementsByTagName("head")[0]||W,i=ab.createElement("style"),h=ab.implementation||{hasFeature:function(){return false}};i.type="text/css";e.insertBefore(i,e.firstChild);f=i.sheet||i.styleSheet;e=h.hasFeature("CSS2","")?function(n){if(!(f&&n)){return false}var l=false;try{f.insertRule(n,0);l=!/unknown/i.test(f.cssRules[0].cssText);f.deleteRule(f.cssRules.length-1)}catch(j){}return l}:function(j){if(!(f&&j)){return false}f.cssText=j;return f.cssText.length!==0&&!/unknown/i.test(f.cssText)&&f.cssText.replace(/\r+|\n+/g,"").indexOf(j.split(" ")[0])===0};aa._fontfaceready=function(j){j(aa.fontface)};return e('@font-face { font-family: "font"; src: "font.ttf"; }')};ac.video=function(){var f=ab.createElement("video"),e=!!f.canPlayType;if(e){e=new Boolean(e);e.ogg=f.canPlayType('video/ogg; codecs="theora"');e.h264=f.canPlayType('video/mp4; codecs="avc1.42E01E"')||f.canPlayType('video/mp4; codecs="avc1.42E01E, mp4a.40.2"');e.webm=f.canPlayType('video/webm; codecs="vp8, vorbis"')}return e};ac.audio=function(){var f=ab.createElement("audio"),e=!!f.canPlayType;if(e){e=new Boolean(e);e.ogg=f.canPlayType('audio/ogg; codecs="vorbis"');e.mp3=f.canPlayType("audio/mpeg;");e.wav=f.canPlayType('audio/wav; codecs="1"');e.m4a=f.canPlayType("audio/x-m4a;")||f.canPlayType("audio/aac;")}return e};ac.localstorage=function(){try{return"localStorage" in Y&&Y.localStorage!==null}catch(e){return false}};ac.sessionstorage=function(){try{return"sessionStorage" in Y&&Y.sessionStorage!==null}catch(e){return false}};ac.webWorkers=function(){return !!Y.Worker};ac.applicationcache=function(){return !!Y.applicationCache};ac.svg=function(){return !!ab.createElementNS&&!!ab.createElementNS(A.svg,"svg").createSVGRect};ac.inlinesvg=function(){var e=document.createElement("div");e.innerHTML="<svg/>";return(e.firstChild&&e.firstChild.namespaceURI)==A.svg};ac.smil=function(){return !!ab.createElementNS&&/SVG/.test(m.call(ab.createElementNS(A.svg,"animate")))};ac.svgclippaths=function(){return !!ab.createElementNS&&/SVG/.test(m.call(ab.createElementNS(A.svg,"clipPath")))};for(var x in ac){if(b(ac,x)){y=x.toLowerCase();aa[y]=ac[x]();k.push((aa[y]?"":"no-")+y)}}aa.input||a();aa.crosswindowmessaging=aa.postmessage;aa.historymanagement=aa.history;aa.addTest=function(f,e){f=f.toLowerCase();if(!aa[f]){e=!!e();W.className+=" "+(e?"":"no-")+f;aa[f]=e;return aa}};X.cssText="";I=Z=null;Y.attachEvent&&function(){var e=ab.createElement("div");e.innerHTML="<elem></elem>";return e.childNodes.length!==1}()&&function(v,u){function q(E){for(var D=-1;++D<e;){E.createElement(n[D])}}function l(H,D){for(var F=H.length,G=-1,L,E=[];++G<F;){L=H[G];D=L.media||D;E.push(l(L.imports,D));E.push(L.cssText)}return E.join("")}var n="abbr|article|aside|audio|canvas|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video".split("|"),e=n.length,w=RegExp("<(/*)(abbr|article|aside|audio|canvas|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video)","gi"),j=RegExp("\\b(abbr|article|aside|audio|canvas|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video)\\b(?!.*[;}])","gi"),o=u.createDocumentFragment(),i=u.documentElement,s=i.firstChild,h=u.createElement("style"),f=u.createElement("body");h.media="all";q(u);q(o);v.attachEvent("onbeforeprint",function(){for(var G=-1;++G<e;){for(var D=u.getElementsByTagName(n[G]),E=D.length,F=-1;++F<E;){if(D[F].className.indexOf("iepp_")<0){D[F].className+=" iepp_"+n[G]}}}s.insertBefore(h,s.firstChild);h.styleSheet.cssText=l(u.styleSheets,"all").replace(j,".iepp_$1");o.appendChild(u.body);i.appendChild(f);f.innerHTML=o.firstChild.innerHTML.replace(w,"<$1bdo")});v.attachEvent("onafterprint",function(){f.innerHTML="";i.removeChild(f);s.removeChild(h);i.appendChild(o.firstChild)})}(this,document);aa._enableHTML5=true;aa._version="1.6";W.className=W.className.replace(/\bno-js\b/,"")+" js";W.className+=" "+k.join(" ");return aa}(this,this.document);(function(an,am){function O(f,e){this._d=f,this._isUTC=!!e}function M(f,e){var g=f+"";while(g.length<e){g="0"+g}return g}function K(t,s,r,q){var p=typeof s=="string",o=p?{}:s,n,m,l,a;return p&&q&&(o[s]=+q),n=(o.ms||o.milliseconds||0)+(o.s||o.seconds||0)*1000+(o.m||o.minutes||0)*60000+(o.h||o.hours||0)*3600000,m=(o.d||o.days||0)+(o.w||o.weeks||0)*7,l=(o.M||o.months||0)+(o.y||o.years||0)*12,n&&t.setTime(+t+n*r),m&&t.setDate(t.getDate()+m*r),l&&(a=t.getDate(),t.setDate(1),t.setMonth(t.getMonth()+l*r),t.setDate(Math.min((new an(t.getFullYear(),t.getMonth()+1,0)).getDate(),a))),t}function J(b){return Object.prototype.toString.call(b)==="[object Array]"}function I(a){return new an(a[0],a[1]||0,a[2]||1,a[3]||0,a[4]||0,a[5]||0,a[6]||0)}function H(A,z){function a(f){var b,e;switch(f){case"M":return y+1;case"Mo":return y+1+k(y+1);case"MM":return M(y+1,2);case"MMM":return al.monthsShort[y];case"MMMM":return al.months[y];case"D":return x;case"Do":return x+k(x);case"DD":return M(x,2);case"DDD":return b=new an(w,y,x),e=new an(w,0,1),~~((b-e)/86400000+1.5);case"DDDo":return b=a("DDD"),b+k(b);case"DDDD":return M(a("DDD"),3);case"d":return v;case"do":return v+k(v);case"ddd":return al.weekdaysShort[v];case"dddd":return al.weekdays[v];case"w":return b=new an(w,y,x-v+5),e=new an(b.getFullYear(),0,4),~~((b-e)/86400000/7+1.5);case"wo":return b=a("w"),b+k(b);case"ww":return M(a("w"),2);case"YY":return M(w%100,2);case"YYYY":return w;case"a":return u>11?j.pm:j.am;case"A":return u>11?j.PM:j.AM;case"H":return u;case"HH":return M(u,2);case"h":return u%12||12;case"hh":return M(u%12||12,2);case"m":return t;case"mm":return M(t,2);case"s":return s;case"ss":return M(s,2);case"zz":case"z":return(A._d.toString().match(ac)||[""])[0].replace(ad,"");case"Z":return(l<0?"-":"+")+M(~~(Math.abs(l)/60),2)+":"+M(~~(Math.abs(l)%60),2);case"ZZ":return(l<0?"-":"+")+M(~~(10*Math.abs(l)/6),4);case"L":case"LL":case"LLL":case"LLLL":case"LT":return H(A,al.longDateFormat[f]);default:return f.replace(/(^\[)|(\\)|\]$/g,"")}}var y=A.month(),x=A.date(),w=A.year(),v=A.day(),u=A.hours(),t=A.minutes(),s=A.seconds(),l=-A.zone(),k=al.ordinal,j=al.meridiem;return z.replace(ae,a)}function Y(y,x){function a(f,e){var g;switch(f){case"M":case"MM":w[1]=~~e-1;break;case"MMM":case"MMMM":for(g=0;g<12;g++){if(al.monthsParse[g].test(e)){w[1]=g;break}}break;case"D":case"DD":case"DDD":case"DDDD":w[2]=~~e;break;case"YY":e=~~e,w[0]=e+(e>70?1900:2000);break;case"YYYY":w[0]=~~Math.abs(e);break;case"a":case"A":m=e.toLowerCase()==="pm";break;case"H":case"HH":case"h":case"hh":w[3]=~~e;break;case"m":case"mm":w[4]=~~e;break;case"s":case"ss":w[5]=~~e;break;case"Z":case"ZZ":t=!0,g=(e||"").match(T),g&&g[1]&&(v=~~g[1]),g&&g[2]&&(u=~~g[2]),g&&g[0]==="+"&&(v=-v,u=-u)}}var w=[0,0,1,0,0,0,0],v=0,u=0,t=!1,s=y.match(aa),r=x.match(ab),q=Math.min(s.length,r.length),n,m;for(n=0;n<q;n++){a(r[n],s[n])}return m&&w[3]<12&&(w[3]+=12),m===!1&&w[3]===12&&(w[3]=0),w[3]+=v,w[4]+=u,t?new an(an.UTC.apply({},w)):I(w)}function W(h,g){var l=Math.min(h.length,g.length),k=Math.abs(h.length-g.length),j=0,i;for(i=0;i<l;i++){~~h[i]!==~~g[i]&&j++}return j+k}function U(r,q){var p,o=r.match(aa),n=[],m=99,l,k,j;for(l=0;l<q.length;l++){k=Y(r,q[l]),j=W(o,H(new O(k),q[l]).match(aa)),j<m&&(m=j,p=k)}return p}function S(a){var f="YYYY-MM-DDT",e;if(Z.exec(a)){for(e=0;e<3;e++){if(V[e][1].exec(a)){f+=V[e][0];break}}return Y(a,f+"Z")}return new an(a)}function Q(g,f,i){var h=al.relativeTime[g];return typeof h=="function"?h(f||1,!!i,g):h.replace(/%d/i,f||1)}function N(k,j){var q=ak(Math.abs(k)/1000),p=ak(q/60),o=ak(p/60),n=ak(o/24),m=ak(n/365),l=q<45&&["s",q]||p===1&&["m"]||p<45&&["mm",p]||o===1&&["h"]||o<22&&["hh",o]||n===1&&["d"]||n<=25&&["dd",n]||n<=45&&["M"]||n<345&&["MM",ak(n/30)]||m===1&&["y"]||["yy",m];return l[2]=j,Q.apply({},l)}function L(f,e){al.fn[f]=function(b){var g=this._isUTC?"UTC":"";return b!=null?(this._d["set"+g+e](b),this):this._d["get"+g+e]()}}var al,ak=Math.round,aj={},ai=typeof module!="undefined",ah="months|monthsShort|monthsParse|weekdays|weekdaysShort|longDateFormat|calendar|relativeTime|ordinal|meridiem".split("|"),ag,af=/^\/?Date\((\-?\d+)/i,ae=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|dddd?|do?|w[o|w]?|YYYY|YY|a|A|hh?|HH?|mm?|ss?|zz?|ZZ?|LT|LL?L?L?)/g,ad=/[^A-Z]/g,ac=/\([A-Za-z ]+\)|:[0-9]{2} [A-Z]{3} /g,ab=/(\\)?(MM?M?M?|dd?d?d|DD?D?D?|YYYY|YY|a|A|hh?|HH?|mm?|ss?|ZZ?|T)/g,aa=/(\\)?([0-9]+|([a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+|([\+\-]\d\d:?\d\d))/gi,Z=/\d{4}.\d\d.\d\d(T(\d\d(.\d\d(.\d\d)?)?)?([\+\-]\d\d:?\d\d)?)?/,X="YYYY-MM-DDTHH:mm:ssZ",V=[["HH:mm:ss",/T\d\d:\d\d:\d\d/],["HH:mm",/T\d\d:\d\d/],["HH",/T\d\d/]],T=/([\+\-]|\d\d)/gi,R="1.5.0",P="Month|Date|Hours|Minutes|Seconds|Milliseconds".split("|");al=function(h,g){if(h===null||h===""){return null}var b,a;return h&&h._d instanceof an?b=new an(+h._d):g?J(g)?b=U(h,g):b=Y(h,g):(a=af.exec(h),b=h===am?new an:a?new an(+a[1]):h instanceof an?h:J(h)?I(h):typeof h=="string"?S(h):new an(h)),new O(b)},al.utc=function(a,e){return J(a)?new O(new an(an.UTC.apply({},a)),!0):e&&a?al(a+" 0",e+" Z").utc():al(a).utc()},al.humanizeDuration=function(i,h,m){var l=+i,k=al.relativeTime,j;switch(h){case"seconds":l*=1000;break;case"minutes":l*=60000;break;case"hours":l*=3600000;break;case"days":l*=86400000;break;case"weeks":l*=604800000;break;case"months":l*=2592000000;break;case"years":l*=31536000000;break;default:m=!!h}return j=N(l,!m),m?(l<=0?k.past:k.future).replace(/%s/i,j):j},al.version=R,al.defaultFormat=X,al.lang=function(f,e){var m,l,k,g=[];if(e){for(m=0;m<12;m++){g[m]=new RegExp("^"+e.months[m]+"|^"+e.monthsShort[m].replace(".",""),"i")}e.monthsParse=e.monthsParse||g,aj[f]=e}if(aj[f]){for(m=0;m<ah.length;m++){l=ah[m],al[l]=aj[f][l]||al[l]}}else{ai&&(k=require("./lang/"+f),al.lang(f,k))}},al.lang("en",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},meridiem:{AM:"AM",am:"am",PM:"PM",pm:"pm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},ordinal:function(f){var e=f%10;return ~~(f%100/10)===1?"th":e===1?"st":e===2?"nd":e===3?"rd":"th"}}),al.isMoment=function(b){return b instanceof O},al.fn=O.prototype={clone:function(){return al(this)},valueOf:function(){return +this._d},"native":function(){return this._d},toString:function(){return this._d.toString()},toDate:function(){return this._d},utc:function(){return this._isUTC=!0,this},local:function(){return this._isUTC=!1,this},format:function(b){return H(this,b?b:al.defaultFormat)},add:function(f,e){return this._d=K(this._d,f,1,e),this},subtract:function(f,e){return this._d=K(this._d,f,-1,e),this},diff:function(v,u,t){var s=al(v),r=(this.zone()-s.zone())*60000,q=this._d-s._d-r,p=this.year()-s.year(),o=this.month()-s.month(),n=this.date()-s.date(),m;return u==="months"?m=p*12+o+n/30:u==="years"?m=p+o/12:m=u==="seconds"?q/1000:u==="minutes"?q/60000:u==="hours"?q/3600000:u==="days"?q/86400000:u==="weeks"?q/604800000:q,t?m:ak(m)},from:function(f,e){return al.humanizeDuration(this.diff(f),!e)},fromNow:function(b){return this.from(al(),b)},calendar:function(){var g=this.diff(al().sod(),"days",!0),f=al.calendar,i=f.sameElse,h=g<-6?i:g<-1?f.lastWeek:g<0?f.lastDay:g<1?f.sameDay:g<2?f.nextDay:g<7?f.nextWeek:i;return this.format(typeof h=="function"?h.apply(this):h)},isLeapYear:function(){var b=this.year();return b%4===0&&b%100!==0||b%400===0},isDST:function(){return this.zone()<al([this.year()]).zone()||this.zone()<al([this.year(),5]).zone()},day:function(f){var e=this._d.getDay();return f==null?e:this.add({d:f-e})},sod:function(){return this.clone().hours(0).minutes(0).seconds(0).milliseconds(0)},eod:function(){return this.sod().add({d:1,ms:-1})},zone:function(){return this._isUTC?0:this._d.getTimezoneOffset()},daysInMonth:function(){return this.clone().month(this.month()+1).date(0).date()}};for(ag=0;ag<P.length;ag++){L(P[ag].toLowerCase(),P[ag])}L("year","FullYear"),ai&&(module.exports=al),typeof window!="undefined"&&(window.moment=al),typeof define=="function"&&define.amd&&define("moment",[],function(){return al})})(Date);var Mustache=function(){var a={};var b=function(){};b.prototype={otag:"{{",ctag:"}}",pragmas:{},buffer:[],pragmas_implemented:{"IMPLICIT-ITERATOR":true},context:{},render:function(h,g,f,i){if(!i){this.context=g;this.buffer=[]}if(!this.includes("",h)){if(i){return h}else{this.send(h);return}}h=this.render_pragmas(h);var e=this.render_section(h,g,f);if(e===false){e=this.render_tags(h,g,f,i)}if(i){return e}else{this.sendLines(e)}},send:function(e){if(e!==""){this.buffer.push(e)}},sendLines:function(g){if(g){var e=g.split("\n");for(var f=0;f<e.length;f++){this.send(e[f])}}},render_pragmas:function(e){if(!this.includes("%",e)){return e}var g=this;var f=this.getCachedRegex("render_pragmas",function(i,h){return new RegExp(i+"%([\\w-]+) ?([\\w]+=[\\w]+)?"+h,"g")});return e.replace(f,function(j,h,i){if(!g.pragmas_implemented[h]){throw ({message:"This implementation of mustache doesn't understand the '"+h+"' pragma"})}g.pragmas[h]={};if(i){var k=i.split("=");g.pragmas[h][k[0]]=k[1]}return""})},render_partial:function(e,g,f){e=this.trim(e);if(!f||f[e]===undefined){throw ({message:"unknown_partial '"+e+"'"})}if(typeof(g[e])!="object"){return this.render(f[e],g,f,true)}return this.render(f[e],g[e],f,true)},render_section:function(g,f,e){if(!this.includes("#",g)&&!this.includes("^",g)){return false}var i=this;var h=this.getCachedRegex("render_section",function(k,j){return new RegExp("^([\\s\\S]*?)"+k+"(\\^|\\#)\\s*(.+)\\s*"+j+"\n*([\\s\\S]*?)"+k+"\\/\\s*\\3\\s*"+j+"\\s*([\\s\\S]*)$","g")});return g.replace(h,function(m,q,p,l,n,k){var s=q?i.render_tags(q,f,e,true):"",o=k?i.render(k,f,e,true):"",j,r=i.find(l,f);if(p==="^"){if(!r||i.is_array(r)&&r.length===0){j=i.render(n,f,e,true)}else{j=""}}else{if(p==="#"){if(i.is_array(r)){j=i.map(r,function(t){return i.render(n,i.create_context(t),e,true)}).join("")}else{if(i.is_object(r)){j=i.render(n,i.create_context(r),e,true)}else{if(typeof r==="function"){j=r.call(f,n,function(t){return i.render(t,f,e,true)})}else{if(r){j=i.render(n,f,e,true)}else{j=""}}}}}}return s+j+o})},render_tags:function(n,e,g,j){var h=this;var m=function(){return h.getCachedRegex("render_tags",function(p,i){return new RegExp(p+"(=|!|>|\\{|%)?([^\\/#\\^]+?)\\1?"+i+"+","g")})};var k=m();var l=function(q,i,p){switch(i){case"!":return"";case"=":h.set_delimiters(p);k=m();return"";case">":return h.render_partial(p,e,g);case"{":return h.find(p,e);default:return h.escape(h.find(p,e))}};var o=n.split("\n");for(var f=0;f<o.length;f++){o[f]=o[f].replace(k,l,this);if(!j){this.send(o[f])}}if(j){return o.join("\n")}},set_delimiters:function(f){var e=f.split(" ");this.otag=this.escape_regex(e[0]);this.ctag=this.escape_regex(e[1])},escape_regex:function(f){if(!arguments.callee.sRE){var e=["/",".","*","+","?","|","(",")","[","]","{","}","\\"];arguments.callee.sRE=new RegExp("(\\"+e.join("|\\")+")","g")}return f.replace(arguments.callee.sRE,"\\$1")},find:function(g,h){g=this.trim(g);function f(j){return j===false||j===0||j}var i;if(g.match(/([a-z_]+)\./ig)){var e=this.walk_context(g,h);if(f(e)){i=e}}else{if(f(h[g])){i=h[g]}else{if(f(this.context[g])){i=this.context[g]}}}if(typeof i==="function"){return i.apply(h)}if(i!==undefined){return i}return""},walk_context:function(e,f){var i=e.split(".");var h=(f[i[0]]!=undefined)?f:this.context;var g=h[i.shift()];while(g!=undefined&&i.length>0){h=g;g=g[i.shift()]}if(typeof g==="function"){return g.apply(h)}return g},includes:function(f,e){return e.indexOf(this.otag+f)!=-1},escape:function(e){e=String(e===null?"":e);return e.replace(/&(?!\w+;)|["'<>\\]/g,function(f){switch(f){case"&":return"&amp;";case'"':return"&quot;";case"'":return"&#39;";case"<":return"&lt;";case">":return"&gt;";default:return f}})},create_context:function(f){if(this.is_object(f)){return f}else{var g=".";if(this.pragmas["IMPLICIT-ITERATOR"]){g=this.pragmas["IMPLICIT-ITERATOR"].iterator}var e={};e[g]=f;return e}},is_object:function(e){return e&&typeof e=="object"},is_array:function(e){return Object.prototype.toString.call(e)==="[object Array]"},trim:function(e){return e.replace(/^\s*|\s*$/g,"")},map:function(j,g){if(typeof j.map=="function"){return j.map(g)}else{var h=[];var e=j.length;for(var f=0;f<e;f++){h.push(g(j[f]))}return h}},getCachedRegex:function(f,i){var h=a[this.otag];if(!h){h=a[this.otag]={}}var e=h[this.ctag];if(!e){e=h[this.ctag]={}}var g=e[f];if(!g){g=e[f]=i(this.otag,this.ctag)}return g}};return({name:"mustache.js",version:"0.4.0-dev",to_html:function(g,e,f,i){var h=new b();if(i){h.send=i}h.render(g,e||{},f);if(!i){return h.buffer.join("\n")}}})}();(function(){function e(n){var l=e.options,h=l.parser[l.strictMode?"strict":"loose"].exec(n),k={},j=14;while(j--){k[l.key[j]]=h[j]||""}k[l.q.name]={};k[l.key[12]].replace(l.q.parser,function(m,i,o){if(i){k[l.q.name][i]=o}});return k}e.options={strictMode:false,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}};var a=this;var g;a.Raven=g={};var b=g;g.VERSION="@VERSION";var f=a.jQuery||a.Zepto||a.ender;g.loaded=false;g.options={secretKey:undefined,publicKey:undefined,servers:[],projectId:1,logger:"javascript",site:undefined,signatureUrl:undefined,fetchHeaders:false,testMode:false,ignoreErrors:[]};g.funcNameRE=/function\s*([\w\-$]+)?\s*\(/i;g.config=function(h){var i=[];if(typeof(h)==="string"){if(h.indexOf("http")===0){h=g.parseDSN(h)}else{throw"Base64 encoded config is no longer supported - use DSN"}}f.each(h,function(j,k){b.options[j]=k});f.each(b.options.servers,function(j,k){if(k.slice(-1)!=="/"){k+="/"}i.push(k+"api/"+b.options.projectId+"/store/")});b.options.servers=i};g.parseDSN=function(i){var k=e(i);var j=k.path.lastIndexOf("/");var h;var l;if(j===-1){h=k.path.substr(1);l=""}else{l=k.path.substr(1,j);h=k.path.substr(j+1)}return{servers:[k.protocol+"://"+k.host+":"+k.port+"/"+l],publicKey:k.user,secretKey:k.password,projectId:h}};g.getHeaders=function(){var h={};if(b.options.fetchHeaders){h=f.ajax({type:"HEAD",url:a.location,async:false}).getAllResponseHeaders()}h.Referer=document.referrer;h["User-Agent"]=navigator.userAgent;return h};g.parseHeaders=function(h){var i={};f.each(h.split("\n"),function(k,m){var j=m.slice(0,m.indexOf(":")),l=m.slice(m.indexOf(":")+2);i[j]=l});return i};g.getSignature=function(h,i,j){if(b.options.signatureUrl){f.post(b.options.signatureUrl,{message:h,timestamp:i},function(k){j(k.signature)})}else{j()}};g.getAuthHeader=function(h,i){var j="Sentry sentry_version=2.0, ";j+="sentry_timestamp="+i+", ";j+="sentry_client=raven-js/"+b.VERSION;if(b.options.publicKey){j+=", sentry_key="+b.options.publicKey}if(h){j+=", sentry_signature="+h}return j};g.captureException=function(k){var j,h,i;if(k.line){j=k.line}else{if(k.lineNumber){j=k.lineNumber}}if(k.sourceURL){i=k.sourceURL}else{if(k.fileName){i=k.fileName}}if(k.arguments&&k.stack){h=this.chromeTraceback(k)}else{if(k.stack){if(k.stack.indexOf("@")==-1){h=this.chromeTraceback(k)}else{h=this.firefoxTraceback(k)}}else{h=[{filename:i,lineno:j}];h=h.concat(this.otherTraceback(arguments.callee))}}b.process(k,i,j,h)};g.captureMessage=function(h){b.process(h)};g.trimString=function(h){return h.replace(/^\s+|\s+$/g,"")};g.chromeTraceback=function(m){var n,k,i,l,j=[],h=m.stack.split("\n");f.each(h.slice(1),function(p,o){n=g.trimString(o).slice(3);if(n=="unknown source"){return}else{n=n.split(" ")}if(n.length>2){k=n[0];i=n.slice(1).join(" ");l="(unknown)"}else{if(n.length==2){k=n[0];i=n[1]}else{k="(unknown)";i=n[0]}}if(i&&i!="(unknown source)"){if(i.slice(0,1)=="("){i=i.slice(1,-1).split(":")}else{i=i.split(":")}l=i.slice(-2)[0];i=i.slice(0,-2).join(":")}j.push({"function":k,filename:i,lineno:l})});return j};g.firefoxTraceback=function(n){var o,l,k,i,m,j=[],h=n.stack.split("\n");f.each(h,function(q,p){if(p){o=p.split("@");if(o[0]){l=o[0].split("(");if(l[1]!=")"){k=l[1].slice(0,-1).split(",")}else{k=undefined}if(l[0]){l=l[0]}else{l="(unknown)"}}else{l="(unknown)"}i=o[1].split(":");m=i.slice(-1)[0];i=i.slice(0,-1).join(":");j.push({"function":l,filename:i,lineno:m,vars:{"arguments":k}})}});return j};g.otherTraceback=function(m){var l,k,i="<anonymous>",j=[],h=9;while(m&&j.length<h){l=m.name||(this.funcNameRE.test(m.toString())?RegExp.$1||i:i);if(m.arguments){k=this.stringifyArguments(m.arguments)}else{k=undefined}j.push({filename:"(unknown source)",lineno:"(unknown)","function":l,post_context:m.toString().split("\n"),vars:{"arguments":k}});m=m.caller}return j};g.stringifyArguments=function(i){var l,h=this,k="<unknown>",j=[];f.each(i,function(n,m){if(m===undefined){j.push("undefined")}else{if(m===null){j.push("null")}else{if(m instanceof Array){j.push(h.stringifyArguments(m))}else{if(m.constructor){l=m.constructor.name||(h.funcNameRE.test(m.constructor.toString())?RegExp.$1||k:k);if(l=="String"){j.push('"'+m+'"')}else{if(l=="Number"||l=="Date"){j.push(m)}else{if(l=="Boolean"){j.push(m?"true":"false")}else{j.push(l)}}}}else{j.push(k)}}}}});return j};g.process=function(s,q,i,j,m){var o,r,k,l,n,h=a.location.origin+a.location.pathname,p=a.location.search.slice(1);if(typeof(s)==="object"){n=s.name;s=s.message}if(f.inArray(s,b.options.ignoreErrors)>=0){return}o=i?s+" at "+i:s;if(j){r={frames:j};q=q||j[0].filename}else{if(q){r={frames:[{filename:q,lineno:i}]}}}k={message:o,culprit:q,"sentry.interfaces.Stacktrace":r,"sentry.interfaces.Exception":{type:n,value:s},project:b.options.projectId,logger:b.options.logger,site:b.options.site};if(!b.options.testMode){k["sentry.interfaces.Http"]={url:h,querystring:p,headers:b.getHeaders()}}m=m||(new Date()).getTime();l=JSON.stringify(k);b.getSignature(l,m,function(t){var u=b.getAuthHeader(t,m);f.each(b.options.servers,function(v,w){f.ajax({type:"POST",url:w,data:l,headers:{"X-Sentry-Auth":u,Authentication:u}})})})}}).call(this);Rickshaw={namespace:function(f,j){var h=f.split(".");var a=typeof global!="undefined"?global:window;var e=a.Rickshaw;for(var b=1,g=h.length;b<g;b++){currentPart=h[b];e[currentPart]=e[currentPart]||{};e=e[currentPart]}return e},keys:function(e){var b=[];for(var a in e){b.push(a)}return b}};(function(x){var u=Object.prototype.toString,t="Null",k="Undefined",p="Boolean",e="Number",n="String",v="Object",o="[object Function]";function a(y){return u.call(y)===o}function s(y,A){for(var z in A){if(A.hasOwnProperty(z)){y[z]=A[z]}}return y}function m(y){if(j(y)!==v){throw new TypeError()}var z=[];for(var A in y){if(y.hasOwnProperty(A)){z.push(A)}}return z}function j(z){switch(z){case null:return t;case (void 0):return k}var y=typeof z;switch(y){case"boolean":return p;case"number":return e;case"string":return n}return v}function b(y){return typeof y==="undefined"}var q=Array.prototype.slice;function g(y){var z=y.toString().match(/^[\s\(]*function[^(]*\(([^)]*)\)/)[1].replace(/\/\/.*?[\r\n]|\/\*(?:.|[\r\n])*?\*\//g,"").replace(/\s+/g,"").split(",");return z.length==1&&!z[0]?[]:z}function i(z,A){var y=z;return function(){var B=h([w(y,this)],arguments);return A.apply(this,B)}}function h(B,y){var A=B.length,z=y.length;while(z--){B[A+z]=y[z]}return B}function f(z,y){z=q.call(z,0);return h(z,y)}function w(B,A){if(arguments.length<2&&b(arguments[0])){return this}var y=B,z=q.call(arguments,2);return function(){var C=f(z,arguments);return y.apply(A,C)}}var l=function(){};var r=(function(){var B=(function(){for(var C in {toString:1}){if(C==="toString"){return false}}return true})();function y(){}function z(){var F=null,E=[].slice.apply(arguments);if(a(E[0])){F=E.shift()}function C(){this.initialize.apply(this,arguments)}s(C,r.Methods);C.superclass=F;C.subclasses=[];if(F){y.prototype=F.prototype;C.prototype=new y;try{F.subclasses.push(C)}catch(H){}}for(var D=0,G=E.length;D<G;D++){C.addMethods(E[D])}if(!C.prototype.initialize){C.prototype.initialize=l}C.prototype.constructor=C;return C}function A(I){var E=this.superclass&&this.superclass.prototype,D=m(I);if(B){if(I.toString!=Object.prototype.toString){D.push("toString")}if(I.valueOf!=Object.prototype.valueOf){D.push("valueOf")}}for(var C=0,F=D.length;C<F;C++){var H=D[C],G=I[H];if(E&&a(G)&&g(G)[0]=="$super"){var J=G;G=i((function(K){return function(){return E[K].apply(this,arguments)}})(H),J);G.valueOf=w(J.valueOf,J);G.toString=w(J.toString,J)}this.prototype[H]=G}return this}return{create:z,Methods:{addMethods:A}}})();if(x.exports){x.exports.Class=r}else{x.Class=r}})(Rickshaw);Rickshaw.namespace("Rickshaw.Compat.ClassList");Rickshaw.Compat.ClassList=function(){if(typeof document!=="undefined"&&!("classList" in document.createElement("a"))){(function(l){var a="classList",h="prototype",o=(l.HTMLElement||l.Element)[h],b=Object,m=String[h].trim||function(){return this.replace(/^\s+|\s+$/g,"")},e=Array[h].indexOf||function(s){var r=0,q=this.length;for(;r<q;r++){if(r in this&&this[r]===s){return r}}return -1},p=function(q,r){this.name=q;this.code=DOMException[q];this.message=r},i=function(r,q){if(q===""){throw new p("SYNTAX_ERR","An invalid or illegal string was specified")}if(/\s/.test(q)){throw new p("INVALID_CHARACTER_ERR","String contains an invalid character")}return e.call(r,q)},f=function(u){var t=m.call(u.className),s=t?t.split(/\s+/):[],r=0,q=s.length;for(;r<q;r++){this.push(s[r])}this._updateClassName=function(){u.className=this.toString()}},g=f[h]=[],k=function(){return new f(this)};p[h]=Error[h];g.item=function(q){return this[q]||null};g.contains=function(q){q+="";return i(this,q)!==-1};g.add=function(q){q+="";if(i(this,q)===-1){this.push(q);this._updateClassName()}};g.remove=function(r){r+="";var q=i(this,r);if(q!==-1){this.splice(q,1);this._updateClassName()}};g.toggle=function(q){q+="";if(i(this,q)===-1){this.add(q)}else{this.remove(q)}};g.toString=function(){return this.join(" ")};if(b.defineProperty){var n={get:k,enumerable:true,configurable:true};try{b.defineProperty(o,a,n)}catch(j){if(j.number===-2146823252){n.enumerable=false;b.defineProperty(o,a,n)}}}else{if(b[h].__defineGetter__){o.__defineGetter__(a,k)}}}(self))}};if((typeof RICKSHAW_NO_COMPAT!=="undefined"&&!RICKSHAW_NO_COMPAT)||typeof RICKSHAW_NO_COMPAT==="undefined"){new Rickshaw.Compat.ClassList()}Rickshaw.namespace("Rickshaw.Graph");Rickshaw.Graph=function(b){this.element=b.element;this.interpolation=b.interpolation||"cardinal";this.series=b.series;this.offset="zero";this.stroke=b.stroke||false;var f=window.getComputedStyle(this.element,null);var g=parseInt(f.getPropertyValue("width"));var e=parseInt(f.getPropertyValue("height"));this.width=b.width||g||400;this.height=b.height||e||250;this.min=b.min;this.max=b.max;this.window={};this.updateCallbacks=[];var a=this;this.initialize=function(i){this.validateSeries(i.series);this.series.active=function(){return a.series.filter(function(j){return !j.disabled})};this.element.classList.add("rickshaw_graph");this.vis=d3.select(this.element).append("svg:svg").attr("width",this.width).attr("height",this.height);var h=[Rickshaw.Graph.Renderer.Stack,Rickshaw.Graph.Renderer.Line,Rickshaw.Graph.Renderer.Bar,Rickshaw.Graph.Renderer.Area,Rickshaw.Graph.Renderer.ScatterPlot];h.forEach(function(j){if(!j){return}a.registerRenderer(new j({graph:a}))});this.setRenderer(i.renderer||"stack");this.discoverRange()};this.validateSeries=function(i){if(!(i instanceof Array)&&!(i instanceof Rickshaw.Series)){var h=Object.prototype.toString.apply(i);throw"series is not an array: "+h}var j;i.forEach(function(k){if(!(k instanceof Object)){throw"series element is not an object: "+k}if(!(k.data)){throw"series has no data: "+JSON.stringify(k)}if(!(k.data instanceof Array)){throw"series data is not an array: "+JSON.stringify(k.data)}j=j||k.data.length;if(j&&k.data.length!=j){throw"series cannot have differing numbers of points: "+j+" vs "+k.data.length+"; see Rickshaw.Series.zeroFill()"}var m=typeof k.data[0].x;var l=typeof k.data[0].y;if(m!="number"||l!="number"){throw"x and y properties of points should be numbers instead of "+m+" and "+l}})};this.dataDomain=function(){var h=this.series[0].data;return[h[0].x,h.slice(-1).shift().x]};this.discoverRange=function(){var h=this.renderer.domain();this.x=d3.scale.linear().domain(h.x).range([0,this.width]);this.y=d3.scale.linear().domain(h.y).range([this.height,0]);this.y.magnitude=d3.scale.linear().domain(h.y).range([0,this.height])};this.render=function(){var h=this.stackData();this.discoverRange();this.renderer.render();this.updateCallbacks.forEach(function(i){i()})};this.update=this.render;this.stackData=function(){var l=this.series.active().map(function(i){return i.data}).map(function(i){return i.filter(function(m){return this._slice(m)},this)},this);this.stackData.hooks.data.forEach(function(i){l=i.f.apply(a,[l])});var k=d3.layout.stack();k.offset(a.offset);var j=k(l);this.stackData.hooks.after.forEach(function(i){j=i.f.apply(a,[l])});var h=0;this.series.forEach(function(i){if(i.disabled){return}i.stack=j[h++]});this.stackedData=j;return j};this.stackData.hooks={data:[],after:[]};this._slice=function(i){if(this.window.xMin||this.window.xMax){var h=true;if(this.window.xMin&&i.x<this.window.xMin){h=false}if(this.window.xMax&&i.x>this.window.xMax){h=false}return h}return true};this.onUpdate=function(h){this.updateCallbacks.push(h)};this.registerRenderer=function(h){this._renderers=this._renderers||{};this._renderers[h.name]=h};this.setRenderer=function(h){if(!this._renderers[h]){throw"couldn't find renderer "+h}this.renderer=this._renderers[h]};this.initialize(b)};Rickshaw.namespace("Rickshaw.Fixtures.Color");Rickshaw.Fixtures.Color=function(){this.schemes={};this.schemes.spectrum14=["#ecb796","#dc8f70","#b2a470","#92875a","#716c49","#d2ed82","#bbe468","#a1d05d","#e7cbe6","#d8aad6","#a888c2","#9dc2d3","#649eb9","#387aa3"].reverse();this.schemes.spectrum2000=["#57306f","#514c76","#646583","#738394","#6b9c7d","#84b665","#a7ca50","#bfe746","#e2f528","#fff726","#ecdd00","#d4b11d","#de8800","#de4800","#c91515","#9a0000","#7b0429","#580839","#31082b"];this.schemes.spectrum2001=["#2f243f","#3c2c55","#4a3768","#565270","#6b6b7c","#72957f","#86ad6e","#a1bc5e","#b8d954","#d3e04e","#ccad2a","#cc8412","#c1521d","#ad3821","#8a1010","#681717","#531e1e","#3d1818","#320a1b"];this.schemes.classic9=["#423d4f","#4a6860","#848f39","#a2b73c","#ddcb53","#c5a32f","#7d5836","#963b20","#7c2626","#491d37","#2f254a"].reverse();this.schemes.httpStatus={503:"#ea5029",502:"#d23f14",500:"#bf3613",410:"#efacea",409:"#e291dc",403:"#f457e8",408:"#e121d2",401:"#b92dae",405:"#f47ceb",404:"#a82a9f",400:"#b263c6",301:"#6fa024",302:"#87c32b",307:"#a0d84c",304:"#28b55c",200:"#1a4f74",206:"#27839f",201:"#52adc9",202:"#7c979f",203:"#a5b8bd",204:"#c1cdd1"};this.schemes.colorwheel=["#b5b6a9","#858772","#785f43","#96557e","#4682b4","#65b9ac","#73c03a","#cb513a"].reverse();this.schemes.cool=["#5e9d2f","#73c03a","#4682b4","#7bc3b8","#a9884e","#c1b266","#a47493","#c09fb5"];this.schemes.munin=["#00cc00","#0066b3","#ff8000","#ffcc00","#330099","#990099","#ccff00","#ff0000","#808080","#008f00","#00487d","#b35a00","#b38f00","#6b006b","#8fb300","#b30000","#bebebe","#80ff80","#80c9ff","#ffc080","#ffe680","#aa80ff","#ee00cc","#ff8080","#666600","#ffbfff","#00ffcc","#cc6699","#999900"]};Rickshaw.namespace("Rickshaw.Fixtures.RandomData");Rickshaw.Fixtures.RandomData=function(b){var f;b=b||1;var a=200;var e=Math.floor(new Date().getTime()/1000);this.addData=function(j){var i=Math.random()*100+15+a;var h=j[0].length;var g=1;j.forEach(function(l){var m=Math.random()*20;var k=i/25+g+++(Math.cos((h*g*11)/960)+2)*15+(Math.cos(h/7)+2)*7+(Math.cos(h/17)+2)*1;l.push({x:(h*b)+e,y:k+m})});a=i*0.85}};Rickshaw.namespace("Rickshaw.Fixtures.Time");Rickshaw.Fixtures.Time=function(){var a=new Date().getTimezoneOffset()*60;var b=this;this.months=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];this.units=[{name:"decade",seconds:86400*365.25*10,formatter:function(e){return(parseInt(e.getUTCFullYear()/10)*10)}},{name:"year",seconds:86400*365.25,formatter:function(e){return e.getUTCFullYear()}},{name:"month",seconds:86400*30.5,formatter:function(e){return b.months[e.getUTCMonth()]}},{name:"week",seconds:86400*7,formatter:function(e){return b.formatDate(e)}},{name:"day",seconds:86400,formatter:function(e){return e.getUTCDate()}},{name:"6 hour",seconds:3600*6,formatter:function(e){return b.formatTime(e)}},{name:"hour",seconds:3600,formatter:function(e){return b.formatTime(e)}},{name:"15 minute",seconds:60*15,formatter:function(e){return b.formatTime(e)}},{name:"minute",seconds:60,formatter:function(e){return e.getUTCMinutes()}},{name:"15 second",seconds:15,formatter:function(e){return e.getUTCSeconds()+"s"}},{name:"second",seconds:1,formatter:function(e){return e.getUTCSeconds()+"s"}}];this.unit=function(e){return this.units.filter(function(f){return e==f.name}).shift()};this.formatDate=function(e){return e.toUTCString().match(/, (\w+ \w+ \w+)/)[1]};this.formatTime=function(e){return e.toUTCString().match(/(\d+:\d+):/)[1]};this.ceil=function(g,e){if(e.name=="month"){var f=new Date((g+e.seconds-1)*1000);return new Date(f.getUTCFullYear(),f.getUTCMonth()+1,1,0,0,0,0).getTime()/1000}if(e.name=="year"){var f=new Date((g+e.seconds-1)*1000);return new Date(f.getUTCFullYear(),1,1,0,0,0,0).getTime()/1000}return Math.ceil(g/e.seconds)*e.seconds}};Rickshaw.namespace("Rickshaw.Fixtures.Number");Rickshaw.Fixtures.Number.formatKMBT=function(a){if(a>=1000000000000){return a/1000000000000+"T"}else{if(a>=1000000000){return a/1000000000+"B"}else{if(a>=1000000){return a/1000000+"M"}else{if(a>=1000){return a/1000+"K"}else{if(a<1&&a>0){return a.toFixed(2)}else{if(a==0){return""}else{return a}}}}}}};Rickshaw.Fixtures.Number.formatBase1024KMGTP=function(a){if(a>=1125899906842624){return a/1125899906842624+"P"}else{if(a>=1099511627776){return a/1099511627776+"T"}else{if(a>=1073741824){return a/1073741824+"G"}else{if(a>=1048576){return a/1048576+"M"}else{if(a>=1024){return a/1024+"K"}else{if(a<1&&a>0){return a.toFixed(2)}else{if(a==0){return""}else{return a}}}}}}}};Rickshaw.namespace("Rickshaw.Color.Palette");Rickshaw.Color.Palette=function(b){var a=new Rickshaw.Fixtures.Color();b=b||{};this.schemes={};this.scheme=a.schemes[b.scheme]||b.scheme||a.schemes.colorwheel;this.runningIndex=0;this.color=function(e){return this.scheme[e]||this.scheme[this.runningIndex++]||"#808080"}};Rickshaw.namespace("Graph.Ajax");Rickshaw.Graph.Ajax=function(b){var a=this;this.dataURL=b.dataURL;$.ajax({url:this.dataURL,complete:function(f,e){if(e==="error"){console.log("error loading dataURL: "+this.dataURL)}var h=JSON.parse(f.responseText);if(typeof b.onData==="function"){var g=b.onData(h);h=g}if(b.series){b.series.forEach(function(j){var i=j.key||j.name;if(!i){throw"series needs a key or a name"}h.forEach(function(m){var l=m.key||m.name;if(!l){throw"data needs a key or a name"}if(i==l){var k=["color","name","data"];k.forEach(function(n){j[n]=j[n]||m[n]})}})})}else{b.series=h}a.graph=new Rickshaw.Graph(b);a.graph.render();if(typeof b.onComplete=="function"){b.onComplete(a)}}})};Rickshaw.namespace("Rickshaw.Graph.Annotate");Rickshaw.Graph.Annotate=function(b){var e=this.graph=b.graph;this.elements={timeline:b.element};var a=this;this.data={};this.elements.timeline.classList.add("rickshaw_annotation_timeline");this.add=function(g,f){a.data[g]=a.data[g]||{boxes:[]};a.data[g].boxes.push({content:f})};this.update=function(){Rickshaw.keys(a.data).forEach(function(i){var f=a.data[i];var h=a.graph.x(i);if(h>a.graph.x.range()[1]){if(f.element){f.element.style.display="none"}return}if(!f.element){var g=f.element=document.createElement("div");g.classList.add("annotation");this.elements.timeline.appendChild(g);g.addEventListener("click",function(j){g.classList.toggle("active");f.line.classList.toggle("active")},false)}f.element.style.left=h+"px";f.element.style.display="block";f.boxes.forEach(function(k){var j=k.element;if(!j){j=k.element=document.createElement("div");j.classList.add("content");j.innerHTML=k.content;f.element.appendChild(j);f.line=document.createElement("div");f.line.classList.add("annotation_line");a.graph.element.appendChild(f.line)}f.line.style.left=h+"px"})},this)};this.graph.onUpdate(function(){a.update()})};Rickshaw.namespace("Rickshaw.Graph.Axis.Time");Rickshaw.Graph.Axis.Time=function(b){var a=this;this.graph=b.graph;this.elements=[];this.ticksTreatment=b.ticksTreatment||"plain";this.fixedTimeUnit=b.timeUnit;var e=new Rickshaw.Fixtures.Time();this.appropriateTimeUnit=function(){var h;var g=e.units;var i=this.graph.x.domain();var f=i[1]-i[0];g.forEach(function(j){if(Math.floor(f/j.seconds)>=2){h=h||j}});return(h||e.units[e.units.length-1])};this.tickOffsets=function(){var l=this.graph.x.domain();var k=this.fixedTimeUnit||this.appropriateTimeUnit();var j=Math.ceil((l[1]-l[0])/k.seconds);var f=l[0];var h=[];for(var g=0;g<j;g++){tickValue=e.ceil(f,k);f=tickValue+k.seconds/2;h.push({value:tickValue,unit:k})}return h};this.render=function(){this.elements.forEach(function(g){g.parentNode.removeChild(g)});this.elements=[];var f=this.tickOffsets();f.forEach(function(i){if(a.graph.x(i.value)>a.graph.x.range()[1]){return}var g=document.createElement("div");g.style.left=a.graph.x(i.value)+"px";g.classList.add("x_tick");g.classList.add(a.ticksTreatment);var h=document.createElement("div");h.classList.add("title");h.innerHTML=i.unit.formatter(new Date(i.value*1000));g.appendChild(h);a.graph.element.appendChild(g);a.elements.push(g)})};this.graph.onUpdate(function(){a.render()})};Rickshaw.namespace("Rickshaw.Graph.Axis.Y");Rickshaw.Graph.Axis.Y=function(e){var b=this;this.graph=e.graph;this.orientation=e.orientation||"right";var j=75;this.ticks=e.ticks||Math.floor(this.graph.height/j);this.tickSize=e.tickSize||4;this.ticksTreatment=e.ticksTreatment||"plain";if(e.element){var f=0.1;if(!e.width||!e.height){var h=window.getComputedStyle(e.element,null);var i=parseInt(h.getPropertyValue("width"));var g=parseInt(h.getPropertyValue("height"))}this.width=e.width||i||this.graph.width*f;this.height=e.height||g||this.graph.height;this.vis=d3.select(e.element).append("svg:svg").attr("class","rickshaw_graph y_axis").attr("width",this.width).attr("height",this.height*(1+f));this.element=this.vis[0][0];this.element.style.position="relative";var a=this.height*f;this.element.style.top=-1*a+"px";this.element.style.paddingTop=a+"px"}else{this.vis=this.graph.vis}this.render=function(){var m=d3.svg.axis().scale(this.graph.y).orient(this.orientation);m.tickFormat(e.tickFormat||function(n){return n});if(this.orientation=="left"){var l="translate("+this.width+", 0)"}if(this.element){this.vis.selectAll("*").remove()}this.vis.append("svg:g").attr("class",["y_ticks",this.ticksTreatment].join(" ")).attr("transform",l).call(m.ticks(this.ticks).tickSubdivide(0).tickSize(this.tickSize));var k=(this.orientation=="right"?1:-1)*this.graph.width;this.graph.vis.append("svg:g").attr("class","y_grid").call(m.ticks(this.ticks).tickSubdivide(0).tickSize(k))};this.graph.onUpdate(function(){b.render()})};Rickshaw.namespace("Rickshaw.Graph.Behavior.Series.Highlight");Rickshaw.Graph.Behavior.Series.Highlight=function(b){this.graph=b.graph;this.legend=b.legend;var a=this;var e={};this.addHighlightEvents=function(f){f.element.addEventListener("mouseover",function(g){a.legend.lines.forEach(function(h){if(f===h){return}e[h.series.name]=e[h.series.name]||h.series.color;h.series.color=d3.interpolateRgb(h.series.color,d3.rgb("#d8d8d8"))(0.8).toString()});a.graph.update()},false);f.element.addEventListener("mouseout",function(g){a.legend.lines.forEach(function(h){if(e[h.series.name]){h.series.color=e[h.series.name]}});a.graph.update()},false)};if(this.legend){this.legend.lines.forEach(function(f){a.addHighlightEvents(f)})}};Rickshaw.namespace("Rickshaw.Graph.Behavior.Series.Order");Rickshaw.Graph.Behavior.Series.Order=function(b){this.graph=b.graph;this.legend=b.legend;var a=this;$(function(){$(a.legend.list).sortable({containment:"parent",tolerance:"pointer",update:function(g,h){var f=[];$(a.legend.list).find("li").each(function(i,j){if(!j.series){return}f.push(j.series)});for(var e=a.graph.series.length-1;e>=0;e--){a.graph.series[e]=f.shift()}a.graph.update()}});$(a.legend.list).disableSelection()});this.graph.onUpdate(function(){var e=window.getComputedStyle(a.legend.element).height;a.legend.element.style.height=e})};Rickshaw.namespace("Rickshaw.Graph.Behavior.Series.Toggle");Rickshaw.Graph.Behavior.Series.Toggle=function(b){this.graph=b.graph;this.legend=b.legend;var a=this;this.addAnchor=function(e){var g=document.createElement("a");g.innerHTML="&#10004;";g.classList.add("action");e.element.insertBefore(g,e.element.firstChild);g.onclick=function(h){if(e.series.disabled){e.series.enable();e.element.classList.remove("disabled")}else{e.series.disable();e.element.classList.add("disabled")}};var f=e.element.getElementsByTagName("span")[0];f.onclick=function(m){var k=e.series.disabled;if(!k){for(var j=0;j<a.legend.lines.length;j++){var h=a.legend.lines[j];if(e.series===h.series){}else{if(h.series.disabled){}else{k=true;break}}}}if(k){e.series.enable();e.element.classList.remove("disabled");a.legend.lines.forEach(function(i){if(e.series===i.series){}else{i.series.disable();i.element.classList.add("disabled")}})}else{a.legend.lines.forEach(function(i){i.series.enable();i.element.classList.remove("disabled")})}}};if(this.legend){$(this.legend.list).sortable({start:function(e,f){f.item.bind("no.onclick",function(g){g.preventDefault()})},stop:function(e,f){setTimeout(function(){f.item.unbind("no.onclick")},250)}});this.legend.lines.forEach(function(e){a.addAnchor(e)})}this._addBehavior=function(){this.graph.series.forEach(function(e){e.disable=function(){if(a.graph.series.length<=1){throw ("only one series left")}e.disabled=true;a.graph.update()};e.enable=function(){e.disabled=false;a.graph.update()}})};this._addBehavior();this.updateBehaviour=function(){this._addBehavior()}};Rickshaw.namespace("Rickshaw.Graph.HoverDetail");Rickshaw.Graph.HoverDetail=function(e){var h=this.graph=e.graph;var b=e.xFormatter||function(i){return new Date(i*1000).toUTCString()};var g=e.yFormatter||function(i){return i.toFixed(2)};var f=this.element=document.createElement("div");f.className="detail";this.visible=true;h.element.appendChild(f);var a=this;this.lastEvent=null;this.update=function(q){q=q||this.lastEvent;if(!q){return}this.lastEvent=q;if(q.target.nodeName!="path"&&q.target.nodeName!="svg"){return}var k=q.offsetX||q.layerX;var j=q.offsetY||q.layerY;var l=h.x.invert(k);var t=h.stackedData;var m=t.slice(-1).shift();var o=d3.scale.linear().domain([m[0].x,m.slice(-1).shift().x]).range([0,m.length]);var s=Math.floor(o(l));var r=s||0;for(var n=s;n<t[0].length-1;){if(t[0][n].x<=l&&t[0][n+1].x>l){r=n;break}if(t[0][n+1]<l){n++}else{n--}}l=t[0][r].x;var p=h.series.active().map(function(i){return{name:i.name,value:i.stack[r]}});if(this.visible){a.render.call(a,l,p,k,j)}};this.graph.element.addEventListener("mousemove",function(i){a.visible=true;a.update(i)},false);this.graph.onUpdate(function(){a.update()});this.graph.element.addEventListener("mouseout",function(i){if(i.relatedTarget&&!(i.relatedTarget.compareDocumentPosition(a.graph.element)&Node.DOCUMENT_POSITION_CONTAINS)){a.hide()}},false);this.hide=function(){this.visible=false;this.element.classList.add("inactive")};this.show=function(){this.visible=true;this.element.classList.remove("inactive")};this.render=function(m,l,k,j){this.element.innerHTML="";this.element.style.left=h.x(m)+"px";var i=document.createElement("div");i.className="x_label";i.innerHTML=b(m);this.element.appendChild(i);var o=null;var n=function(q,p){return(q.value.y0+q.value.y)-(p.value.y0+p.value.y)};l.sort(n).forEach(function(s){var r=(g.constructor==Array)?g[l.indexOf(s)](s.value.y):g(s.value.y);var q=document.createElement("div");q.className="item";q.innerHTML=s.name+":&nbsp;"+r;q.style.top=h.y(s.value.y0+s.value.y)+"px";var t=h.y.magnitude.invert(h.element.offsetHeight-j);this.element.appendChild(q);var p=document.createElement("div");p.className="dot";p.style.top=q.style.top;this.element.appendChild(p);if(t>s.value.y0&&t<s.value.y0+s.value.y&&!o){o=q;q.className="item active";p.className="dot active"}},this);this.show()}};Rickshaw.namespace("Rickshaw.Graph.JSONP");Rickshaw.Graph.JSONP=function(b){var a=this;this.dataURL=b.dataURL;$.ajax({url:this.dataURL,dataType:"jsonp",success:function(h,e,f){if(e==="error"){console.log("error loading dataURL: "+this.dataURL)}if(typeof b.onData==="function"){var g=b.onData(h);h=g}if(b.series){b.series.forEach(function(j){var i=j.key||j.name;if(!i){throw"series needs a key or a name"}h.forEach(function(m){var l=m.key||m.name;if(!l){throw"data needs a key or a name"}if(i==l){var k=["color","name","data"];k.forEach(function(n){j[n]=j[n]||m[n]})}})})}else{b.series=h}a.graph=new Rickshaw.Graph(b);a.graph.render();if(typeof b.onComplete=="function"){b.onComplete(a)}}})};Rickshaw.namespace("Rickshaw.Graph.Legend");Rickshaw.Graph.Legend=function(b){var f=this.element=b.element;var h=this.graph=b.graph;var a=this;f.classList.add("rickshaw_legend");var g=this.list=document.createElement("ul");f.appendChild(g);var e=h.series.map(function(i){return i}).reverse();this.lines=[];this.addLine=function(k){var i=document.createElement("li");i.className="line";var l=document.createElement("div");l.className="swatch";l.style.backgroundColor=k.color;i.appendChild(l);var j=document.createElement("span");j.className="label";j.innerHTML=k.name;i.appendChild(j);g.appendChild(i);i.series=k;if(k.noLegend){i.style.display="none"}var m={element:i,series:k};if(a.shelving){a.shelving.addAnchor(m);a.shelving.updateBehaviour()}if(a.highlighter){a.highlighter.addHighlightEvents(m)}a.lines.push(m)};e.forEach(function(i){a.addLine(i)});h.onUpdate(function(){})};Rickshaw.namespace("Rickshaw.Graph.RangeSlider");Rickshaw.Graph.RangeSlider=function(a){var b=this.element=a.element;var e=this.graph=a.graph;$(function(){$(b).slider({range:true,min:e.dataDomain()[0],max:e.dataDomain()[1],values:[e.dataDomain()[0],e.dataDomain()[1],],slide:function(f,g){e.window.xMin=g.values[0];e.window.xMax=g.values[1];e.update();if(e.dataDomain()[0]==g.values[0]){e.window.xMin=undefined}if(e.dataDomain()[1]==g.values[1]){e.window.xMax=undefined}}})});b[0].style.width=e.width+"px";e.onUpdate(function(){var f=$(b).slider("option","values");$(b).slider("option","min",e.dataDomain()[0]);$(b).slider("option","max",e.dataDomain()[1]);if(e.window.xMin==undefined){f[0]=e.dataDomain()[0]}if(e.window.xMax==undefined){f[1]=e.dataDomain()[1]}$(b).slider("option","values",f)})};Rickshaw.namespace("Rickshaw.Graph.Renderer");Rickshaw.Graph.Renderer=Rickshaw.Class.create({name:undefined,tension:0.8,strokeWidth:2,unstack:true,padding:{top:0.025,right:0,bottom:0,left:0},stroke:false,fill:false,initialize:function(a){this.graph=a.graph;this.tension=a.tension||this.tension;this.graph.unstacker=this.graph.unstacker||new Rickshaw.Graph.Unstacker({graph:this.graph})},seriesPathFactory:function(){},seriesStrokeFactory:function(){},domain:function(){var b=[];var g=this.graph.stackedData||this.graph.stackData();var f=this.unstack?g:[g.slice(-1).shift()];f.forEach(function(j){j.forEach(function(k){b.push(k.y+k.y0)})});var e=g[0][0].x;var i=g[0][g[0].length-1].x;e-=(i-e)*(this.padding.left);i+=(i-e)*(this.padding.right);var a=(this.graph.min==="auto"?d3.min(b):this.graph.min||0);var h=this.graph.max||d3.max(b)*(1+this.padding.top);return{x:[e,i],y:[a,h]}},render:function(){var e=this.graph;e.vis.selectAll("*").remove();var a=e.vis.selectAll("path").data(this.graph.stackedData).enter().append("svg:path").attr("d",this.seriesPathFactory());var b=0;e.series.forEach(function(f){if(f.disabled){return}f.path=a[0][b++];this._styleSeries(f)},this)},_styleSeries:function(a){var e=this.fill?a.color:"none";var b=this.stroke?a.color:"none";a.path.setAttribute("fill",e);a.path.setAttribute("stroke",b);a.path.setAttribute("stroke-width",this.strokeWidth);a.path.setAttribute("class",a.className)},setStrokeWidth:function(a){if(a!==undefined){this.strokeWidth=a}},setTension:function(a){if(a!==undefined){this.tension=a}}});Rickshaw.namespace("Rickshaw.Graph.Renderer.Line");Rickshaw.Graph.Renderer.Line=Rickshaw.Class.create(Rickshaw.Graph.Renderer,{name:"line",unstack:true,fill:false,stroke:true,seriesPathFactory:function(){var a=this.graph;return d3.svg.line().x(function(b){return a.x(b.x)}).y(function(b){return a.y(b.y)}).interpolate(this.graph.interpolation).tension(this.tension)}});Rickshaw.namespace("Rickshaw.Graph.Renderer.Stack");Rickshaw.Graph.Renderer.Stack=Rickshaw.Class.create(Rickshaw.Graph.Renderer,{name:"stack",fill:true,stroke:false,unstack:false,seriesPathFactory:function(){var a=this.graph;return d3.svg.area().x(function(b){return a.x(b.x)}).y0(function(b){return a.y(b.y0)}).y1(function(b){return a.y(b.y+b.y0)}).interpolate(this.graph.interpolation).tension(this.tension)}});Rickshaw.namespace("Rickshaw.Graph.Renderer.Bar");Rickshaw.Graph.Renderer.Bar=Rickshaw.Class.create(Rickshaw.Graph.Renderer,{name:"bar",gapSize:0.05,unstack:false,initialize:function($super,a){a=a||{};this.gapSize=a.gapSize||this.gapSize;$super(a)},domain:function($super){var b=$super();var a=this._frequentInterval();b.x[1]+=parseInt(a.magnitude);return b},barWidth:function(){var b=this.graph.stackedData||this.graph.stackData();var f=b.slice(-1).shift();var a=this._frequentInterval();var e=this.graph.x(f[0].x+a.magnitude*(1-this.gapSize));return e},render:function(){var f=this.graph;f.vis.selectAll("*").remove();var b=this.barWidth();var e=0;var g=f.series.filter(function(h){return !h.disabled}).length;var a=this.unstack?b/g:b;f.series.forEach(function(i){if(i.disabled){return}var h=f.vis.selectAll("path").data(i.stack).enter().append("svg:rect").attr("x",function(j){return f.x(j.x)+e}).attr("y",function(j){return f.y(j.y0+j.y)}).attr("width",a).attr("height",function(j){return f.y.magnitude(j.y)});Array.prototype.forEach.call(h[0],function(j){j.setAttribute("fill",i.color)});if(this.unstack){e+=a}},this)},_frequentInterval:function(){var f=this.graph.stackedData||this.graph.stackData();var h=f.slice(-1).shift();var g={};for(var e=0;e<h.length-1;e++){var a=h[e+1].x-h[e].x;g[a]=g[a]||0;g[a]++}var b={count:0};Rickshaw.keys(g).forEach(function(j){if(b.count<g[j]){b={count:g[j],magnitude:j}}});this._frequentInterval=function(){return b};return b}});Rickshaw.namespace("Rickshaw.Graph.Renderer.Area");Rickshaw.Graph.Renderer.Area=Rickshaw.Class.create(Rickshaw.Graph.Renderer,{name:"area",unstack:false,seriesPathFactory:function(){var a=this.graph;return d3.svg.area().x(function(b){return a.x(b.x)}).y0(function(b){return a.y(b.y0)}).y1(function(b){return a.y(b.y+b.y0)}).interpolate(a.interpolation).tension(this.tension)},seriesStrokeFactory:function(){var a=this.graph;return d3.svg.line().x(function(b){return a.x(b.x)}).y(function(b){return a.y(b.y+b.y0)}).interpolate(a.interpolation).tension(this.tension)},render:function(){var e=this.graph;e.vis.selectAll("*").remove();var a=e.vis.selectAll("path").data(this.graph.stackedData).enter().insert("svg:g","g");a.append("svg:path").attr("d",this.seriesPathFactory()).attr("class","area");if(this.graph.stroke){a.append("svg:path").attr("d",this.seriesStrokeFactory()).attr("class","line")}var b=0;e.series.forEach(function(f){if(f.disabled){return}f.path=a[0][b++];this._styleSeries(f)},this)},_styleSeries:function(a){if(!a.path){return}d3.select(a.path).select(".area").attr("fill",a.color);if(this.graph.stroke){d3.select(a.path).select(".line").attr("fill","none").attr("stroke",a.stroke||d3.interpolateRgb(a.color,"black")(0.125)).attr("stroke-width",this.strokeWidth)}if(a.className){a.path.setAttribute("class",a.className)}}});Rickshaw.namespace("Rickshaw.Graph.Renderer.ScatterPlot");Rickshaw.Graph.Renderer.ScatterPlot=Rickshaw.Class.create(Rickshaw.Graph.Renderer,{name:"scatterplot",unstack:true,fill:true,stroke:false,padding:{top:0.025,right:0.025,bottom:0,left:0.025},initialize:function($super,a){$super(a);this.dotSize=a.dotSize||4},render:function(){var a=this.graph;a.vis.selectAll("*").remove();a.series.forEach(function(e){if(e.disabled){return}var b=a.vis.selectAll("path").data(e.stack).enter().append("svg:circle").attr("cx",function(f){return a.x(f.x)}).attr("cy",function(f){return a.y(f.y)}).attr("r",this.dotSize);Array.prototype.forEach.call(b[0],function(f){f.setAttribute("fill",e.color)})},this)}});Rickshaw.namespace("Rickshaw.Graph.Smoother");Rickshaw.Graph.Smoother=function(b){this.graph=b.graph;this.element=b.element;var a=this;this.aggregationScale=1;if(this.element){$(function(){$(a.element).slider({min:1,max:100,slide:function(e,f){a.setScale(f.value);a.graph.update()}})})}a.graph.stackData.hooks.data.push({name:"smoother",orderPosition:50,f:function(f){var e=[];f.forEach(function(j){var g=[];while(j.length){var i=0,h=0;var k=j.splice(0,a.aggregationScale);k.forEach(function(l){i+=l.x/k.length;h+=l.y/k.length});g.push({x:i,y:h})}e.push(g)});return e}});this.setScale=function(e){if(e<1){throw"scale out of range: "+e}this.aggregationScale=e;this.graph.update()}};Rickshaw.namespace("Rickshaw.Graph.Unstacker");Rickshaw.Graph.Unstacker=function(b){this.graph=b.graph;var a=this;this.graph.stackData.hooks.after.push({name:"unstacker",f:function(e){if(!a.graph.renderer.unstack){return e}e.forEach(function(f){f.forEach(function(g){g.y0=0})});return e}})};Rickshaw.namespace("Rickshaw.Series");Rickshaw.Series=Rickshaw.Class.create(Array,{initialize:function(e,a,b){b=b||{};this.palette=new Rickshaw.Color.Palette(a);this.timeBase=typeof(b.timeBase)==="undefined"?Math.floor(new Date().getTime()/1000):b.timeBase;if(e&&(typeof(e)=="object")&&(e instanceof Array)){e.forEach(function(f){this.addItem(f)},this)}},addItem:function(a){if(typeof(a.name)==="undefined"){throw ("addItem() needs a name")}a.color=(a.color||this.palette.color(a.name));a.data=(a.data||[]);if((a.data.length==0)&&this.length&&(this.getIndex()>0)){this[0].data.forEach(function(b){a.data.push({x:b.x,y:0})})}else{if(a.data.length==0){a.data.push({x:this.timeBase-(this.timeInterval||0),y:0})}}this.push(a);if(this.legend){this.legend.addLine(this.itemByName(a.name))}},addData:function(b){var a=this.getIndex();Rickshaw.keys(b).forEach(function(e){if(!this.itemByName(e)){this.addItem({name:e})}},this);this.forEach(function(e){e.data.push({x:(a*this.timeInterval||1)+this.timeBase,y:(b[e.name]||0)})},this)},getIndex:function(){return(this[0]&&this[0].data&&this[0].data.length)?this[0].data.length:0},itemByName:function(a){for(var b=0;b<this.length;b++){if(this[b].name==a){return this[b]}}},setTimeInterval:function(a){this.timeInterval=a/1000},setTimeBase:function(a){this.timeBase=a},dump:function(){var a={timeBase:this.timeBase,timeInterval:this.timeInterval,items:[],};this.forEach(function(e){var b={color:e.color,name:e.name,data:[]};e.data.forEach(function(f){b.data.push({x:f.x,y:f.y})});a.items.push(b)});return a},load:function(a){if(a.timeInterval){this.timeInterval=a.timeInterval}if(a.timeBase){this.timeBase=a.timeBase}if(a.items){a.items.forEach(function(b){this.push(b);if(this.legend){this.legend.addLine(this.itemByName(b.name))}},this)}}});Rickshaw.Series.zeroFill=function(e){var a;var b=0;var f=e.map(function(g){return g.data});while(b<Math.max.apply(null,f.map(function(g){return g.length}))){a=Math.min.apply(null,f.filter(function(g){return g[b]}).map(function(g){return g[b].x}));f.forEach(function(g){if(!g[b]||g[b].x!=a){g.splice(b,0,{x:a,y:0})}});b++}};Rickshaw.namespace("Rickshaw.Series.FixedDuration");Rickshaw.Series.FixedDuration=Rickshaw.Class.create(Rickshaw.Series,{initialize:function(f,a,b){var b=b||{};if(typeof(b.timeInterval)==="undefined"){throw new Error("FixedDuration series requires timeInterval")}if(typeof(b.maxDataPoints)==="undefined"){throw new Error("FixedDuration series requires maxDataPoints")}this.palette=new Rickshaw.Color.Palette(a);this.timeBase=typeof(b.timeBase)==="undefined"?Math.floor(new Date().getTime()/1000):b.timeBase;this.setTimeInterval(b.timeInterval);if(this[0]&&this[0].data&&this[0].data.length){this.currentSize=this[0].data.length;this.currentIndex=this[0].data.length}else{this.currentSize=0;this.currentIndex=0}this.maxDataPoints=b.maxDataPoints;if(f&&(typeof(f)=="object")&&(f instanceof Array)){f.forEach(function(g){this.addItem(g)},this);this.currentSize+=1;this.currentIndex+=1}this.timeBase-=(this.maxDataPoints-this.currentSize)*this.timeInterval;if((typeof(this.maxDataPoints)!=="undefined")&&(this.currentSize<this.maxDataPoints)){for(var e=this.maxDataPoints-this.currentSize-1;e>0;e--){this.currentSize+=1;this.currentIndex+=1;this.forEach(function(g){g.data.unshift({x:((e-1)*this.timeInterval||1)+this.timeBase,y:0,i:e})},this)}}},addData:function($super,a){$super(a);this.currentSize+=1;this.currentIndex+=1;if(this.maxDataPoints!==undefined){while(this.currentSize>this.maxDataPoints){this.dropData()}}},dropData:function(){this.forEach(function(a){a.data.splice(0,1)});this.currentSize-=1},getIndex:function(){return this.currentIndex}});Rickshaw.namespace("Rickshaw.Graph.Axis.X");Rickshaw.Graph.Axis.X=function(b){var a=this;this.graph=b.graph;this.elements=[];this.ticksTreatment=b.ticksTreatment||"plain";this.fixedTimeUnit=b.timeUnit;this.labels=b.labels;this.render=function(){this.elements.forEach(function(f){f.parentNode.removeChild(f)});this.elements=[];var e=this.labels;e.forEach(function(g,f){if(a.graph.x(f)>a.graph.x.range()[1]){return}var h=document.createElement("div");h.style.left=a.graph.x(f)+"px";h.classList.add("x_tick");h.classList.add(a.ticksTreatment);var i=document.createElement("div");if((f+1)!==e.length){i.classList.add("title");i.innerHTML=g;h.appendChild(i)}a.graph.element.appendChild(h);a.elements.push(h)})};this.graph.onUpdate(function(){a.render()})};Rickshaw.namespace("Rickshaw.Graph.MoPubHoverDetail");Rickshaw.Graph.MoPubHoverDetail=function(e){var h=this.graph=e.graph;var b=e.xFormatter||function(i){return new Date(i*1000).toUTCString()};var g=e.yFormatter||function(i){return i.toFixed(2)};var f=this.element=document.createElement("div");f.className="detail";this.visible=true;h.element.appendChild(f);var a=this;this.lastEvent=null;this.update=function(q){q=q||this.lastEvent;if(!q){return}this.lastEvent=q;if(q.target.nodeName!="path"&&q.target.nodeName!="svg"){return}var k=q.offsetX||q.layerX;var j=q.offsetY||q.layerY;var l=h.x.invert(k);var t=h.stackedData;var m=t.slice(-1).shift();var o=d3.scale.linear().domain([m[0].x,m.slice(-1).shift().x]).range([0,m.length]);var s=Math.floor(o(l));var r=s||0;for(var n=s;n<t[0].length-1;){if(t[0][n].x<=l&&t[0][n+1].x>l){r=n;break}if(t[0][n+1]<l){n++}else{n--}}l=t[0][r].x;var p=h.series.active().map(function(i){return{name:i.name,value:i.stack[r]}});if(this.visible){a.render.call(a,l,p,k,j)}};this.graph.element.addEventListener("mousemove",function(i){a.visible=true;a.update(i)},false);this.graph.onUpdate(function(){a.update()});this.graph.element.addEventListener("mouseout",function(i){if(i.relatedTarget&&!(i.relatedTarget.compareDocumentPosition(a.graph.element)&Node.DOCUMENT_POSITION_CONTAINS)){a.hide()}},false);this.hide=function(){this.visible=false;this.element.classList.add("inactive")};this.show=function(){this.visible=true;this.element.classList.remove("inactive")};this.render=function(m,l,k,j){this.element.innerHTML="";this.element.style.left=h.x(m)+"px";var i=document.createElement("div");i.className="x_label";i.innerHTML=b(m);if(h.x(m)>0){i.style.left="-"+(h.x(m)-20)+"px"}else{i.style.left="20px"}i.style.top="-6px";this.element.appendChild(i);var o=null;var n=function(q,p){return(q.value.y0+q.value.y)-(p.value.y0+p.value.y)};l.sort(n).forEach(function(s){var r=(g.constructor==Array)?g[l.indexOf(s)](s.value.y):g(s.value.y);var q=document.createElement("div");q.className="item";q.innerHTML=s.name+":&nbsp;"+r;q.style.top=h.y(s.value.y0+s.value.y)+"px";var t=h.y.magnitude.invert(h.element.offsetHeight-j);var p=document.createElement("div");p.className="dot";p.style.top=q.style.top;this.element.appendChild(p);if(t>s.value.y0&&t<s.value.y0+s.value.y&&!o){o=q;q.className="item active";p.className="dot active"}},this);this.show()}};Rickshaw.namespace("Rickshaw.Graph.MultiGraphLegend");Rickshaw.Graph.Legend=function(e){var g=this.element=e.element;var b=this.graphs=e.graphs;var a=this;g.classList.add("rickshaw_legend");var h=this.list=document.createElement("ul");g.appendChild(h);var f=graph.series.map(function(i){return i}).reverse();this.lines=[];this.addLine=function(k){var i=document.createElement("li");i.className="line";var l=document.createElement("div");l.className="swatch";l.style.backgroundColor=k.color;i.appendChild(l);var j=document.createElement("span");j.className="label";j.innerHTML=k.name;i.appendChild(j);h.appendChild(i);i.series=k;if(k.noLegend){i.style.display="none"}var m={element:i,series:k};if(a.shelving){a.shelving.addAnchor(m);a.shelving.updateBehaviour()}if(a.highlighter){a.highlighter.addHighlightEvents(m)}a.lines.push(m)};f.forEach(function(i){a.addLine(i)});graph.onUpdate(function(){})};(function(a){a.fn.tokenInput=function(e,b){var f=a.extend({url:e,hintText:"Type in a search term",noResultsText:"No results",searchingText:"Searching...",searchDelay:300,minChars:1,tokenLimit:null,jsonContainer:null,method:"GET",contentType:"json",queryParam:"q",onResult:null,onAdd:null,onDelete:null,doImmediate:true,country:"US",featureClass:null,featureCode:null,maxRows:10},b);f.classes=a.extend({tokenList:"token-input-list",token:"token-input-token",tokenDelete:"token-input-delete-token",selectedToken:"token-input-selected-token",highlightedToken:"token-input-highlighted-token",dropdown:"token-input-dropdown",dropdownItem:"token-input-dropdown-item",dropdownItem2:"token-input-dropdown-item2",selectedDropdownItem:"token-input-selected-dropdown-item",inputToken:"token-input-input-token"},b.classes);return this.each(function(){var g=new a.TokenList(this,f)})};a.TokenData=function(g,h){var j=g;var b;var i;var e;var f;function l(){var m=j.lat+","+j.lng+":"+j.adminCode1+":"+j.name+":"+j.countryCode;return a('<input type="hidden" class="'+j.countryCode+'" name="cities" id="'+j.name.replace(/ /gi,"_")+'" value="'+m+'" />')}function k(){return a('<input type="hidden" name="geo_predicates" id="'+f+'" value="'+f+'" />')}if(h=="city"){b=j.name+", "+j.adminCode1;i=l;e=j.name}else{if(h=="country"){f=(j.data===undefined)?j.code:j.data.code;b=(j.data===undefined)?j.name:j.data.name;i=k;e=f}}return{name:b,input:i,raw:g,type:h,id:e}};a.TokenList=function(e,I){var x={BEFORE:0,AFTER:1,END:2};var F={BACKSPACE:8,TAB:9,RETURN:13,ESC:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,COMMA:188};var u=[];var o=0;var A=0;var l=new a.TokenList.Cache(I);var E;var p=a('<input class="token-input-field" type="text"  autocomplete="off">').css({outline:"none"}).focus(function(){if(I.tokenLimit===null||I.tokenLimit!=o){h()}a(this).addClass("focused");if(!k.hasClass("focused")){k.addClass("focused")}if(a(this).val()){setTimeout(function(){q(I.doImmediate)},5)}}).blur(function(){a(this).removeClass("focused");k.removeClass("focused");v()}).keydown(function(O){var Q;var N;switch(O.keyCode){case F.LEFT:case F.RIGHT:case F.UP:case F.DOWN:if(!a(this).val()){Q=i.prev();N=i.next();if((Q.length&&Q.get(0)===r)||(N.length&&N.get(0)===r)){if(O.keyCode==F.LEFT||O.keyCode==F.UP){w(a(r),x.BEFORE)}else{w(a(r),x.AFTER)}}else{if((O.keyCode==F.LEFT||O.keyCode==F.UP)&&Q.length){J(a(Q.get(0)))}else{if((O.keyCode==F.RIGHT||O.keyCode==F.DOWN)&&N.length){J(a(N.get(0)))}}}}else{var P=null;if(O.keyCode==F.DOWN||O.keyCode==F.RIGHT){P=a(C).next()}else{P=a(C).prev()}if(P.length){M(P)}return false}break;case F.BACKSPACE:Q=i.prev();if(!a(this).val().length){if(r){g(a(r))}else{if(Q.length){J(a(Q.get(0)))}}return false}else{if(a(this).val().length==1){v()}else{setTimeout(function(){q(I.doImmediate)},5)}}break;case F.TAB:case F.RETURN:case F.COMMA:if(C){y(a(C));return false}break;case F.ESC:v();return true;default:if(G(O.keyCode)){setTimeout(function(){q(I.doImmediate)},5)}break}});var t=a(e).hide().focus(function(){p.focus()}).blur(function(){p.blur()});var r=null;var C=null;var k=a("<ul />").addClass(I.classes.tokenList).insertBefore(t).click(function(O){a(this).addClass("focused");var N=z(O,"li");if(N&&N.get(0)!=i.get(0)){L(N);return false}else{p.focus();if(r){w(a(r),x.END)}}}).mouseover(function(O){var N=z(O,"li");if(N&&r!==this){N.addClass(I.classes.highlightedToken)}}).mouseout(function(O){var N=z(O,"li");if(N&&r!==this){N.removeClass(I.classes.highlightedToken)}}).mousedown(function(O){var N=z(O,"li");if(N){return false}});var K=a("<div>").addClass(I.classes.dropdown).insertAfter(k).hide();var i=a("<li />").addClass(I.classes.inputToken).appendTo(k).append(p);function D(){var N=a(".token-input-country").length;if(N>1){a(".token-input-city").each(function(P){g(a(this))});a(".token-input-state").each(function(P){g(a(this))});a('input[name="region_targeting"]').each(function(P){if(a(this).val()!="all"){a(this).attr("disabled",true)}else{a(this).click()}})}else{a('input[name="region_targeting"]').each(function(P){a(this).attr("disabled",false)})}var O=a("#geo_pred_ta").children().length;a(".countryNumDependent").hide();a(".countryNumDependent."+O).show()}function H(){var Q=I.prePopulate.data;if(Q&&Q.length){for(var N in Q){var O=new a.TokenData(Q[N],I.prePopulate.type);var P=a("<li><p>"+O.name+"</p> </li>").addClass(I.classes.token);if(O.type=="city"){P.addClass("token-input-city").addClass(O.raw.countryCode)}else{if(O.type=="country"){P.addClass("token-input-country")}}P.insertBefore(i);a("<span>&times;</span>").addClass(I.classes.tokenDelete).appendTo(P).click(function(){g(a(this).parent());return false});a.data(P.get(0),"tokeninput",O);p.val("").focus();v();O.input().appendTo(t)}}p.blur()}H();D();function G(N){if((N>=48&&N<=90)||(N>=96&&N<=111)||(N>=186&&N<=192)||(N>=219&&N<=222)){return true}else{return false}}function z(N,O){return a(N.target).closest(O)}function f(N){var P=N.name;var O;var Q=a("<li><p>"+P+"</p> </li>");if(N.type=="city"){Q.addClass("token-input-city").addClass(N.raw.countryCode)}else{if(N.type=="country"){Q.addClass("token-input-country")}}Q.addClass(I.classes.token).insertBefore(i);a("<span>x</span>").addClass(I.classes.tokenDelete).appendTo(Q).click(function(){g(a(this).parent());return false});a.data(Q.get(0),"tokeninput",N);return Q}function y(N){D();var Q=a.data(N.get(0),"tokeninput");var P=f(Q);var O=I.onAdd;p.val("").focus();v();Q.input().appendTo(t);o++;A++;if(I.tokenLimit!==null&&o>=I.tokenLimit){p.hide();v()}if(a.isFunction(O)){O(Q.id)}D()}function J(N){N.addClass(I.classes.selectedToken);r=N.get(0);p.val("");v()}function w(O,N){O.removeClass(I.classes.selectedToken);r=null;if(N==x.BEFORE){i.insertBefore(O)}else{if(N==x.AFTER){i.insertAfter(O)}else{i.appendTo(k)}}p.focus()}function L(N){if(r==N.get(0)){w(N,x.END)}else{if(r){w(a(r),x.END)}J(N)}}function g(O){var P=a.data(O.get(0),"tokeninput");var R=I.onDelete;O.remove();r=null;p.focus();if(P===undefined){return}var N=P.id.replace(/ /gi,"_");var Q=P.name.replace(/ /gi,"_");a("#"+N).remove();a("#"+Q).remove();if(P.type=="country"){a("li."+P.id+".token-input-city").each(function(S){g(a(this))})}o--;if(a(".token-input-country").length===0){a("#advertiser-LocationSpec-all").click()}if(I.tokenLimit!==null){p.show().val("").focus()}if(a.isFunction(R)){R(P.id)}D()}function v(){K.hide().empty();C=null}function j(){K.html("<p>"+I.searchingText+"</p>").show()}function h(){K.html("<p>"+I.hintText+"</p>").show()}function n(P,N){var O=P.replace(new RegExp("(?![^&;]+;)(?!<[^<>]*)("+N+")(?![^<>]*>)(?![^&;]+;)","gi"),"<b>$1</b>");return O}var s=false;function B(U,R){var V=R.type;R=R.data;if(R&&R.length){var N=K.clone();N.empty();var P=a("<ul>").appendTo(N).mouseover(function(W){M(z(W,"li"))}).mousedown(function(W){y(z(W,"li"));return false});if(!s){P.hide()}var O;for(var S in R){if(R.hasOwnProperty(S)){var T=new a.TokenData(R[S],V);var Q=a("<li>"+n(T.name,U)+"</li>").appendTo(P);if(S%2){Q.addClass(I.classes.dropdownItem)}else{Q.addClass(I.classes.dropdownItem2)}if(S==0){M(Q)}a.data(Q.get(0),"tokeninput",T)}}K.replaceWith(N);K=N;K.show();if(!s){s=true;P.slideDown("fast")}}else{s=false;K.html("<p>"+I.noResultsText+"</p>").show()}}function M(N){if(N){if(C){b(a(C))}N.addClass(I.classes.selectedDropdownItem);C=N.get(0)}}function b(N){N.removeClass(I.classes.selectedDropdownItem);C=null}function q(N){var O=p.val().toLowerCase();if(O&&O.length){if(r){w(a(r),x.AFTER)}if(O.length>=I.minChars){j();if(N){m(O)}else{clearTimeout(E);E=setTimeout(function(){m(O)},I.searchDelay)}}else{if(O.length>0){h()}else{v()}}}}function m(Q){Q=p.val().toLowerCase();var O=l.get(Q);if(O){var P={type:"country",data:O};B(Q,P)}else{var S=I.url.indexOf("?")<0?"?":"&";var R=function(U){if(a.isFunction(I.onResult)){U=I.onResult.call(this,U)}l.add(Q,I.jsonContainer?U[I.jsonContainer]:U);var T={type:I.type,data:U.geonames};B(Q,T)};if(I.method=="POST"){a.post(I.url+S+I.queryParam+"="+encodeURIComponent(Q),{},R,I.contentType)}else{var N=I.url+S+I.queryParam+"="+encodeURIComponent(Q);if(I.featureClass!==null){N+="&featureClass="+encodeURIComponent(I.featureClass)}if(I.featureCode!==null){N+="&featureCode="+encodeURIComponent(I.featureCode)}N+="&country=";if(a('input[name="geo_predicates"]').val()!==undefined){N+=encodeURIComponent(a('input[name="geo_predicates"]').val())}else{N+=encodeURIComponent(I.country)}N+="&maxRows="+I.maxRows;a.get(N,{},R,I.contentType)}}}};a.TokenList.Cache=function(n){var f=a.extend({max_size:50,matchContains:true},n);function i(q,p){if(!n.matchCase){q=q.toLowerCase()}var o=q.indexOf(p);if(o==-1){return false}return o===0||n.matchContains}var g={};var m=0;var k=function(){g={};m=0};function j(o){function p(r,q){return b(o,r.value)-b(o,q.value)}return p}function b(p,o){return o.length-p.length}function e(s){if(!n.cacheLength||!m){return null}if(!n.url&&f.matchContains){var r=[];for(var o in g){if(o.length>0){var t=g[o];a.each(t,function(v,u){if(i(u.value,s)){var y=true;for(var q in r){var w=r[q];if(u.result==w.result){y=false;break}}if(y){r.push(u)}}})}}return r.sort(j(s))}else{if(g[s]){return g[s]}else{if(f.matchSubset){for(var p=s.length-1;p>=1;p--){var t=g[s.substr(0,p)];if(t){var r=[];a.each(t,function(u,q){if(i(q.value,s)){r[r.length]=q}});return r}}}}}return null}function h(){if(!n.data){return false}var t={},p=0;if(!n.url){n.cacheLength=1}t[""]=[];for(var r=0,s=n.data.length;r<s;r++){var o=n.data[r];o=(typeof o=="string")?[o]:o;var w=n.formatMatch(o,r+1,n.data.length);for(var q=0;q<w.length;q++){var u=w[q];if(u===false){continue}var v=u.charAt(0).toLowerCase();if(!t[v]){t[v]=[]}var x={value:u,data:o,result:n.formatResult&&n.formatResult(o)||u};t[v].push(x);if(p++<n.max){t[""].push(x)}}}a.each(t,function(y,z){n.cacheLength++;l(y,z)})}setTimeout(h,25);function l(p,o){if(m>f.max_size){k()}if(!g[p]){m++}g[p]=o}return{flush:k,get:e,populate:h,add:l}}})(jQuery);